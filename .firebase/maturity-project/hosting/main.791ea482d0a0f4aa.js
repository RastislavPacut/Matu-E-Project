"use strict";(self.webpackChunkangular_school_project=self.webpackChunkangular_school_project||[]).push([[179],{217:(Pi,bn,xe)=>{xe.d(bn,{$:()=>tg,A:()=>re,G:()=>_t,K:()=>Cv,L:()=>Ss,N:()=>$r,P:()=>cc,R:()=>Dg,U:()=>ye,V:()=>Nd,W:()=>Gu,X:()=>_i,Y:()=>Fi,Z:()=>Hr,_:()=>xs,a:()=>ji,a0:()=>Vd,a1:()=>Qu,a2:()=>$d,a3:()=>og,a4:()=>Sv,a5:()=>qn,a6:()=>Os,a7:()=>sg,a8:()=>Va,a9:()=>Rv,aA:()=>Ye,aB:()=>Tt,aC:()=>ee,aD:()=>Hi,aE:()=>q,aF:()=>ke,aG:()=>Wa,aH:()=>Pg,aI:()=>Hs,aJ:()=>tn,aN:()=>mn,aQ:()=>Yi,aa:()=>de,ab:()=>Gt,ac:()=>yi,ad:()=>ir,ae:()=>ks,af:()=>$e,ag:()=>ag,ah:()=>gn,ak:()=>Fa,al:()=>vo,am:()=>Ji,ap:()=>ng,aq:()=>Ua,as:()=>ub,at:()=>fb,au:()=>jt,av:()=>ge,aw:()=>k,ax:()=>tt,ay:()=>Gs,az:()=>kg,b:()=>Mv,c:()=>Io,d:()=>Rg,e:()=>zv,f:()=>qv,g:()=>Zn,h:()=>ft,i:()=>sc,j:()=>$i,k:()=>Gg,l:()=>jv,m:()=>iE,o:()=>Tb,p:()=>Lt,r:()=>$v,s:()=>bg,u:()=>Ut});var C=xe(861),G=xe(58),N=xe(534),Te=xe(879),mt=xe(582),Qt=xe(537);const Lt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _t=function Ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},An=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new Te.Yd("@firebase/auth");function Yt(f,...c){Ue.logLevel<=Te.in.ERROR&&Ue.error(`Auth (${N.SDK_VERSION}): ${f}`,...c)}function tt(f,...c){throw Ke(f,...c)}function Tt(f,...c){return Ke(f,...c)}function Or(f,c,d){const p=Object.assign(Object.assign({},An()),{[c]:d});return new G.LL("auth","Firebase",p).create(c,{appName:f.name})}function vn(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&tt(f,"argument-error"),Or(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return it.create(f,...c)}function ee(f,c,...d){if(!f)throw Ke(c,...d)}function ut(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Yt(c),new Error(c)}function jt(f,c){f||ut(c)}function an(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function hn(){return"http:"===di()||"https:"===di()}function di(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class kr{constructor(c,d){this.shortDelay=c,this.longDelay=d,jt(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function hi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zi(f,c){jt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class U{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new kr(3e4,6e4);function F(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function K(f,c,d,p){return Z.apply(this,arguments)}function Z(){return(Z=(0,C.Z)(function*(f,c,d,p,_={}){return ae(f,_,(0,C.Z)(function*(){let I={},M={};p&&("GET"===c?M=p:I={body:JSON.stringify(p)});const L=(0,G.xO)(Object.assign({key:f.config.apiKey},M)).slice(1),Y=yield f._getAdditionalHeaders();return Y["Content-Type"]="application/json",f.languageCode&&(Y["X-Firebase-Locale"]=f.languageCode),U.fetch()(lt(f,f.config.apiHost,d,L),Object.assign({method:c,headers:Y,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function ae(f,c,d){return et.apply(this,arguments)}function et(){return(et=(0,C.Z)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},$),c);try{const _=new Nt(f),I=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const M=yield I.json();if("needConfirmation"in M)throw Jt(f,"account-exists-with-different-credential",M);if(I.ok&&!("errorMessage"in M))return M;{const L=I.ok?M.errorMessage:M.error.message,[Y,me]=L.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Y)throw Jt(f,"credential-already-in-use",M);if("EMAIL_EXISTS"===Y)throw Jt(f,"email-already-in-use",M);if("USER_DISABLED"===Y)throw Jt(f,"user-disabled",M);const Me=p[Y]||Y.toLowerCase().replace(/[_\s]+/g,"-");if(me)throw Or(f,Me,me);tt(f,Me)}}catch(_){if(_ instanceof G.ZR)throw _;tt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ie(f,c,d,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,C.Z)(function*(f,c,d,p,_={}){const I=yield K(f,c,d,p,_);return"mfaPendingCredential"in I&&tt(f,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function lt(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?Zi(f.config,_):`${f.config.apiScheme}://${_}`}function Ht(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Tt(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jt(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Tt(f,c,p);return _.customData._tokenResponse=d,_}function Rn(f){return void 0!==f&&void 0!==f.getResponse}function Pn(f){return void 0!==f&&void 0!==f.enterprise}class Hn{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return Ht(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function fi(){return(fi=(0,C.Z)(function*(f){return(yield K(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mi(f,c){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(f,c){return K(f,"GET","/v2/recaptchaConfig",F(f,c))})).apply(this,arguments)}function Ni(){return(Ni=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function gi(){return(gi=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Vr(){return(Vr=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Fr(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Dt(){return(Dt=(0,C.Z)(function*(f,c=!1){const d=(0,G.m9)(f),p=yield d.getIdToken(c),_=fn(p);ee(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const I="object"==typeof _.firebase?_.firebase:void 0,M=I?.sign_in_provider;return{claims:_,token:p,authTime:Fr(Ur(_.auth_time)),issuedAtTime:Fr(Ur(_.iat)),expirationTime:Fr(Ur(_.exp)),signInProvider:M||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function Ur(f){return 1e3*Number(f)}function fn(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return Yt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,G.tV)(d);return _?JSON.parse(_):(Yt("Failed to decode base64 JWT payload"),null)}catch(_){return Yt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Xt(f,c){return pn.apply(this,arguments)}function pn(){return(pn=(0,C.Z)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof G.ZR&&function Oi({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class ki{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,C.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class mi{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(f){return En.apply(this,arguments)}function En(){return En=(0,C.Z)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield Xt(f,function er(f,c){return Vr.apply(this,arguments)}(d,{idToken:p}));ee(_?.users.length,d,"internal-error");const I=_.users[0];f._notifyReloadListener(I);const M=null!==(c=I.providerUserInfo)&&void 0!==c&&c.length?function ho(f){return f.map(c=>{var{providerId:d}=c,p=(0,mt._T)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(I.providerUserInfo):[],L=function As(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,M),Me=!!f.isAnonymous&&!(f.email&&I.passwordHash||L?.length),st={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:L,metadata:new mi(I.createdAt,I.lastLoginAt),isAnonymous:Me};Object.assign(f,st)}),En.apply(this,arguments)}function Br(){return(Br=(0,C.Z)(function*(f){const c=(0,G.m9)(f);yield Mn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Vi(){return(Vi=(0,C.Z)(function*(f,c){const d=yield ae(f,{},(0,C.Z)(function*(){const p=(0,G.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:I}=f.config,M=lt(f,_,"/v1/token",`key=${I}`),L=yield f._getAdditionalHeaders();return L["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(M,{method:"POST",headers:L,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function b(){return(b=(0,C.Z)(function*(f,c){return K(f,"POST","/v2/accounts:revokeToken",F(f,c))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ee(c.idToken,"internal-error"),ee(typeof c.idToken<"u","internal-error"),ee(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ma(f){const c=fn(f);return ee(c,"internal-error"),ee(typeof c.exp<"u","internal-error"),ee(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,C.Z)(function*(){return ee(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:I,expiresIn:M}=yield function zo(f,c){return Vi.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,I,Number(M))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:I}=d,M=new E;return p&&(ee("string"==typeof p,"internal-error",{appName:c}),M.refreshToken=p),_&&(ee("string"==typeof _,"internal-error",{appName:c}),M.accessToken=_),I&&(ee("number"==typeof I,"internal-error",{appName:c}),M.expirationTime=I),M}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return ut("not implemented")}}function w(f,c){ee("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class v{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,I=(0,mt._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new mi(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,C.Z)(function*(){const p=yield Xt(d,d.stsTokenManager.getToken(d.auth,c));return ee(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function zn(f){return Dt.apply(this,arguments)}(this,c)}reload(){return function tr(f){return Br.apply(this,arguments)}(this)}_assign(c){this!==c&&(ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new v(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,C.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Mn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,C.Z)(function*(){const d=yield c.getIdToken();return yield Xt(c,function xi(f,c){return Ni.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,I,M,L,Y,me,Me;const st=null!==(p=d.displayName)&&void 0!==p?p:void 0,gr=null!==(_=d.email)&&void 0!==_?_:void 0,to=null!==(I=d.phoneNumber)&&void 0!==I?I:void 0,Ja=null!==(M=d.photoURL)&&void 0!==M?M:void 0,Wg=null!==(L=d.tenantId)&&void 0!==L?L:void 0,Ks=null!==(Y=d._redirectEventId)&&void 0!==Y?Y:void 0,Co=null!==(me=d.createdAt)&&void 0!==me?me:void 0,Kg=null!==(Me=d.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:Cc,emailVerified:vh,isAnonymous:Zs,providerData:Eh,stsTokenManager:sr}=d;ee(Cc&&sr,c,"internal-error");const uE=E.fromJSON(this.name,sr);ee("string"==typeof Cc,c,"internal-error"),w(st,c.name),w(gr,c.name),ee("boolean"==typeof vh,c,"internal-error"),ee("boolean"==typeof Zs,c,"internal-error"),w(to,c.name),w(Ja,c.name),w(Wg,c.name),w(Ks,c.name),w(Co,c.name),w(Kg,c.name);const Nn=new v({uid:Cc,auth:c,email:gr,emailVerified:vh,displayName:st,isAnonymous:Zs,photoURL:Ja,phoneNumber:to,tenantId:Wg,stsTokenManager:uE,createdAt:Co,lastLoginAt:Kg});return Eh&&Array.isArray(Eh)&&(Nn.providerData=Eh.map(Ih=>Object.assign({},Ih))),Ks&&(Nn._redirectEventId=Ks),Nn}static _fromIdTokenResponse(c,d,p=!1){return(0,C.Z)(function*(){const _=new E;_.updateFromServerResponse(d);const I=new v({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Mn(I),I})()}}const A=new Map;function q(f){jt(f instanceof Function,"Expected a class definition");let c=A.get(f);return c?(jt(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,A.set(f,c),c)}const ye=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,C.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,C.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function ke(f,c,d){return`firebase:${f}:${c}:${d}`}class ht{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:I}=this.auth;this.fullUserKey=ke(this.userKey,_.apiKey,I),this.fullPersistenceKey=ke("persistence",_.apiKey,I),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,C.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?v._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,C.Z)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,C.Z)(function*(){if(!d.length)return new ht(q(ye),c,p);const _=(yield Promise.all(d.map(function(){var me=(0,C.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return me.apply(this,arguments)}}()))).filter(me=>me);let I=_[0]||q(ye);const M=ke(p,c.config.apiKey,c.name);let L=null;for(const me of d)try{const Me=yield me._get(M);if(Me){const st=v._fromJSON(c,Me);me!==I&&(L=st),I=me;break}}catch{}const Y=_.filter(me=>me._shouldAllowMigration);return I._shouldAllowMigration&&Y.length?(I=Y[0],L&&(yield I._set(M,L.toJSON())),yield Promise.all(d.map(function(){var me=(0,C.Z)(function*(Me){if(Me!==I)try{yield Me._remove(M)}catch{}});return function(Me){return me.apply(this,arguments)}}())),new ht(I,c,p)):new ht(I,c,p)})()}}function le(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Go(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Rt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(P(c))return"Blackberry";if(X(c))return"Webos";if(be(c))return"Safari";if((c.includes("chrome/")||Un(c))&&!c.includes("edge/"))return"Chrome";if(k(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Rt(f=(0,G.z$)()){return/firefox\//i.test(f)}function be(f=(0,G.z$)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Un(f=(0,G.z$)()){return/crios\//i.test(f)}function Go(f=(0,G.z$)()){return/iemobile/i.test(f)}function k(f=(0,G.z$)()){return/android/i.test(f)}function P(f=(0,G.z$)()){return/blackberry/i.test(f)}function X(f=(0,G.z$)()){return/webos/i.test(f)}function ge(f=(0,G.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Ye(f=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function en(f=(0,G.z$)()){return ge(f)||k(f)||X(f)||P(f)||/windows phone/i.test(f)||Go(f)}function Je(f,c=[]){let d;switch(f){case"Browser":d=le((0,G.z$)());break;case"Worker":d=`${le((0,G.z$)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${N.SDK_VERSION}/${p}`}class xa{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=I=>new Promise((M,L)=>{try{M(c(I))}catch(Y){L(Y)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const I of p)try{I()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Id(){return(Id=(0,C.Z)(function*(f,c={}){return K(f,"GET","/v2/passwordPolicy",F(f,c))})).apply(this,arguments)}class jr{constructor(c){var d,p,_,I;const M=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=M.minPasswordLength)&&void 0!==d?d:6,M.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=M.maxPasswordLength),void 0!==M.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=M.containsLowercaseCharacter),void 0!==M.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=M.containsUppercaseCharacter),void 0!==M.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=M.containsNumericCharacter),void 0!==M.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=M.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(I=c.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,I,M,L;const Y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Y),this.validatePasswordCharacterOptions(c,Y),Y.isValid&&(Y.isValid=null===(d=Y.meetsMinPasswordLength)||void 0===d||d),Y.isValid&&(Y.isValid=null===(p=Y.meetsMaxPasswordLength)||void 0===p||p),Y.isValid&&(Y.isValid=null===(_=Y.containsLowercaseLetter)||void 0===_||_),Y.isValid&&(Y.isValid=null===(I=Y.containsUppercaseLetter)||void 0===I||I),Y.isValid&&(Y.isValid=null===(M=Y.containsNumericCharacter)||void 0===M||M),Y.isValid&&(Y.isValid=null===(L=Y.containsNonAlphanumericCharacter)||void 0===L||L),Y}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,I){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=I))}}class XD{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new xa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=q(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,I;if(!p._deleted&&(p.persistenceManager=yield ht.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(I=p.currentUser)||void 0===I?void 0:I.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,C.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,C.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let I=_,M=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const L=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,Y=I?._redirectEventId,me=yield d.tryRedirectSignIn(c);(!L||L===Y)&&me?.user&&(I=me.user,M=!0)}if(!I)return d.directlySetCurrentUser(null);if(!I._redirectEventId){if(M)try{yield d.beforeStateQueue.runMiddleware(I)}catch(L){I=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(L))}return I?d.reloadAndSetCurrentUserOrClear(I):d.directlySetCurrentUser(null)}return ee(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===I._redirectEventId?d.directlySetCurrentUser(I):d.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(c){var d=this;return(0,C.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,C.Z)(function*(){try{yield Mn(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,C.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,C.Z)(function*(){const p=c?(0,G.m9)(c):null;return p&&ee(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,C.Z)(function*(){if(!p._deleted)return c&&ee(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,C.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,C.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(q(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,C.Z)(function*(){const d=yield function JD(f){return Id.apply(this,arguments)}(c),p=new jr(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new G.LL("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,C.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function S(f,c){return b.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,C.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const p=c&&q(c)||d._popupRedirectResolver;ee(p,d,"argument-error"),d.redirectPersistenceManager=yield ht.create(d,[q(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,C.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,C.Z)(function*(){if(c===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const I="function"==typeof d?d:d.next.bind(d);let M=!1;const L=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(L,this,"internal-error"),L.then(()=>{M||I(this.currentUser)}),"function"==typeof d){const Y=c.addObserver(d,p,_);return()=>{M=!0,Y()}}{const Y=c.addObserver(d);return()=>{M=!0,Y()}}}directlySetCurrentUser(c){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Je(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,C.Z)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const I=yield c._getAppCheckToken();return I&&(p["X-Firebase-AppCheck"]=I),p})()}_getAppCheckToken(){var c=this;return(0,C.Z)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function Sn(f,...c){Ue.logLevel<=Te.in.WARN&&Ue.warn(`Auth (${N.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function tn(f){return(0,G.m9)(f)}class vv{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,G.ne)(d=>this.observer=d)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qp(f){return new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const I=Tt("internal-error");I.customData=_,d(I)},p.type="text/javascript",p.charset="UTF-8",function qo(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)})}function Ev(f){return`__${f}${Math.floor(1e6*Math.random())}`}class wv{constructor(c){this.type="recaptcha-enterprise",this.auth=tn(c)}verify(c="verify",d=!1){var p=this;return(0,C.Z)(function*(){function I(){return I=(0,C.Z)(function*(L){if(!d){if(null==L.tenantId&&null!=L._agentRecaptchaConfig)return L._agentRecaptchaConfig.siteKey;if(null!=L.tenantId&&void 0!==L._tenantRecaptchaConfigs[L.tenantId])return L._tenantRecaptchaConfigs[L.tenantId].siteKey}return new Promise(function(){var Y=(0,C.Z)(function*(me,Me){Mi(L,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const gr=new Hn(st);return null==L.tenantId?L._agentRecaptchaConfig=gr:L._tenantRecaptchaConfigs[L.tenantId]=gr,me(gr.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{Me(st)})});return function(me,Me){return Y.apply(this,arguments)}}())}),I.apply(this,arguments)}function M(L,Y,me){const Me=window.grecaptcha;Pn(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(L,{action:c}).then(st=>{Y(st)}).catch(()=>{Y("NO_RECAPTCHA")})}):me(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((L,Y)=>{(function _(L){return I.apply(this,arguments)})(p.auth).then(me=>{if(!d&&Pn(window.grecaptcha))M(me,L,Y);else{if(typeof window>"u")return void Y(new Error("RecaptchaVerifier is only supported in browser"));qp("https://www.google.com/recaptcha/enterprise.js?render="+me).then(()=>{M(me,L,Y)}).catch(Me=>{Y(Me)})}}).catch(me=>{Y(me)})})})()}}function Wp(f,c,d){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,C.Z)(function*(f,c,d,p=!1){const _=new wv(f);let I;try{I=yield _.verify(d)}catch{I=yield _.verify(d,!0)}const M=Object.assign({},c);return Object.assign(M,p?{captchaResp:I}:{captchaResponse:I}),Object.assign(M,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(M,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),M})).apply(this,arguments)}function nr(f,c,d,p){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,C.Z)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield Wp(f,c,d,"getOobCode"===d);return p(f,I)}return p(f,c).catch(function(){var I=(0,C.Z)(function*(M){if("auth/missing-recaptcha-token"===M.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const L=yield Wp(f,c,d,"getOobCode"===d);return p(f,L)}return Promise.reject(M)});return function(M){return I.apply(this,arguments)}}())}),Ne.apply(this,arguments)}function Cv(f,c,d){const p=tn(f);ee(p._canInitEmulator,p,"emulator-config-failed"),ee(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,I=Gn(c),{host:M,port:L}=function Vu(f){const c=Gn(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const I=_[1];return{host:I,port:Qp(p.substr(I.length+1))}}{const[I,M]=p.split(":");return{host:I,port:Qp(M)}}}(c);p.config.emulator={url:`${I}//${M}${null===L?"":`:${L}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:M,port:L,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Yp(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function Gn(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Qp(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Ss{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return ut("not implemented")}_getIdTokenResponse(c){return ut("not implemented")}_linkToIdToken(c,d){return ut("not implemented")}_getReauthenticationResolver(c){return ut("not implemented")}}function Na(f,c){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:resetPassword",F(f,c))})).apply(this,arguments)}function Fu(){return(Fu=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Tv(f,c){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Lu(){return(Lu=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:update",F(f,c))})).apply(this,arguments)}function Tr(f,c){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithPassword",F(f,c))})).apply(this,arguments)}function Dd(f,c){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:sendOobCode",F(f,c))})).apply(this,arguments)}function Jp(){return(Jp=(0,C.Z)(function*(f,c){return Dd(f,c)})).apply(this,arguments)}function oe(f,c){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,C.Z)(function*(f,c){return Dd(f,c)})).apply(this,arguments)}function bd(f,c){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,C.Z)(function*(f,c){return Dd(f,c)})).apply(this,arguments)}function Sd(){return(Sd=(0,C.Z)(function*(f,c){return Dd(f,c)})).apply(this,arguments)}function Xp(){return(Xp=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithEmailLink",F(f,c))})).apply(this,arguments)}function eg(){return(eg=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithEmailLink",F(f,c))})).apply(this,arguments)}class ju extends Ss{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new ju(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new ju(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return nr(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Tr);case"emailLink":return function Rd(f,c){return Xp.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:tt(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,C.Z)(function*(){switch(p.signInMethod){case"password":return nr(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tv);case"emailLink":return function ob(f,c){return eg.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:tt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function fo(f,c){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithIdp",F(f,c))})).apply(this,arguments)}class $r extends Ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new $r(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):tt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,I=(0,mt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const M=new $r(p,_);return M.idToken=I.idToken||void 0,M.accessToken=I.accessToken||void 0,M.secret=I.secret,M.nonce=I.nonce,M.pendingToken=I.pendingToken||null,M}_getIdTokenResponse(c){return fo(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,fo(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,fo(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,G.xO)(d)}return c}}function Md(){return(Md=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:sendVerificationCode",F(f,c))})).apply(this,arguments)}function $u(){return($u=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithPhoneNumber",F(f,c))})).apply(this,arguments)}function xd(){return(xd=(0,C.Z)(function*(f,c){const d=yield Ie(f,"POST","/v1/accounts:signInWithPhoneNumber",F(f,c));if(d.temporaryProof)throw Jt(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const po={USER_NOT_FOUND:"user-not-found"};function ue(){return(ue=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithPhoneNumber",F(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),po)})).apply(this,arguments)}class go extends Ss{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new go({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new go({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function bv(f,c){return $u.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Ps(f,c){return xd.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Av(f,c){return ue.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}=c;return p||d||_||I?new go({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:I}):null}}class Ko{constructor(c){var d,p,_,I,M,L;const Y=(0,G.zd)((0,G.pd)(c)),me=null!==(d=Y.apiKey)&&void 0!==d?d:null,Me=null!==(p=Y.oobCode)&&void 0!==p?p:null,st=function pe(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Y.mode)&&void 0!==_?_:null);ee(me&&Me&&st,"argument-error"),this.apiKey=me,this.operation=st,this.code=Me,this.continueUrl=null!==(I=Y.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(M=Y.languageCode)&&void 0!==M?M:null,this.tenantId=null!==(L=Y.tenantId)&&void 0!==L?L:null}static parseLink(c){const d=function Hu(f){const c=(0,G.zd)((0,G.pd)(f)).link,d=c?(0,G.zd)((0,G.pd)(c)).deep_link_id:null,p=(0,G.zd)((0,G.pd)(f)).deep_link_id;return(p?(0,G.zd)((0,G.pd)(p)).link:null)||p||d||c||f}(c);try{return new Ko(d)}catch{return null}}}let Nd=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return ju._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Ko.parseLink(p);return ee(_,"argument-error"),ju._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Qi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Ms extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Hr extends Ms{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return ee("providerId"in d&&"signInMethod"in d,"argument-error"),$r._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ee(c.idToken||c.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Hr.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Hr.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:I,nonce:M,providerId:L}=c;if(!p&&!_&&!d&&!I||!L)return null;try{return new Hr(L)._credential({idToken:d,accessToken:p,nonce:M,pendingToken:I})}catch{return null}}}let Gu=(()=>{class f extends Ms{constructor(){super("facebook.com")}static credential(d){return $r._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),_i=(()=>{class f extends Ms{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return $r._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Fi=(()=>{class f extends Ms{constructor(){super("github.com")}static credential(d){return $r._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Yi extends Ss{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return fo(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,fo(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,fo(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:I}=d;return p&&_&&I&&p===_?new Yi(p,I):null}static _create(c,d){return new Yi(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xs extends Qi{constructor(c){ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return xs.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return xs.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=Yi.fromJSON(c);return ee(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return Yi._create(p,d)}catch{return null}}}let tg=(()=>{class f extends Ms{constructor(){super("twitter.com")}static credential(d,p){return $r._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Li(f,c){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signUp",F(f,c))})).apply(this,arguments)}class zr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,C.Z)(function*(){const I=yield v._fromIdTokenResponse(c,p,_),M=kd(p);return new zr({user:I,providerId:M,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,C.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=kd(p);return new zr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function kd(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Vd(f){return qu.apply(this,arguments)}function qu(){return(qu=(0,C.Z)(function*(f){var c;const d=tn(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new zr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Li(d,{returnSecureToken:!0}),_=yield zr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ka extends G.ZR{constructor(c,d,p,_){var I;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:c.name,tenantId:null!==(I=c.tenantId)&&void 0!==I?I:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new ka(c,d,p,_)}}function Ns(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?ka._fromErrorAndOperation(f,I,c,p):I})}function Fd(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function ng(f,c){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,C.Z)(function*(f,c){const d=(0,G.m9)(f);yield Ku(!0,d,c);const{providerUserInfo:p}=yield function pi(f,c){return gi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=Fd(p||[]);return d.providerData=d.providerData.filter(I=>_.has(I.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Ld.apply(this,arguments)}function Wu(f,c){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,C.Z)(function*(f,c,d=!1){const p=yield Xt(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return zr._forOperation(f,"link",p)})).apply(this,arguments)}function Ku(f,c,d){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,C.Z)(function*(f,c,d){yield Mn(c);const _=!1===f?"provider-already-linked":"no-such-provider";ee(Fd(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function rg(f,c){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,C.Z)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const I=yield Xt(f,Ns(p,_,c,f),d);ee(I.idToken,p,"internal-error");const M=fn(I.idToken);ee(M,p,"internal-error");const{sub:L}=M;return ee(f.uid===L,p,"user-mismatch"),zr._forOperation(f,_,I)}catch(I){throw"auth/user-not-found"===I?.code&&tt(p,"user-mismatch"),I}})).apply(this,arguments)}function ig(f,c){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,C.Z)(function*(f,c,d=!1){const p="signIn",_=yield Ns(f,p,c),I=yield zr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Qu(f,c){return jd.apply(this,arguments)}function jd(){return(jd=(0,C.Z)(function*(f,c){return ig(tn(f),c)})).apply(this,arguments)}function $d(f,c){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,C.Z)(function*(f,c){const d=(0,G.m9)(f);return yield Ku(!1,d,c.providerId),Wu(d,c)})).apply(this,arguments)}function og(f,c){return zd.apply(this,arguments)}function zd(){return(zd=(0,C.Z)(function*(f,c){return rg((0,G.m9)(f),c)})).apply(this,arguments)}function Gd(){return(Gd=(0,C.Z)(function*(f,c){return Ie(f,"POST","/v1/accounts:signInWithCustomToken",F(f,c))})).apply(this,arguments)}function Sv(f,c){return qd.apply(this,arguments)}function qd(){return qd=(0,C.Z)(function*(f,c){const d=tn(f),p=yield function ti(f,c){return Gd.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield zr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),qd.apply(this,arguments)}class xn{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Wd._fromServerResponse(c,d):"totpInfo"in d?Yu._fromServerResponse(c,d):tt(c,"internal-error")}}class Wd extends xn{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Wd(d)}}class Yu extends xn{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new Yu(d)}}function Oe(f,c,d){var p;ee((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ee(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ee(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(ee(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function rr(f){return ot.apply(this,arguments)}function ot(){return(ot=(0,C.Z)(function*(f){const c=tn(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function qn(f,c,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,C.Z)(function*(f,c,d){const p=tn(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&Oe(p,_,d),yield nr(p,_,"getOobCode",oe)})).apply(this,arguments)}function Os(f,c,d){return hr.apply(this,arguments)}function hr(){return hr=(0,C.Z)(function*(f,c,d){yield Na((0,G.m9)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&rr(f),_});return function(_){return p.apply(this,arguments)}}())}),hr.apply(this,arguments)}function sg(f,c){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,C.Z)(function*(f,c){yield function Td(f,c){return Lu.apply(this,arguments)}((0,G.m9)(f),{oobCode:c})}),Ju.apply(this,arguments)}function Va(f,c){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,C.Z)(function*(f,c){const d=(0,G.m9)(f),p=yield Na(d,{oobCode:c}),_=p.requestType;switch(ee(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(p.mfaInfo,d,"internal-error");default:ee(p.email,d,"internal-error")}let I=null;return p.mfaInfo&&(I=xn._fromServerResponse(tn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:I},operation:_}})).apply(this,arguments)}function Rv(f,c){return zt.apply(this,arguments)}function zt(){return(zt=(0,C.Z)(function*(f,c){const{data:d}=yield Va((0,G.m9)(f),c);return d.email})).apply(this,arguments)}function de(f,c,d){return je.apply(this,arguments)}function je(){return(je=(0,C.Z)(function*(f,c,d){const p=tn(f),M=yield nr(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Li).catch(Y=>{throw"auth/password-does-not-meet-requirements"===Y.code&&rr(f),Y}),L=yield zr._fromIdTokenResponse(p,"signIn",M);return yield p._updateCurrentUser(L.user),L})).apply(this,arguments)}function Gt(f,c,d){return Qu((0,G.m9)(f),Nd.credential(c,d)).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&rr(f),_});return function(_){return p.apply(this,arguments)}}())}function yi(f,c,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,C.Z)(function*(f,c,d){const p=tn(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function I(M,L){ee(L.handleCodeInApp,p,"argument-error"),L&&Oe(p,M,L)})(_,d),yield nr(p,_,"getOobCode",bd)})).apply(this,arguments)}function ir(f,c){const d=Ko.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}function ks(f,c,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f),_=Nd.credentialWithLink(c,d||an());return ee(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Qu(p,_)})).apply(this,arguments)}function _o(){return(_o=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:createAuthUri",F(f,c))})).apply(this,arguments)}function $e(f,c){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,C.Z)(function*(f,c){const p={identifier:c,continueUri:hn()?an():"http://localhost"},{signinMethods:_}=yield function mo(f,c){return _o.apply(this,arguments)}((0,G.m9)(f),p);return _||[]}),Yo.apply(this,arguments)}function ag(f,c){return yo.apply(this,arguments)}function yo(){return yo=(0,C.Z)(function*(f,c){const d=(0,G.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&Oe(d.auth,_,c);const{email:I}=yield function ib(f,c){return Jp.apply(this,arguments)}(d.auth,_);I!==f.email&&(yield f.reload())}),yo.apply(this,arguments)}function gn(f,c,d){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&Oe(p.auth,I,d);const{email:M}=yield function Ad(f,c){return Sd.apply(this,arguments)}(p.auth,I);M!==f.email&&(yield f.reload())}),Jo.apply(this,arguments)}function ni(){return(ni=(0,C.Z)(function*(f,c){return K(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Fa(f,c){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,C.Z)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,G.m9)(f),I={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},M=yield Xt(p,function Vs(f,c){return ni.apply(this,arguments)}(p.auth,I));p.displayName=M.displayName||null,p.photoURL=M.photoUrl||null;const L=p.providerData.find(({providerId:Y})=>"password"===Y);L&&(L.displayName=p.displayName,L.photoURL=p.photoURL),yield p._updateTokensIfNecessary(M)}),Xu.apply(this,arguments)}function vo(f,c){return Fs((0,G.m9)(f),c,null)}function Ji(f,c){return Fs((0,G.m9)(f),null,c)}function Fs(f,c,d){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,C.Z)(function*(f,c,d){const{auth:p}=f,I={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(I.email=c),d&&(I.password=d);const M=yield Xt(f,function Cd(f,c){return Fu.apply(this,arguments)}(p,I));yield f._updateTokensIfNecessary(M,!0)}),Xo.apply(this,arguments)}class La{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class ec extends La{constructor(c,d,p,_){super(c,d,p),this.username=_}}class ug extends La{constructor(c,d){super(c,"facebook.com",d)}}class Ui extends ec{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class tc extends La{constructor(c,d){super(c,"google.com",d)}}class Ls extends ec{constructor(c,d,p){super(c,"twitter.com",d,p)}}function Ua(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function rt(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},I=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const M=null===(d=null===(c=fn(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(M)return new La(I,"anonymous"!==M&&"custom"!==M?M:null)}if(!p)return null;switch(p){case"facebook.com":return new ug(I,_);case"github.com":return new Ui(I,_);case"google.com":return new tc(I,_);case"twitter.com":return new Ls(I,_,f.screenName||null);case"custom":case"anonymous":return new La(I,null);default:return new La(I,p,_)}}(d)}class ts{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new ts("enroll",c,d)}static _fromMfaPendingCredential(c){return new ts("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ts._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return ts._fromIdtoken(c.multiFactorSession.idToken)}return null}}class lg{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=tn(c),_=d.customData._serverResponse,I=(_.mfaInfo||[]).map(L=>xn._fromServerResponse(p,L));ee(_.mfaPendingCredential,p,"internal-error");const M=ts._fromMfaPendingCredential(_.mfaPendingCredential);return new lg(M,I,function(){var L=(0,C.Z)(function*(Y){const me=yield Y._process(p,M);delete _.mfaInfo,delete _.mfaPendingCredential;const Me=Object.assign(Object.assign({},_),{idToken:me.idToken,refreshToken:me.refreshToken});switch(d.operationType){case"signIn":const st=yield zr._fromIdTokenResponse(p,d.operationType,Me);return yield p._updateCurrentUser(st.user),st;case"reauthenticate":return ee(d.user,p,"internal-error"),zr._forOperation(d.user,d.operationType,Me);default:tt(p,"internal-error")}});return function(Y){return L.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,C.Z)(function*(){return d.signInResolver(c)})()}}function ub(f,c){var d;const p=(0,G.m9)(f),_=c;return ee(c.customData.operationType,p,"argument-error"),ee(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),lg._fromError(p,_)}class dg{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>xn._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new dg(c)}getSession(){var c=this;return(0,C.Z)(function*(){return ts._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,C.Z)(function*(){const _=c,I=yield p.getSession(),M=yield Xt(p.user,_._process(p.user.auth,I,d));return yield p.user._updateTokensIfNecessary(M),p.user.reload()})()}unenroll(c){var d=this;return(0,C.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const I=yield Xt(d.user,function hb(f,c){return K(f,"POST","/v2/accounts/mfaEnrollment:withdraw",F(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:M})=>M!==p),yield d.user._updateTokensIfNecessary(I),yield d.user.reload()}catch(I){throw I}})()}}const hg=new WeakMap;function fb(f){const c=(0,G.m9)(f);return hg.has(c)||hg.set(c,dg._fromUser(c)),hg.get(c)}const Jd="__sak";class Pv{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mv=(()=>{class f extends Pv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fg(){const f=(0,G.z$)();return be(f)||ge(f)}()&&function ve(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),I=this.localCache[p];_!==I&&d(p,I,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((L,Y,me)=>{this.notifyListeners(L,me)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const L=this.storage.getItem(_);if(d.newValue!==L)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const I=()=>{const L=this.storage.getItem(_);!p&&this.localCache[_]===L||this.notifyListeners(_,L)},M=this.storage.getItem(_);!function H(){return(0,G.w1)()&&10===document.documentMode}()||M===d.newValue||d.newValue===d.oldValue?I():setTimeout(I,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,I=this;return(0,C.Z)(function*(){yield _().call(I,d,p),I.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,C.Z)(function*(){const I=yield p().call(_,d);return _.localCache[d]=JSON.stringify(I),I})()}_remove(d){var p=()=>super._remove,_=this;return(0,C.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),ji=(()=>{class f extends Pv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let mb=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(I=>I.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,C.Z)(function*(){const _=d,{eventId:I,eventType:M,data:L}=_.data,Y=p.handlersMap[M];if(!Y?.size)return;_.ports[0].postMessage({status:"ack",eventId:I,eventType:M});const me=Array.from(Y).map(function(){var st=(0,C.Z)(function*(gr){return gr(_.origin,L)});return function(gr){return st.apply(this,arguments)}}()),Me=yield function gb(f){return Promise.all(f.map(function(){var c=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(me);_.ports[0].postMessage({status:"done",eventId:I,eventType:M,response:Me})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function mn(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class nc{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,C.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let M,L;return new Promise((Y,me)=>{const Me=mn("",20);I.port1.start();const st=setTimeout(()=>{me(new Error("unsupported_event"))},p);L={messageChannel:I,onMessage(gr){const to=gr;if(to.data.eventId===Me)switch(to.data.status){case"ack":clearTimeout(st),M=setTimeout(()=>{me(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),Y(to.data.response);break;default:clearTimeout(st),clearTimeout(M),me(new Error("invalid_response"))}}},_.handlers.add(L),I.port1.addEventListener("message",L.onMessage),_.target.postMessage({eventType:c,eventId:Me,data:d},[I.port2])}).finally(()=>{L&&_.removeMessageHandler(L)})})()}}function It(){return window}function rc(){return typeof It().WorkerGlobalScope<"u"&&"function"==typeof It().importScripts}function ic(){return(ic=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oc="firebaseLocalStorageDb",Ba="firebaseLocalStorage",th="fbase_key";class Bs{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ns(f,c){return f.transaction([Ba],c?"readwrite":"readonly").objectStore(Ba)}function Eo(){const f=indexedDB.open(oc,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Ba,{keyPath:th})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Ba)?c(p):(p.close(),yield function ja(){const f=indexedDB.deleteDatabase(oc);return new Bs(f).toPromise()}(),c(yield Eo()))}))})}function nh(f,c,d){return yg.apply(this,arguments)}function yg(){return(yg=(0,C.Z)(function*(f,c,d){const p=ns(f,!0).put({[th]:c,value:d});return new Bs(p).toPromise()})).apply(this,arguments)}function vg(){return(vg=(0,C.Z)(function*(f,c){const d=ns(f,!1).get(c),p=yield new Bs(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Eg(f,c){const d=ns(f,!0).delete(c);return new Bs(d).toPromise()}const sc=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield Eo()),d.db})()}_withRetries(d){var p=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const I=yield p._openDb();return yield d(I)}catch(I){if(_++>3)throw I;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return rc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=mb._getInstance(function _g(){return rc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,C.Z)(function*(_,I){return{keyProcessed:(yield d._poll()).includes(I.key)}});return function(_,I){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,C.Z)(function*(_,I){return["keyChanged"]});return function(_,I){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function mg(){return ic.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new nc(d.activeServiceWorker);const I=yield d.sender._send("ping",{},800);I&&null!==(p=I[0])&&void 0!==p&&p.fulfilled&&null!==(_=I[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,C.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function Xd(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Eo();return yield nh(d,Jd,"1"),yield Eg(d,Jd),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,C.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(I=>nh(I,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=yield p._withRetries(I=>function _b(f,c){return vg.apply(this,arguments)}(I,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,C.Z)(function*(){return p._withPendingWrite((0,C.Z)(function*(){return yield p._withRetries(_=>Eg(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const p=yield d._withRetries(M=>{const L=ns(M,!1).getAll();return new Bs(L).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],I=new Set;if(0!==p.length)for(const{fbase_key:M,value:L}of p)I.add(M),JSON.stringify(d.localCache[M])!==JSON.stringify(L)&&(d.notifyListeners(M,L),_.push(M));for(const M of Object.keys(d.localCache))d.localCache[M]&&!I.has(M)&&(d.notifyListeners(M,null),_.push(M));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const I of Array.from(_))I(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),$a=1e12;class Ig{constructor(c){this.auth=c,this.counter=$a,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new Vv(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||$a;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||$a))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,C.Z)(function*(){var p;return null===(p=d._widgets.get(c||$a))||void 0===p||p.execute(),""})()}}class Vv{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;ee(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fv(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ih=Ev("rcb"),wg=new kr(3e4,6e4);class Cg{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=It().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return ee(function Uv(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&Rn(It().grecaptcha)?Promise.resolve(It().grecaptcha):new Promise((p,_)=>{const I=It().setTimeout(()=>{_(Tt(c,"network-request-failed"))},wg.get());It()[ih]=()=>{It().clearTimeout(I),delete It()[ih];const L=It().grecaptcha;if(!L||!Rn(L))return void _(Tt(c,"internal-error"));const Y=L.render;L.render=(me,Me)=>{const st=Y(me,Me);return this.counter++,st},this.hostLanguage=d,p(L)},qp(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:ih,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(I),_(Tt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=It().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ib{load(c){return(0,C.Z)(function*(){return new Ig(c)})()}clearedOneInstance(){}}const Tg="recaptcha",ri={theme:"light",type:"image"};class Dg{constructor(c,d,p=Object.assign({},ri)){this.parameters=p,this.type=Tg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(c),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ee(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ib:new Cg,this.validateStartingState()}verify(){var c=this;return(0,C.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(I=>{const M=L=>{L&&(c.tokenChangeListeners.delete(M),I(L))};c.tokenChangeListeners.add(M),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=It()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,C.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,C.Z)(function*(){ee(hn()&&!rc(),c.auth,"internal-error"),yield function Bv(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Cr(f){return fi.apply(this,arguments)}(c.auth);ee(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oh{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=go._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function bg(f,c,d){return ac.apply(this,arguments)}function ac(){return(ac=(0,C.Z)(function*(f,c,d){const p=tn(f),_=yield za(p,c,(0,G.m9)(d));return new oh(_,I=>Qu(p,I))})).apply(this,arguments)}function jv(f,c,d){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f);yield Ku(!1,p,"phone");const _=yield za(p.auth,c,(0,G.m9)(d));return new oh(_,I=>$d(p,I))})).apply(this,arguments)}function $v(f,c,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f),_=yield za(p.auth,c,(0,G.m9)(d));return new oh(_,I=>og(p,I))})).apply(this,arguments)}function za(f,c,d){return uc.apply(this,arguments)}function uc(){return uc=(0,C.Z)(function*(f,c,d){var p;const _=yield d.verify();try{let I;if(ee("string"==typeof _,f,"argument-error"),ee(d.type===Tg,f,"argument-error"),I="string"==typeof c?{phoneNumber:c}:c,"session"in I){const M=I.session;if("phoneNumber"in I)return ee("enroll"===M.type,f,"internal-error"),(yield function cb(f,c){return K(f,"POST","/v2/accounts/mfaEnrollment:start",F(f,c))}(f,{idToken:M.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ee("signin"===M.type,f,"internal-error");const L=(null===(p=I.multiFactorHint)||void 0===p?void 0:p.uid)||I.multiFactorUid;return ee(L,f,"missing-multi-factor-info"),(yield function Ov(f,c){return K(f,"POST","/v2/accounts/mfaSignIn:start",F(f,c))}(f,{mfaPendingCredential:M.credential,mfaEnrollmentId:L,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:M}=yield function Dv(f,c){return Md.apply(this,arguments)}(f,{phoneNumber:I.phoneNumber,recaptchaToken:_});return M}}finally{d._reset()}}),uc.apply(this,arguments)}function Ut(f,c){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,C.Z)(function*(f,c){yield Wu((0,G.m9)(f),c)})).apply(this,arguments)}let cc=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=tn(d)}verifyPhoneNumber(d,p){return za(this.auth,d,(0,G.m9)(p))}static credential(d,p){return go._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?go._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function In(f,c){return c?q(c):(ee(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class sh extends Ss{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return fo(c,this._buildIdpRequest())}_linkToIdToken(c,d){return fo(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return fo(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Ag(f){return ig(f.auth,new sh(f),f.bypassAuthState)}function js(f){const{auth:c,user:d}=f;return ee(d,c,"internal-error"),rg(d,new sh(f),f.bypassAuthState)}function Wr(f){return ah.apply(this,arguments)}function ah(){return(ah=(0,C.Z)(function*(f){const{auth:c,user:d}=f;return ee(d,c,"internal-error"),Wu(d,new sh(f),f.bypassAuthState)})).apply(this,arguments)}class Sg{constructor(c,d,p,_,I=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,C.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(I){c.reject(I)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,C.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:I,tenantId:M,error:L,type:Y}=c;if(L)return void d.reject(L);const me={auth:d.auth,requestUri:p,sessionId:_,tenantId:M||void 0,postBody:I||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Y)(me))}catch(Me){d.reject(Me)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Ag;case"linkViaPopup":case"linkViaRedirect":return Wr;case"reauthViaPopup":case"reauthViaRedirect":return js;default:tt(this.auth,"internal-error")}}resolve(c){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hv=new kr(2e3,1e4);function Io(f,c,d){return lc.apply(this,arguments)}function lc(){return(lc=(0,C.Z)(function*(f,c,d){const p=tn(f);vn(f,c,Qi);const _=In(p,d);return new uh(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function zv(f,c,d){return dc.apply(this,arguments)}function dc(){return(dc=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f);vn(p.auth,c,Qi);const _=In(p.auth,d);return new uh(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function Rg(f,c,d){return hc.apply(this,arguments)}function hc(){return(hc=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f);vn(p.auth,c,Qi);const _=In(p.auth,d);return new uh(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let uh=(()=>{class f extends Sg{constructor(d,p,_,I,M){super(d,p,I,M),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const p=yield d.execute();return ee(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,C.Z)(function*(){jt(1===d.filter.length,"Popup operations only handle one event");const p=mn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Tt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Hv.get())};d()}}return f.currentPopupAction=null,f})();const Ve="pendingRedirect",$s=new Map;class wb extends Sg{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,C.Z)(function*(){let p=$s.get(d.auth._key());if(!p){try{const I=(yield function Gv(f,c){return ch.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(I)}catch(_){p=()=>Promise.reject(_)}$s.set(d.auth._key(),p)}return d.bypassAuthState||$s.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,C.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function ch(){return(ch=(0,C.Z)(function*(f,c){const d=xg(c),p=Mg(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function lh(f,c){return fc.apply(this,arguments)}function fc(){return(fc=(0,C.Z)(function*(f,c){return Mg(f)._set(xg(c),"true")})).apply(this,arguments)}function Hs(){$s.clear()}function Pg(f,c){$s.set(f._key(),c)}function Mg(f){return q(f._redirectPersistence)}function xg(f){return ke(Ve,f.config.apiKey,f.name)}function qv(f,c,d){return function Wv(f,c,d){return Q.apply(this,arguments)}(f,c,d)}function Q(){return(Q=(0,C.Z)(function*(f,c,d){const p=tn(f);vn(f,c,Qi),yield p._initializationPromise;const _=In(p,d);return yield lh(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function ft(f,c,d){return function Ng(f,c,d){return pc.apply(this,arguments)}(f,c,d)}function pc(){return(pc=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f);vn(p.auth,c,Qi),yield p.auth._initializationPromise;const _=In(p.auth,d);yield lh(_,p.auth);const I=yield Kv(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",I)})).apply(this,arguments)}function Zn(f,c,d){return function Og(f,c,d){return rs.apply(this,arguments)}(f,c,d)}function rs(){return(rs=(0,C.Z)(function*(f,c,d){const p=(0,G.m9)(f);vn(p.auth,c,Qi),yield p.auth._initializationPromise;const _=In(p.auth,d);yield Ku(!1,p,c.providerId),yield lh(_,p.auth);const I=yield Kv(p);return _._openRedirect(p.auth,c,"linkViaRedirect",I)})).apply(this,arguments)}function $i(f,c){return qa.apply(this,arguments)}function qa(){return(qa=(0,C.Z)(function*(f,c){return yield tn(f)._initializationPromise,Wa(f,c,!1)})).apply(this,arguments)}function Wa(f,c){return dh.apply(this,arguments)}function dh(){return(dh=(0,C.Z)(function*(f,c,d=!1){const p=tn(f),_=In(p,c),M=yield new wb(p,_,d).execute();return M&&!d&&(delete M.user._redirectEventId,yield p._persistUserIfCurrent(M.user),yield p._setRedirectUser(null,c)),M})).apply(this,arguments)}function Kv(f){return gc.apply(this,arguments)}function gc(){return(gc=(0,C.Z)(function*(f){const c=mn(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class Hi{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Xi(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!is(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Tt(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hh(c))}saveEventToCache(c){this.cachedEventUids.add(hh(c)),this.lastProcessedEventTime=Date.now()}}function hh(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function is({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===c?.code}function kg(f){return mc.apply(this,arguments)}function mc(){return(mc=(0,C.Z)(function*(f,c={}){return K(f,"GET","/v1/projects",c)})).apply(this,arguments)}const Zv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qv=/^https?/;function Ka(){return(Ka=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield kg(f);for(const d of c)try{if(Vg(d))return}catch{}tt(f,"unauthorized-domain")})).apply(this,arguments)}function Vg(f){const c=an(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const M=new URL(f);return""===M.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&M.hostname===p}if(!Qv.test(d))return!1;if(Zv.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const ph=new kr(3e4,6e4);function Fg(){const f=It().___jsl;if(f?.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let zs=null;const Bg=new kr(5e3,15e3),jg="__/auth/iframe",$g="emulator/auth/iframe",gh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jv(f){const c=f.config;ee(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?Zi(c,$g):`https://${f.config.authDomain}/${jg}`,p={apiKey:c.apiKey,appName:f.name,v:N.SDK_VERSION},_=Yv.get(f.config.apiHost);_&&(p.eid=_);const I=f._getFrameworks();return I.length&&(p.fw=I.join(",")),`${d}?${(0,G.xO)(p).slice(1)}`}function eo(){return eo=(0,C.Z)(function*(f){const c=yield function Ug(f){return zs=zs||function Lg(f){return new Promise((c,d)=>{var p,_,I;function M(){Fg(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Fg(),d(Tt(f,"network-request-failed"))},timeout:ph.get()})}if(null!==(_=null===(p=It().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(I=It().gapi)||void 0===I||!I.load){const L=Ev("iframefcb");return It()[L]=()=>{gapi.load?M():d(Tt(f,"network-request-failed"))},qp(`https://apis.google.com/js/api.js?onload=${L}`).catch(Y=>d(Y))}M()}}).catch(c=>{throw zs=null,c})}(f),zs}(f),d=It().gapi;return ee(d,f,"internal-error"),c.open({where:document.body,url:Jv(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gh,dontclear:!0},p=>new Promise(function(){var _=(0,C.Z)(function*(I,M){yield p.restyle({setHideOnLeave:!1});const L=Tt(f,"network-request-failed"),Y=It().setTimeout(()=>{M(L)},Bg.get());function me(){It().clearTimeout(Y),I(p)}p.ping(me).then(me,()=>{M(L)})});return function(I,M){return _.apply(this,arguments)}}()))}),eo.apply(this,arguments)}const rn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mh{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wo="__/auth/handler",rE="emulator/auth/handler",yc=encodeURIComponent("fac");function Gs(f,c,d,p,_,I){return qs.apply(this,arguments)}function qs(){return(qs=(0,C.Z)(function*(f,c,d,p,_,I){ee(f.config.authDomain,f,"auth-domain-config-required"),ee(f.config.apiKey,f,"invalid-api-key");const M={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:N.SDK_VERSION,eventId:_};if(c instanceof Qi){c.setDefaultLanguage(f.languageCode),M.providerId=c.providerId||"",(0,G.xb)(c.getCustomParameters())||(M.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Me,st]of Object.entries(I||{}))M[Me]=st}if(c instanceof Ms){const Me=c.getScopes().filter(st=>""!==st);Me.length>0&&(M.scopes=Me.join(","))}f.tenantId&&(M.tid=f.tenantId);const L=M;for(const Me of Object.keys(L))void 0===L[Me]&&delete L[Me];const Y=yield f._getAppCheckToken(),me=Y?`#${yc}=${encodeURIComponent(Y)}`:"";return`${function _h({config:f}){return f.emulator?Zi(f,rE):`https://${f.authDomain}/${wo}`}(f)}?${(0,G.xO)(L).slice(1)}${me}`})).apply(this,arguments)}const vc="webStorageSupport",Gg=class zg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ji,this._completeRedirectFn=Wa,this._overrideRedirectResult=Pg}_openPopup(c,d,p,_){var I=this;return(0,C.Z)(function*(){var M;jt(null===(M=I.eventManagers[c._key()])||void 0===M?void 0:M.manager,"_initialize() not called before _openPopup()");const L=yield Gs(c,d,p,an(),_);return function Hg(f,c,d,p=500,_=600){const I=Math.max((window.screen.availHeight-_)/2,0).toString(),M=Math.max((window.screen.availWidth-p)/2,0).toString();let L="";const Y=Object.assign(Object.assign({},rn),{width:p.toString(),height:_.toString(),top:I,left:M}),me=(0,G.z$)().toLowerCase();d&&(L=Un(me)?"_blank":d),Rt(me)&&(c=c||"http://localhost",Y.scrollbars="yes");const Me=Object.entries(Y).reduce((gr,[to,Ja])=>`${gr}${to}=${Ja},`,"");if(function nt(f=(0,G.z$)()){var c;return ge(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(me)&&"_self"!==L)return function _c(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",L),new mh(null);const st=window.open(c||"",L,Me);ee(st,f,"popup-blocked");try{st.focus()}catch{}return new mh(st)}(c,L,mn())})()}_openRedirect(c,d,p,_){var I=this;return(0,C.Z)(function*(){return yield I._originValidation(c),function gg(f){It().location.href=f}(yield Gs(c,d,p,an(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:I}=this.eventManagers[d];return _?Promise.resolve(_):(jt(I,"If manager is not set, promise should be"),I)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,C.Z)(function*(){const p=yield function pr(f){return eo.apply(this,arguments)}(c),_=new Hi(c);return p.register("authEvent",I=>(ee(I?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(vc,{type:vc},_=>{var I;const M=null===(I=_?.[0])||void 0===I?void 0:I[vc];void 0!==M&&d(!!M),tt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function fh(f){return Ka.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return en()||be()||ge()}};class Ws{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return ut("unexpected MultiFactorSessionType")}}}class os extends Ws{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new os(c)}_finalizeEnroll(c,d,p){return function lb(f,c){return K(f,"POST","/v2/accounts/mfaEnrollment:finalize",F(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function rh(f,c){return K(f,"POST","/v2/accounts/mfaSignIn:finalize",F(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iE=(()=>{class f{constructor(){}static assertion(d){return os._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var qg="@firebase/auth";class Cb{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ya=(0,G.Pz)("authIdTokenMaxAge")||300;let Ic=null;const wc=f=>function(){var c=(0,C.Z)(function*(d){const p=d&&(yield d.getIdTokenResult()),_=p&&((new Date).getTime()-Date.parse(p.issuedAtTime))/1e3;if(_&&_>Ya)return;const I=p?.token;Ic!==I&&(Ic=I,yield fetch(f,{method:I?"POST":"DELETE",headers:I?{Authorization:`Bearer ${I}`}:{}}))});return function(d){return c.apply(this,arguments)}}();function Tb(f=(0,N.getApp)()){const c=(0,N._getProvider)(f,"auth");if(c.isInitialized())return c.getImmediate();const d=function rb(f,c){const d=(0,N._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),I=d.getOptions();if((0,G.vZ)(I,c??{}))return _;tt(_,"already-initialized")}return d.initialize({options:c})}(f,{popupRedirectResolver:Gg,persistence:[sc,Mv,ji]}),p=(0,G.Pz)("authTokenSyncURL");if(p){const I=wc(p);(function es(f,c,d){(0,G.m9)(f).beforeAuthStateChanged(c,d)})(d,I,()=>I(d.currentUser)),function Zd(f,c,d,p){(0,G.m9)(f).onIdTokenChanged(c,d,p)}(d,M=>I(M))}const _=(0,G.q4)("auth");return _&&Cv(d,`http://${_}`),d}!function Qa(f){(0,N._registerComponent)(new Qt.wA("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),I=c.getProvider("app-check-internal"),{apiKey:M,authDomain:L}=p.options;ee(M&&!M.includes(":"),"invalid-api-key",{appName:p.name});const Y={apiKey:M,authDomain:L,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Je(f)},me=new XD(p,_,I,Y);return function Se(f,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(q);c?.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,c?.popupRedirectResolver)}(me,d),me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Qt.wA("auth-internal",c=>{const d=tn(c.getProvider("auth").getImmediate());return new Cb(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(qg,"1.5.1",function yh(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,N.registerVersion)(qg,"1.5.1","esm2017")}("Browser")},58:(Pi,bn,xe)=>{xe.d(bn,{BH:()=>Or,L:()=>ct,LL:()=>Z,P0:()=>Yt,Pz:()=>Tt,Sg:()=>vn,UG:()=>ut,ZB:()=>Ce,ZR:()=>K,aH:()=>tt,b$:()=>hn,eu:()=>$,hl:()=>U,jU:()=>jt,m9:()=>Vi,ne:()=>Vr,pd:()=>gi,q4:()=>Sn,r3:()=>Pn,ru:()=>an,tV:()=>W,uI:()=>ee,vZ:()=>Mi,w1:()=>hi,xO:()=>Ni,xb:()=>Cr,z$:()=>Ke,zd:()=>pi});const Te=function(S){const b=[];let E=0;for(let w=0;w<S.length;w++){let v=S.charCodeAt(w);v<128?b[E++]=v:v<2048?(b[E++]=v>>6|192,b[E++]=63&v|128):55296==(64512&v)&&w+1<S.length&&56320==(64512&S.charCodeAt(w+1))?(v=65536+((1023&v)<<10)+(1023&S.charCodeAt(++w)),b[E++]=v>>18|240,b[E++]=v>>12&63|128,b[E++]=v>>6&63|128,b[E++]=63&v|128):(b[E++]=v>>12|224,b[E++]=v>>6&63|128,b[E++]=63&v|128)}return b},Qt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(S,b){if(!Array.isArray(S))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let v=0;v<S.length;v+=3){const A=S[v],q=v+1<S.length,_e=q?S[v+1]:0,ye=v+2<S.length,ke=ye?S[v+2]:0;let Rt=(15&_e)<<2|ke>>6,be=63&ke;ye||(be=64,q||(Rt=64)),w.push(E[A>>2],E[(3&A)<<4|_e>>4],E[Rt],E[be])}return w.join("")},encodeString(S,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(S):this.encodeByteArray(Te(S),b)},decodeString(S,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(S):function(S){const b=[];let E=0,w=0;for(;E<S.length;){const v=S[E++];if(v<128)b[w++]=String.fromCharCode(v);else if(v>191&&v<224){const A=S[E++];b[w++]=String.fromCharCode((31&v)<<6|63&A)}else if(v>239&&v<365){const ye=((7&v)<<18|(63&S[E++])<<12|(63&S[E++])<<6|63&S[E++])-65536;b[w++]=String.fromCharCode(55296+(ye>>10)),b[w++]=String.fromCharCode(56320+(1023&ye))}else{const A=S[E++],q=S[E++];b[w++]=String.fromCharCode((15&v)<<12|(63&A)<<6|63&q)}}return b.join("")}(this.decodeStringToByteArray(S,b))},decodeStringToByteArray(S,b){this.init_();const E=b?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let v=0;v<S.length;){const A=E[S.charAt(v++)],_e=v<S.length?E[S.charAt(v)]:0;++v;const ke=v<S.length?E[S.charAt(v)]:64;++v;const le=v<S.length?E[S.charAt(v)]:64;if(++v,null==A||null==_e||null==ke||null==le)throw new dn;w.push(A<<2|_e>>4),64!==ke&&(w.push(_e<<4&240|ke>>2),64!==le&&w.push(ke<<6&192|le))}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let S=0;S<this.ENCODED_VALS.length;S++)this.byteToCharMap_[S]=this.ENCODED_VALS.charAt(S),this.charToByteMap_[this.byteToCharMap_[S]]=S,this.byteToCharMapWebSafe_[S]=this.ENCODED_VALS_WEBSAFE.charAt(S),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[S]]=S,S>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(S)]=S,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(S)]=S)}}};class dn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ct=function(S){return function(S){const b=Te(S);return Qt.encodeByteArray(b,!0)}(S).replace(/\./g,"")},W=function(S){try{return Qt.decodeString(S,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};function Ce(S,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===S&&(S={});break;case Array:S=[];break;default:return b}for(const E in b)!b.hasOwnProperty(E)||!ze(E)||(S[E]=Ce(S[E],b[E]));return S}function ze(S){return"__proto__"!==S}const Ue=()=>{try{return function _t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const S=process.env.__FIREBASE_DEFAULTS__;return S?JSON.parse(S):void 0})()||(()=>{if(typeof document>"u")return;let S;try{S=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const b=S&&W(S[1]);return b&&JSON.parse(b)})()}catch(S){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${S}`)}},Sn=S=>{var b,E;return null===(E=null===(b=Ue())||void 0===b?void 0:b.emulatorHosts)||void 0===E?void 0:E[S]},Yt=S=>{const b=Sn(S);if(!b)return;const E=b.lastIndexOf(":");if(E<=0||E+1===b.length)throw new Error(`Invalid host ${b} with no separate hostname and port!`);const w=parseInt(b.substring(E+1),10);return"["===b[0]?[b.substring(1,E-1),w]:[b.substring(0,E),w]},tt=()=>{var S;return null===(S=Ue())||void 0===S?void 0:S.config},Tt=S=>{var b;return null===(b=Ue())||void 0===b?void 0:b[`_${S}`]};class Or{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((b,E)=>{this.resolve=b,this.reject=E})}wrapCallback(b){return(E,w)=>{E?this.reject(E):this.resolve(w),"function"==typeof b&&(this.promise.catch(()=>{}),1===b.length?b(E):b(E,w))}}}function vn(S,b){if(S.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const w=b||"demo-project",v=S.iat||0,A=S.sub||S.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const q=Object.assign({iss:`https://securetoken.google.com/${w}`,aud:w,iat:v,exp:v+3600,auth_time:v,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}}},S);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(q)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function ut(){var S;const b=null===(S=Ue())||void 0===S?void 0:S.forceEnvironment;if("node"===b)return!0;if("browser"===b)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function an(){const S="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof S&&void 0!==S.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hi(){const S=Ke();return S.indexOf("MSIE ")>=0||S.indexOf("Trident/")>=0}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function $(){return new Promise((S,b)=>{try{let E=!0;const w="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(w);v.onsuccess=()=>{v.result.close(),E||self.indexedDB.deleteDatabase(w),S(!0)},v.onupgradeneeded=()=>{E=!1},v.onerror=()=>{var A;b((null===(A=v.error)||void 0===A?void 0:A.message)||"")}}catch(E){b(E)}})}class K extends Error{constructor(b,E,w){super(E),this.code=b,this.customData=w,this.name="FirebaseError",Object.setPrototypeOf(this,K.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(b,E,w){this.service=b,this.serviceName=E,this.errors=w}create(b,...E){const w=E[0]||{},v=`${this.service}/${b}`,A=this.errors[b],q=A?function ae(S,b){return S.replace(et,(E,w)=>{const v=b[w];return null!=v?String(v):`<${w}?>`})}(A,w):"Error";return new K(v,`${this.serviceName}: ${q} (${v}).`,w)}}const et=/\{\$([^}]+)}/g;function Pn(S,b){return Object.prototype.hasOwnProperty.call(S,b)}function Cr(S){for(const b in S)if(Object.prototype.hasOwnProperty.call(S,b))return!1;return!0}function Mi(S,b){if(S===b)return!0;const E=Object.keys(S),w=Object.keys(b);for(const v of E){if(!w.includes(v))return!1;const A=S[v],q=b[v];if(dt(A)&&dt(q)){if(!Mi(A,q))return!1}else if(A!==q)return!1}for(const v of w)if(!E.includes(v))return!1;return!0}function dt(S){return null!==S&&"object"==typeof S}function Ni(S){const b=[];for(const[E,w]of Object.entries(S))Array.isArray(w)?w.forEach(v=>{b.push(encodeURIComponent(E)+"="+encodeURIComponent(v))}):b.push(encodeURIComponent(E)+"="+encodeURIComponent(w));return b.length?"&"+b.join("&"):""}function pi(S){const b={};return S.replace(/^\?/,"").split("&").forEach(w=>{if(w){const[v,A]=w.split("=");b[decodeURIComponent(v)]=decodeURIComponent(A)}}),b}function gi(S){const b=S.indexOf("?");if(!b)return"";const E=S.indexOf("#",b);return S.substring(b,E>0?E:void 0)}function Vr(S,b){const E=new Fr(S,b);return E.subscribe.bind(E)}class Fr{constructor(b,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{b(this)}).catch(w=>{this.error(w)})}next(b){this.forEachObserver(E=>{E.next(b)})}error(b){this.forEachObserver(E=>{E.error(b)}),this.close(b)}complete(){this.forEachObserver(b=>{b.complete()}),this.close()}subscribe(b,E,w){let v;if(void 0===b&&void 0===E&&void 0===w)throw new Error("Missing Observer.");v=function zn(S,b){if("object"!=typeof S||null===S)return!1;for(const E of b)if(E in S&&"function"==typeof S[E])return!0;return!1}(b,["next","error","complete"])?b:{next:b,error:E,complete:w},void 0===v.next&&(v.next=Dt),void 0===v.error&&(v.error=Dt),void 0===v.complete&&(v.complete=Dt);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),A}unsubscribeOne(b){void 0===this.observers||void 0===this.observers[b]||(delete this.observers[b],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(b){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,b)}sendOne(b,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[b])try{E(this.observers[b])}catch(w){typeof console<"u"&&console.error&&console.error(w)}})}close(b){this.finalized||(this.finalized=!0,void 0!==b&&(this.finalError=b),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dt(){}function Vi(S){return S&&S._delegate?S._delegate:S}},297:(Pi,bn,xe)=>{function C(t){return"function"==typeof t}function G(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const N=G(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Te(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(o){e=o instanceof N?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Lt(o)}catch(s){e=e??[],s instanceof N?e=[...e,...s.errors]:e.push(s)}}if(e)throw new N(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Lt(e);else{if(e instanceof mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Te(n,e)}remove(e){const{_finalizers:n}=this;n&&Te(n,e),e instanceof mt&&e._removeParent(this)}}mt.EMPTY=(()=>{const t=new mt;return t.closed=!0,t})();const Qt=mt.EMPTY;function dn(t){return t instanceof mt||t&&"closed"in t&&C(t.remove)&&C(t.add)&&C(t.unsubscribe)}function Lt(t){C(t)?t():t.unsubscribe()}const ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},W={setTimeout(t,e,...n){const{delegate:r}=W;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=W;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function re(t){W.setTimeout(()=>{const{onUnhandledError:e}=ct;if(!e)throw t;e(t)})}function Ce(){}const ze=it("C",void 0,void 0);function it(t,e,n){return{kind:t,value:e,error:n}}let Le=null;function Ue(t){if(ct.useDeprecatedSynchronousErrorHandling){const e=!Le;if(e&&(Le={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Le;if(Le=null,n)throw r}}else t()}class Yt extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dn(e)&&e.add(this)):this.destination=jt}static create(e,n,r){return new vn(e,n,r)}next(e){this.isStopped?ut(function An(t){return it("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ut(function _t(t){return it("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ut(ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Tt(t,e){return tt.call(t,e)}class Or{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ke(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ke(r)}else Ke(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ke(n)}}}class vn extends Yt{constructor(e,n,r){let i;if(super(),C(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ct.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tt(e.next,o),error:e.error&&Tt(e.error,o),complete:e.complete&&Tt(e.complete,o)}):i=e}this.destination=new Or(i)}}function Ke(t){ct.useDeprecatedSynchronousErrorHandling?function Sn(t){ct.useDeprecatedSynchronousErrorHandling&&Le&&(Le.errorThrown=!0,Le.error=t)}(t):re(t)}function ut(t,e){const{onStoppedNotification:n}=ct;n&&W.setTimeout(()=>n(t,e))}const jt={closed:!0,next:Ce,error:function ee(t){throw t},complete:Ce},an="function"==typeof Symbol&&Symbol.observable||"@@observable";function hn(t){return t}function hi(t){return 0===t.length?hn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function U(t){return t&&t instanceof Yt||function Zi(t){return t&&C(t.next)&&C(t.error)&&C(t.complete)}(t)&&dn(t)}(n)?n:new vn(n,r,i);return Ue(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=kr(r))((i,o)=>{const s=new vn({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[an](){return this}pipe(...n){return hi(n)(this)}toPromise(n){return new(n=kr(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function kr(t){var e;return null!==(e=t??ct.Promise)&&void 0!==e?e:Promise}const $=G(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new F(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $}next(n){Ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ue(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Qt:(this.currentObservers=null,o.push(n),new mt(()=>{this.currentObservers=null,Te(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new F(e,n),t})();class F extends z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Qt}}function K(t){return C(t?.lift)}function Z(t){return e=>{if(K(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new et(t,e,n,r,i)}class et extends Yt{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(t,e){return Z((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(t.call(e,o,i++))}))})}var Pe=xe(582);const lt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ht(t){return C(t?.then)}function Nt(t){return C(t[an])}function Jt(t){return Symbol.asyncIterator&&C(t?.[Symbol.asyncIterator])}function Rn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hn=function Pn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Cr(t){return C(t?.[Hn])}function fi(t){return(0,Pe.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Pe.qq)(n.read());if(i)return yield(0,Pe.qq)(void 0);yield yield(0,Pe.qq)(r)}}finally{n.releaseLock()}})}function Mi(t){return C(t?.getReader)}function dt(t){if(t instanceof qe)return t;if(null!=t){if(Nt(t))return function xi(t){return new qe(e=>{const n=t[an]();if(C(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(lt(t))return function Ni(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ht(t))return function pi(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,re)})}(t);if(Jt(t))return er(t);if(Cr(t))return function gi(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Mi(t))return function Vr(t){return er(fi(t))}(t)}throw Rn(t)}function er(t){return new qe(e=>{(function Fr(t,e){var n,r,i,o;return(0,Pe.mG)(this,void 0,void 0,function*(){try{for(n=(0,Pe.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Lr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Dt(t,e,n=1/0){return C(e)?Dt((r,i)=>Ie((o,s)=>e(r,o,i,s))(dt(t(r,i))),n):("number"==typeof e&&(n=e),Z((r,i)=>function zn(t,e,n,r,i,o,s,a){const u=[];let l=0,h=0,g=!1;const m=()=>{g&&!u.length&&!l&&e.complete()},y=D=>l<r?T(D):u.push(D),T=D=>{o&&e.next(D),l++;let R=!1;dt(n(D,h++)).subscribe(ae(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){const V=u.shift();s?Lr(e,s,()=>T(V)):T(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(ae(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,t,n)))}function Ur(t=1/0){return Dt(hn,t)}const fn=new qe(t=>t.complete());function Oi(t){return t[t.length-1]}function ki(t){return C(Oi(t))?t.pop():void 0}function mi(t){return function pn(t){return t&&C(t.schedule)}(Oi(t))?t.pop():void 0}function En(t,e=0){return Z((n,r)=>{n.subscribe(ae(r,i=>Lr(r,t,()=>r.next(i),e),()=>Lr(r,t,()=>r.complete(),e),i=>Lr(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Vi(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{Lr(n,e,()=>{const r=t[Symbol.asyncIterator]();Lr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function E(t,e){return e?function b(t,e){if(null!=t){if(Nt(t))return function Br(t,e){return dt(t).pipe(tr(e),En(e))}(t,e);if(lt(t))return function ho(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ht(t))return function As(t,e){return dt(t).pipe(tr(e),En(e))}(t,e);if(Jt(t))return Vi(t,e);if(Cr(t))return function zo(t,e){return new qe(n=>{let r;return Lr(n,e,()=>{r=t[Hn](),Lr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}(t,e);if(Mi(t))return function S(t,e){return Vi(fi(t),e)}(t,e)}throw Rn(t)}(t,e):dt(t)}function w(...t){const e=mi(t),n=function Mn(t,e){return"number"==typeof Oi(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?dt(r[0]):Ur(n)(E(r,e)):fn}class v extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function A(...t){return E(t,mi(t))}function q(t={}){const{connector:e=(()=>new z),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=g=!1},T=()=>{const D=s;y(),D?.unsubscribe()};return Z((D,R)=>{l++,!g&&!h&&m();const V=u=u??e();R.add(()=>{l--,0===l&&!g&&!h&&(a=_e(T,i))}),V.subscribe(R),!s&&l>0&&(s=new vn({next:x=>V.next(x),error:x=>{g=!0,m(),a=_e(y,n,x),V.error(x)},complete:()=>{h=!0,m(),a=_e(y,r),V.complete()}}),dt(D).subscribe(s))})(o)}}function _e(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new vn({next:()=>{r.unsubscribe(),t()}});return dt(e(...n)).subscribe(r)}function ye(t,e){return Z((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0;const h=o++;dt(t(u,h)).subscribe(i=ae(r,g=>r.next(e?e(u,g,h,l++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ht(t,e){return t===e}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function Rt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Un(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Go=le({__forward_ref__:le});function k(t){return t.__forward_ref__=k,t.toString=function(){return be(this())},t}function P(t){return X(t)?t():t}function X(t){return"function"==typeof t&&t.hasOwnProperty(Go)&&t.__forward_ref__===k}function ge(t){return t&&!!t.\u0275providers}const nt="https://g.co/ng/security#xss";class H extends Error{constructor(e,n){super(function en(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ve(t){return"string"==typeof t?t:null==t?"":String(t)}function wd(t,e){throw new H(-201,!1)}function nr(t,e){null==t&&function Ne(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vu(t){return Yp(t,Rs)||Yp(t,Fu)}function Yp(t,e){return t.hasOwnProperty(e)?t[e]:null}function Na(t){return t&&(t.hasOwnProperty(Cd)||t.hasOwnProperty(Tv))?t[Cd]:null}const Rs=le({\u0275prov:le}),Cd=le({\u0275inj:le}),Fu=le({ngInjectableDef:le}),Tv=le({ngInjectorDef:le});var Xe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Xe||{});let Td;function Tr(t){const e=Td;return Td=t,e}function Uu(t,e,n){const r=Vu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Xe.Optional?null:void 0!==e?e:void wd(be(t))}const Pt=globalThis;class oe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wo={},Pd="__NG_DI_FLAG__",$r="ngTempTokenPath",Md=/\n/gm,$u="__source";let Ps;function po(t){const e=Ps;return Ps=t,e}function Av(t,e=Xe.Default){if(void 0===Ps)throw new H(-203,!1);return null===Ps?Uu(t,void 0,e):Ps.get(t,e&Xe.Optional?null:void 0,e)}function ue(t,e=Xe.Default){return(function Lu(){return Td}()||Av)(P(t),e)}function pe(t,e=Xe.Default){return ue(t,Hu(e))}function Hu(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ko(t){const e=[];for(let n=0;n<t.length;n++){const r=P(t[n]);if(Array.isArray(r)){if(0===r.length)throw new H(900,!1);let i,o=Xe.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Nd(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function zu(t,e){return t[Pd]=e,t.prototype[Pd]=e,t}function Nd(t){return t[Pd]}function Hr(t){return{toString:t}.toString()}var Gu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gu||{}),_i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_i||{});const Fi={},yt=[],Yi=le({\u0275cmp:le}),Od=le({\u0275dir:le}),xs=le({\u0275pipe:le}),tg=le({\u0275mod:le}),Li=le({\u0275fac:le}),Zo=le({__NG_ELEMENT_ID__:le}),zr=le({__NG_ENV_ID__:le});function kd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Vd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];ka(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function qu(t){return 3===t||4===t||6===t}function ka(t){return 64===t.charCodeAt(0)}function Ns(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Fd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Fd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const ng="ng-template";function Ld(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==kd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Wu(t){return 4===t.type&&t.value!==ng}function Ud(t,e,n){return e===(4!==t.type||n?t.value:ng)}function Ku(t,e,n){let r=4;const i=t.attrs||[],o=function Bd(t){for(let e=0;e<t.length;e++)if(qu(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Ud(t,u,n)||""===u&&1===e.length){if(Gr(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ld(t.attrs,l,n)){if(Gr(r))return!1;s=!0}continue}const g=rg(8&r?"class":u,i,Wu(t),n);if(-1===g){if(Gr(r))return!1;s=!0;continue}if(""!==l){let m;m=g>o?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==kd(y,l,0)||2&r&&l!==m){if(Gr(r))return!1;s=!0}}}}else{if(!s&&!Gr(r)&&!Gr(u))return!1;if(s&&Gr(u))continue;s=!1,r=u|1&r}}return Gr(r)||s}function Gr(t){return 0==(1&t)}function rg(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Qu(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Zu(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ku(t,e[r],n))return!0;return!1}function $d(t,e){return t?":not("+e.trim()+")":e}function Hd(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Gr(s)&&(e+=$d(o,i),i=""),r=s,o=o||!Gr(r);n++}return""!==i&&(e+=$d(o,i)),e}function ti(t){return Hr(()=>{const e=sg(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_i.Emulated,styles:t.styles||yt,_:null,schemas:t.schemas||null,tView:null,id:""};Ju(n);const r=t.dependencies;return n.directiveDefs=Va(r,!1),n.pipeDefs=Va(r,!0),n.id=function Rv(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Sv(t){return ot(t)||qn(t)}function qd(t){return null!==t}function xn(t){return Hr(()=>({type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yu(t,e){if(null==t)return Fi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Oe(t){return Hr(()=>{const e=sg(t);return Ju(e),e})}function ot(t){return t[Yi]||null}function qn(t){return t[Od]||null}function Wn(t){return t[xs]||null}function hr(t,e){const n=t[tg]||null;if(!n&&!0===e)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return n}function sg(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yu(t.inputs,e),outputs:Yu(t.outputs)}}function Ju(t){t.features?.forEach(e=>e(t))}function Va(t,e){if(!t)return null;const n=e?Wn:Sv;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(qd)}const zt=0,de=1,je=2,Gt=3,yi=4,Qo=5,ir=6,ks=7,nn=8,mo=9,_o=10,$e=11,Yo=12,ag=13,yo=14,gn=15,Jo=16,Vs=17,ni=18,Fa=19,Xu=20,vo=21,Ji=22,Fs=23,Xo=24,rt=25,ec=1,ug=2,Ui=7,Ls=9,or=11;function qr(t){return Array.isArray(t)&&"object"==typeof t[ec]}function Kn(t){return Array.isArray(t)&&!0===t[ec]}function Zd(t){return 0!=(4&t.flags)}function es(t){return t.componentOffset>-1}function Qd(t){return 1==(1&t.flags)}function Bi(t){return!!t.template}function cg(t){return 0!=(512&t[je])}function Us(t,e){return t.hasOwnProperty(Li)?t[Li]:null}let mn=null,nc=!1;function It(t){const e=mn;return mn=t,e}const gg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function mg(t){if(!ja(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ba(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function _g(t){t.dirty=!0,function ic(t){if(void 0===t.liveConsumerNode)return;const e=nc;nc=!0;try{for(const n of t.liveConsumerNode)n.dirty||_g(n)}finally{nc=e}}(t),t.consumerMarkedDirty?.(t)}function oc(t){return t&&(t.nextProducerIndex=0),It(t)}function eh(t,e){if(It(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ja(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ns(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ba(t){Eo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mg(n),r!==n.version))return!0}return!1}function th(t){if(Eo(t),ja(t))for(let e=0;e<t.producerNode.length;e++)ns(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ns(t,e){if(function nh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Eo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)ns(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Eo(i),i.producerIndexOfThis[r]=e}}function ja(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Eo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Nv=null;const Cg=()=>{},Uv=(()=>({...gg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Cg}))();class Tg{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ri(){return Dg}function Dg(t){return t.type.prototype.ngOnChanges&&(t.setInput=oh),Bv}function Bv(){const t=ac(this),e=t?.current;if(e){const n=t.previous;if(n===Fi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oh(t,e,n,r){const i=this.declaredInputs[n],o=ac(t)||function jv(t,e){return t[bg]=e}(t,{previous:Fi,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new Tg(u&&u.currentValue,e,a===Fi),t[r]=e}ri.ngInherit=!0;const bg="__ngSimpleChanges__";function ac(t){return t[bg]||null}const ii=function(t,e,n){};function Ut(t){for(;Array.isArray(t);)t=t[zt];return t}function cc(t,e){return Ut(e[t])}function In(t,e){return Ut(e[t.index])}function Ag(t,e){return t.data[e]}function Wr(t,e){const n=e[t];return qr(n)?n:n[zt]}function Io(t,e){return null==e?null:t[e]}function lc(t){t[Vs]=0}function zv(t){1024&t[je]||(t[je]|=1024,Rg(t,1))}function dc(t){1024&t[je]&&(t[je]&=-1025,Rg(t,-1))}function Rg(t,e){let n=t[Gt];if(null===n)return;n[Qo]+=e;let r=n;for(n=n[Gt];null!==n&&(1===e&&1===r[Qo]||-1===e&&0===r[Qo]);)n[Qo]+=e,r=n,n=n[Gt]}const Ve={lFrame:Bg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fc(){return Ve.bindingsEnabled}function Q(){return Ve.lFrame.lView}function ft(){return Ve.lFrame.tView}function Zn(){let t=Og();for(;null!==t&&64===t.type;)t=t.parent;return t}function Og(){return Ve.lFrame.currentTNode}function $i(t,e){const n=Ve.lFrame;n.currentTNode=t,n.isParent=e}function qa(){return Ve.lFrame.isParent}function Wa(){Ve.lFrame.isParent=!1}function fr(){const t=Ve.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function is(){return Ve.lFrame.bindingIndex++}function Xi(t){const e=Ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Zv(t,e){const n=Ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,fh(e)}function fh(t){Ve.lFrame.currentDirectiveIndex=t}function ph(t){Ve.lFrame.currentQueryIndex=t}function Fg(t){const e=t[de];return 2===e.type?e.declTNode:1===e.type?t[ir]:null}function Lg(t,e,n){if(n&Xe.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Xe.Host||(i=Fg(o),null===i||(o=o[yo],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ve.lFrame=Ug();return r.currentTNode=e,r.lView=t,!0}function zs(t){const e=Ug(),n=t[de];Ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ug(){const t=Ve.lFrame,e=null===t?null:t.child;return null===e?Bg(t):e}function Bg(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function jg(){const t=Ve.lFrame;return Ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $g=jg;function gh(){const t=jg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pr(){return Ve.lFrame.selectedIndex}function eo(t){Ve.lFrame.selectedIndex=t}function rn(){const t=Ve.lFrame;return Ag(t.tView,t.selectedIndex)}let Hg=!0;function _c(){return Hg}function wo(t){Hg=t}function yc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=h&&(t.destroyHooks??=[]).push(n,h)}}function Gs(t,e,n){vc(t,e,3,n)}function qs(t,e,n,r){(3&t[je])===n&&vc(t,e,n,r)}function _h(t,e){let n=t[je];(3&n)===e&&(n&=8191,n+=1,t[je]=n)}function vc(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Vs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Vs]+=65536),(a<o||-1==o)&&(Gg(t,n,e,u),t[Vs]=(4294901760&t[Vs])+u+2),u++}function zg(t,e){ii(4,t,e);const n=It(null);try{e.call(t)}finally{It(n),ii(5,t,e)}}function Gg(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[je]>>13<t[Vs]>>16&&(3&t[je])===e&&(t[je]+=8192,zg(a,o)):zg(a,o)}const Ws=-1;class os{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function yh(t){return t!==Ws}function Qa(t){return 32767&t}function Ya(t,e){let n=function aE(t){return t>>16}(t),r=e;for(;n>0;)r=r[yo],n--;return r}let Ic=!0;function wc(t){const e=Ic;return Ic=t,e}const f=255,c=5;let d=0;const p={};function I(t,e){const n=L(t,e);if(-1!==n)return n;const r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,M(r.data,t),M(e,null),M(r.blueprint,null));const i=Y(t,e),o=t.injectorIndex;if(yh(i)){const s=Qa(i),a=Ya(i,e),u=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function M(t,e){t.push(0,0,0,0,0,0,0,0,e)}function L(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Y(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Db(i),null===r)return Ws;if(n++,i=i[yo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ws}function me(t,e,n){!function _(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zo)&&(r=n[Zo]),null==r&&(r=n[Zo]=d++);const i=r&f;e.data[t+(i>>c)]|=1<<i}(t,e,n)}function st(t,e,n){if(n&Xe.Optional||void 0!==t)return t;wd()}function gr(t,e,n,r){if(n&Xe.Optional&&void 0===r&&(r=null),!(n&(Xe.Self|Xe.Host))){const i=t[mo],o=Tr(void 0);try{return i?i.get(e,r,n&Xe.Optional):Uu(e,r,n&Xe.Optional)}finally{Tr(o)}}return st(r,0,n)}function to(t,e,n,r=Xe.Default,i){if(null!==t){if(2048&e[je]&&!(r&Xe.Self)){const s=function S2(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[je]&&!(512&s[je]);){const a=Ja(o,s,n,r|Xe.Self,p);if(a!==p)return a;let u=o.parent;if(!u){const l=s[Xu];if(l){const h=l.get(n,p,r);if(h!==p)return h}u=Db(s),s=s[yo]}o=u}return i}(t,e,n,r,p);if(s!==p)return s}const o=Ja(t,e,n,r,p);if(o!==p)return o}return gr(e,n,r,i)}function Ja(t,e,n,r,i){const o=function Kg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Zo)?t[Zo]:void 0;return"number"==typeof e?e>=0?e&f:uE:e}(n);if("function"==typeof o){if(!Lg(e,t,r))return r&Xe.Host?st(i,0,r):gr(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Xe.Optional)return s;wd()}finally{$g()}}else if("number"==typeof o){let s=null,a=L(t,e),u=Ws,l=r&Xe.Host?e[gn][ir]:null;for((-1===a||r&Xe.SkipSelf)&&(u=-1===a?Y(t,e):e[a+8],u!==Ws&&vh(r,!1)?(s=e[de],a=Qa(u),e=Ya(u,e)):a=-1);-1!==a;){const h=e[de];if(Cc(o,a,h.data)){const g=Wg(a,e,n,s,r,l);if(g!==p)return g}u=e[a+8],u!==Ws&&vh(r,e[de].data[a+8]===l)&&Cc(o,a,e)?(s=h,a=Qa(u),e=Ya(u,e)):a=-1}}return i}function Wg(t,e,n,r,i,o){const s=e[de],a=s.data[t+8],h=function Ks(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let y=r?a:a+h;y<m;y++){const T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){const y=s[u];if(y&&Bi(y)&&y.type===n)return u}return null}(a,s,n,null==r?es(a)&&Ic:r!=s&&0!=(3&a.type),i&Xe.Host&&o===a);return null!==h?Co(e,s,h,a):p}function Co(t,e,n,r){let i=t[n];const o=e.data;if(function iE(t){return t instanceof os}(i)){const s=i;s.resolving&&function xa(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ve(t)}(o[n]));const a=wc(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Tr(s.injectImpl):null;Lg(t,r,Xe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rE(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Dg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&Tr(l),wc(a),s.resolving=!1,$g()}}return i}function Cc(t,e,n){return!!(n[e+(t>>c)]&1<<t)}function vh(t,e){return!(t&Xe.Self||t&Xe.Host&&e)}class sr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return to(this._tNode,this._lView,e,Hu(r),n)}}function uE(){return new sr(Zn(),Q())}function Nn(t){return Hr(()=>{const e=t.prototype.constructor,n=e[Li]||Ih(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Li]||Ih(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ih(t){return X(t)?()=>{const e=Ih(P(t));return e&&e()}:Us(t)}function Db(t){const e=t[de],n=e.type;return 2===n?e.declTNode:1===n?t[ir]:null}const Dc="__parameters__";function Ac(t,e,n){return Hr(()=>{const r=function cE(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,h){const g=u.hasOwnProperty(Dc)?u[Dc]:Object.defineProperty(u,Dc,{value:[]})[Dc];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Rc(t,e){t.forEach(n=>Array.isArray(n)?Rc(n,e):e(n))}function Ab(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vi(t,e,n){let r=Pc(t,e);return r>=0?t[1|r]=n:(r=~r,function k2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function lE(t,e){const n=Pc(t,e);if(n>=0)return t[1|n]}function Pc(t,e){return function Sb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Ei=zu(Ac("Optional"),8),Jg=zu(Ac("SkipSelf"),4);function rm(t){return 128==(128&t.flags)}var Qs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qs||{});const nU=/^>|^->|<!--|-->|--!>|<!-$/g,rU=/(<|>)/g,iU="\u200b$1\u200b";const gE=new Map;let oU=0;const _E="__ngContext__";function Dr(t,e){qr(e)?(t[_E]=e[Fa],function aU(t){gE.set(t[Fa],t)}(e)):t[_E]=e}let yE;function vE(t,e){return yE(t,e)}function bh(t){const e=t[Gt];return Kn(e)?e[Gt]:e}function Kb(t){return Qb(t[Yo])}function Zb(t){return Qb(t[yi])}function Qb(t){for(;null!==t&&!Kn(t);)t=t[yi];return t}function Nc(t,e,n,r,i){if(null!=r){let o,s=!1;Kn(r)?o=r:qr(r)&&(s=!0,r=r[zt]);const a=Ut(r);0===t&&null!==n?null==i?eA(e,n,a):Xa(e,n,a,i||null,!0):1===t&&null!==n?Xa(e,n,a,i||null,!0):2===t?function lm(t,e,n){const r=um(t,e);r&&function bU(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function RU(t,e,n,r,i){const o=n[Ui];o!==Ut(n)&&Nc(e,t,r,o,i);for(let a=or;a<n.length;a++){const u=n[a];Sh(u[de],u,t,e,r,o)}}(e,t,o,n,i)}}function EE(t,e){return t.createComment(function Bb(t){return t.replace(nU,e=>e.replace(rU,iU))}(e))}function sm(t,e,n){return t.createElement(e,n)}function Jb(t,e){const n=t[Ls],r=n.indexOf(e);dc(e),n.splice(r,1)}function am(t,e){if(t.length<=or)return;const n=or+e,r=t[n];if(r){const i=r[Jo];null!==i&&i!==t&&Jb(i,r),e>0&&(t[n-1][yi]=r[yi]);const o=Qg(t,or+e);!function yU(t,e){Sh(t,e,e[$e],2,null,null),e[zt]=null,e[ir]=null}(r[de],r);const s=o[ni];null!==s&&s.detachView(o[de]),r[Gt]=null,r[yi]=null,r[je]&=-129}return r}function IE(t,e){if(!(256&e[je])){const n=e[$e];e[Fs]&&th(e[Fs]),e[Xo]&&th(e[Xo]),n.destroyNode&&Sh(t,e,n,3,null,null),function IU(t){let e=t[Yo];if(!e)return wE(t[de],t);for(;e;){let n=null;if(qr(e))n=e[Yo];else{const r=e[or];r&&(n=r)}if(!n){for(;e&&!e[yi]&&e!==t;)qr(e)&&wE(e[de],e),e=e[Gt];null===e&&(e=t),qr(e)&&wE(e[de],e),n=e&&e[yi]}e=n}}(e)}}function wE(t,e){if(!(256&e[je])){e[je]&=-129,e[je]|=256,function DU(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof os)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];ii(4,a,u);try{u.call(a)}finally{ii(5,a,u)}}else{ii(4,i,o);try{o.call(i)}finally{ii(5,i,o)}}}}}(t,e),function TU(t,e){const n=t.cleanup,r=e[ks];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[ks]=null);const i=e[vo];if(null!==i){e[vo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[de].type&&e[$e].destroy();const n=e[Jo];if(null!==n&&Kn(e[Gt])){n!==e[Gt]&&Jb(n,e);const r=e[ni];null!==r&&r.detachView(t)}!function uU(t){gE.delete(t[Fa])}(e)}}function CE(t,e,n){return function Xb(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[zt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===_i.None||o===_i.Emulated)return null}return In(r,n)}}(t,e.parent,n)}function Xa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eA(t,e,n){t.appendChild(e,n)}function tA(t,e,n,r,i){null!==r?Xa(t,e,n,r,i):eA(t,e,n)}function um(t,e){return t.parentNode(e)}let TE,dm,SE,hm,iA=function rA(t,e,n){return 40&t.type?In(t,n):null};function cm(t,e,n,r){const i=CE(t,r,e),o=e[$e],a=function nA(t,e,n){return iA(t,e,n)}(r.parent||e[ir],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)tA(o,i,n[u],a,!1);else tA(o,i,n,a,!1);void 0!==TE&&TE(o,r,e,n,i)}function Ah(t,e){if(null!==e){const n=e.type;if(3&n)return In(e,t);if(4&n)return DE(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ah(t,r);{const i=t[e.index];return Kn(i)?DE(-1,i):Ut(i)}}if(32&n)return vE(e,t)()||Ut(t[e.index]);{const r=sA(t,e);return null!==r?Array.isArray(r)?r[0]:Ah(bh(t[gn]),r):Ah(t,e.next)}}return null}function sA(t,e){return null!==e?t[gn][ir].projection[e.projection]:null}function DE(t,e){const n=or+t+1;if(n<e.length){const r=e[n],i=r[de].firstChild;if(null!==i)return Ah(r,i)}return e[Ui]}function bE(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Dr(Ut(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)bE(t,e,n.child,r,i,o,!1),Nc(e,t,i,a,o);else if(32&u){const l=vE(n,r);let h;for(;h=l();)Nc(e,t,i,h,o);Nc(e,t,i,a,o)}else 16&u?uA(t,e,r,n,i,o):Nc(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Sh(t,e,n,r,i,o){bE(n,r,t.firstChild,e,i,o,!1)}function uA(t,e,n,r,i,o){const s=n[gn],u=s[ir].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Nc(e,t,i,u[l],o);else{let l=u;const h=s[Gt];rm(r)&&(l.flags|=128),bE(t,e,l,h,i,o,!0)}}function cA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function lA(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Vd(t,e,r),null!==i&&cA(t,e,i),null!==o&&function MU(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Oc(t){return function AE(){if(void 0===dm&&(dm=null,Pt.trustedTypes))try{dm=Pt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dm}()?.createHTML(t)||t}function kc(){if(void 0!==SE)return SE;if(typeof document<"u")return document;throw new H(210,!1)}function RE(){if(void 0===hm&&(hm=null,Pt.trustedTypes))try{hm=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hm}function dA(t){return RE()?.createHTML(t)||t}function fA(t){return RE()?.createScriptURL(t)||t}class pA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function Ys(t){return t instanceof pA?t.changingThisBreaksApplicationSecurity:t}function Rh(t,e){const n=function jU(t){return t instanceof pA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nt})`)}return n===e}class $U{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Oc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class HU{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Oc(e),n}}const GU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PE(t){return(t=String(t)).match(GU)?t:"unsafe:"+t}function ss(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ph(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const mA=ss("area,br,col,hr,img,wbr"),_A=ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yA=ss("rp,rt"),ME=Ph(mA,Ph(_A,ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ph(yA,ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ph(yA,_A)),xE=ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vA=Ph(xE,ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qU=ss("script,style,template");class WU{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!ME.hasOwnProperty(n))return this.sanitizedSomething=!0,!qU.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!vA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;xE[a]&&(u=PE(u)),this.buf.push(" ",s,'="',EA(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();ME.hasOwnProperty(n)&&!mA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(EA(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const KU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZU=/([^\#-~ |!])/g;function EA(t){return t.replace(/&/g,"&amp;").replace(KU,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ZU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fm;function NE(t){return"content"in t&&function YU(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Vc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vc||{});function OE(t){const e=Mh();return e?dA(e.sanitize(Vc.HTML,t)||""):Rh(t,"HTML")?dA(Ys(t)):function QU(t,e){let n=null;try{fm=fm||function gA(t){const e=new HU(t);return function zU(){try{return!!(new window.DOMParser).parseFromString(Oc(""),"text/html")}catch{return!1}}()?new $U(e):e}(t);let r=e?String(e):"";n=fm.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fm.getInertBodyElement(r)}while(r!==o);return Oc((new WU).sanitizeChildren(NE(n)||n))}finally{if(n){const r=NE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(kc(),ve(t))}function kE(t){const e=Mh();return e?e.sanitize(Vc.URL,t)||"":Rh(t,"URL")?Ys(t):PE(ve(t))}function IA(t){const e=Mh();if(e)return fA(e.sanitize(Vc.RESOURCE_URL,t)||"");if(Rh(t,"ResourceURL"))return fA(Ys(t));throw new H(904,!1)}function Mh(){const t=Q();return t&&t[_o].sanitizer}const xh=new oe("ENVIRONMENT_INITIALIZER"),CA=new oe("INJECTOR",-1),TA=new oe("INJECTOR_DEF_TYPES");class VE{get(e,n=Wo){if(n===Wo){const r=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw r.name="NullInjectorError",r}return n}}function rB(...t){return{\u0275providers:DA(0,t),\u0275fromNgModule:!0}}function DA(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Rc(e,s=>{const a=s;pm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&bA(i,o),n}function bA(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];LE(i,o=>{e(o,r)})}}function pm(t,e,n,r){if(!(t=P(t)))return!1;let i=null,o=Na(t);const s=!o&&ot(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Na(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)pm(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Rc(o.imports,h=>{pm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&bA(l,e)}if(!a){const l=Us(i)||(()=>new i);e({provide:i,useFactory:l,deps:yt},i),e({provide:TA,useValue:i,multi:!0},i),e({provide:xh,useValue:()=>ue(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=t;LE(u,h=>{e(h,l)})}}}return i!==t&&void 0!==t.providers}function LE(t,e){for(let n of t)ge(n)&&(n=n.\u0275providers),Array.isArray(n)?LE(n,e):e(n)}const iB=le({provide:String,useValue:le});function UE(t){return null!==t&&"object"==typeof t&&iB in t}function eu(t){return"function"==typeof t}const BE=new oe("Set Injector scope."),gm={},sB={};let jE;function mm(){return void 0===jE&&(jE=new VE),jE}class Ii{}class Fc extends Ii{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,HE(e,s=>this.processProvider(s)),this.records.set(CA,Lc(void 0,this)),i.has("environment")&&this.records.set(Ii,Lc(void 0,this));const o=this.records.get(BE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TA.multi,yt,Xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=po(this),r=Tr(void 0);try{return e()}finally{po(n),Tr(r)}}get(e,n=Wo,r=Xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zr))return e[zr](this);r=Hu(r);const o=po(this),s=Tr(void 0);try{if(!(r&Xe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function dB(t){return"function"==typeof t||"object"==typeof t&&t instanceof oe}(e)&&Vu(e);u=l&&this.injectableDefInScope(l)?Lc($E(e),gm):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Xe.Self?mm():this.parent).get(e,n=r&Xe.Optional&&n===Wo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[$r]=a[$r]||[]).unshift(be(e)),o)throw a;return function Qi(t,e,n,r){const i=t[$r];throw e[$u]&&i.unshift(e[$u]),t.message=function Ms(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=be(e);if(Array.isArray(e))i=e.map(be).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Md,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[$r]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Tr(s),po(o)}}resolveInjectorInitializers(){const e=po(this),n=Tr(void 0);try{const i=this.get(xh.multi,yt,Xe.Self);for(const o of i)o()}finally{po(e),Tr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){let n=eu(e=P(e))?e:P(e&&e.provide);const r=function uB(t){return UE(t)?Lc(void 0,t.useValue):Lc(RA(t),gm)}(e);if(eu(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Lc(void 0,gm,!0),i.factory=()=>Ko(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===gm&&(n.value=sB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function lB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=P(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $E(t){const e=Vu(t),n=null!==e?e.factory:Us(t);if(null!==n)return n;if(t instanceof oe)throw new H(204,!1);if(t instanceof Function)return function aB(t){const e=t.length;if(e>0)throw function Ch(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new H(204,!1);const n=function Ss(t){return t&&(t[Rs]||t[Fu])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new H(204,!1)}function RA(t,e,n){let r;if(eu(t)){const i=P(t);return Us(i)||$E(i)}if(UE(t))r=()=>P(t.useValue);else if(function SA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ko(t.deps||[]));else if(function AA(t){return!(!t||!t.useExisting)}(t))r=()=>ue(P(t.useExisting));else{const i=P(t&&(t.useClass||t.provide));if(!function cB(t){return!!t.deps}(t))return Us(i)||$E(i);r=()=>new i(...Ko(t.deps))}return r}function Lc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HE(t,e){for(const n of t)Array.isArray(n)?HE(n,e):n&&ge(n)?HE(n.\u0275providers,e):e(n)}const _m=new oe("AppId",{providedIn:"root",factory:()=>hB}),hB="ng",PA=new oe("Platform Initializer"),To=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),MA=new oe("CSP nonce",{providedIn:"root",factory:()=>kc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xA=(t,e,n)=>null;function YE(t,e,n=!1){return xA(t,e,n)}class wB{}class kA{}class TB{resolveComponentFactory(e){throw function CB(t){const e=Error(`No component factory found for ${be(t)}.`);return e.ngComponent=t,e}(e)}}let Cm=(()=>{class t{static#e=this.NULL=new TB}return t})();function DB(){return jc(Zn(),Q())}function jc(t,e){return new wi(In(t,e))}let wi=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=DB}return t})();class FA{}let as=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function AB(){const t=Q(),n=Wr(Zn().index,t);return(qr(n)?n:t)[$e]}()}return t})(),SB=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>null})}return t})();class $c{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const eI=new $c("16.2.12"),tI={};function jA(t,e=null,n=null,r){const i=$A(t,e,n,r);return i.resolveInjectorInitializers(),i}function $A(t,e=null,n=null,r,i=new Set){const o=[n||yt,rB(t)];return r=r||("object"==typeof t?void 0:be(t)),new Fc(o,e||mm(),r||null,i)}let Kr=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Wo;static#t=this.NULL=new VE;static create(n,r){if(Array.isArray(n))return jA({name:""},r,n,"");{const i=n.name??"";return jA({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Se({token:t,providedIn:"any",factory:()=>ue(CA)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function rI(t){return t.ngOriginalError}class us{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rI(e);for(;n&&rI(n);)n=rI(n);return n||null}}function oI(t){return e=>{setTimeout(t,void 0,e)}}const wn=class kB extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=oI(o),i&&(i=oI(i)),s&&(s=oI(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof mt&&e.add(a),a}};function zA(...t){}class bt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wn(!1),this.onMicrotaskEmpty=new wn(!1),this.onStable=new wn(!1),this.onError=new wn(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function VB(){const t="function"==typeof Pt.requestAnimationFrame;let e=Pt[t?"requestAnimationFrame":"setTimeout"],n=Pt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function UB(t){const e=()=>{!function LB(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,aI(t),t.isCheckStableRunning=!0,sI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),aI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function jB(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return GA(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),qA(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return GA(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),qA(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,aI(t),sI(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bt.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(bt.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FB,zA,zA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const FB={};function sI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function aI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function GA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qA(t){t._nesting--,sI(t)}class BB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wn,this.onMicrotaskEmpty=new wn,this.onStable=new wn,this.onError=new wn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const WA=new oe("",{providedIn:"root",factory:KA});function KA(){const t=pe(bt);let e=!0;return w(new qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new qe(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{bt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{bt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(q()))}function ZA(t){return t.ownerDocument.defaultView}function cs(t){return t instanceof Function?t():t}let uI=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})();function kh(t){for(;t;){t[je]|=64;const e=bh(t);if(cg(t)&&!e)return t;t=e}return null}const eS=new oe("",{providedIn:"root",factory:()=>!1});let Dm=null;function iS(t,e){return t[e]??aS()}function oS(t,e){const n=aS();n.producerNode?.length&&(t[e]=Dm,n.lView=t,Dm=sS())}const QB={...gg,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{kh(t.lView)},lView:null};function sS(){return Object.create(QB)}function aS(){return Dm??=sS(),Dm}const We={};function wt(t){uS(ft(),Q(),pr()+t,!1)}function uS(t,e,n,r){if(!r)if(3==(3&e[je])){const o=t.preOrderCheckHooks;null!==o&&Gs(e,o,n)}else{const o=t.preOrderHooks;null!==o&&qs(e,o,0,n)}eo(n)}function J(t,e=Xe.Default){const n=Q();return null===n?ue(t,e):to(Zn(),n,P(t),e)}function bm(t,e,n,r,i,o,s,a,u,l,h){const g=e.blueprint.slice();return g[zt]=i,g[je]=140|r,(null!==l||t&&2048&t[je])&&(g[je]|=2048),lc(g),g[Gt]=g[yo]=t,g[nn]=n,g[_o]=s||t&&t[_o],g[$e]=a||t&&t[$e],g[mo]=u||t&&t[mo]||null,g[ir]=o,g[Fa]=function sU(){return oU++}(),g[Ji]=h,g[Xu]=l,g[gn]=2==e.type?t[gn]:g,g}function Gc(t,e,n,r,i){let o=t.data[e];if(null===o)o=function cI(t,e,n,r,i){const o=Og(),s=qa(),u=t.data[e]=function ij(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Hs(){return null!==Ve.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function kg(){return Ve.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function rs(){const t=Ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return $i(o,!0),o}function Vh(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lS(t,e,n,r,i){const o=iS(e,Fs),s=pr(),a=2&r;try{eo(-1),a&&e.length>rt&&uS(t,e,rt,!1),ii(a?2:0,i);const l=a?o:null,h=oc(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{eh(l,h)}}finally{a&&null===e[Fs]&&oS(e,Fs),eo(s),ii(a?3:1,i)}}function lI(t,e,n){if(Zd(e)){const r=It(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{It(r)}}}function dI(t,e,n){fc()&&(function dj(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;es(n)&&function yj(t,e,n){const r=In(e,t),i=dS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Am(t,bm(t,i,null,s,r,e,null,t[_o].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||I(n,e),Dr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],l=Co(e,t,a,n);Dr(l,e),null!==s&&vj(0,a-i,l,u,0,s),Bi(u)&&(Wr(n.index,e)[nn]=Co(e,t,a,n))}}(t,e,n,In(n,e)),64==(64&n.flags)&&mS(t,e,n))}function hI(t,e,n=In){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function dS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fI(t,e,n,r,i,o,s,a,u,l,h){const g=rt+r,m=g+i,y=function JB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:We);return n}(g,m),T="function"==typeof l?l():l;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}let hS=t=>null;function fS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?pS(n,e,i,o):r.hasOwnProperty(i)&&pS(n,e,r[i],o)}return n}function pS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function pI(t,e,n,r){if(fc()){const i=null===r?null:{"":-1},o=function fj(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Zu(e,s.selectors,!1))if(r||(r=[]),Bi(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),gI(t,e,a.length)}else r.unshift(s),gI(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&gS(t,e,n,s,i,a),i&&function pj(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new H(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Ns(n.mergedAttrs,n.attrs)}function gS(t,e,n,r,i,o){for(let l=0;l<r.length;l++)me(I(n,e),t,r[l].type);!function mj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Vh(t,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];n.mergedAttrs=Ns(n.mergedAttrs,h.hostAttrs),_j(t,n,e,u,h),gj(u,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function oj(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,l=null;for(let h=e.directiveStart;h<i;h++){const g=o[h],m=n?n.get(g):null,T=m?m.outputs:null;u=fS(g.inputs,h,u,m?m.inputs:null),l=fS(g.outputs,h,l,T);const D=null===u||null===s||Wu(e)?null:Ej(u,h,s);a.push(D)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(t,n,o)}function mS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Qv(){return Ve.lFrame.currentDirectiveIndex}();try{eo(o);for(let a=r;a<i;a++){const u=t.data[a],l=e[a];fh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&hj(u,l)}}finally{eo(-1),fh(s)}}function hj(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bi(e)&&(n[""]=t)}}function _j(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Us(i.type)),s=new os(o,Bi(i),J);t.blueprint[r]=s,n[r]=s,function cj(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function lj(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Vh(t,n,i.hostVars,We),i)}function Do(t,e,n,r,i,o){const s=In(t,e);!function mI(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?ve(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[$e],s,o,t.value,n,r,i)}function vj(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)_S(r,n,s[a++],s[a++],s[a++])}function _S(t,e,n,r,i){const o=It(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{It(o)}}function Ej(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function yS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function vS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];ph(n[r]),s.contentQueries(2,e[o],o)}}}function Am(t,e){return t[Yo]?t[ag][yi]=e:t[Yo]=e,t[ag]=e,e}function _I(t,e,n){ph(0);const r=It(null);try{e(t,n)}finally{It(r)}}function CS(t,e){const n=t[mo],r=n?n.get(us,null):null;r&&r.handleError(e)}function yI(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];_S(t.data[s],e[s],r,a,i)}}function Ij(t,e){const n=Wr(e,t),r=n[de];!function wj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[zt];null!==i&&null===n[Ji]&&(n[Ji]=YE(i,n[mo])),vI(r,n,n[nn])}function vI(t,e,n){zs(e);try{const r=t.viewQuery;null!==r&&_I(1,r,n);const i=t.template;null!==i&&lS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vS(t,e),t.staticViewQueries&&_I(2,t.viewQuery,n);const o=t.components;null!==o&&function Cj(t,e){for(let n=0;n<e.length;n++)Ij(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[je]&=-5,gh()}}let TS=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Lv(t,e,n){const r=Object.create(Uv);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>_g(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Ba(r))return;r.hasRun=!0;const s=oc(r);try{r.cleanupFn(),r.cleanupFn=Cg,r.fn(i)}finally{eh(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Un(i,a):2==o&&(r=Un(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Fh(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Ut(o)),Kn(o)&&DS(o,r);const s=n.type;if(8&s)Fh(t,e,n.child,r);else if(32&s){const a=vE(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=sA(e,n);if(Array.isArray(a))r.push(...a);else{const u=bh(e[gn]);Fh(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function DS(t,e){for(let n=or;n<t.length;n++){const r=t[n],i=r[de].firstChild;null!==i&&Fh(r[de],r,i,e)}t[Ui]!==t[zt]&&e.push(t[Ui])}function Rm(t,e,n,r=!0){const i=e[_o],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{bS(t,e,t.template,n)}catch(u){throw r&&CS(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function bS(t,e,n,r){const i=e[je];if(256!=(256&i)){e[_o].effectManager?.flush(),zs(e);try{lc(e),function hh(t){return Ve.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&lS(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&Gs(e,l,null)}else{const l=t.preOrderHooks;null!==l&&qs(e,l,0,null),_h(e,0)}if(function bj(t){for(let e=Kb(t);null!==e;e=Zb(e)){if(!e[ug])continue;const n=e[Ls];for(let r=0;r<n.length;r++){zv(n[r])}}}(e),AS(e,2),null!==t.contentQueries&&vS(t,e),s){const l=t.contentCheckHooks;null!==l&&Gs(e,l)}else{const l=t.contentHooks;null!==l&&qs(e,l,1),_h(e,1)}!function YB(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=iS(e,Xo);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)eo(~o);else{const s=o,a=n[++i],u=n[++i];Zv(a,s),r.dirty=!1;const l=oc(r);try{u(2,e[s])}finally{eh(r,l)}}}}finally{null===e[Xo]&&oS(e,Xo),eo(-1)}}(t,e);const a=t.components;null!==a&&RS(e,a,0);const u=t.viewQuery;if(null!==u&&_I(2,u,r),s){const l=t.viewCheckHooks;null!==l&&Gs(e,l)}else{const l=t.viewHooks;null!==l&&qs(e,l,2),_h(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[je]&=-73,dc(e)}finally{gh()}}}function AS(t,e){for(let n=Kb(t);null!==n;n=Zb(n))for(let r=or;r<n.length;r++)SS(n[r],e)}function Aj(t,e,n){SS(Wr(e,t),n)}function SS(t,e){if(!function Sg(t){return 128==(128&t[je])}(t))return;const n=t[de],r=t[je];if(80&r&&0===e||1024&r||2===e)bS(n,t,n.template,t[nn]);else if(t[Qo]>0){AS(t,1);const i=n.components;null!==i&&RS(t,i,1)}}function RS(t,e,n){for(let r=0;r<e.length;r++)Aj(t,e[r],n)}class Lh{get rootNodes(){const e=this._lView,n=e[de];return Fh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(e){this._lView[nn]=e}get destroyed(){return 256==(256&this._lView[je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gt];if(Kn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(am(e,r),Qg(n,r))}this._attachedToViewContainer=!1}IE(this._lView[de],this._lView)}onDestroy(e){!function hc(t,e){if(256==(256&t[je]))throw new H(911,!1);null===t[vo]&&(t[vo]=[]),t[vo].push(e)}(this._lView,e)}markForCheck(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[je]&=-129}reattach(){this._lView[je]|=128}detectChanges(){Rm(this._lView[de],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EU(t,e){Sh(t,e,e[$e],2,null,null)}(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e}}class Sj extends Lh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rm(e[de],e,e[nn],!1)}checkNoChanges(){}get context(){return null}}class PS extends Cm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ot(e);return new Uh(n,this.ngModule)}}function MS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Pj{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hu(r);const i=this.injector.get(e,tI,r);return i!==tI||n===tI?i:this.parentInjector.get(e,n,r)}}class Uh extends kA{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=MS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return MS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function og(t){return t.map(Hd).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Ii?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Pj(e,o):e,a=s.get(FA,null);if(null===a)throw new H(407,!1);const g={rendererFactory:a,sanitizer:s.get(SB,null),effectManager:s.get(TS,null),afterRenderEventManager:s.get(uI,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=r?function XB(t,e,n,r){const o=r.get(eS,!1)||n===_i.ShadowDom,s=t.selectRootElement(e,o);return function ej(t){hS(t)}(s),s}(m,r,this.componentDef.encapsulation,s):sm(m,y,function Rj(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),V=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let x=null;null!==T&&(x=YE(T,s,!0));const j=fI(0,null,null,1,0,null,null,null,null,null,null),ie=bm(null,j,null,V,null,null,g,m,s,null,x);let fe,Be;zs(ie);try{const xt=this.componentDef;let $n,Gp=null;xt.findHostDirectiveDefs?($n=[],Gp=new Map,xt.findHostDirectiveDefs(xt,$n,Gp),$n.push(xt)):$n=[xt];const yv=function xj(t,e){const n=t[de],r=rt;return t[r]=e,Gc(n,r,2,"#host",null)}(ie,T),SJ=function Nj(t,e,n,r,i,o,s){const a=i[de];!function Oj(t,e,n,r){for(const i of t)e.mergedAttrs=Ns(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sm(e,e.mergedAttrs,!0),null!==n&&lA(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=YE(e,i[mo]));const l=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=bm(i,dS(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&gI(a,t,r.length-1),Am(i,g),i[t.index]=g}(yv,T,xt,$n,ie,g,m);Be=Ag(j,rt),T&&function Vj(t,e,n,r){if(r)Vd(t,n,["ng-version",eI.full]);else{const{attrs:i,classes:o}=function zd(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Gr(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Vd(t,n,i),o&&o.length>0&&cA(t,n,o.join(" "))}}(m,xt,T,r),void 0!==n&&function Fj(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Be,this.ngContentSelectors,n),fe=function kj(t,e,n,r,i,o){const s=Zn(),a=i[de],u=In(s,i);gS(a,i,s,n,null,r);for(let h=0;h<n.length;h++)Dr(Co(i,a,s.directiveStart+h,s),i);mS(a,i,s),u&&Dr(u,i);const l=Co(i,a,s.directiveStart+s.componentOffset,s);if(t[nn]=i[nn]=l,null!==o)for(const h of o)h(l,e);return lI(a,s,t),l}(SJ,xt,$n,Gp,ie,[Lj]),vI(j,ie,null)}finally{gh()}return new Mj(this.componentType,fe,jc(Be,ie),ie,Be)}}class Mj extends wB{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Sj(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;yI(o[de],o,i,e,n),this.previousInputValues.set(e,n),kh(Wr(this._tNode.index,o))}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Lj(){const t=Zn();yc(Q()[de],t)}function Ot(t){let e=function xS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Bi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Pm(t.inputs),s.inputTransforms=Pm(t.inputTransforms),s.declaredInputs=Pm(t.declaredInputs),s.outputs=Pm(t.outputs);const a=i.hostBindings;a&&$j(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Bj(t,u),l&&jj(t,l),Rt(t.inputs,i.inputs),Rt(t.declaredInputs,i.declaredInputs),Rt(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Rt(s.inputTransforms,i.inputTransforms)),Bi(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ot&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Uj(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ns(i.hostAttrs,n=Ns(n,i.hostAttrs))}}(r)}function Pm(t){return t===Fi?{}:t===yt?[]:t}function Bj(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function jj(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function $j(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function VS(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Mm(t){return!!EI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function EI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bo(t,e,n){return t[e]=n}function br(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=Q();return br(i,is(),e)&&(ft(),Do(rn(),i,t,e,n,r)),Ao}function Ar(t,e,n,r,i,o,s,a){const u=Q(),l=ft(),h=t+rt,g=l.firstCreatePass?function f$(t,e,n,r,i,o,s,a,u){const l=e.consts,h=Gc(e,t,4,s||null,Io(l,a));pI(e,n,h,Io(l,u)),yc(e,h);const g=h.tView=fI(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,l,u,e,n,r,i,o,s):l.data[h];$i(g,!1);const m=ZS(l,u,g,t);_c()&&cm(l,u,m,g),Dr(m,u),Am(u,u[h]=yS(m,u,m,g)),Qd(g)&&dI(l,u,g),null!=s&&hI(u,g,a)}let ZS=function QS(t,e,n,r){return wo(!0),e[$e].createComment("")};function Ct(t,e,n){const r=Q();return br(r,is(),e)&&function Ci(t,e,n,r,i,o,s,a){const u=In(e,n);let h,l=e.inputs;!a&&null!=l&&(h=l[r])?(yI(t,n,h,r,i),es(e)&&function aj(t,e){const n=Wr(e,t);16&n[je]||(n[je]|=64)}(n,e.index)):3&e.type&&(r=function sj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(ft(),rn(),r,t,e,r[$e],n,!1),Ct}function bI(t,e,n,r,i){const s=i?"class":"style";yI(t,n,e.inputs[s],s,r)}function De(t,e,n,r){const i=Q(),o=ft(),s=rt+t,a=i[$e],u=o.firstCreatePass?function _$(t,e,n,r,i,o){const s=e.consts,u=Gc(e,t,2,r,Io(s,i));return pI(e,n,u,Io(s,o)),null!==u.attrs&&Sm(u,u.attrs,!1),null!==u.mergedAttrs&&Sm(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],l=JS(o,i,u,a,e,t);i[s]=l;const h=Qd(u);return $i(u,!0),lA(a,l,u),32!=(32&u.flags)&&_c()&&cm(o,i,l,u),0===function Gv(){return Ve.lFrame.elementDepthCount}()&&Dr(l,i),function ch(){Ve.lFrame.elementDepthCount++}(),h&&(dI(o,i,u),lI(o,u,i)),null!==r&&hI(i,u),De}function we(){let t=Zn();qa()?Wa():(t=t.parent,$i(t,!1));const e=t;(function Pg(t){return Ve.skipHydrationRootTNode===t})(e)&&function Wv(){Ve.skipHydrationRootTNode=null}(),function lh(){Ve.lFrame.elementDepthCount--}();const n=ft();return n.firstCreatePass&&(yc(n,t),Zd(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ec(t){return 0!=(8&t.flags)}(e)&&bI(n,e,Q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function qg(t){return 0!=(16&t.flags)}(e)&&bI(n,e,Q(),e.stylesWithoutHost,!1),we}function _n(t,e,n,r){return De(t,e,n,r),we(),_n}let JS=(t,e,n,r,i,o)=>(wo(!0),sm(r,i,function mh(){return Ve.lFrame.currentNamespace}()));function Vm(t,e,n){const r=Q(),i=ft(),o=t+rt,s=i.firstCreatePass?function E$(t,e,n,r,i){const o=e.consts,s=Io(o,r),a=Gc(e,t,8,"ng-container",s);return null!==s&&Sm(a,s,!0),pI(e,n,a,Io(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];$i(s,!0);const a=XS(i,r,s,t);return r[o]=a,_c()&&cm(i,r,a,s),Dr(a,r),Qd(s)&&(dI(i,r,s),lI(i,s,r)),null!=n&&hI(r,s),Vm}function Fm(){let t=Zn();const e=ft();return qa()?Wa():(t=t.parent,$i(t,!1)),e.firstCreatePass&&(yc(e,t),Zd(t)&&e.queries.elementEnd(t)),Fm}function AI(t,e,n){return Vm(t,e,n),Fm(),AI}let XS=(t,e,n,r)=>(wo(!0),EE(e[$e],""));function zh(t){return!!t&&"function"==typeof t.then}function tR(t){return!!t&&"function"==typeof t.subscribe}function Mt(t,e,n,r){const i=Q(),o=ft(),s=Zn();return function rR(t,e,n,r,i,o,s){const a=Qd(r),l=t.firstCreatePass&&function IS(t){return t.cleanup||(t.cleanup=[])}(t),h=e[nn],g=function ES(t){return t[ks]||(t[ks]=[])}(e);let m=!0;if(3&r.type||s){const D=In(r,e),R=s?s(D):D,V=g.length,x=s?ie=>s(Ut(ie[r.index])):r.index;let j=null;if(!s&&a&&(j=function C$(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[ks],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,m=!1;else{o=oR(r,e,h,o,!1);const ie=n.listen(R,i,o);g.push(o,ie),l&&l.push(i,x,V,V+1)}}else o=oR(r,e,h,o,!1);const y=r.outputs;let T;if(m&&null!==y&&(T=y[i])){const D=T.length;if(D)for(let R=0;R<D;R+=2){const fe=e[T[R]][T[R+1]].subscribe(o),Be=g.length;g.push(o,fe),l&&l.push(i,r.index,Be,-(Be+1))}}}(o,i,i[$e],s,t,e,r),Mt}function iR(t,e,n,r){try{return ii(6,e,n),!1!==n(r)}catch(i){return CS(t,i),!1}finally{ii(7,e,n)}}function oR(t,e,n,r,i){return function o(s){if(s===Function)return r;kh(t.componentOffset>-1?Wr(t.index,e):e);let u=iR(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=iR(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function So(t=1){return function Yv(t){return(Ve.lFrame.contextLView=function Jv(t,e){for(;t>0;)e=e[yo],t--;return e}(t,Ve.lFrame.contextLView))[nn]}(t)}function Lm(t,e){return t<<17|e<<2}function Js(t){return t>>17&32767}function RI(t){return 2|t}function nu(t){return(131068&t)>>2}function PI(t,e){return-131069&t|e<<2}function MI(t){return 1|t}function gR(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Js(o):nu(o),u=!1;for(;0!==a&&(!1===u||s);){const h=t[a+1];x$(t[a],e)&&(u=!0,t[a+1]=r?MI(h):RI(h)),a=r?Js(h):nu(h)}u&&(t[n+1]=r?RI(o):MI(o))}function x$(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Pc(t,e)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mR(t){return t.substring(Yn.key,Yn.keyEnd)}function _R(t,e){const n=Yn.textEnd;return n===e?-1:(e=Yn.keyEnd=function V$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Yn.key=e,n),tl(t,e,n))}function tl(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Um(t,e){return function no(t,e,n,r){const i=Q(),o=ft(),s=Xi(2);o.firstUpdatePass&&DR(o,t,s,r),e!==We&&br(i,s,e)&&AR(o,o.data[pr()],i,i[$e],t,i[s+1]=function W$(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=be(Ys(t)))),t}(e,n),r,s)}(t,e,null,!0),Um}function CR(t){!function ro(t,e,n,r){const i=ft(),o=Xi(2);i.firstUpdatePass&&DR(i,null,o,r);const s=Q();if(n!==We&&br(s,o,n)){const a=i.data[pr()];if(RR(a,r)&&!TR(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Un(u,n||"")),bI(i,a,s,n,r)}else!function q$(t,e,n,r,i,o,s,a){i===We&&(i=yt);let u=0,l=0,h=0<i.length?i[0]:null,g=0<o.length?o[0]:null;for(;null!==h||null!==g;){const m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0;let D,T=null;h===g?(u+=2,l+=2,m!==y&&(T=g,D=y)):null===g||null!==h&&h<g?(u+=2,T=h):(l+=2,T=g,D=y),null!==T&&AR(t,e,n,r,T,D,s,a),h=u<i.length?i[u]:null,g=l<o.length?o[l]:null}}(i,a,s,s[$e],s[o+1],s[o+1]=function z$(t,e,n){if(null==n||""===n)return yt;const r=[],i=Ys(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(G$,Po,t,!0)}function Po(t,e){for(let n=function O$(t){return function vR(t){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=t.length}(t),_R(t,tl(t,0,Yn.textEnd))}(e);n>=0;n=_R(e,n))vi(t,mR(e),!0)}function TR(t,e){return e>=t.expandoStartIndex}function DR(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[pr()],s=TR(t,n);RR(o,r)&&null===e&&!s&&(e=!1),e=function B$(t,e,n,r){const i=function Ka(t){const e=Ve.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Gh(n=xI(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=xI(i,t,e,n,r),null===o){let u=function j$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==nu(r))return t[Js(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=xI(null,t,e,u[1],r),u=Gh(u,e.attrs,r),function $$(t,e,n,r){t[Js(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function H$(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Gh(r,t[o].hostAttrs,n);return Gh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function P$(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Js(s),u=nu(s);t[r]=n;let h,l=!1;if(Array.isArray(n)?(h=n[1],(null===h||Pc(n,h)>0)&&(l=!0)):h=n,i)if(0!==u){const m=Js(t[a+1]);t[r+1]=Lm(m,a),0!==m&&(t[m+1]=PI(t[m+1],r)),t[a+1]=function S$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Lm(a,0),0!==a&&(t[a+1]=PI(t[a+1],r)),a=r;else t[r+1]=Lm(u,0),0===a?a=r:t[u+1]=PI(t[u+1],r),u=r;l&&(t[r+1]=RI(t[r+1])),gR(t,h,r,!0),gR(t,h,r,!1),function M$(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Pc(o,e)>=0&&(n[r+1]=MI(n[r+1]))}(e,h,t,r,o),s=Lm(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function xI(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Gh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vi(t,s,!!n||e[++o]))}return void 0===t?null:t}function G$(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&vi(t,r,n)}function AR(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1],h=function R$(t){return 1==(1&t)}(l)?SR(u,e,n,i,nu(l),s):void 0;Bm(h)||(Bm(o)||function A$(t){return 2==(2&t)}(l)&&(o=SR(u,null,n,i,a,s)),function PU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Qs.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qs.Important),t.setStyle(n,r,i,o))}}(r,s,cc(pr(),n),i,o))}function SR(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),h=l?u[1]:u,g=null===h;let m=n[i+1];m===We&&(m=g?yt:void 0);let y=g?lE(m,r):h===r?m:void 0;if(l&&!Bm(y)&&(y=lE(u,r)),Bm(y)&&(a=y,s))return a;const T=t[i+1];i=s?Js(T):nu(T)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=lE(u,r))}return a}function Bm(t){return void 0!==t}function RR(t,e){return 0!=(t.flags&(e?8:16))}function at(t,e=""){const n=Q(),r=ft(),i=t+rt,o=r.firstCreatePass?Gc(r,i,1,e,null):r.data[i],s=PR(r,n,o,e,t);n[i]=s,_c()&&cm(r,n,s,o),$i(o,!1)}let PR=(t,e,n,r,i)=>(wo(!0),function om(t,e){return t.createText(e)}(e[$e],r));function NI(t){return nl("",t,""),NI}function nl(t,e,n){const r=Q(),i=function Wc(t,e,n,r){return br(t,is(),n)?e+ve(n)+r:We}(r,t,e,n);return i!==We&&function ls(t,e,n){const r=cc(e,t);!function Yb(t,e,n){t.setValue(e,n)}(t[$e],r,n)}(r,pr(),i),nl}const il="en-US";let JR=il;function VI(t,e,n,r,i){if(t=P(t),Array.isArray(t))for(let o=0;o<t.length;o++)VI(t[o],e,n,r,i);else{const o=ft(),s=Q(),a=Zn();let u=eu(t)?t:P(t.provide);const l=RA(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(eu(t)||!t.multi){const y=new os(l,i,J),T=LI(u,e,i?h:h+m,g);-1===T?(me(I(a,s),o,u),FI(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{const y=LI(u,e,h+m,g),T=LI(u,e,h,h+m),R=T>=0&&n[T];if(i&&!R||!i&&!(y>=0&&n[y])){me(I(a,s),o,u);const V=function pz(t,e,n,r,i){const o=new os(t,n,J);return o.multi=[],o.index=e,o.componentProviders=0,CP(o,i,r&&!n),o}(i?fz:hz,n.length,i,r,l);!i&&R&&(n[T].providerFactory=V),FI(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else FI(o,t,y>-1?y:T,CP(n[i?T:y],l,!i&&r));!i&&r&&R&&n[T].componentProviders++}}}function FI(t,e,n,r){const i=eu(e),o=function oB(t){return!!t.useClass}(e);if(i||o){const u=(o?P(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(n);-1===h?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function CP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function LI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hz(t,e,n,r){return UI(this.multi,[])}function fz(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Co(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),UI(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],UI(i,o);return o}function UI(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function un(t,e=[]){return n=>{n.providersResolver=(r,i)=>function dz(t,e,n){const r=ft();if(r.firstCreatePass){const i=Bi(t);VI(n,r.data,r.blueprint,i,!0),VI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class iu{}class TP{}class BI extends iu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PS(this);const i=hr(e);this._bootstrapComponents=cs(i.bootstrap),this._r3Injector=$A(e,n,[{provide:iu,useValue:this},{provide:Cm,useValue:this.componentFactoryResolver},...r],be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jI extends TP{constructor(e){super(),this.moduleType=e}create(e){return new BI(this.moduleType,e,[])}}class DP extends iu{constructor(e){super(),this.componentFactoryResolver=new PS(this),this.instance=null;const n=new Fc([...e.providers,{provide:iu,useValue:this},{provide:Cm,useValue:this.componentFactoryResolver}],e.parent||mm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function $I(t,e,n=null){return new DP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _z=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=DA(0,n.type),i=r.length>0?$I([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Se({token:t,providedIn:"environment",factory:()=>new t(ue(Ii))})}return t})();function bP(t){t.getStandaloneInjector=e=>e.get(_z).getOrCreateStandaloneInjector(t)}function Yh(t,e,n,r){return function NP(t,e,n,r,i,o){const s=e+n;return br(t,s,i)?bo(t,s+1,o?r.call(o,i):r(i)):Jh(t,s+1)}(Q(),fr(),t,e,n,r)}function ol(t,e,n,r,i){return function OP(t,e,n,r,i,o,s){const a=e+n;return function tu(t,e,n,r){const i=br(t,e,n);return br(t,e+1,r)||i}(t,a,i,o)?bo(t,a+2,s?r.call(s,i,o):r(i,o)):Jh(t,a+2)}(Q(),fr(),t,e,n,r,i)}function Jh(t,e){const n=t[e];return n===We?void 0:n}function Hz(t,e,n,r=!0){const i=e[de];if(function wU(t,e,n,r){const i=or+r,o=n.length;r>0&&(n[i-1][yi]=e),r<o-or?(e[yi]=n[i],Ab(n,or+r,e)):(n.push(e),e[yi]=null),e[Gt]=n;const s=e[Jo];null!==s&&n!==s&&function CU(t,e){const n=t[Ls];e[gn]!==e[Gt][Gt][gn]&&(t[ug]=!0),null===n?t[Ls]=[e]:n.push(e)}(s,e);const a=e[ni];null!==a&&a.insertView(t),e[je]|=128}(i,e,t,n),r){const o=DE(n,t),s=e[$e],a=um(s,t[Ui]);null!==a&&function vU(t,e,n,r,i,o){r[zt]=i,r[ir]=e,Sh(t,r,n,1,i,o)}(i,t[ir],s,e,a,o)}}Symbol;let ds=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qz}return t})();const zz=ds,Gz=class extends zz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function $z(t,e,n,r){const i=e.tView,a=bm(t,i,n,4096&t[je]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Jo]=t[e.index];const l=t[ni];return null!==l&&(a[ni]=l.createEmbeddedView(i)),vI(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Lh(i)}};function qz(){return Gm(Zn(),Q())}function Gm(t,e){return 4&t.type?new Gz(e,t,jc(t,e)):null}let io=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Jz}return t})();function Jz(){return function zP(t,e){let n;const r=e[t.index];return Kn(r)?n=r:(n=yS(r,e,null,t),e[t.index]=n,Am(e,n)),GP(n,e,t,r),new $P(n,t,e)}(Zn(),Q())}const Xz=io,$P=class extends Xz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return jc(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Y(this._hostTNode,this._hostLView);if(yh(e)){const n=Ya(e,this._hostLView),r=Qa(e);return new sr(n[de].data[r+8],n)}return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=HP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-or}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function wh(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const u=s?e:new Uh(ot(e)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const R=(s?l:this.parentInjector).get(Ii,null);R&&(o=R)}ot(u.componentType??{});const y=u.create(l,i,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Hv(t){return Kn(t[Gt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[Gt],h=new $P(l,l[ir],l[Gt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return Hz(a,i,s,!r),e.attachToViewContainerRef(),Ab(GI(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=HP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=am(this._lContainer,n);r&&(Qg(GI(this._lContainer),n),IE(r[de],r))}detach(e){const n=this._adjustIndex(e,-1),r=am(this._lContainer,n);return r&&null!=Qg(GI(this._lContainer),n)?new Lh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function HP(t){return t[8]}function GI(t){return t[8]||(t[8]=[])}let GP=function qP(t,e,n,r){if(t[Ui])return;let i;i=8&n.type?Ut(r):function e4(t,e){const n=t[$e],r=n.createComment(""),i=In(e,t);return Xa(n,um(n,i),r,function AU(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ui]=i};function tM(t,e){return Gm(t,e)}const nw=new oe("Application Initializer");let rw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=pe(nw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(zh(o))n.push(o);else if(tR(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const hs=new oe("LocaleId",{providedIn:"root",factory:()=>pe(hs,Xe.Optional|Xe.SkipSelf)||function P4(){return typeof $localize<"u"&&$localize.locale||il}()});let Km=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class N4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let vM=(()=>{class t{compileModuleSync(n){return new jI(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=cs(hr(n).declarations).reduce((s,a)=>{const u=ot(a);return u&&s.push(new Uh(u)),s},[]);return new N4(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const CM=new oe(""),Qm=new oe("");let uw,sw=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uw||(function t3(t){uw=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(ue(bt),ue(aw),ue(Qm))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),aw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uw?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Xs=null;const TM=new oe("AllowMultipleToken"),cw=new oe("PlatformDestroyListeners"),lw=new oe("appBootstrapListener");class bM{constructor(e,n){this.name=e,this.token=n}}function SM(t,e,n=[]){const r=`Platform: ${e}`,i=new oe(r);return(o=[])=>{let s=dw();if(!s||s.injector.get(TM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function i3(t){if(Xs&&!Xs.get(TM,!1))throw new H(400,!1);(function DM(){!function Ov(t){Nv=t}(()=>{throw new H(600,!1)})})(),Xs=t;const e=t.get(PM);(function AM(t){t.get(PA,null)?.forEach(n=>n())})(t)}(function RM(t=[],e){return Kr.create({name:e,providers:[{provide:BE,useValue:"platform"},{provide:cw,useValue:new Set([()=>Xs=null])},...t]})}(a,r))}return function s3(t){const e=dw();if(!e)throw new H(401,!1);return e}()}}function dw(){return Xs?.get(PM)??null}let PM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function a3(t="zone.js",e){return"noop"===t?new BB:"zone.js"===t?new bt(e):t}(r?.ngZone,function MM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function mz(t,e,n){return new BI(t,e,n)}(n.moduleType,this.injector,function VM(t){return[{provide:bt,useFactory:t},{provide:xh,multi:!0,useFactory:()=>{const e=pe(c3,{optional:!0});return()=>e.initialize()}},{provide:kM,useFactory:u3},{provide:WA,useFactory:KA}]}(()=>i)),s=o.injector.get(us,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Ym(this._modules,o),a.unsubscribe()})}),function xM(t,e,n){try{const r=n();return zh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(rw);return a.runInitializers(),a.donePromise.then(()=>(function XR(t){nr(t,"Expected localeId to be defined"),"string"==typeof t&&(JR=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(hs,il)||il),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=NM({},r);return function n3(t,e,n){const r=new jI(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ul);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new H(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(cw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Kr))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function NM(t,e){return Array.isArray(e)?e.reduce(NM,t):{...t,...e}}let ul=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(kM),this.zoneIsStable=pe(WA),this.componentTypes=[],this.components=[],this.isStable=pe(Km).hasPendingTasks.pipe(ye(n=>n?A(!1):this.zoneIsStable),function ke(t,e=hn){return t=t??ht,Z((n,r)=>{let i,o=!0;n.subscribe(ae(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),q()),this._injector=pe(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof kA;if(!this._injector.get(rw).done)throw!i&&function Os(t){const e=ot(t)||qn(t)||Wn(t);return null!==e&&e.standalone}(n),new H(405,!1);let s;s=i?n:this._injector.get(Cm).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function r3(t){return t.isBoundToModule}(s)?void 0:this._injector.get(iu),l=s.create(Kr.NULL,[],r||s.selector,a),h=l.location.nativeElement,g=l.injector.get(CM,null);return g?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ym(this.components,l),g?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new H(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ym(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(lw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ym(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ym(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kM=new oe("",{providedIn:"root",factory:()=>pe(us).handleError.bind(void 0)});function u3(){const t=pe(bt),e=pe(us);return n=>t.runOutsideAngular(()=>e.handleError(n))}let c3=(()=>{class t{constructor(){this.zone=pe(bt),this.applicationRef=pe(ul)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Jm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=d3}return t})();function d3(t){return function h3(t,e,n){if(es(t)&&!n){const r=Wr(t.index,e);return new Lh(r,r)}return 47&t.type?new Lh(e[gn],e):null}(Zn(),Q(),16==(16&t))}class jM{constructor(){}supports(e){return Mm(e)}create(e){return new y3(e)}}const _3=(t,e)=>e;class y3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<HM(r,i,o)?n:r,a=HM(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){const y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}o[s.previousIndex]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Mm(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Zj(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new v3(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new $M),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $M),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class v3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class $M{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new E3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class zM{constructor(){}supports(e){return e instanceof Map||EI(e)}create(){return new I3}}class I3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||EI(e)))throw new H(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new w3(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class w3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GM(){return new t_([new jM])}let t_=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:GM});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||GM()),deps:[[t,new Jg,new Ei]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new H(901,!1)}}return t})();function qM(){return new nf([new zM])}let nf=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:qM});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qM()),deps:[[t,new Jg,new Ei]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new H(901,!1)}}return t})();const D3=SM(null,"core",[]);let b3=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(ue(ul))};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({})}return t})();function cl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let _w=null;function ea(){return _w}class B3{}const Ti=new oe("DocumentToken");let yw=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return pe($3)},providedIn:"platform"})}return t})();const j3=new oe("Location Initialized");let $3=(()=>{class t extends yw{constructor(){super(),this._doc=pe(Ti),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ea().getBaseHref(this._doc)}onPopState(n){const r=ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function vw(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function tx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function fs(t){return t&&"?"!==t[0]?"?"+t:t}let su=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return pe(rx)},providedIn:"root"})}return t})();const nx=new oe("appBaseHref");let rx=(()=>{class t extends su{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(Ti).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+fs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+fs(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+fs(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ue(yw),ue(nx,8))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),H3=(()=>{class t extends su{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=vw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+fs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+fs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ue(yw),ue(nx,8))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})(),Ew=(()=>{class t{constructor(n){this._subject=new wn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function q3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(tx(ix(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+fs(r))}normalize(n){return t.stripTrailingSlash(function G3(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ix(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=fs;static#t=this.joinWithSlash=vw;static#n=this.stripTrailingSlash=tx;static#r=this.\u0275fac=function(r){return new(r||t)(ue(su))};static#i=this.\u0275prov=Se({token:t,factory:function(){return function z3(){return new Ew(ue(su))}()},providedIn:"root"})}return t})();function ix(t){return t.replace(/\/index.html$/,"")}function fx(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const Pw=/\s+/,px=[];let dl=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=px,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Pw):px}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Pw):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Pw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(J(t_),J(nf),J(wi),J(as))};static#t=this.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class MG{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mw=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new MG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),mx(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{mx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(J(io),J(ds),J(t_))};static#t=this.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function mx(t,e){t.context.$implicit=e.item}let af=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new xG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){_x("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){_x("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(J(io),J(ds))};static#t=this.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class xG{constructor(){this.$implicit=null,this.ngIf=null}}function _x(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${be(e)}'.`)}let rq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({})}return t})();function Vw(t){return"server"===t}let aq=(()=>{class t{static#e=this.\u0275prov=Se({token:t,providedIn:"root",factory:()=>new uq(ue(Ti),window)})}return t})();class uq{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function cq(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ix{}class xq extends B3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uw extends xq{static makeCurrent(){!function U3(t){_w||(_w=t)}(new Uw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Nq(){return cf=cf||document.querySelector("base"),cf?cf.getAttribute("href"):null}();return null==n?null:function Oq(t){g_=g_||document.createElement("a"),g_.setAttribute("href",t);const e=g_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){cf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fx(document.cookie,e)}}let g_,cf=null,Vq=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const Bw=new oe("EventManagerPlugins");let bx=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Bw),ue(bt))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();class Ax{constructor(e){this._doc=e}}const jw="ng-app-id";let Sx=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vw(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${jw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(jw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(jw,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ti),ue(_m),ue(MA,8),ue(To))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const $w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hw=/%COMP%/g,Bq=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Px(t,e){return e.map(n=>n.replace(Hw,t))}let Mx=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Vw(a),this.defaultRenderer=new zw(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_i.ShadowDom&&(r={...r,encapsulation:_i.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Nx?i.applyToHost(n):i instanceof Gw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case _i.Emulated:o=new Nx(u,l,r,this.appId,h,s,a,g);break;case _i.ShadowDom:return new zq(u,l,n,r,s,a,this.nonce,g);default:o=new Gw(u,l,r,h,s,a,g)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(ue(bx),ue(Sx),ue(_m),ue(Bq),ue(Ti),ue(To),ue(bt),ue(MA))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();class zw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($w[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(xx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=$w[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=$w[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qs.DashCase|Qs.Important)?e.style.setProperty(n,r,i&Qs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ea().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function xx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class zq extends zw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Px(i.id,i.styles);for(const h of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gw extends zw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Px(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nx extends Gw{constructor(e,n,r,i,o,s,a,u){const l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=function jq(t){return"_ngcontent-%COMP%".replace(Hw,t)}(l),this.hostAttr=function $q(t){return"_nghost-%COMP%".replace(Hw,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Gq=(()=>{class t extends Ax{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ti))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const Ox=["alt","control","meta","shift"],qq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Kq=(()=>{class t extends Ax{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ea().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ox.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=qq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ox.forEach(s=>{s!==i&&(0,Wq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ti))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const Vx=[{provide:To,useValue:"browser"},{provide:PA,useValue:function Zq(){Uw.makeCurrent()},multi:!0},{provide:Ti,useFactory:function Yq(){return function kU(t){SE=t}(document),document},deps:[]}],Jq=SM(D3,"browser",Vx),Xq=new oe(""),Fx=[{provide:Qm,useClass:class kq{addToWindow(e){Pt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new H(5103,!1);return o},Pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pt.getAllAngularRootElements=()=>e.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(r=>{const i=Pt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ea().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:CM,useClass:sw,deps:[bt,aw,Qm]},{provide:sw,useClass:sw,deps:[bt,aw,Qm]}],Lx=[{provide:BE,useValue:"root"},{provide:us,useFactory:function Qq(){return new us},deps:[]},{provide:Bw,useClass:Gq,multi:!0,deps:[Ti,bt,To]},{provide:Bw,useClass:Kq,multi:!0,deps:[Ti]},Mx,Sx,bx,{provide:FA,useExisting:Mx},{provide:Ix,useClass:Vq,deps:[]},[]];let eW=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:_m,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Xq,12))};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({providers:[...Lx,...Fx],imports:[rq,b3]})}return t})(),Ux=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ti))};static#t=this.\u0275prov=Se({token:t,factory:function(r){let i=null;return i=r?new r:function nW(){return new Ux(ue(Ti))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:uW}=Array,{getPrototypeOf:cW,prototype:lW,keys:dW}=Object;function Hx(t){if(1===t.length){const e=t[0];if(uW(e))return{args:e,keys:null};if(function hW(t){return t&&"object"==typeof t&&cW(t)===lW}(e)){const n=dW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:fW}=Array;function zx(t){return Ie(e=>function pW(t,e){return fW(e)?t(...e):t(e)}(t,e))}function Gx(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ww(...t){const e=mi(t),n=ki(t),{args:r,keys:i}=Hx(t);if(0===r.length)return E([],e);const o=new qe(function gW(t,e,n=hn){return r=>{qx(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)qx(e,()=>{const l=E(t[u],e);let h=!1;l.subscribe(ae(r,g=>{o[u]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Gx(i,s):hn));return n?o.pipe(zx(n)):o}function qx(t,e,n){t?Lr(n,t,e):e()}const m_=G(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Kw(...t){return function mW(){return Ur(1)}()(E(t,mi(t)))}function Wx(t){return new qe(e=>{dt(t()).subscribe(e)})}function lf(t,e){const n=C(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function Zw(){return Z((t,e)=>{let n=null;t._refCount++;const r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Kx extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,K(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;const n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return Zw()(this)}}function hl(t){return t<=0?()=>fn:Z((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Mo(t,e){return Z((n,r)=>{let i=0;n.subscribe(ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function __(t){return Z((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Zx(t=yW){return Z((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function yW(){return new m_}function na(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mo((i,o)=>t(i,o,r)):hn,hl(1),n?__(e):Zx(()=>new m_))}function fl(t,e){return C(e)?Dt(t,e,1):Dt(t,1)}function mr(t,e,n){const r=C(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ae(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):hn}function au(t){return Z((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ae(n,void 0,void 0,s=>{o=dt(t(s,au(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Qw(t){return t<=0?()=>fn:Z((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function df(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Ze="primary",hf=Symbol("RouteTitle");class TW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function pl(t){return new TW(t)}function DW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qx(t[i],e[i]))return!1;return!0}function Qx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function Yx(t){return t.length>0?t[t.length-1]:null}function ra(t){return function aW(t){return!!t&&(t instanceof qe||C(t.lift)&&C(t.subscribe))}(t)?t:zh(t)?E(Promise.resolve(t)):A(t)}const AW={exact:function eN(t,e,n){if(!uu(t.segments,e.segments)||!y_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!eN(t.children[r],e.children[r],n))return!1;return!0},subset:tN},Jx={exact:function SW(t,e){return xo(t,e)},subset:function RW(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qx(t[n],e[n]))},ignored:()=>!0};function Xx(t,e,n){return AW[n.paths](t.root,e.root,n.matrixParams)&&Jx[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function tN(t,e,n){return nN(t,e,e.segments,n)}function nN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!uu(i,n)||e.hasChildren()||!y_(i,n,r))}if(t.segments.length===n.length){if(!uu(t.segments,n)||!y_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!tN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(uu(t.segments,i)&&y_(t.segments,i,r)&&t.children[Ze])&&nN(t.children[Ze],e,o,r)}}function y_(t,e,n){return e.every((r,i)=>Jx[n](t[i].parameters,r.parameters))}class gl{constructor(e=new kt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pl(this.queryParams)),this._queryParamMap}toString(){return xW.serialize(this)}}class kt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return v_(this)}}class ff{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=pl(this.parameters)),this._parameterMap}toString(){return oN(this)}}function uu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let pf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return new Yw},providedIn:"root"})}return t})();class Yw{parse(e){const n=new HW(e);return new gl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${gf(e.root,!0)}`,r=function kW(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${E_(n)}=${E_(i)}`).join("&"):`${E_(n)}=${E_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function NW(t){return encodeURI(t)}(e.fragment)}`:""}`}}const xW=new Yw;function v_(t){return t.segments.map(e=>oN(e)).join("/")}function gf(t,e){if(!t.hasChildren())return v_(t);if(e){const n=t.children[Ze]?gf(t.children[Ze],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ze&&r.push(`${i}:${gf(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function MW(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ze&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ze&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Ze?[gf(t.children[Ze],!1)]:[`${i}:${gf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ze]?`${v_(t)}/${n[0]}`:`${v_(t)}/(${n.join("//")})`}}function rN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function E_(t){return rN(t).replace(/%3B/gi,";")}function Jw(t){return rN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function I_(t){return decodeURIComponent(t)}function iN(t){return I_(t.replace(/\+/g,"%20"))}function oN(t){return`${Jw(t.path)}${function OW(t){return Object.keys(t).map(e=>`;${Jw(e)}=${Jw(t[e])}`).join("")}(t.parameters)}`}const VW=/^[^\/()?;#]+/;function Xw(t){const e=t.match(VW);return e?e[0]:""}const FW=/^[^\/()?;=#]+/,UW=/^[^=?&#]+/,jW=/^[^&#]+/;class HW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ze]=new kt(e,n)),r}parseSegment(){const e=Xw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new ff(I_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function LW(t){const e=t.match(FW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Xw(this.remaining);i&&(r=i,this.capture(r))}e[I_(n)]=I_(r)}parseQueryParam(e){const n=function BW(t){const e=t.match(UW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function $W(t){const e=t.match(jW);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=iN(n),o=iN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ze);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Ze]:new kt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}}function sN(t){return t.segments.length>0?new kt([],{[Ze]:t}):t}function aN(t){const e={};for(const r of Object.keys(t.children)){const o=aN(t.children[r]);if(r===Ze&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function zW(t){if(1===t.numberOfChildren&&t.children[Ze]){const e=t.children[Ze];return new kt(t.segments.concat(e.segments),e.children)}return t}(new kt(t.segments,e))}function cu(t){return t instanceof gl}function uN(t){let e;const i=sN(function n(o){const s={};for(const u of o.children){const l=n(u);s[u.outlet]=l}const a=new kt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function cN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return eC(i,i,i,n,r);const o=function qW(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new dN(n,e,r)}(e);if(o.toRoot())return eC(i,i,new kt([],{}),n,r);const s=function WW(t,e,n){if(t.isAbsolute)return new C_(e,!0,0);if(!n)return new C_(e,!1,NaN);if(null===n.parent)return new C_(n,!0,0);const r=w_(t.commands[0])?0:1;return function KW(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new C_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?_f(s.segmentGroup,s.index,o.commands):hN(s.segmentGroup,s.index,o.commands);return eC(i,s.segmentGroup,a,n,r)}function w_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mf(t){return"object"==typeof t&&null!=t&&t.outlets}function eC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=t===e?n:lN(t,e,n);const a=sN(aN(s));return new gl(a,o,i)}function lN(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:lN(o,e,n)}),new kt(t.segments,r)}class dN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&w_(r[0]))throw new H(4003,!1);const i=r.find(mf);if(i&&i!==Yx(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function hN(t,e,n){if(t||(t=new kt([],{})),0===t.segments.length&&t.hasChildren())return _f(t,e,n);const r=function QW(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(mf(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!pN(u,l,s))return o;r+=2}else{if(!pN(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new kt(t.segments.slice(0,r.pathIndex),{});return o.children[Ze]=new kt(t.segments.slice(r.pathIndex),t.children),_f(o,0,i)}return r.match&&0===i.length?new kt(t.segments,{}):r.match&&!t.hasChildren()?tC(t,e,n):r.match?_f(t,0,i):tC(t,e,n)}function _f(t,e,n){if(0===n.length)return new kt(t.segments,{});{const r=function ZW(t){return mf(t[0])?t[0].outlets:{[Ze]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Ze)&&t.children[Ze]&&1===t.numberOfChildren&&0===t.children[Ze].segments.length){const o=_f(t.children[Ze],e,n);return new kt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=hN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new kt(t.segments,i)}}function tC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(mf(o)){const u=YW(o.outlets);return new kt(r,u)}if(0===i&&w_(n[0])){r.push(new ff(t.segments[e].path,fN(n[0]))),i++;continue}const s=mf(o)?o.outlets[Ze]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&w_(a)?(r.push(new ff(s,fN(a))),i+=2):(r.push(new ff(s,{})),i++)}return new kt(r,{})}function YW(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=tC(new kt([],{}),0,r))}),e}function fN(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pN(t,e,n){return t==n.path&&xo(e,n.parameters)}const yf="imperative";class No{constructor(e,n){this.id=e,this.url=n}}class T_ extends No{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ia extends No{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vf extends No{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ml extends No{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class D_ extends No{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gN extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JW extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XW extends No{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e9 extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t9 extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n9{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r9{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i9{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o9{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s9{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a9{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nC{}class rC{constructor(e){this.url=e}}class u9{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ef,this.attachRef=null}}let Ef=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new u9,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class _N{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=iC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=iC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=oC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oC(e,this._root).map(n=>n.value)}}function iC(t,e){if(t===e.value)return e;for(const n of e.children){const r=iC(t,n);if(r)return r}return null}function oC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=oC(t,n);if(r.length)return r.unshift(e),r}return[]}class ms{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function _l(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class yN extends _N{constructor(e,n){super(e),this.snapshot=n,sC(this,e)}toString(){return this.snapshot.toString()}}function vN(t,e){const n=function c9(t,e){const s=new b_([],{},{},"",{},Ze,e,null,{});return new IN("",new ms(s,[]))}(0,e),r=new v([new ff("",{})]),i=new v({}),o=new v({}),s=new v({}),a=new v(""),u=new oa(r,i,s,a,o,Ze,e,n.root);return u.snapshot=n.root,new yN(new ms(u,[]),n)}class oa{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ie(l=>l[hf]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>pl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>pl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function l9(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class b_{get title(){return this.data?.[hf]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IN extends _N{constructor(e,n){super(n),this.url=e,sC(this,n)}toString(){return wN(this._root)}}function sC(t,e){e.value._routerState=t,e.children.forEach(n=>sC(t,n))}function wN(t){const e=t.children.length>0?` { ${t.children.map(wN).join(", ")} } `:"";return`${t.value}${e}`}function aC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xo(e.params,n.params)||t.paramsSubject.next(n.params),function bW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),xo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function uC(t,e){const n=xo(t.params,e.params)&&function PW(t,e){return uu(t,e)&&t.every((n,r)=>xo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||uC(t.parent,e.parent))}let cC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ze,this.activateEvents=new wn,this.deactivateEvents=new wn,this.attachEvents=new wn,this.detachEvents=new wn,this.parentContexts=pe(Ef),this.location=pe(io),this.changeDetector=pe(Jm),this.environmentInjector=pe(Ii),this.inputBinder=pe(A_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new d9(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]})}return t})();class d9{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oa?this.route:e===Ef?this.childContexts:this.parent.get(e,n)}}const A_=new oe("");let CN=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ww([r.queryParams,r.params,r.data]).pipe(ye(([o,s,a],u)=>(a={...o,...s,...a},0===u?A(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function L3(t){const e=ot(t);if(!e)return null;const n=new Uh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function If(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function f9(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return If(t,r,i);return If(t,r)})}(t,e,n);return new ms(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>If(t,a)),s}}const r=function p9(t){return new oa(new v(t.url),new v(t.params),new v(t.queryParams),new v(t.fragment),new v(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>If(t,o));return new ms(r,i)}}const lC="ngNavigationCancelingError";function TN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=cu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function DN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[lC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function bN(t){return t&&t[lC]}let AN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ti({type:t,selectors:[["ng-component"]],standalone:!0,features:[bP],decls:1,vars:0,template:function(r,i){1&r&&_n(0,"router-outlet")},dependencies:[cC],encapsulation:2})}return t})();function dC(t){const e=t.children&&t.children.map(dC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=AN),n}function ao(t){return t.outlet||Ze}function wf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class w9{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),aC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=_l(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_l(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_l(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=_l(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new a9(o.value.snapshot))}),e.children.length&&this.forwardEvent(new o9(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(aC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),aC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=wf(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class SN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class S_{constructor(e,n){this.component=e,this.route=n}}function C9(t,e,n){const r=t._root;return Cf(r,e?e._root:null,n,[r.value])}function yl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Qp(t){return null!==Vu(t)}(t)?e.get(t):t:r}function Cf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_l(e);return t.children.forEach(s=>{(function D9(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function b9(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!uu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uu(t.url,e.url)||!xo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uC(t,e)||!xo(t.queryParams,e.queryParams);default:return!uC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new SN(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Cf(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new S_(a.outlet.component,s))}else s&&Tf(e,a,i),i.canActivateChecks.push(new SN(r)),Cf(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Tf(a,n.getContext(s),i)),i}function Tf(t,e,n){const r=_l(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Tf(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new S_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Df(t){return"function"==typeof t}function RN(t){return t instanceof m_||"EmptyError"===t?.name}const R_=Symbol("INITIAL_VALUE");function vl(){return ye(t=>Ww(t.map(e=>e.pipe(hl(1),function _W(...t){const e=mi(t);return Z((n,r)=>{(e?Kw(t,n,e):Kw(t,n)).subscribe(r)})}(R_)))).pipe(Ie(e=>{for(const n of e)if(!0!==n){if(n===R_)return R_;if(!1===n||n instanceof gl)return n}return!0}),Mo(e=>e!==R_),hl(1)))}function PN(t){return function di(...t){return hi(t)}(mr(e=>{if(cu(e))throw TN(0,e)}),Ie(e=>!0===e))}class P_{constructor(e){this.segmentGroup=e||null}}class MN{constructor(e){this.urlTree=e}}function El(t){return lf(new P_(t))}function xN(t){return lf(new MN(t))}class q9{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new H(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return A(r);if(i.numberOfChildren>1||!i.children[Ze])return lf(new H(4e3,!1));i=i.children[Ze]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new gl(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new kt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const hC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W9(t,e,n,r,i){const o=fC(t,e,n);return o.matched?(r=function m9(t,e){return t.providers&&!t._injector&&(t._injector=$I(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function H9(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?A(i.map(s=>{const a=yl(s,t);return ra(function x9(t){return t&&Df(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(vl(),PN()):A(!0)}(r,e,n).pipe(Ie(s=>!0===s?o:{...hC}))):A(o)}function fC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...hC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||DW)(n,t,e);if(!i)return{...hC};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function NN(t,e,n,r){return n.length>0&&function Q9(t,e,n){return n.some(r=>M_(t,e,r)&&ao(r)!==Ze)}(t,n,r)?{segmentGroup:new kt(e,Z9(r,new kt(n,t.children))),slicedSegments:[]}:0===n.length&&function Y9(t,e,n){return n.some(r=>M_(t,e,r))}(t,n,r)?{segmentGroup:new kt(t.segments,K9(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new kt(t.segments,t.children),slicedSegments:n}}function K9(t,e,n,r,i){const o={};for(const s of r)if(M_(t,n,s)&&!i[ao(s)]){const a=new kt([],{});o[ao(s)]=a}return{...i,...o}}function Z9(t,e){const n={};n[Ze]=e;for(const r of t)if(""===r.path&&ao(r)!==Ze){const i=new kt([],{});n[ao(r)]=i}return n}function M_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class t5{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new q9(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,!1)}recognize(){const e=NN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ze).pipe(au(n=>{if(n instanceof MN)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof P_?this.noMatchError(n):n}),Ie(n=>{const r=new b_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ze,this.rootComponentType,null,{}),i=new ms(r,n),o=new IN("",i),s=function GW(t,e,n=null,r=null){return cN(uN(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ze).pipe(au(r=>{throw r instanceof P_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=EN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return E(i).pipe(fl(o=>{const s=r.children[o],a=function E9(t,e){const n=t.filter(r=>ao(r)===e);return n.push(...t.filter(r=>ao(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function EW(t,e){return Z(function vW(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ae(s,h=>{const g=l++;u=a?t(u,h,g):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),__(null),function IW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mo((i,o)=>t(i,o,r)):hn,Qw(1),n?__(e):Zx(()=>new m_))}(),Dt(o=>{if(null===o)return El(r);const s=ON(o);return function n5(t){t.sort((e,n)=>e.value.outlet===Ze?-1:n.value.outlet===Ze?1:e.value.outlet.localeCompare(n.value.outlet))}(s),A(s)}))}processSegment(e,n,r,i,o,s){return E(n).pipe(fl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(au(u=>{if(u instanceof P_)return A(null);throw u}))),na(a=>!!a),au(a=>{if(RN(a))return function X9(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?A([]):El(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function J9(t,e,n,r){return!!(ao(t)===r||r!==Ze&&M_(e,n,t))&&("**"===t.path||fC(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):El(i):El(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xN(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Dt(s=>{const a=new kt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:h}=fC(n,i,o);if(!a)return El(n);const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?xN(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Dt(m=>this.processSegment(e,r,n,m.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?Yx(i).parameters:{};a=A({snapshot:new b_(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kN(r),ao(r),r.component??r._loadedComponent??null,r,VN(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=W9(n,r,i,e).pipe(Ie(({matched:u,consumedSegments:l,remainingSegments:h,parameters:g})=>u?{snapshot:new b_(l,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kN(r),ao(r),r.component??r._loadedComponent??null,r,VN(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(ye(u=>null===u?El(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ye(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=u,{segmentGroup:T,slicedSegments:D}=NN(n,m,y,l);if(0===D.length&&T.hasChildren())return this.processChildren(h,l,T).pipe(Ie(V=>null===V?null:[new ms(g,V)]));if(0===l.length&&0===D.length)return A([new ms(g,[])]);const R=ao(r)===o;return this.processSegment(h,l,T,D,R?Ze:o,!0).pipe(Ie(V=>[new ms(g,V)]))}))))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?A({routes:n._loadedRoutes,injector:n._loadedInjector}):function $9(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?A(!0):A(i.map(s=>{const a=yl(s,t);return ra(function S9(t){return t&&Df(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(vl(),PN())}(e,n,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(mr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function G9(t){return lf(DN(!1,3))}())):A({routes:[],injector:e})}}function r5(t){const e=t.value.routeConfig;return e&&""===e.path}function ON(t){const e=[],n=new Set;for(const r of t){if(!r5(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=ON(r.children);e.push(new ms(r.value,i))}return e.filter(r=>!n.has(r))}function kN(t){return t.data||{}}function VN(t){return t.resolve||{}}function FN(t){return"string"==typeof t.title||null===t.title}function pC(t){return ye(e=>{const n=t(e);return n?E(n).pipe(Ie(()=>e)):A(e)})}const Il=new oe("ROUTES");let gC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(vM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return A(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ra(n.loadComponent()).pipe(Ie(LN),mr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),df(()=>{this.componentLoaders.delete(n)})),i=new Kx(r,()=>new z).pipe(Zw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function l5(t,e,n,r){return ra(t.loadChildren()).pipe(Ie(LN),Dt(i=>i instanceof TP||Array.isArray(i)?A(i):E(e.compileModuleAsync(i))),Ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Il,[],{optional:!0,self:!0}).flat()),{routes:s.map(dC),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(df(()=>{this.childrenLoaders.delete(r)})),s=new Kx(o,()=>new z).pipe(Zw());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LN(t){return function d5(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let x_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=pe(gC),this.environmentInjector=pe(Ii),this.urlSerializer=pe(pf),this.rootContexts=pe(Ef),this.inputBindingEnabled=null!==pe(A_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new r9(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new n9(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new v({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mo(o=>0!==o.id),Ie(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),ye(o=>{this.currentTransition=o;let s=!1,a=!1;return A(o).pipe(mr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ye(u=>{const l=u.currentBrowserUrl.toString(),h=!n.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!h&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new ml(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),fn}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return A(u).pipe(ye(m=>{const y=this.transitions?.getValue();return this.events.next(new T_(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?fn:Promise.resolve(m)}),function i5(t,e,n,r,i,o){return Dt(s=>function e5(t,e,n,r,i,o,s="emptyOnly"){return new t5(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Ie(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),mr(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new gN(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:y,source:T,restoredState:D,extras:R}=u,V=new T_(m,this.urlSerializer.serialize(y),T,D);this.events.next(V);const x=vN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:x,urlAfterRedirects:y,extras:{...R,skipLocationChange:!1,replaceUrl:!1}},A(o)}{const m="";return this.events.next(new ml(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),fn}}),mr(u=>{const l=new JW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ie(u=>(this.currentTransition=o={...u,guards:C9(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function O9(t,e){return Dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?A({...n,guardsResult:!0}):function k9(t,e,n,r){return E(t).pipe(Dt(i=>function j9(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?A(o.map(a=>{const u=wf(e)??i,l=yl(a,u);return ra(function M9(t){return t&&Df(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):u.runInContext(()=>l(t,e,n,r))).pipe(na())})).pipe(vl()):A(!0)}(i.component,i.route,n,e,r)),na(i=>!0!==i,!0))}(s,r,i,t).pipe(Dt(a=>a&&function A9(t){return"boolean"==typeof t}(a)?function V9(t,e,n,r){return E(e).pipe(fl(i=>Kw(function L9(t,e){return null!==t&&e&&e(new i9(t)),A(!0)}(i.route.parent,r),function F9(t,e){return null!==t&&e&&e(new s9(t)),A(!0)}(i.route,r),function B9(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function T9(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Wx(()=>A(s.guards.map(u=>{const l=wf(s.node)??n,h=yl(u,l);return ra(function P9(t){return t&&Df(t.canActivateChild)}(h)?h.canActivateChild(r,t):l.runInContext(()=>h(r,t))).pipe(na())})).pipe(vl())));return A(o).pipe(vl())}(t,i.path,n),function U9(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return A(!0);const i=r.map(o=>Wx(()=>{const s=wf(e)??n,a=yl(o,s);return ra(function R9(t){return t&&Df(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(na())}));return A(i).pipe(vl())}(t,i.route,n))),na(i=>!0!==i,!0))}(r,o,t,e):A(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),mr(u=>{if(o.guardsResult=u.guardsResult,cu(u.guardsResult))throw TN(0,u.guardsResult);const l=new XW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Mo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),pC(u=>{if(u.guards.canActivateChecks.length)return A(u).pipe(mr(l=>{const h=new e9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ye(l=>{let h=!1;return A(l).pipe(function o5(t,e){return Dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=0;return E(i).pipe(fl(s=>function s5(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!FN(i)&&(o[hf]=i.title),function a5(t,e,n,r){const i=function u5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return A({});const o={};return E(i).pipe(Dt(s=>function c5(t,e,n,r){const i=wf(e)??r,o=yl(t,i);return ra(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(na(),mr(a=>{o[s]=a}))),Qw(1),function wW(t){return Ie(()=>t)}(o),au(s=>RN(s)?fn:lf(s)))}(o,t,e,r).pipe(Ie(s=>(t._resolvedData=s,t.data=EN(t,n).resolve,i&&FN(i)&&(t.data[hf]=i.title),null)))}(s.route,r,t,e)),mr(()=>o++),Qw(1),Dt(s=>o===i.length?A(n):fn))})}(n.paramsInheritanceStrategy,this.environmentInjector),mr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),mr(l=>{const h=new t9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),pC(u=>{const l=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(mr(m=>{h.component=m}),Ie(()=>{})));for(const m of h.children)g.push(...l(m));return g};return Ww(l(u.targetSnapshot.root)).pipe(__(),hl(1))}),pC(()=>this.afterPreactivation()),Ie(u=>{const l=function h9(t,e,n){const r=If(t,e._root,n?n._root:void 0);return new yN(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),mr(()=>{this.events.next(new nC)}),((t,e,n,r)=>Ie(i=>(new w9(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),hl(1),mr({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ia(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function CW(t){return Z((e,n)=>{dt(t).subscribe(ae(n,()=>n.complete(),Ce)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(mr(u=>{throw u}))),df(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),au(u=>{if(a=!0,bN(u))this.events.next(new vf(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function g9(t){return bN(t)&&cu(t.url)}(u)?this.events.next(new rC(u.url)):o.resolve(!1);else{this.events.next(new D_(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){o.reject(l)}}return fn}))}))}cancelNavigationTransition(n,r,i){const o=new vf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UN(t){return t!==yf}let BN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ze);return r}getResolvedTitleForRoute(n){return n.data[hf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return pe(h5)},providedIn:"root"})}return t})(),h5=(()=>{class t extends BN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ux))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return pe(g5)},providedIn:"root"})}return t})();class p5{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let g5=(()=>{class t extends p5{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Nn(t)))(i||t)}}();static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const N_=new oe("",{providedIn:"root",factory:()=>({})});let m5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:function(){return pe(_5)},providedIn:"root"})}return t})(),_5=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bf||{});function jN(t,e){t.events.pipe(Mo(n=>n instanceof ia||n instanceof vf||n instanceof D_||n instanceof ml),Ie(n=>n instanceof ia||n instanceof ml?bf.COMPLETE:n instanceof vf&&(0===n.code||1===n.code)?bf.REDIRECTING:bf.FAILED),Mo(n=>n!==bf.REDIRECTING),hl(1)).subscribe(()=>{e()})}function y5(t){throw t}function v5(t,e,n){return e.parse("/")}const E5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pe(yM),this.isNgZoneEnabled=!1,this._events=new z,this.options=pe(N_,{optional:!0})||{},this.pendingTasks=pe(Km),this.errorHandler=this.options.errorHandler||y5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||v5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pe(m5),this.routeReuseStrategy=pe(f5),this.titleStrategy=pe(BN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pe(Il,{optional:!0})?.flat()??[],this.navigationTransitions=pe(x_),this.urlSerializer=pe(pf),this.location=pe(Ew),this.componentInputBindingEnabled=!!pe(A_,{optional:!0}),this.eventsSubscription=new mt,this.isNgZoneEnabled=pe(bt)instanceof bt&&bt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void($N(r)&&this._events.next(r));if(r instanceof T_)UN(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ml)this.rawUrlTree=i.rawUrl;else if(r instanceof gN){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof nC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof vf)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof rC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UN(i.source)};this.scheduleNavigation(o,yf,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof D_&&this.restoreHistory(i,!0),r instanceof ia&&(this.navigated=!0),$N(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yf,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(dC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let g,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{g=uN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return cN(g,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=cu(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yf,null,r)}navigate(n,r={skipLocationChange:!1}){return function w5(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new H(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...E5}:!1===r?{...I5}:r,cu(n))return Xx(this.currentUrlTree,n,i);const o=this.parseUrl(n);return Xx(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,m)=>{a=g,u=m});const h=this.pendingTasks.add();return jN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $N(t){return!(t instanceof nC||t instanceof rC)}let sa=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ia&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function wA(t,e,n){return function nB(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?IA:kE}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(J(_r),J(oa),function Zg(t){return function Me(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(qu(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Zn(),t)}("tabindex"),J(as),J(wi),J(su))};static#t=this.\u0275dir=Oe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Mt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ao("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",cl],skipLocationChange:["skipLocationChange","skipLocationChange",cl],replaceUrl:["replaceUrl","replaceUrl",cl],routerLink:"routerLink"},standalone:!0,features:[VS,ri]})}return t})();class HN{}let D5=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mo(n=>n instanceof ia),fl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=$I(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return E(i).pipe(Ur())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):A(null);const o=i.pipe(Dt(s=>null===s?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?E([o,this.loader.loadComponent(r)]).pipe(Ur()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(ue(_r),ue(vM),ue(Ii),ue(HN),ue(gC))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mC=new oe("");let zN=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof T_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ia?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ml&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof mN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function cS(){throw new Error("invalid")}()};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function _s(t,e){return{\u0275kind:t,\u0275providers:e}}function qN(){const t=pe(Kr);return e=>{const n=t.get(ul);if(e!==n.components[0])return;const r=t.get(_r),i=t.get(WN);1===t.get(_C)&&r.initialNavigation(),t.get(KN,null,Xe.Optional)?.setUpPreloading(),t.get(mC,null,Xe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const WN=new oe("",{factory:()=>new z}),_C=new oe("",{providedIn:"root",factory:()=>1}),KN=new oe("");function R5(t){return _s(0,[{provide:KN,useExisting:D5},{provide:HN,useExisting:t}])}const ZN=new oe("ROUTER_FORROOT_GUARD"),M5=[Ew,{provide:pf,useClass:Yw},_r,Ef,{provide:oa,useFactory:function GN(t){return t.routerState.root},deps:[_r]},gC,[]];function x5(){return new bM("Router",_r)}let QN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[M5,[],{provide:Il,multi:!0,useValue:n},{provide:ZN,useFactory:V5,deps:[[_r,new Ei,new Jg]]},{provide:N_,useValue:r||{}},r?.useHash?{provide:su,useClass:H3}:{provide:su,useClass:rx},{provide:mC,useFactory:()=>{const t=pe(aq),e=pe(bt),n=pe(N_),r=pe(x_),i=pe(pf);return n.scrollOffset&&t.setOffset(n.scrollOffset),new zN(i,r,t,e,n)}},r?.preloadingStrategy?R5(r.preloadingStrategy).\u0275providers:[],{provide:bM,multi:!0,useFactory:x5},r?.initialNavigation?F5(r):[],r?.bindToComponentInputs?_s(8,[CN,{provide:A_,useExisting:CN}]).\u0275providers:[],[{provide:YN,useFactory:qN},{provide:lw,multi:!0,useExisting:YN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Il,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ue(ZN,8))};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({})}return t})();function V5(t){return"guarded"}function F5(t){return["disabled"===t.initialNavigation?_s(3,[{provide:nw,multi:!0,useFactory:()=>{const e=pe(_r);return()=>{e.setUpLocationChangeListener()}}},{provide:_C,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?_s(2,[{provide:_C,useValue:0},{provide:nw,multi:!0,deps:[Kr],useFactory:e=>{const n=e.get(j3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(_r),o=e.get(WN);jN(i,()=>{r(!0)}),e.get(x_).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const YN=new oe("");xe(365);var ui=xe(534);(0,ui.registerVersion)("firebase","10.7.1","app");class j5 extends mt{constructor(e,n){super()}schedule(e,n=0){return this}}const O_={setInterval(t,e,...n){const{delegate:r}=O_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=O_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class JN extends j5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return O_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&O_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Te(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const yC={now:()=>(yC.delegate||Date).now(),delegate:void 0};class Af{constructor(e,n=Af.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Af.now=yC.now;class XN extends Af{constructor(e,n=Af.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const z5=new class H5 extends XN{}(class $5 extends JN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),G5=new XN(JN),wl=new $c("ANGULARFIRE2_VERSION");const vC=(t,e)=>{const n=e?[e]:(0,ui.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class t1{constructor(){return vC(q5)}}const q5="app-check";function Cl(){}class n1{zone;delegate;constructor(e,n=z5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class W5{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl)),n.pipe(mr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let EC=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new n1(Zone.current)),this.insideAngular=n.run(()=>new n1(Zone.current,G5)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ue(bt))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function lu(t){return Tl().ngZone.run(()=>t())}function r1(t){return function Z5(t){return function(n){return(n=n.lift(new W5(t.ngZone))).pipe(tr(t.outsideAngular),En(t.insideAngular))}}(Tl())(t)}const Q5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),lu(()=>t.apply(void 0,r))},Sf=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=lu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl))),r[o]=Q5(r[o],n));const i=function K5(t){return Tl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof qe){const o=Tl();return i.pipe(tr(o.outsideAngular),En(o.insideAngular))}return lu(()=>i)}return i instanceof qe?i.pipe(r1):i instanceof Promise?lu(()=>new Promise((o,s)=>i.then(a=>lu(()=>o(a)),a=>lu(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:lu(()=>i)};var aa=xe(106);aa.Z.registerVersion("firebase","10.7.1","app-compat");const X5=["ngOnDestroy"];class i1{constructor(e){return e}}const IC=new oe("angularfire2.app.options"),wC=new oe("angularfire2.app.name");function o1(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=aa.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>aa.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;n6("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new i1(s)}const n6=(t,...e)=>{},r6={provide:i1,useFactory:o1,deps:[IC,bt,[new Ei,wC]]};let i6=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:IC,useValue:n},{provide:wC,useValue:r}]}}constructor(n){aa.Z.registerVersion("angularfire",wl.full,"core"),aa.Z.registerVersion("angularfire",wl.full,"app-compat"),aa.Z.registerVersion("angular",eI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ue(To))};static \u0275mod=xn({type:t});static \u0275inj=Gn({providers:[r6]})}return t})();typeof module<"u"&&module;globalThis.\u0275AngularfireInstanceCache||=[];class u6 extends z{constructor(e=1/0,n=1/0,r=yC){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}function a1(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,q({connector:()=>new u6(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function u1(t,e){return C(e)?ye(()=>t,e):ye(()=>t)}const l6=new oe("angularfire2.auth.use-emulator"),d6=new oe("angularfire2.auth.settings"),h6=new oe("angularfire2.auth.tenant-id"),f6=new oe("angularfire2.auth.langugage-code"),p6=new oe("angularfire2.auth.use-device-language"),g6=new oe("angularfire.auth.persistence");let CC=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,u,l,h,g,m,y){const T=new z,D=A(void 0).pipe(En(s.outsideAngular),ye(()=>o.runOutsideAngular(()=>Promise.resolve().then(xe.bind(xe,365)))),Ie(()=>o1(n,o,r)),Ie(R=>((t,e,n,r,i,o,s,a)=>function o6(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function s6(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}(`${t.name}.auth`,0,0,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))u.settings[l]=h;return a&&u.setPersistence(a),u},[n,r,i,o,s,a]))(R,o,a,l,h,g,u,m)),a1({bufferSize:1,refCount:!1}));if(Vw(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=A(null);else{D.pipe(na()).subscribe();const R=D.pipe(ye(j=>j.getRedirectResult().then(ie=>ie,()=>null)),r1,a1({bufferSize:1,refCount:!1})),V=D.pipe(ye(j=>new qe(ie=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(fe=>ie.next(fe),fe=>ie.error(fe),()=>ie.complete()))})))),x=D.pipe(ye(j=>new qe(ie=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(fe=>ie.next(fe),fe=>ie.error(fe),()=>ie.complete()))}))));this.authState=R.pipe(u1(V),tr(s.outsideAngular),En(s.insideAngular)),this.user=R.pipe(u1(x),tr(s.outsideAngular),En(s.insideAngular)),this.idToken=this.user.pipe(ye(j=>j?E(j.getIdToken()):A(null))),this.idTokenResult=this.user.pipe(ye(j=>j?E(j.getIdTokenResult()):A(null))),this.credential=w(R,T,this.authState.pipe(Mo(j=>!j))).pipe(Ie(j=>j?.user?j:null),tr(s.outsideAngular),En(s.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(X5.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const u=a?.[o];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(h=>{const g=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,g),g})})})}))(this,D,o,{spy:{apply:(R,V,x)=>{(R.startsWith("signIn")||R.startsWith("createUser"))&&x.then(j=>T.next(j))}}})}static \u0275fac=function(r){return new(r||t)(ue(IC),ue(wC,8),ue(To),ue(bt),ue(EC),ue(l6,8),ue(d6,8),ue(h6,8),ue(f6,8),ue(p6,8),ue(g6,8),ue(t1,8))};static \u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),_6=(()=>{class t{constructor(){aa.Z.registerVersion("angularfire",wl.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=xn({type:t});static \u0275inj=Gn({providers:[CC]})}return t})(),TC=(()=>{class t{constructor(n){this.afAuth=n,this.isLoggedIn=!1,this.userData=n.authState}register(n,r){return this.afAuth.createUserWithEmailAndPassword(n,r).then(i=>{this.isLoggedIn=!0,localStorage.setItem("email",JSON.stringify(i.user))})}login(n,r){return this.afAuth.signInWithEmailAndPassword(n,r).then(i=>{this.isLoggedIn=!0,localStorage.setItem("email",JSON.stringify(i.user))})}logout(){this.isLoggedIn=!1,this.afAuth.signOut(),localStorage.removeItem("email")}static#e=this.\u0275fac=function(r){return new(r||t)(ue(CC))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const y6=function(t,e){return{displayed:t,hidden:e}};let v6=(()=>{class t{constructor(n){this.router=n,this.displayed=!1}changeSubCat(){this.displayed=!this.displayed}addSubCat(n){console.log(n),this.router.navigate(["/years-page/"+n])}static#e=this.\u0275fac=function(r){return new(r||t)(J(_r))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-navbar"]],decls:21,vars:4,consts:[["id","nav_menu",1,"navmenu"],[1,"main"],["id","nav_menu_home","routerLink","/",1,"menuitem"],["src","assets/icons/home.png","alt","","width","28px","height","28px"],["id","nav_menu_tests","routerLink","/test-page",1,"expandable_ul",3,"click"],["src","assets/icons/tests.png","alt","","width","28px","height","28px"],[3,"ngClass"],[1,"types",3,"click"],["id","nav_menu_scripts"],["src","assets/icons/notes.png","alt","","width","28px","height","28px"],["id","nav_menu_savedtests"],["src","assets/icons/saved.png","alt","","width","28px","height","28px"]],template:function(r,i){1&r&&(De(0,"nav",0)(1,"ul",1)(2,"li",2),_n(3,"img",3),at(4,"Domov "),we(),De(5,"ul",4),Mt("click",function(){return i.changeSubCat()}),_n(6,"img",5),at(7,"Maturitn\xe9 testy "),we(),De(8,"div",6)(9,"li",7),Mt("click",function(){return i.addSubCat("sk")}),at(10,"Slovensk\xfd jazyk a literat\xfara"),we(),De(11,"li",7),Mt("click",function(){return i.addSubCat("aj")}),at(12,"Anglick\xfd jazyk"),we(),De(13,"li",7),Mt("click",function(){return i.addSubCat("mat")}),at(14,"Matematika"),we()(),De(15,"li",8),_n(16,"img",9),at(17,"U\u010debn\xe9 materi\xe1ly "),we(),De(18,"li",10),_n(19,"img",11),at(20," Ulo\u017een\xe9 testy "),we()()()),2&r&&(wt(8),Ct("ngClass",ol(1,y6,i.displayed,!i.displayed)))},dependencies:[dl,sa],styles:["nav[_ngcontent-%COMP%]{background-color:#fbfef9;border:1px solid rgba(121,120,120,.541);border-radius:10px;width:20rem}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}ul.main[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}li[_ngcontent-%COMP%], .expandable_ul[_ngcontent-%COMP%]{font-size:1.2rem;box-shadow:0 4px 4px -2px #00000049;display:flex;gap:6px;align-items:center;padding-left:25%;height:3rem}.hidden[_ngcontent-%COMP%]{display:none}.displayed[_ngcontent-%COMP%]{display:block}li[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:focus, ul.expandable_ul[_ngcontent-%COMP%]:hover, ul.expandable_ul[_ngcontent-%COMP%]:focus{background-color:#497bfa;cursor:pointer}.menuitem[_ngcontent-%COMP%]:hover:last-child, .menuitem[_ngcontent-%COMP%]:focus:last-child{border-radius:0 0 10px 10px}.menuitem[_ngcontent-%COMP%]:focus:first-child, .menuitem[_ngcontent-%COMP%]:hover:first-child{border-radius:10px 10px 0 0}.types[_ngcontent-%COMP%]{font-size:1rem;height:2.2rem}@media (max-width: 375px){nav[_ngcontent-%COMP%]{width:19.3rem}}"]})}return t})();function E6(t,e){1&t&&(De(0,"div",8)(1,"button",9)(2,"p"),at(3,"\xda\u010det"),we()()())}function I6(t,e){if(1&t){const n=function eR(){return Q()}();De(0,"div",10)(1,"p",11),_n(2,"img",12),we(),De(3,"p",13),Mt("click",function(){return function Ng(t){return Ve.lFrame.contextLView=t,t[nn]}(n),function pc(t){return Ve.lFrame.contextLView=null,t}(So().onLogout())}),_n(4,"img",14),we()()}}const w6=function(t){return{expanded:t}};let C6=(()=>{class t{constructor(n){this.buttonExpanded=!1,this.authService=n}onToggleNav(){const n=document.getElementById("navbar");"block"===n.style.display?(n.style.display="none",this.buttonExpanded=!this.buttonExpanded):(n.style.display="block",this.buttonExpanded=!this.buttonExpanded)}onLogout(){this.authService.logout()}static#e=this.\u0275fac=function(r){return new(r||t)(J(TC))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-header"]],decls:9,vars:5,consts:[[1,"container"],["id","main_header"],[1,"burger_menu",3,"ngClass","click"],["id","header_title",1,"headline"],["src","assets/logo.png","alt","","width","100px","height","100px"],["class","buttons","id","but",4,"ngIf"],["class","logged_icons",4,"ngIf"],["id","navbar"],["id","but",1,"buttons"],["id","header_reg_button","routerLink","/login",1,"register"],[1,"logged_icons"],["routerLink","/user-account"],["src","assets/header_icons/userprofile.png","alt","user_profile_icon","width","38px","height","38px"],["routerLink","",3,"click"],["src","assets/header_icons/logout.png","alt","logout_icon","width","38px","height","38px"]],template:function(r,i){1&r&&(De(0,"div",0)(1,"header",1)(2,"div",2),Mt("click",function(){return i.onToggleNav()}),_n(3,"span"),we(),De(4,"div",3),_n(5,"img",4),we(),Ar(6,E6,4,0,"div",5),Ar(7,I6,5,0,"div",6),we(),_n(8,"app-navbar",7),we()),2&r&&(wt(2),Ct("ngClass",Yh(3,w6,i.buttonExpanded)),wt(4),Ct("ngIf",!i.authService.isLoggedIn),wt(1),Ct("ngIf",i.authService.isLoggedIn))},dependencies:[dl,af,sa,v6],styles:['app-navbar[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000}header[_ngcontent-%COMP%]{height:6rem;padding:1rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:nowrap;font-size:1.5rem;background-color:#fbfef9;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080}.headline[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;color:#3369f3;letter-spacing:1px;font-size:2rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:8rem}button[_ngcontent-%COMP%]{padding:.5rem .6rem;border:.1rem #6887f0 solid;border-radius:10px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button.register[_ngcontent-%COMP%]{position:relative;background-color:#3369f3;color:#fff}button.register[_ngcontent-%COMP%]:hover:before, button.register[_ngcontent-%COMP%]:focus:before{width:101%}button.login[_ngcontent-%COMP%]:before, button.register[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:100%;background-color:#497bfa;transition:width .7s ease-in-out}button.login[_ngcontent-%COMP%]{position:relative}button.login[_ngcontent-%COMP%]:hover:before, button.login[_ngcontent-%COMP%]:focus:before{width:101%}button.logout[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:100%;background-color:#fa4949;transition:width .7s ease-in-out}button.logout[_ngcontent-%COMP%]{position:relative}button.logout[_ngcontent-%COMP%]:hover:before, button.logout[_ngcontent-%COMP%]:focus:before{width:101%}button[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{position:relative;font-size:1rem;z-index:1}.burger_menu[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:60px;display:flex;align-items:center;justify-content:center}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#3369f3;height:5px;width:38px;display:block;position:relative;transition:all ease .5s;border-radius:5px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{background:#3369F3;height:5px;width:38px;display:block;position:absolute;content:"";left:0;top:12px;transition:all ease .3s;border-radius:5px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{top:-12px;transition:all ease .7s}.expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{border-radius:5px;width:6px}.logged_icons[_ngcontent-%COMP%]{display:flex;gap:2rem;width:8rem}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{cursor:pointer;transition:all .8s}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:hover, .logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:focus{transform:scale(1.2)}@media (max-width: 425px){header[_ngcontent-%COMP%]{padding:.5rem}.burger_menu[_ngcontent-%COMP%]{width:4rem;height:40px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, .burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{height:3px;width:24px}.logged_icons[_ngcontent-%COMP%]{gap:1rem}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:.8rem}}']})}return t})(),T6=(()=>{class t{constructor(){this.headerfixes=!1}title(n){throw new Error("Method not implemented.")}onScroll(){this.headerfixes=window.scrollY>100}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-root"]],hostBindings:function(r,i){1&r&&Mt("scroll",function(){return i.onScroll()},0,ZA)},decls:3,vars:1,consts:[[1,"container"],[3,"ngClass","scroll"]],template:function(r,i){1&r&&(De(0,"div",0)(1,"app-header",1),Mt("scroll",function(){return i.onScroll()}),we(),_n(2,"router-outlet"),we()),2&r&&(wt(1),Ct("ngClass",i.headerfixes?"fixed":"notfixed"))},dependencies:[dl,cC,C6],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;gap:.5rem;flex-wrap:wrap}app-header.notfixed[_ngcontent-%COMP%]{flex:1 1 100%}app-header.fixed[_ngcontent-%COMP%]{position:fixed;width:96%;top:0}router-outlet[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return t})();function c1(...t){const e=ki(t),{args:n,keys:r}=Hx(t),i=new qe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let h=0;h<s;h++){let g=!1;dt(n[h]).subscribe(ae(o,m=>{g||(g=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?Gx(r,a):a),o.complete())}))}});return e?i.pipe(zx(e)):i}let l1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(J(as),J(wi))};static#t=this.\u0275dir=Oe({type:t})}return t})(),du=(()=>{class t extends l1{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Nn(t)))(i||t)}}();static#t=this.\u0275dir=Oe({type:t,features:[Ot]})}return t})();const Oo=new oe("NgValueAccessor"),b6={provide:Oo,useExisting:k(()=>Dl),multi:!0},S6=new oe("CompositionEventMode");let Dl=(()=>{class t extends l1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A6(){const t=ea()?ea().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(J(as),J(wi),J(S6,8))};static#t=this.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Mt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[un([b6]),Ot]})}return t})();const Sr=new oe("NgValidators"),ca=new oe("NgAsyncValidators");function g1(t){return function ua(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function k_(t){return null}function I1(t){return null!=t}function w1(t){return zh(t)?E(t):t}function C1(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function T1(t,e){return e.map(n=>n(t))}function D1(t){return t.map(e=>function P6(t){return!t.validate}(e)?e:n=>e.validate(n))}function DC(t){return null!=t?function b1(t){if(!t)return null;const e=t.filter(I1);return 0==e.length?null:function(n){return C1(T1(n,e))}}(D1(t)):null}function bC(t){return null!=t?function A1(t){if(!t)return null;const e=t.filter(I1);return 0==e.length?null:function(n){return c1(T1(n,e).map(w1)).pipe(Ie(C1))}}(D1(t)):null}function S1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function AC(t){return t?Array.isArray(t)?t:[t]:[]}function V_(t,e){return Array.isArray(t)?t.includes(e):t===e}function M1(t,e){const n=AC(e);return AC(t).forEach(i=>{V_(n,i)||n.push(i)}),n}function x1(t,e){return AC(e).filter(n=>!V_(t,n))}class N1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Jr extends N1{get formDirective(){return null}get path(){return null}}class la extends N1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class O1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let F_=(()=>{class t extends O1{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(J(la,2))};static#t=this.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Um("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ot]})}return t})();const Rf="VALID",U_="INVALID",bl="PENDING",Pf="DISABLED";function B_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class L1{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rf}get invalid(){return this.status===U_}get pending(){return this.status==bl}get disabled(){return this.status===Pf}get enabled(){return this.status!==Pf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(M1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(x1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(x1(e,this._rawAsyncValidators))}hasValidator(e){return V_(this._rawValidators,e)}hasAsyncValidator(e){return V_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rf||this.status===bl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pf:Rf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bl,this._hasOwnPendingAsyncValidator=!0;const n=w1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new wn,this.statusChanges=new wn}_calculateStatus(){return this._allControlsDisabled()?Pf:this.errors?U_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bl)?bl:this._anyControlsHaveStatus(U_)?U_:Rf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function k6(t){return Array.isArray(t)?DC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function V6(t){return Array.isArray(t)?bC(t):t||null}(this._rawAsyncValidators)}}const Al=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>j_}),j_="always";function Mf(t,e,n=j_){(function NC(t,e){const n=function R1(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(S1(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function P1(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(S1(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();z_(e._rawValidators,i),z_(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function U6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&U1(t,e)})}(t,e),function j6(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function B6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&U1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function L6(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function z_(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function U1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function H1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const z1=class extends L1{constructor(e=null,n,r){super(function PC(t){return(B_(t)?t.validators:t)||null}(n),function MC(t,e){return(B_(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=H1(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){H1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Z6={provide:la,useExisting:k(()=>Nf)},W1=(()=>Promise.resolve())();let Nf=(()=>{class t extends la{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new z1,this._registered=!1,this.name="",this.update=new wn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function VC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Dl?n=o:function z6(t){return Object.getPrototypeOf(t.constructor)===du}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function kC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){W1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&cl(r);W1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function $_(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(J(Jr,9),J(Sr,10),J(ca,10),J(Oo,10),J(Jm,8),J(Al,8))};static#t=this.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[un([Z6]),Ot,ri]})}return t})(),Z1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({})}return t})(),hu=(()=>{class t{constructor(){this._validator=k_}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):k_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Oe({type:t,features:[ri]})}return t})();const p8={provide:Sr,useExisting:k(()=>Of),multi:!0};let Of=(()=>{class t extends hu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=cl,this.createValidator=n=>g1}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Nn(t)))(i||t)}}();static#t=this.\u0275dir=Oe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ao("required",i._enabled?"":null)},inputs:{required:"required"},features:[un([p8]),Ot]})}return t})(),E8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({imports:[Z1]})}return t})(),w8=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Al,useValue:n.callSetDisabledState??j_}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({imports:[E8]})}return t})(),q_=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-landing-page"]],decls:26,vars:0,consts:[["id","main_page_container"],["id","main_page_inner_container"],[1,"textare"],["id","main_card_container"],["id","main_first_card",1,"main_card_containers"],["id","main_first_card_icon","src","assets/test_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_first_card_textarea",1,"main_card_textareas"],["id","main_second_card",1,"main_card_containers"],["id","main_second_card_icon","src","assets/book_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_second_card_textarea",1,"main_card_textareas"],["id","main_third_card",1,"main_card_containers"],["id","main_third_card_icon","src","assets/community_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_third_card_textarea",1,"main_card_textareas"],["id","main_fourth_card",1,"main_card_containers"],["id","main_fourth_card_icon","src","assets/graduation_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_fourth_card_textarea",1,"main_card_textareas"]],template:function(r,i){1&r&&(De(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),at(4," Matu-E je inovat\xedvna a \u0161tudentom prisp\xf4soben\xe1 webov\xe1 aplik\xe1cia, ktor\xe1 pon\xfaka: "),we()(),De(5,"section",3)(6,"div",4),_n(7,"img",5),De(8,"div",6)(9,"p"),at(10,"Otestovanie sa a rie\u0161enie maturitn\xfdch testov online formou! Modern\xe1 doba toti\u017e vy\u017eaduje modern\xe9 rie\u0161enia, u\u017e \u017eiadne pero a papier."),we()()(),De(11,"div",7),_n(12,"img",8),De(13,"div",9)(14,"p"),at(15,"R\xfdchly pr\xedstup k u\u010divu a preh\u013eadn\xe9 pozn\xe1mky s\xfa z\xe1rukou k \xfaspe\u0161nej maturite a pr\xe1ve o tieto pozn\xe1mky sa s vami podel\xedme."),we()()(),De(16,"div",10),_n(17,"img",11),De(18,"div",12)(19,"p"),at(20,"Spojte sa s ostatn\xfdmi maturantmi, zdielajte medzi sebou sk\xfasenosti, ra\u010fte sa a podporujte navz\xe1jom. Spolo\u010dne zdol\xe1vame cestu k maturite."),we()()(),De(21,"div",13),_n(22,"img",14),De(23,"div",15)(24,"p"),at(25,"Precvi\u010dujte sa s testami z minul\xfdch ro\u010dn\xedkov a pripravte sa na v\u0161etky aspekty maturity. Na\u0161e zdroje v\xe1m pom\xf4\u017eu zdokonali\u0165 va\u0161e vedomosti."),we()()()()()())},styles:["app-landing-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}#main_page_container[_ngcontent-%COMP%]{display:flex;background-color:#fbfef9;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;width:100%;height:100%}#main_page_inner_container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;box-shadow:inset 0 0 12px #0d0d0d80;margin:1.5rem;border-radius:10px;width:100%}.textare[_ngcontent-%COMP%]{padding:2rem}.textare[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:500;color:#3369f3}#main_logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}#logo[_ngcontent-%COMP%]{border:1px solid rgba(13,13,13,.5);margin-top:1rem;height:128px;width:128px}#main_card_container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:clamp(30%,60%,90%);width:clamp(60%,85%,100%);flex-wrap:nowrap}.main_card_containers[_ngcontent-%COMP%]{border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:space-around;font-size:.9rem;height:clamp(8rem,20rem,32rem);width:clamp(6rem,12rem,34rem);transition:.5s}.main_card_containers[_ngcontent-%COMP%]:hover, .main_card_containers[_ngcontent-%COMP%]:focus{transform:scale(1.1)}.main_card_textareas[_ngcontent-%COMP%]{width:90%;height:50%;border-radius:10px;background-color:#fff;padding:.5rem;display:flex;justify-content:center;text-align:center}#main_first_card[_ngcontent-%COMP%]{background:url(/assets/card1_wave_coloured.jpg);background-size:cover;background-position:30% 90%;background-repeat:no-repeat}#main_second_card[_ngcontent-%COMP%]{background:url(/assets/card2_wave_coloured.jpg);background-size:cover;background-position:10% 10%;background-repeat:no-repeat}#main_third_card[_ngcontent-%COMP%]{background:url(/assets/card3_wave_coloured.jpg);background-size:cover;background-position:15% 50%;background-repeat:no-repeat}#main_fourth_card[_ngcontent-%COMP%]{background:url(/assets/card4_wave_coloured.jpg);background-size:cover;background-position:15% 30%;background-repeat:no-repeat}@media (max-width: 1024px){.textare[_ngcontent-%COMP%]{font-size:.7rem}#main_card_container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem;margin-bottom:7rem}.main_card_containers[_ngcontent-%COMP%]{font-size:.9rem}#main_page_container[_ngcontent-%COMP%], #main_page_inner_container[_ngcontent-%COMP%]{height:auto}}@media (max-width: 540px){#main_card_containers[_ngcontent-%COMP%]{padding:2rem}#main_card_container[_ngcontent-%COMP%]{margin-bottom:14rem}}"]})}return t})();const fO=function(t){return{"error-border":t}},C8=function(t){return{error_message:t}};let pO=(()=>{class t{constructor(n,r){this.router=n,this.service=r,this.submitted=!1,this.error=!1}submit(){this.submitted=!0}newInput(){this.error=!1}login(){this.service.login(this.name,this.password).then(n=>{this.router.navigate([""])}).catch(n=>{this.error=!0})}static#e=this.\u0275fac=function(r){return new(r||t)(J(_r),J(TC))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-login-page"]],decls:28,vars:11,consts:[[1,"login_card"],[1,"top_section"],[1,"input_group"],["for","meno"],["type","text","name","meno","id","meno","required","","placeholder","Zadaj svoj email na prihlasenie",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],[1,"utils"],["routerLink","/forgot-password",1,"forgot-password"],[1,"remember"],["for","remember"],["type","checkbox","name","remember","id","remember"],[1,"error_message_on",3,"ngClass"],[1,"mid_section"],[1,"login-button"],["src","assets/googleicon.png","alt","googleicon","width","32px","height","32px"],[1,"bot_section"],["type","submit",1,"bot_button",3,"click"],["routerLink","/register",1,"bot_button"]],template:function(r,i){1&r&&(De(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),at(4,"Prihlasovaci email"),we(),De(5,"input",4),Mt("ngModelChange",function(){return i.newInput()})("ngModelChange",function(s){return i.name=s}),we(),De(6,"label",5),at(7,"Heslo"),we(),De(8,"input",6),Mt("ngModelChange",function(){return i.newInput()})("ngModelChange",function(s){return i.password=s}),we()(),De(9,"div",7)(10,"button",8),at(11,"Zabudnut\xe9 heslo"),we(),De(12,"div",9)(13,"label",10),at(14,"zapam\xe4taj si ma"),we(),_n(15,"input",11),we()()(),De(16,"div",12)(17,"p"),at(18,"Nespr\xe1vne zadan\xe9 \xfadaje"),we()(),De(19,"div",13)(20,"button",14),_n(21,"img",15),at(22," Prihl\xe1si\u0165 sa cez google "),we()(),De(23,"div",16)(24,"button",17),Mt("click",function(){return i.login()}),at(25,"Prihl\xe1si\u0165"),we(),De(26,"button",18),at(27,"Zaregistrova\u0165"),we()()()),2&r&&(wt(5),Ct("ngModel",i.name)("ngClass",Yh(5,fO,i.error)),wt(3),Ct("ngModel",i.password)("ngClass",Yh(7,fO,i.error)),wt(8),Ct("ngClass",Yh(9,C8,!i.error)))},dependencies:[dl,Dl,F_,Of,Nf,sa],styles:["app-login-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;background-color:#fbfef9;display:flex;align-items:center;justify-content:center;padding:2rem}.login_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-color:#5c89ff;width:clamp(20rem,25rem,35rem);height:clamp(15rem,30rem,35rem);padding:2rem;border-radius:10px;box-shadow:3px 3px 10px 3px #00000080;display:flex;flex-direction:column;justify-content:space-between}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.5rem}.login_cred[_ngcontent-%COMP%]{height:2.5rem}.utils[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.remember[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:8px}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:6px}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.bot_button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}.bot_button[_ngcontent-%COMP%]:hover, .bot_button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-button[_ngcontent-%COMP%]{background-color:#fbfef9;color:#000;padding:10px 20px;font-size:16px;border:none;border-radius:2px;cursor:pointer;transition:background-color .3s ease;display:flex;justify-content:center;align-items:center;gap:.4rem}.login-button[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.error-border[_ngcontent-%COMP%]{border:2px solid rgb(229,34,34)}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#e52222;font-weight:800;font-size:1.2rem}.forgot-password[_ngcontent-%COMP%]{cursor:pointer;border:none;margin:0;padding:0;background:transparent;font-size:1rem}.forgot-password[_ngcontent-%COMP%]:hover, .forgot-password[_ngcontent-%COMP%]:focus{color:#0e2766}"]})}return t})();const HC=function(t,e){return{"error-border":t,noborder:e}};let gO=(()=>{class t{constructor(n,r){this.router=n,this.service=r,this.errorMessage="",this.pswdError=!1,this.emailError=!1}isValidEmail(n){return/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(n)}register(){if(this.email&&this.password&&this.passwordCheck){if(this.password.length<6)return this.errorMessage="Heslo mus\xed obsahova\u0165 aspo\u0148 6 znakov",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,this.password!==this.passwordCheck)return this.errorMessage="Hesla sa nezhoduj\xfa",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,!this.isValidEmail(this.email))return this.errorMessage="Neplatn\xe1 emailov\xe1 adresa",void(this.emailError=!0);this.emailError=!1,this.service.register(this.email,this.password).then(n=>{this.router.navigate([""])}).catch(n=>{})}else this.errorMessage="Pros\xedm vypl\u0148 v\u0161etky pol\xed\u010dka"}static#e=this.\u0275fac=function(r){return new(r||t)(J(_r),J(TC))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-register-page"]],decls:24,vars:17,consts:[[1,"register_card"],[1,"top_section"],[1,"input_group"],["for","email"],["type","email","name","email","id","email","required","","placeholder","Zadaj svoj e-mail",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","meno"],["type","text","name","meno","id","meno","required","","placeholder","Zadaj svoje prihlasovacie meno",1,"register_cred",3,"ngModel","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","hesloKontrola"],["type","password","name","hesloKontrola","id","hesloKontrola","required","","placeholder","Zopakujte svoje heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],[1,"mid_section"],[1,"bot_section"],["id","register_log_button","routerLink","/login",1,"login"],[3,"click"]],template:function(r,i){1&r&&(De(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),at(4,"E-mail"),we(),De(5,"input",4),Mt("ngModelChange",function(s){return i.email=s}),we(),De(6,"label",5),at(7,"Prihlasovacie meno"),we(),De(8,"input",6),Mt("ngModelChange",function(s){return i.name=s}),we(),De(9,"label",7),at(10,"Heslo"),we(),De(11,"input",8),Mt("ngModelChange",function(s){return i.password=s}),we(),De(12,"label",9),at(13,"Kontrola hesla"),we(),De(14,"input",10),Mt("ngModelChange",function(s){return i.passwordCheck=s}),we()()(),De(15,"div",11),at(16),we(),De(17,"div",12)(18,"button",13)(19,"p"),at(20,"Sp\xe4\u0165 na prihl\xe1senie"),we()(),De(21,"button")(22,"p",14),Mt("click",function(){return i.register()}),at(23,"Zalo\u017e \xfa\u010det"),we()()()()),2&r&&(wt(5),Ct("ngModel",i.email)("ngClass",ol(8,HC,i.emailError,!i.emailError)),wt(3),Ct("ngModel",i.name),wt(3),Ct("ngModel",i.password)("ngClass",ol(11,HC,i.pswdError,!i.pswdError)),wt(3),Ct("ngModel",i.passwordCheck)("ngClass",ol(14,HC,i.pswdError,!i.pswdError)),wt(2),nl(" ",i.errorMessage," "))},dependencies:[dl,Dl,F_,Of,Nf,sa],styles:["app-register-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;background-color:#fbfef9;display:flex;align-items:center;justify-content:center;padding:2rem}.register_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-color:#5c89ff;width:clamp(20rem,25rem,35rem);height:clamp(15rem,33rem,45rem);padding:2rem;border-radius:10px;box-shadow:3px 3px 10px 3px #00000080;display:flex;flex-direction:column;justify-content:space-between}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.3rem}.register_cred[_ngcontent-%COMP%]{height:2.5rem}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:1.1rem;color:#e52222;font-weight:800}.error-border[_ngcontent-%COMP%]{border:1px solid red}.noborder[_ngcontent-%COMP%]{border:none}@media (max-width: 375px){.register_cred[_ngcontent-%COMP%]{font-size:.7rem}}"]})}return t})();class kf{constructor(e){return e}}class mO{constructor(){return(0,ui.getApps)()}}const zC=new oe("angularfire2._apps"),D8={provide:kf,useFactory:function T8(t){return t&&1===t.length?t[0]:new kf((0,ui.getApp)())},deps:[[new Ei,zC]]},b8={provide:mO,deps:[[new Ei,zC]]};function A8(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kf(r)}}let S8=(()=>{class t{constructor(n){(0,ui.registerVersion)("angularfire",wl.full,"core"),(0,ui.registerVersion)("angularfire",wl.full,"app"),(0,ui.registerVersion)("angular",eI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ue(To))};static \u0275mod=xn({type:t});static \u0275inj=Gn({providers:[D8,b8]})}return t})();function R8(t,...e){return{ngModule:S8,providers:[{provide:zC,useFactory:A8(t),multi:!0,deps:[bt,Kr,EC,...e]}]}}var _O=xe(217),Vf=xe(58),ys=xe(879),P8=xe(537);class vO{constructor(){return vC("auth")}}var he,Fe=xe(861),O8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},WC=WC||{},Ge=O8||self;function W_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ff(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var KC="closure_uid_"+(1e9*Math.random()>>>0),V8=0;function F8(t,e,n){return t.call.apply(t.bind,arguments)}function L8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Rr(t,e,n){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F8:L8).apply(null,arguments)}function K_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ar(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function da(){this.s=this.s,this.o=this.o}da.prototype.s=!1,da.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function k8(t){Object.prototype.hasOwnProperty.call(t,KC)&&t[KC]||(t[KC]=++V8)}(this)},da.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ZC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function IO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(W_(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Pr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var B8=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ge.addEventListener("test",n,e),Ge.removeEventListener("test",n,e)}catch{}return t}();function Lf(t){return/^[\s\xa0]*$/.test(t)}function Z_(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function ko(t){return-1!=Z_().indexOf(t)}function QC(t){return QC[" "](t),t}QC[" "]=function(){};var JC,t,$8=ko("Opera"),Sl=ko("Trident")||ko("MSIE"),wO=ko("Edge"),YC=wO||Sl,CO=ko("Gecko")&&!(-1!=Z_().toLowerCase().indexOf("webkit")&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),H8=-1!=Z_().toLowerCase().indexOf("webkit")&&!ko("Edge");function TO(){var t=Ge.document;return t?t.documentMode:void 0}e:{var XC="",eT=(t=Z_(),CO?/rv:([^\);]+)(\)|;)/.exec(t):wO?/Edge\/([\d\.]+)/.exec(t):Sl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):H8?/WebKit\/(\S+)/.exec(t):$8?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(eT&&(XC=eT?eT[1]:""),Sl){var tT=TO();if(null!=tT&&tT>parseFloat(XC)){JC=String(tT);break e}}JC=XC}var z8=Ge.document&&Sl&&(TO()||parseInt(JC,10))||void 0;function Uf(t,e){if(Pr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CO){e:{try{QC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:G8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Uf.$.h.call(this)}}ar(Uf,Pr);var G8={2:"touch",3:"pen",4:"mouse"};Uf.prototype.h=function(){Uf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bf="closure_listenable_"+(1e6*Math.random()|0),q8=0;function W8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++q8,this.fa=this.ia=!1}function Q_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function rT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function bO(t){const e={};for(const n in t)e[n]=t[n];return e}const AO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<AO.length;o++)n=AO[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Y_(t){this.src=t,this.g={},this.h=0}function iT(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=EO(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Q_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function oT(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Y_.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=oT(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new W8(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var sT="closure_lm_"+(1e6*Math.random()|0),aT={};function RO(t,e,n,r,i){if(r&&r.once)return MO(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)RO(t,e[o],n,r,i);return null}return n=dT(n),t&&t[Bf]?t.O(e,n,Ff(r)?!!r.capture:!!r,i):PO(t,e,n,!1,r,i)}function PO(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ff(i)?!!i.capture:!!i,a=cT(t);if(a||(t[sT]=a=new Y_(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Z8(){const e=Q8;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)B8||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(NO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function MO(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)MO(t,e[o],n,r,i);return null}return n=dT(n),t&&t[Bf]?t.P(e,n,Ff(r)?!!r.capture:!!r,i):PO(t,e,n,!0,r,i)}function xO(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xO(t,e[o],n,r,i);else r=Ff(r)?!!r.capture:!!r,n=dT(n),t&&t[Bf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=oT(o=t.g[e],n,r,i))&&(Q_(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=cT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oT(e,n,r,i)),(n=-1<t?e[t]:null)&&uT(n))}function uT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Bf])iT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cT(e))?(iT(n,t),0==n.h&&(n.src=null,e[sT]=null)):Q_(t)}}}function NO(t){return t in aT?aT[t]:aT[t]="on"+t}function Q8(t,e){if(t.fa)t=!0;else{e=new Uf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&uT(t),t=n.call(r,e)}return t}function cT(t){return(t=t[sT])instanceof Y_?t:null}var lT="__closure_events_fn_"+(1e9*Math.random()>>>0);function dT(t){return"function"==typeof t?t:(t[lT]||(t[lT]=function(e){return t.handleEvent(e)}),t[lT])}function ur(){da.call(this),this.i=new Y_(this),this.S=this,this.J=null}function yr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Pr(e,t);else if(e instanceof Pr)e.target=e.target||t;else{var i=e;SO(e=new Pr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=J_(s,r,!0,e)&&i}if(i=J_(s=e.g=t,r,!0,e)&&i,i=J_(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=J_(s=e.g=n[o],r,!1,e)&&i}function J_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&iT(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ar(ur,da),ur.prototype[Bf]=!0,ur.prototype.removeEventListener=function(t,e,n,r){xO(this,t,e,n,r)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Q_(n[r]);delete t.g[e],t.h--}}this.J=null},ur.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ur.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var hT=Ge.JSON.stringify;function J8(){var t=fT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var OO=new class Y8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new e7,t=>t.reset());class e7{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function t7(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function n7(t){Ge.setTimeout(()=>{throw t},0)}let jf,$f=!1,fT=new class X8{constructor(){this.h=this.g=null}add(e,n){const r=OO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},kO=()=>{const t=Ge.Promise.resolve(void 0);jf=()=>{t.then(r7)}};var r7=()=>{for(var t;t=J8();){try{t.h.call(t.g)}catch(n){n7(n)}var e=OO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$f=!1};function X_(t,e){ur.call(this),this.h=t||1,this.g=e||Ge,this.j=Rr(this.qb,this),this.l=Date.now()}function pT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function gT(t,e,n){if("function"==typeof t)n&&(t=Rr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Rr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function VO(t){t.g=gT(()=>{t.g=null,t.i&&(t.i=!1,VO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ar(X_,ur),(he=X_.prototype).ga=!1,he.T=null,he.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yr(this,"tick"),this.ga&&(pT(this),this.start()))}},he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.N=function(){X_.$.N.call(this),pT(this),delete this.g};class i7 extends da{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VO(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hf(t){da.call(this),this.h=t,this.g={}}ar(Hf,da);var FO=[];function LO(t,e,n,r){Array.isArray(n)||(n&&(FO[0]=n.toString()),n=FO);for(var i=0;i<n.length;i++){var o=RO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function UO(t){rT(t.g,function(e,n){this.g.hasOwnProperty(n)&&uT(e)},t),t.g={}}function ey(){this.g=!0}function Rl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function u7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return hT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Hf.prototype.N=function(){Hf.$.N.call(this),UO(this)},Hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ey.prototype.Ea=function(){this.g=!1},ey.prototype.info=function(){};var fu={},BO=null;function ty(){return BO=BO||new ur}function jO(t){Pr.call(this,fu.Ta,t)}function zf(t){const e=ty();yr(e,new jO(e))}function $O(t,e){Pr.call(this,fu.STAT_EVENT,t),this.stat=e}function Xr(t){const e=ty();yr(e,new $O(e,t))}function HO(t,e){Pr.call(this,fu.Ua,t),this.size=e}function Gf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}fu.Ta="serverreachability",ar(jO,Pr),fu.STAT_EVENT="statevent",ar($O,Pr),fu.Ua="timingevent",ar(HO,Pr);var ny={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mT(){}function qO(){}mT.prototype.h=null;var vT,qf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _T(){Pr.call(this,"d")}function yT(){Pr.call(this,"c")}function ry(){}function Wf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Hf(this),this.P=c7,this.V=new X_(t=YC?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WO}function WO(){this.i=null,this.g="",this.h=!1}ar(_T,Pr),ar(yT,Pr),ar(ry,mT),ry.prototype.g=function(){return new XMLHttpRequest},ry.prototype.i=function(){return{}},vT=new ry;var c7=45e3,KO={},ET={};function IT(t,e,n){t.L=1,t.A=ay(vs(e)),t.u=n,t.S=!0,ZO(t,null)}function ZO(t,e){t.G=Date.now(),Kf(t),t.B=vs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ok(n.i,"t",r),t.o=0,n=t.l.J,t.h=new WO,t.g=Rk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new i7(Rr(t.Pa,t,t.g),t.O)),LO(t.U,t.g,"readystatechange",t.nb),e=t.I?bO(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),zf(),function o7(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var g=h.split("_");s=2<=g.length&&"type"==g[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function QO(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function YO(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=l7(t,n),i==ET){4==e&&(t.s=4,Xr(14),r=!1),Rl(t.j,t.m,null,"[Incomplete Response]");break}if(i==KO){t.s=4,Xr(15),Rl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Rl(t.j,t.m,i,null),wT(t,i)}QO(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,Xr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),RT(e),e.M=!0,Xr(11))):(Rl(t.j,t.m,n,"[Invalid Chunked Response]"),pu(t),Zf(t))}function l7(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?ET:(n=Number(e.substring(n,r)),isNaN(n)?KO:(r+=1)+n>e.length?ET:(e=e.slice(r,r+n),t.o=r+n,e))}function Kf(t){t.Y=Date.now()+t.P,JO(t,t.P)}function JO(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Gf(Rr(t.lb,t),e)}function iy(t){t.C&&(Ge.clearTimeout(t.C),t.C=null)}function Zf(t){0==t.l.H||t.J||Dk(t.l,t)}function pu(t){iy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,pT(t.V),UO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||CT(n.i,t)))if(!t.K&&CT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;fy(n),dy(n)}ST(n),Xr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gf(Rr(n.ib,n),6e3));if(1>=uk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mu(n,11)}else if((t.K||n.g==t)&&fy(n),!Lf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const h=l[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=l[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const T=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var o=r.i;o.g||-1==T.indexOf("spdy")&&-1==T.indexOf("quic")&&-1==T.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(TT(o,o.h),o.h=null))}if(r.F){const D=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,on(r.I,r.F,D))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=Sk(r,r.J?r.pa:null,r.Y),s.K){ck(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(iy(a),Kf(a)),r.g=s}else Ck(r);0<n.j.length&&hy(n)}else"stop"!=l[0]&&"close"!=l[0]||mu(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mu(n,7):AT(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}zf()}catch{}}function XO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(W_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function h7(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(W_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function d7(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(W_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(he=Wf.prototype).setTimeout=function(t){this.P=t},he.nb=function(t){t=t.target;const e=this.M;e&&3==Vo(t)?e.l():this.Pa(t)},he.Pa=function(t){try{if(t==this.g)e:{const h=Vo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||YC||this.g&&(this.h.h||this.g.ja()||_k(this.g)))){this.J||4!=h||7==e||zf(),iy(this);var n=this.g.da();this.ca=n;t:if(QO(this)){var r=_k(this.g);t="";var i=r.length,o=4==Vo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pu(this),Zf(this);var s="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function s7(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Xr(12),pu(this),Zf(this);break e}Rl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wT(this,n)}this.S?(YO(this,h,s),YC&&this.i&&3==h&&(LO(this.U,this.V,"tick",this.mb),this.V.start())):(Rl(this.j,this.m,s,null),wT(this,s)),4==h&&pu(this),this.i&&!this.J&&(4==h?Dk(this.l,this):(this.i=!1,Kf(this)))}else(function P7(t){const e={};t=(t.g&&2<=Vo(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Lf(t[r]))continue;var n=t7(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function K8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Xr(12)):(this.s=0,Xr(13)),pu(this),Zf(this)}}}catch{}},he.mb=function(){if(this.g){var t=Vo(this.g),e=this.g.ja();this.o<e.length&&(iy(this),YO(this,t,e),this.i&&4!=t&&Kf(this))}},he.cancel=function(){this.J=!0,pu(this)},he.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function a7(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(zf(),Xr(17)),pu(this),this.s=2,Zf(this)):JO(this,this.Y-t)};var ek=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof gu){this.h=t.h,oy(this,t.j),this.s=t.s,this.g=t.g,sy(this,t.m),this.l=t.l;var e=t.i,n=new Jf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tk(this,n),this.o=t.o}else t&&(e=String(t).match(ek))?(this.h=!1,oy(this,e[1]||"",!0),this.s=Qf(e[2]||""),this.g=Qf(e[3]||"",!0),sy(this,e[4]),this.l=Qf(e[5]||"",!0),tk(this,e[6]||"",!0),this.o=Qf(e[7]||"")):(this.h=!1,this.i=new Jf(null,this.h))}function vs(t){return new gu(t)}function oy(t,e,n){t.j=n?Qf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tk(t,e,n){e instanceof Jf?(t.i=e,function v7(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rk(this,r),ok(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Yf(e,_7)),t.i=new Jf(e,t.h))}function on(t,e,n){t.i.set(e,n)}function ay(t){return on(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,p7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function p7(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}gu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yf(e,nk,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Yf(e,nk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yf(n,"/"==n.charAt(0)?m7:g7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yf(n,y7)),t.join("")};var nk=/[#\/\?@]/g,g7=/[#\?:]/g,m7=/[#\?]/g,_7=/[#\?@]/g,y7=/#/g;function Jf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Map,t.h=0,t.i&&function f7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function rk(t,e){ha(t),e=Pl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ik(t,e){return ha(t),e=Pl(t,e),t.g.has(e)}function ok(t,e,n){rk(t,e),0<n.length&&(t.i=null,t.g.set(Pl(t,e),ZC(n)),t.h+=n.length)}function Pl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sk(t){this.l=t||I7,t=Ge.PerformanceNavigationTiming?0<(t=Ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(he=Jf.prototype).add=function(t,e){ha(this),this.i=null,t=Pl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},he.forEach=function(t,e){ha(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},he.ta=function(){ha(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},he.Z=function(t){ha(this);let e=[];if("string"==typeof t)ik(this,t)&&(e=e.concat(this.g.get(Pl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},he.set=function(t,e){return ha(this),this.i=null,ik(this,t=Pl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},he.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var I7=10;function ak(t){return!!t.h||!!t.g&&t.g.size>=t.j}function uk(t){return t.h?1:t.g?t.g.size:0}function CT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function TT(t,e){t.g?t.g.add(e):t.h=e}function ck(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lk(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ZC(t.i)}sk.prototype.cancel=function(){if(this.i=lk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var w7=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function C7(){this.g=new w7}function T7(t,e,n){const r=n||"";try{XO(t,function(i,o){let s=i;Ff(i)&&(s=hT(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uy(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xf(t){this.l=t.ec||null,this.j=t.ob||!1}function cy(t,e){ur.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=DT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ar(Xf,mT),Xf.prototype.g=function(){return new cy(this.l,this.j)},Xf.prototype.i=function(t){return function(){return t}}({}),ar(cy,ur);var DT=0;function dk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ep(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tp(t)}function tp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(he=cy.prototype).open=function(t,e){if(this.readyState!=DT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tp(this)},he.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ep(this)),this.readyState=DT},he.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tp(this)),this.g&&(this.readyState=3,tp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},he.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ep(this):tp(this),3==this.readyState&&dk(this)}},he.Za=function(t){this.g&&(this.response=this.responseText=t,ep(this))},he.Ya=function(t){this.g&&(this.response=t,ep(this))},he.ka=function(){this.g&&ep(this)},he.setRequestHeader=function(t,e){this.v.append(t,e)},he.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var b7=Ge.JSON.parse;function Tn(t){ur.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hk,this.L=this.M=!1}ar(Tn,ur);var hk="",A7=/^https?$/i,S7=["POST","PUT"];function fk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pk(t),ly(t)}function pk(t){t.F||(t.F=!0,yr(t,"complete"),yr(t,"error"))}function gk(t){if(t.h&&typeof WC<"u"&&(!t.C[1]||4!=Vo(t)||2!=t.da()))if(t.v&&4==Vo(t))gT(t.La,0,t);else if(yr(t,"readystatechange"),4==Vo(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(ek)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!A7.test(i?i.toLowerCase():"")}n=r}if(n)yr(t,"complete"),yr(t,"success");else{t.m=6;try{var o=2<Vo(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",pk(t)}}finally{ly(t)}}}function ly(t,e){if(t.g){mk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||yr(t,"ready");try{n.onreadystatechange=r}catch{}}}function mk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}function Vo(t){return t.g?t.g.readyState:0}function _k(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function yk(t){let e="";return rT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function bT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yk(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):on(t,e,n))}function np(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vk(t){this.Ga=0,this.j=[],this.l=new ey,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=np("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=np("baseRetryDelayMs",5e3,t),this.hb=np("retryDelaySeedMs",1e4,t),this.eb=np("forwardChannelMaxRetries",2,t),this.xa=np("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sk(t&&t.concurrentRequestLimit),this.Ja=new C7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function AT(t){if(Ek(t),3==t.H){var e=t.W++,n=vs(t.I);if(on(n,"SID",t.K),on(n,"RID",e),on(n,"TYPE","terminate"),rp(t,n),(e=new Wf(t,t.l,e)).L=2,e.A=ay(vs(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ge.Image&&((new Image).src=e.A,n=!0),n||(e.g=Rk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Kf(e)}Ak(t)}function dy(t){t.g&&(RT(t),t.g.cancel(),t.g=null)}function Ek(t){dy(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),fy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ge.clearTimeout(t.m),t.m=null)}function hy(t){if(!ak(t.i)&&!t.m){t.m=!0;var e=t.Na;jf||kO(),$f||(jf(),$f=!0),fT.add(e,t),t.C=0}}function Ik(t,e){var n;n=e?e.m:t.W++;const r=vs(t.I);on(r,"SID",t.K),on(r,"RID",n),on(r,"AID",t.V),rp(t,r),t.o&&t.s&&bT(r,t.o,t.s),n=new Wf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),TT(t.i,n),IT(n,r,e)}function rp(t,e){t.na&&rT(t.na,function(n,r){on(e,r,n)}),t.h&&XO({},function(n,r){on(e,r,n)})}function wk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Rr(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const h=i[u].map;if(l-=o,0>l)o=Math.max(0,i[u].g-100),a=!1;else try{T7(h,s,"req"+l+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ck(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jf||kO(),$f||(jf(),$f=!0),fT.add(e,t),t.A=0}}function ST(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Gf(Rr(t.Ma,t),bk(t,t.A)),t.A++,0))}function RT(t){null!=t.B&&(Ge.clearTimeout(t.B),t.B=null)}function Tk(t){t.g=new Wf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=vs(t.wa);on(e,"RID","rpc"),on(e,"SID",t.K),on(e,"AID",t.V),on(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&on(e,"TO",t.qa),on(e,"TYPE","xmlhttp"),rp(t,e),t.o&&t.s&&bT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ay(vs(e)),n.u=null,n.S=!0,ZO(n,t)}function fy(t){null!=t.v&&(Ge.clearTimeout(t.v),t.v=null)}function Dk(t,e){var n=null;if(t.g==e){fy(t),RT(t),t.g=null;var r=2}else{if(!CT(t.i,e))return;n=e.F,ck(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;yr(r=ty(),new HO(r,n)),hy(t)}else Ck(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function M7(t,e){return!(uk(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Gf(Rr(t.Na,t,e),bk(t,t.C)),t.C++,0)))}(t,e)||2==r&&ST(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:mu(t,5);break;case 4:mu(t,10);break;case 3:mu(t,6);break;default:mu(t,2)}}function bk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function mu(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Rr(t.pb,t);n||(n=new gu("//www.google.com/images/cleardot.gif"),Ge.location&&"http"==Ge.location.protocol||oy(n,"https"),ay(n)),function D7(t,e){const n=new ey;if(Ge.Image){const r=new Image;r.onload=K_(uy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=K_(uy,n,r,"TestLoadImage: error",!1,e),r.onabort=K_(uy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=K_(uy,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xr(2);t.H=0,t.h&&t.h.za(e),Ak(t),Ek(t)}function Ak(t){if(t.H=0,t.ma=[],t.h){const e=lk(t.i);(0!=e.length||0!=t.j.length)&&(IO(t.ma,e),IO(t.ma,t.j),t.i.i.length=0,ZC(t.j),t.j.length=0),t.h.ya()}}function Sk(t,e,n){var r=n instanceof gu?vs(n):new gu(n);if(""!=r.g)e&&(r.g=e+"."+r.g),sy(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new gu(null);r&&oy(o,r),e&&(o.g=e),i&&sy(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&on(r,n,e),on(r,"VER",t.ra),rp(t,r),r}function Rk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(t.Ha&&!t.va?new Xf({ob:n}):t.va)).Oa(t.J),e}function Pk(){}function py(){if(Sl&&!(10<=Number(z8)))throw Error("Environmental error: no available transport.")}function bi(t,e){ur.call(this),this.g=new vk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Lf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ml(this)}function Mk(t){_T.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function xk(){yT.call(this),this.status=1}function Ml(t){this.g=t}function co(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function PT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(he=Tn.prototype).Oa=function(t){this.M=t},he.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vT.g(),this.C=function GO(t){return t.h||(t.h=t.i())}(this.u?this.u:vT),this.g.onreadystatechange=Rr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void fk(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=EO(S7,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mk(this),0<this.B&&((this.L=function R7(t){return Sl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.ua,this)):this.A=gT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){fk(this,o)}},he.ua=function(){typeof WC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},he.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yr(this,"complete"),yr(this,"abort"),ly(this))},he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ly(this,!0)),Tn.$.N.call(this)},he.La=function(){this.s||(this.G||this.v||this.l?gk(this):this.kb())},he.kb=function(){gk(this)},he.isActive=function(){return!!this.g},he.da=function(){try{return 2<Vo(this)?this.g.status:-1}catch{return-1}},he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),b7(e)}},he.Ia=function(){return this.m},he.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=vk.prototype).ra=8,he.H=1,he.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Wf(this,this.l,t);let o=this.s;if(this.U&&(o?(o=bO(o),SO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wk(this,i,e),on(n=vs(this.I),"RID",t),on(n,"CVER",22),this.F&&on(n,"X-HTTP-Session-Id",this.F),rp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(yk(o)))+"&"+e:this.o&&bT(n,this.o,o)),TT(this.i,i),this.bb&&on(n,"TYPE","init"),this.P?(on(n,"$req",e),on(n,"SID","null"),i.aa=!0,IT(i,n,null)):IT(i,n,e),this.H=2}}else 3==this.H&&(t?Ik(this,t):0==this.j.length||ak(this.i)||Ik(this))},he.Ma=function(){if(this.u=null,Tk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gf(Rr(this.jb,this),t)}},he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xr(10),dy(this),Tk(this))},he.ib=function(){null!=this.v&&(this.v=null,dy(this),ST(this),Xr(19))},he.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xr(2)):(this.l.info("Failed to ping google.com"),Xr(1))},he.isActive=function(){return!!this.h&&this.h.isActive(this)},(he=Pk.prototype).Ba=function(){},he.Aa=function(){},he.za=function(){},he.ya=function(){},he.isActive=function(){return!0},he.Va=function(){},py.prototype.g=function(t,e){return new bi(t,e)},ar(bi,ur),bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Sk(t,null,t.Y),hy(t)},bi.prototype.close=function(){AT(this.g)},bi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=hT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&hy(e)},bi.prototype.N=function(){this.g.h=null,delete this.j,AT(this.g),delete this.g,bi.$.N.call(this)},ar(Mk,_T),ar(xk,yT),ar(Ml,Pk),Ml.prototype.Ba=function(){yr(this.g,"a")},Ml.prototype.Aa=function(t){yr(this.g,new Mk(t))},Ml.prototype.za=function(t){yr(this.g,new xk)},Ml.prototype.ya=function(){yr(this.g,"b")},ar(co,function x7(){this.blockSize=-1}),co.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},co.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)PT(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){PT(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){PT(this,r),i=0;break}}this.h=i,this.i+=e},co.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var N7={};function MT(t){return-128<=t&&128>t?function j8(t,e){var n=N7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Vt([0|e],0>e?-1:0)}):new Vt([0|t],0>t?-1:0)}function Fo(t){if(isNaN(t)||!isFinite(t))return xl;if(0>t)return vr(Fo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xT;return new Vt(e,0)}var xT=4294967296,xl=MT(0),NT=MT(1),Ok=MT(16777216);function Es(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ki(t){return-1==t.h}function vr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Vt(n,~t.h).add(NT)}function gy(t,e){return t.add(vr(e))}function my(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ip(t,e){this.g=t,this.h=e}function _y(t,e){if(Es(e))throw Error("division by zero");if(Es(t))return new ip(xl,xl);if(Ki(t))return e=_y(vr(t),e),new ip(vr(e.g),vr(e.h));if(Ki(e))return e=_y(t,vr(e)),new ip(vr(e.g),e.h);if(30<t.g.length){if(Ki(t)||Ki(e))throw Error("slowDivide_ only works with positive integers.");for(var n=NT,r=e;0>=r.X(t);)n=kk(n),r=kk(r);var i=Nl(n,1),o=Nl(r,1);for(r=Nl(r,2),n=Nl(n,2);!Es(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Nl(r,1),n=Nl(n,1)}return e=gy(t,i.R(e)),new ip(i,e)}for(i=xl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Fo(n)).R(e);Ki(s)||0<s.X(t);)s=(o=Fo(n-=r)).R(e);Es(o)&&(o=NT),i=i.add(o),t=gy(t,s)}return new ip(i,t)}function kk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Vt(n,t.h)}function Nl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Vt(i,t.h)}(he=Vt.prototype).ea=function(){if(Ki(this))return-vr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xT+r)*e,e*=xT}return t},he.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Es(this))return"0";if(Ki(this))return"-"+vr(this).toString(t);for(var e=Fo(Math.pow(t,6)),n=this,r="";;){var i=_y(n,e).g,o=((0<(n=gy(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Es(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},he.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},he.X=function(t){return Ki(t=gy(this,t))?-1:Es(t)?0:1},he.abs=function(){return Ki(this)?vr(this):this},he.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Vt(n,-2147483648&n[n.length-1]?-1:0)},he.R=function(t){if(Es(this)||Es(t))return xl;if(Ki(this))return Ki(t)?vr(this).R(vr(t)):vr(vr(this).R(t));if(Ki(t))return vr(this.R(vr(t)));if(0>this.X(Ok)&&0>t.X(Ok))return Fo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,my(n,2*r+2*i),n[2*r+2*i+1]+=o*u,my(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,my(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,my(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Vt(n,0)},he.gb=function(t){return _y(this,t).h},he.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Vt(n,this.h&t.h)},he.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Vt(n,this.h|t.h)},he.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Vt(n,this.h^t.h)},py.prototype.createWebChannel=py.prototype.g,bi.prototype.send=bi.prototype.u,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,ny.NO_ERROR=0,ny.TIMEOUT=8,ny.HTTP_ERROR=6,zO.COMPLETE="complete",qO.EventType=qf,qf.OPEN="a",qf.CLOSE="b",qf.ERROR="c",qf.MESSAGE="d",ur.prototype.listen=ur.prototype.O,Tn.prototype.listenOnce=Tn.prototype.P,Tn.prototype.getLastError=Tn.prototype.Sa,Tn.prototype.getLastErrorCode=Tn.prototype.Ia,Tn.prototype.getStatus=Tn.prototype.da,Tn.prototype.getResponseJson=Tn.prototype.Wa,Tn.prototype.getResponseText=Tn.prototype.ja,Tn.prototype.send=Tn.prototype.ha,Tn.prototype.setWithCredentials=Tn.prototype.Oa,co.prototype.digest=co.prototype.l,co.prototype.reset=co.prototype.reset,co.prototype.update=co.prototype.j,Vt.prototype.add=Vt.prototype.add,Vt.prototype.multiply=Vt.prototype.R,Vt.prototype.modulo=Vt.prototype.gb,Vt.prototype.compare=Vt.prototype.X,Vt.prototype.toNumber=Vt.prototype.ea,Vt.prototype.toString=Vt.prototype.toString,Vt.prototype.getBits=Vt.prototype.D,Vt.fromNumber=Fo,Vt.fromString=function Nk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return vr(Nk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fo(Math.pow(e,8)),r=xl,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Fo(Math.pow(e,o)),r=r.R(o).add(Fo(s))):r=(r=r.R(n)).add(Fo(s))}return r};var O7=uo.createWebChannelTransport=function(){return new py},k7=uo.getStatEventTarget=function(){return ty()},OT=uo.ErrorCode=ny,V7=uo.EventType=zO,F7=uo.Event=fu,Vk=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yy=(uo.FetchXmlHttpFactory=Xf,uo.WebChannel=qO),L7=uo.XhrIo=Tn,U7=uo.Md5=co,Ol=uo.Integer=Vt;const Fk="@firebase/firestore";class cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let kl="10.7.0";const fa=new ys.Yd("@firebase/firestore");function Vl(){return fa.logLevel}function te(t,...e){if(fa.logLevel<=ys.in.DEBUG){const n=e.map(kT);fa.debug(`Firestore (${kl}): ${t}`,...n)}}function kn(t,...e){if(fa.logLevel<=ys.in.ERROR){const n=e.map(kT);fa.error(`Firestore (${kl}): ${t}`,...n)}}function Ai(t,...e){if(fa.logLevel<=ys.in.WARN){const n=e.map(kT);fa.warn(`Firestore (${kl}): ${t}`,...n)}}function kT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ee(t="Unexpected state"){const e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+t;throw kn(e),new Error(e)}function Ae(t,e){t||Ee()}function se(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Vf.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Lk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cr.UNAUTHENTICATED))}shutdown(){}}class j7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $7{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,Fe.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},u=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae("string"==typeof r.accessToken),new Lk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(null===e||"string"==typeof e),new cr(e)}}class H7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae("string"==typeof n.token),this.R=n.token,new Uk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function q7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Bk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=q7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class yn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new yn(0,0))}static max(){return new Re(new yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class op{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ee(),void 0===r?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===op.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof op?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends op{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const W7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends op{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return W7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(vt.fromString(e))}static fromName(e){return new ce(vt.fromString(e).popFirst(5))}static empty(){return new ce(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new vt(e.slice()))}}function Hk(t){return new Si(t.readTime,t.key,-1)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(Re.min(),ce.empty(),-1)}static max(){return new Si(Re.max(),ce.empty(),-1)}}function FT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ce.comparator(t.documentKey,e.documentKey),0!==n?n:He(t.largestBatchId,e.largestBatchId))}const zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pa(t){return LT.apply(this,arguments)}function LT(){return LT=(0,Fe.Z)(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==zk)throw t;te("LocalStore","Unexpectedly lost primary lease")}),LT.apply(this,arguments)}class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function ga(t){return"IndexedDbTransactionError"===t.name}let Ri=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ap(t){return null==t}function up(t){return 0===t&&1/t==-1/0}function Xk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class Kt{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iy(this.root,e,this.comparator,!0)}}class Iy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=o??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tV(this.data.getIterator())}getIteratorFrom(e){return new tV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class tV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ci{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new Bt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class nV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nV("Invalid base64 string: "+o):o}}(e);return new Xn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const vK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(Ae(!!t),"string"==typeof t){let e=0;const n=vK.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dn(t.seconds),nanos:Dn(t.nanos)}}function Dn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Is(t){return"string"==typeof t?Xn.fromBase64String(t):Xn.fromUint8Array(t)}function wy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cy(t){const e=t.mapValue.fields.__previous_value__;return wy(e)?Cy(e):e}function cp(t){const e=_a(t.mapValue.fields.__local_write_time__.timestampValue);return new yn(e.seconds,e.nanos)}class EK{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}const ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:sV(t)?9007199254740991:10:Ee()}function Uo(t,e){if(t===e)return!0;const n=va(t);if(n!==va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cp(t).isEqual(cp(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=_a(i.timestampValue),a=_a(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Is(t.bytesValue).isEqual(Is(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Dn(i.geoPointValue.latitude)===Dn(o.geoPointValue.latitude)&&Dn(i.geoPointValue.longitude)===Dn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Dn(i.integerValue)===Dn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Dn(i.doubleValue),a=Dn(o.doubleValue);return s===a?up(s)===up(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Xk(s)!==Xk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Uo(s[u],a[u])))return!1;return!0}(t,e);default:return Ee()}var o}function lp(t,e){return void 0!==(t.values||[]).find(n=>Uo(n,e))}function Ea(t,e){if(t===e)return 0;const n=va(t),r=va(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Dn(o.integerValue||o.doubleValue),u=Dn(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return rV(t.timestampValue,e.timestampValue);case 4:return rV(cp(t),cp(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Is(o),u=Is(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=He(a[l],u[l]);if(0!==h)return h}return He(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=He(Dn(o.latitude),Dn(s.latitude));return 0!==a?a:He(Dn(o.longitude),Dn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){const h=Ea(a[l],u[l]);if(h)return h}return He(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ya.mapValue&&s===ya.mapValue)return 0;if(o===ya.mapValue)return 1;if(s===ya.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){const m=He(u[g],h[g]);if(0!==m)return m;const y=Ea(a[u[g]],l[h[g]]);if(0!==y)return y}return He(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function rV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return He(t,e);const n=_a(t),r=_a(e),i=He(n.seconds,r.seconds);return 0!==i?i:He(n.nanos,r.nanos)}function jl(t){return jT(t)}function jT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_a(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Is(t.bytesValue).toBase64():"referenceValue"in t?ce.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=jT(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${jT(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function $T(t){return!!t&&"integerValue"in t}function dp(t){return!!t&&"arrayValue"in t}function iV(t){return!!t&&"nullValue"in t}function oV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function by(t){return!!t&&"mapValue"in t}function hp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!by(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=hp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());by(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];by(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ma(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ir(hp(this.value))}}class sn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,Re.min(),Re.min(),Re.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,i){return new sn(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new sn(e,2,n,Re.min(),Re.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Re.min(),Re.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ia{constructor(e,n){this.position=e,this.inclusive=n}}function lV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ce.comparator(ce.fromName(s.referenceValue),n.key):Ea(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function dV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Uo(t.position[n],e.position[n]))return!1;return!0}class fp{constructor(e,n="asc"){this.field=e,this.dir=n}}function CK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class hV{}class pt extends hV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new TK(e,n,r):"array-contains"===n?new AK(e,r):"in"===n?new yV(e,r):"not-in"===n?new SK(e,r):"array-contains-any"===n?new RK(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new DK(e,r):new bK(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ea(n,this.value)):null!==n&&va(this.value)===va(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ft extends hV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ft(e,n)}matches(e){return $l(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $l(t){return"and"===t.op}function zT(t){return function fV(t){for(const e of t.filters)if(e instanceof Ft)return!1;return!0}(t)&&$l(t)}function GT(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(zT(t))return t.filters.map(e=>GT(e)).join(",");{const e=t.filters.map(n=>GT(n)).join(",");return`${t.op}(${e})`}}function pV(t,e){return t instanceof pt?(r=t,(i=e)instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Uo(r.value,i.value)):t instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&pV(s,i.filters[a]),!0)}(t,e):void Ee();var r,i}function mV(t){return t instanceof pt?`${(n=t).field.canonicalString()} ${n.op} ${jl(n.value)}`:t instanceof Ft?function(n){return n.op.toString()+" {"+n.getFilters().map(mV).join(" ,")+"}"}(t):"Filter";var n}class TK extends pt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class DK extends pt{constructor(e,n){super(e,"in",n),this.keys=_V(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bK extends pt{constructor(e,n){super(e,"not-in",n),this.keys=_V(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _V(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class AK extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&lp(n.arrayValue,this.value)}}class yV extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&lp(this.value.arrayValue,n)}}class SK extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!lp(this.value.arrayValue,n)}}class RK extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lp(this.value.arrayValue,r))}}class PK{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function qT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new PK(t,e,n,r,i,o,s)}function wu(t){const e=se(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>GT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ce=n}return e.ce}function pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dV(t.startAt,e.startAt)&&dV(t.endAt,e.endAt)}function Ay(t){return ce.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ws{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Hl(t){return new ws(t)}function wV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function zl(t){const e=se(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bt(cn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new fp(o,r))}),n.has(cn.keyField().canonicalString())||e.le.push(new fp(cn.keyField(),r))}return e.le}function ei(t){const e=se(t);return e.he||(e.he=function CV(t,e){if("F"===t.limitType)return qT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new fp(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ia(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ia(t.startAt.position,t.startAt.inclusive):null;return qT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,zl(t))),e.he}function Ry(t,e,n){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gp(t,e){return pp(ei(t),ei(e))&&t.limitType===e.limitType}function TV(t){return`${wu(ei(t))}|lt:${t.limitType}`}function Gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mV(i)).join(", ")}]`),ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(ei(t))}; limitType=${t.limitType})`}function mp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of zl(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const l=lV(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,zl(r),i)||r.endAt&&!function(s,a,u){const l=lV(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,zl(r),i)));var r,i}function bV(t){return(e,n)=>{let r=!1;for(const i of zl(t)){const o=MK(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function MK(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return null!==u&&null!==l?Ea(u,l):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return function eV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const xK=new Kt(ce.comparator);function li(){return xK}const AV=new Kt(ce.comparator);function _p(...t){let e=AV;for(const n of t)e=e.insert(n.key,n);return e}function SV(t){let e=AV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return yp()}function RV(){return yp()}function yp(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}new Kt(ce.comparator);const OK=new Bt(ce.comparator);function Qe(...t){let e=OK;for(const n of t)e=e.add(n);return e}const kK=new Bt(He);class Py{constructor(){this._=void 0}}function VK(t,e,n){return t instanceof ql?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wy(o)&&(o=Cy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Cu?OV(t,e):t instanceof Tu?kV(t,e):function(i,o){const s=function NV(t,e){return t instanceof Wl?$T(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}(i,o),a=VV(s)+VV(i.Ie);return $T(s)&&$T(i.Ie)?function MV(t){return{integerValue:""+t}}(a):function PV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}(i.serializer,a)}(t,e)}function FK(t,e,n){return t instanceof Cu?OV(t,e):t instanceof Tu?kV(t,e):n}class ql extends Py{}class Cu extends Py{constructor(e){super(),this.elements=e}}function OV(t,e){const n=FV(e);for(const r of t.elements)n.some(i=>Uo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tu extends Py{constructor(e){super(),this.elements=e}}function kV(t,e){let n=FV(e);for(const r of t.elements)n=n.filter(i=>!Uo(i,r));return{arrayValue:{values:n}}}class Wl extends Py{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function VV(t){return Dn(t.integerValue||t.doubleValue)}function FV(t){return dp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function My(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class QT{}function LV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Zl(t.key,ln.none()):new Kl(t.key,t.data,ln.none());{const n=t.data,r=Ir.empty();let i=new Bt(cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ts(t.key,r,new ci(i.toArray()),ln.none())}}function BK(t,e,n){t instanceof Kl?function(i,o,s){const a=i.value.clone(),u=jV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ts?function(i,o,s){if(!My(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=jV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(BV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ep(t,e,n,r){return t instanceof Kl?function(o,s,a,u){if(!My(o.precondition,s))return a;const l=o.value.clone(),h=$V(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ts?function(o,s,a,u){if(!My(o.precondition,s))return a;const l=$V(o.fieldTransforms,u,s),h=s.data;return h.setAll(BV(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,My(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function UV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Fl(r,i,(o,s)=>function LK(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Cu&&i instanceof Cu||r instanceof Tu&&i instanceof Tu?Fl(r.elements,i.elements,Uo):r instanceof Wl&&i instanceof Wl?Uo(r.Ie,i.Ie):r instanceof ql&&i instanceof ql);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Kl extends QT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends QT{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jV(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,FK(s,a,n[i]))}return r}function $V(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,VK(o,s,e))}return r}class Zl extends QT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&BK(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ep(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ep(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=LV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>UV(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>UV(n,r))}}class e0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class HK{constructor(e,n){this.count=e,this.unchangedNames=n}}var jn,Et;function zV(t){if(void 0===t)return kn("GRPC error has no .code"),B.UNKNOWN;switch(t){case jn.OK:return B.OK;case jn.CANCELLED:return B.CANCELLED;case jn.UNKNOWN:return B.UNKNOWN;case jn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case jn.INTERNAL:return B.INTERNAL;case jn.UNAVAILABLE:return B.UNAVAILABLE;case jn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case jn.NOT_FOUND:return B.NOT_FOUND;case jn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case jn.ABORTED:return B.ABORTED;case jn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case jn.DATA_LOSS:return B.DATA_LOSS;default:return Ee()}}(Et=jn||(jn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";const zK=new Ol([4294967295,4294967295],0);function qV(t){const e=function GV(){return new TextEncoder}().encode(t),n=new U7;return n.update(e),new Uint8Array(n.digest())}function WV(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ol([n,r],0),new Ol([i,o],0)]}class t0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ip(`Invalid padding: ${n}`);if(r<0)throw new Ip(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ip(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ip(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ol.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ol.fromNumber(r)));return 1===i.compare(zK)&&(i=new Ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=qV(e),[r,i]=WV(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=qV(e),[r,i]=WV(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wp(Re.min(),i,new Kt(He),li(),Qe())}}class Cp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cp(r,n,Qe(),Qe(),Qe())}}class Ny{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class KV{constructor(e,n){this.targetId=e,this.fe=n}}class ZV{constructor(e,n,r=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QV{constructor(){this.ge=0,this.pe=JV(),this.ye=Xn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Cp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=JV()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class GK{constructor(e){this.Le=e,this.ke=new Map,this.qe=li(),this.Qe=YV(),this.Ke=new Kt(He)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Ay(o))if(0===r){const s=new ce(o.path);this.We(n,s,sn.newNoDocument(s,Re.min()))}else Ae(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Is(r).toUint8Array()}catch(u){if(u instanceof nV)return Ai("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new t0(s,i,o)}catch(u){return Ai(u instanceof Ip?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Ay(a.target)){const u=new ce(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,sn.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Qe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new wp(e,n,this.Ke,this.qe,r);return this.qe=li(),this.Qe=YV(),this.Ke=new Kt(He),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new QV,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Bt(He),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new QV),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function YV(){return new Kt(ce.comparator)}function JV(){return new Kt(ce.comparator)}const qK={asc:"ASCENDING",desc:"DESCENDING"},WK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KK={and:"AND",or:"OR"};class ZK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function n0(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function Vn(t){return Ae(!!t),Re.fromTimestamp(function(n){const r=_a(n);return new yn(r.seconds,r.nanos)}(t))}function eF(t){const e=vt.fromString(t);return Ae(cF(e)),e}function jo(t,e){const n=eF(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(nF(n))}function o0(t,e){return function r0(t,e){return(r=t,new vt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}(t.databaseId,e)}function Dp(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nF(t){return Ae(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function oF(t,e){return{documents:[o0(t,e.path)]}}function a0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=o0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=o0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return uF(Ft.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(l=>{return{field:wa((g=l).field),direction:tZ(g.dir)};var g})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=n0(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function sF(t){let e=function tF(t){const e=eF(t);return 4===e.length?vt.emptyPath():nF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=aF(g);return m instanceof Ft&&zT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new fp(Yl((T=m).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,ap(m)?null:m}(n.limit));let u=null;var g;n.startAt&&(u=new Ia((g=n.startAt).values||[],!!g.before));let l=null;return n.endAt&&(l=function(g){return new Ia(g.values||[],!g.before)}(n.endAt)),function IV(t,e,n,r,i,o,s,a){return new ws(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,l)}function aF(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yl(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yl(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yl(n.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yl(n.unaryFilter.field);return pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):void 0!==t.fieldFilter?pt.create(Yl((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ft.create(n.compositeFilter.filters.map(r=>aF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee();var n}function tZ(t){return qK[t]}function nZ(t){return WK[t]}function rZ(t){return KK[t]}function wa(t){return{fieldPath:t.canonicalString()}}function Yl(t){return cn.fromServerFormat(t.fieldPath)}function uF(t){return t instanceof pt?function(n){if("=="===n.op){if(oV(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(iV(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(oV(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(iV(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:nZ(n.op),value:n.value}}}(t):t instanceof Ft?function(n){const r=n.getFilters().map(i=>uF(i));return 1===r.length?r[0]:{compositeFilter:{op:rZ(n.op),filters:r}}}(t):Ee()}function cF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ds{constructor(e,n,r,i,o=Re.min(),s=Re.min(),a=Xn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lF{constructor(e){this.ut=e}}function u0(t){const e=sF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ry(e,e.limit,"L"):e}class Su{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Dn(e.integerValue));else if("doubleValue"in e){const r=Dn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),up(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Is(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?sV(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ee()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ce.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Su.St=new Su;class hZ{constructor(){this.on=new p0}addToCollectionParentIndex(e,n){return this.on.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Si.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class p0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(vt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(vt.comparator)).toArray()}}new Uint8Array(0);class xr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(41943040,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);class Pu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Pu(0)}static Nn(){return new Pu(-1)}}class yZ{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ep(r.mutation,i,ci.empty(),yn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=_p();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=li();const s=yp(),a=yp();return n.forEach((u,l)=>{const h=r.get(l.key);i.has(l.key)&&(void 0===h||h.mutation instanceof Ts)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Ep(h.mutation,l,h.mutation.getFieldMask(),yn.now())):s.set(l.key,ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var g;return a.set(l,new IZ(h,null!==(g=s.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yp();let i=new Kt((s,a)=>s-a),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(null===l)return;let h=r.get(u)||ci.empty();h=a.applyToLocalView(l,h),r.set(u,h);const g=(i.get(a.batchId)||Qe()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,g=RV();h.forEach(m=>{if(!o.has(m)){const y=LV(n.get(m),r.get(m));null!==y&&g.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ce.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function WT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Bo());let a=-1,u=o;return s.next(l=>O.forEach(l,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Qe())).next(h=>({batchId:a,changes:SV(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=_p();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=_p();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{const l=(g=n,m=u.child(o),new ws(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,sn.newInvalidDocument(h)))});let a=_p();return s.forEach((u,l)=>{const h=o.get(u);void 0!==h&&Ep(h.mutation,l,ci.empty(),yn.now()),mp(n,l)&&(a=a.insert(u,l))}),a})}}class wZ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Vn(i.createTime)}),O.resolve();var i}getNamedQuery(e,n){return O.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:u0(i.bundledQuery),readTime:Vn(i.readTime)}),O.resolve();var i}}class CZ{constructor(){this.overlays=new Kt(ce.comparator),this.lr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bo();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Bo(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Kt((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);null===h&&(h=Bo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Bo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new e0(n,r));let o=this.lr.get(n);void 0===o&&(o=Qe(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class g0{constructor(){this.hr=new Bt(dr.Pr),this.Ir=new Bt(dr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new dr(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new dr(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ce(new vt([])),r=new dr(n,e),i=new dr(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ce(new vt([])),r=new dr(n,e),i=new dr(n,e+1);let o=Qe();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new dr(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class dr{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ce.comparator(e.key,n.key)||He(e.gr,n.gr)}static Tr(e,n){return He(e.gr,n.gr)||ce.comparator(e.key,n.key)}}class TZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Bt(dr.Pr)}checkEmpty(e){return O.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new JT(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new dr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dr(n,0),i=new dr(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(He);return n.forEach(i=>{const o=new dr(i,0),s=new dr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),O.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new dr(new ce(o),0);let a=new Bt(He);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},s),O.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ae(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return O.forEach(n.mutations,i=>{const o=new dr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new dr(n,0),i=this.yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return O.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DZ{constructor(e){this.Cr=e,this.docs=new Kt(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=li();const s=n.path,a=new ce(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||FT(Hk(h),r)<=0||(i.has(h.key)||mp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}vr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bZ(this)}getSize(e){return O.resolve(this.size)}}class bZ extends yZ{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class AZ{constructor(e){this.persistence=e,this.Fr=new Cs(n=>wu(n),pp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Mr=0,this.Or=new g0,this.targetCount=0,this.Nr=Pu.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),O.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Pu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.kn(n),O.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Or.containsKey(n))}}class m0{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ri(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new AZ(this),this.indexManager=new hZ,this.remoteDocumentCache=new DZ(r=>this.referenceDelegate.Qr(r)),this.serializer=new lF(n),this.Kr=new wZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new TZ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new SZ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return O.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class SZ extends Q7{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.Gr=new g0,this.zr=null}static jr(e){return new jy(e)}get Hr(){if(this.zr)return this.zr;throw Ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,r=>{const i=ce.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Re.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class E0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new E0(e,n.fromCache,r,i)}}class PZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UF{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new PZ;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Vl()<=ys.in.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(Vl()<=ys.in.DEBUG&&te("QueryEngine","Query:",Gl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Vl()<=ys.in.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):O.resolve())}zi(e,n){if(wV(n))return O.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ry(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Qe(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,s,u.readTime)?this.zi(e,Ry(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return wV(n)||i.isEqual(Re.min())?O.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?O.resolve(null):(Vl()<=ys.in.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gl(n)),this.Xi(e,s,n,function $k(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(1e9===r?new yn(n+1,0):new yn(n,r));return new Si(i,ce.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Bt(bV(e));return n.forEach((i,o)=>{mp(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Vl()<=ys.in.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Gl(n)),this.Gi.getDocumentsMatchingQuery(e,n,Si.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class MZ{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Kt(He),this.ns=new Cs(o=>wu(o),pp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function jF(t,e){return I0.apply(this,arguments)}function I0(){return I0=(0,Fe.Z)(function*(t,e){const n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Qe();for(const l of i){s.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),I0.apply(this,arguments)}function $F(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function rd(t,e,n){return w0.apply(this,arguments)}function w0(){return w0=(0,Fe.Z)(function*(t,e,n){const r=se(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ga(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),w0.apply(this,arguments)}function zy(t,e,n){const r=se(t);let i=Re.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){const g=se(u),m=g.ns.get(h);return void 0!==m?O.resolve(g.ts.get(m)):g.qr.getTargetData(l,h)}(r,s,ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Re.min(),n?o:Qe())).next(a=>(function qF(t,e,n){let r=t.rs.get(e)||Re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function DV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class A0{constructor(){this.activeTargetIds=function ZT(){return kK}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZF{constructor(){this.eo=new A0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new A0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FZ{ro(e){}shutdown(){}}class QF{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wy=null;function R0(){return null===Wy?Wy=268435456+Math.round(2147483648*Math.random()):Wy++,"0x"+Wy.toString(16)}const LZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UZ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Nr="WebChannelConnection";class BZ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=R0(),u=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,u,l,i).then(h=>(te("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ai("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+kl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${LZ[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=R0();return new Promise((s,a)=>{const u=new L7;u.setWithCredentials(!0),u.listenOnce(V7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case OT.NO_ERROR:const h=u.getResponseJson();te(Nr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case OT.TIMEOUT:te(Nr,`RPC '${e}' ${o} timed out`),a(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case OT.HTTP_ERROR:const g=u.getStatus();if(te(Nr,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const T=function(R){const V=R.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(V)>=0?V:B.UNKNOWN}(y.status);a(new ne(T,y.message))}else a(new ne(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ne(B.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{te(Nr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);te(Nr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=R0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O7(),a=k7(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");te(Nr,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=s.createWebChannel(h,u);let m=!1,y=!1;const T=new UZ({co:R=>{y?te(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(te(Nr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),te(Nr,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},lo:()=>g.close()}),D=(R,V,x)=>{R.listen(V,j=>{try{x(j)}catch(ie){setTimeout(()=>{throw ie},0)}})};return D(g,yy.EventType.OPEN,()=>{y||te(Nr,`RPC '${e}' stream ${i} transport opened.`)}),D(g,yy.EventType.CLOSE,()=>{y||(y=!0,te(Nr,`RPC '${e}' stream ${i} transport closed`),T.Ro())}),D(g,yy.EventType.ERROR,R=>{y||(y=!0,Ai(Nr,`RPC '${e}' stream ${i} transport errored:`,R),T.Ro(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),D(g,yy.EventType.MESSAGE,R=>{var V;if(!y){const x=R.data[0];Ae(!!x);const ie=x.error||(null===(V=x[0])||void 0===V?void 0:V.error);if(ie){te(Nr,`RPC '${e}' stream ${i} received error:`,ie);const fe=ie.status;let Be=function(Gp){const yv=jn[Gp];if(void 0!==yv)return zV(yv)}(fe),xt=ie.message;void 0===Be&&(Be=B.INTERNAL,xt="Unknown error status: "+fe+" with message "+ie.message),y=!0,T.Ro(new ne(Be,xt)),g.close()}else te(Nr,`RPC '${e}' stream ${i} received:`,x),T.Vo(x)}}),D(a,F7.STAT_EVENT,R=>{R.stat===Vk.PROXY?te(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Vk.NOPROXY&&te(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.Ao()},0),T}}function Ky(){return typeof document<"u"?document:null}function Op(t){return new ZK(t,!0)}class P0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class jZ{constructor(e,n,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new P0(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Fe.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Fe.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,Fe.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Fe.Z)(function*(){e.state=0,e.start()}))}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $Z extends jZ{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function JK(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ee(),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ae(void 0===h||"string"==typeof h),Xn.fromBase64String(h||"")):(Ae(void 0===h||h instanceof Uint8Array),Xn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?B.UNKNOWN:zV(l.code);return new ne(h,l.message||"")}(s);n=new ZV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=jo(t,r.document.name),o=Vn(r.document.updateTime),s=r.document.createTime?Vn(r.document.createTime):Re.min(),a=new Ir({mapValue:{fields:r.document.fields}}),u=sn.newFoundDocument(i,o,s,a);n=new Ny(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=jo(t,r.document),o=r.readTime?Vn(r.readTime):Re.min(),s=sn.newNoDocument(i,o);n=new Ny([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=jo(t,r.document);n=new Ny([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ee();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new HK(i,o);n=new KV(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?Vn(s.readTime):Re.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Dp(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Ay(u)?{documents:oF(o,u)}:{query:a0(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=function XV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(o,s.resumeToken);const l=n0(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Re.min())>0){a.readTime=function Ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(o,s.snapshotVersion.toTimestamp());const l=n0(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function eZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.e_(n)}}class zZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class qZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(kn(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class WZ{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget((0,Fe.Z)(function*(){var u;ba(s)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Fe.Z)(function*(h){const g=se(h);g.C_.add(4),yield id(g),g.M_.set("Unknown"),g.C_.delete(4),yield kp(g)}),function l(h){return u.apply(this,arguments)})(s))}))}),this.M_=new qZ(r,i)}}function kp(t){return x0.apply(this,arguments)}function x0(){return x0=(0,Fe.Z)(function*(t){if(ba(t))for(const e of t.v_)yield e(!0)}),x0.apply(this,arguments)}function id(t){return N0.apply(this,arguments)}function N0(){return N0=(0,Fe.Z)(function*(t){for(const e of t.v_)yield e(!1)}),N0.apply(this,arguments)}function Zy(t,e){const n=se(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),V0(n)?k0(n):sd(n).Ho()&&O0(n,e))}function Vp(t,e){const n=se(t),r=sd(n);n.D_.delete(e),r.Ho()&&JF(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ba(n)&&n.M_.set("Unknown"))}function O0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sd(t).u_(e)}function JF(t,e){t.x_.Oe(e),sd(t).c_(e)}function k0(t){t.x_=new GK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),sd(t).start(),t.M_.g_()}function V0(t){return ba(t)&&!sd(t).jo()&&t.D_.size>0}function ba(t){return 0===se(t).C_.size}function XF(t){t.x_=void 0}function KZ(t){return F0.apply(this,arguments)}function F0(){return F0=(0,Fe.Z)(function*(t){t.D_.forEach((e,n)=>{O0(t,e)})}),F0.apply(this,arguments)}function ZZ(t,e){return L0.apply(this,arguments)}function L0(){return L0=(0,Fe.Z)(function*(t,e){XF(t),V0(t)?(t.M_.w_(e),k0(t)):t.M_.set("Unknown")}),L0.apply(this,arguments)}function QZ(t,e,n){return U0.apply(this,arguments)}function U0(){return U0=(0,Fe.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof ZV&&2===e.state&&e.cause)try{yield(r=(0,Fe.Z)(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qy(t,r)}else if(e instanceof Ny?t.x_.$e(e):e instanceof KV?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Re.min()))try{const r=yield $F(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const h=o.D_.get(u);if(!h)return;o.D_.set(u,h.withResumeToken(Xn.EMPTY_BYTE_STRING,h.snapshotVersion)),JF(o,u);const g=new Ds(h.target,u,l,h.sequenceNumber);O0(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield Qy(t,r)}var r}),U0.apply(this,arguments)}function Qy(t,e,n){return B0.apply(this,arguments)}function B0(){return B0=(0,Fe.Z)(function*(t,e,n){if(!ga(e))throw e;t.C_.add(1),yield id(t),t.M_.set("Offline"),n||(n=()=>$F(t.localStore)),t.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield kp(t)}))}),B0.apply(this,arguments)}function rL(t,e){return q0.apply(this,arguments)}function q0(){return q0=(0,Fe.Z)(function*(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=ba(n);n.C_.add(3),yield id(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield kp(n)}),q0.apply(this,arguments)}function K0(){return K0=(0,Fe.Z)(function*(t,e){const n=se(t);e?(n.C_.delete(2),yield kp(n)):e||(n.C_.add(2),yield id(n),n.M_.set("Unknown"))}),K0.apply(this,arguments)}function sd(t){return t.O_||(t.O_=function(n,r,i){const o=se(n);return o.A_(),new $Z(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:KZ.bind(null,t),Io:ZZ.bind(null,t),a_:QZ.bind(null,t)}),t.v_.push(function(){var e=(0,Fe.Z)(function*(n){n?(t.O_.Yo(),V0(t)?k0(t):t.M_.set("Unknown")):(yield t.O_.stop(),XF(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}class Z0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Z0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(t,e){if(kn("AsyncQueue",`${e}: ${t}`),ga(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}class ud{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=_p(),this.sortedSet=new Kt(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ud;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class iL{constructor(){this.B_=new Kt(ce.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cd{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new cd(e,n,ud.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class rQ{constructor(){this.k_=void 0,this.listeners=[]}}class iQ{constructor(){this.queries=new Cs(e=>TV(e),gp),this.onlineState="Unknown",this.q_=new Set}}function Q0(t,e){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,Fe.Z)(function*(t,e){const n=se(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new rQ),i)try{o.k_=yield n.onListen(r)}catch(s){const a=ad(s,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&eD(n)}),Y0.apply(this,arguments)}function J0(t,e){return X0.apply(this,arguments)}function X0(){return X0=(0,Fe.Z)(function*(t,e){const n=se(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),X0.apply(this,arguments)}function oQ(t,e){const n=se(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&eD(n)}function sQ(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function eD(t){t.q_.forEach(e=>{e.next()})}class tD{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class aL{constructor(e){this.key=e}}class uL{constructor(e){this.key=e}}class cL{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=bV(e),this.aa=new ud(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new iL,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=mp(this.query,g)?g:null,T=!!m&&this.mutatedKeys.has(m.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?T!==D&&(r.track({type:3,doc:y}),R=!0):this.ha(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this._a(y,u)>0||l&&this._a(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=D?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((h,g)=>function(y,T){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return D(y)-D(T)}(h.type,g.type)||this._a(h.doc,g.doc)),this.Pa(r),i=null!=i&&i;const a=n&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,0!==s.length||l?{snapshot:new cd(this.query,e.aa,o,s,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new iL,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new uL(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new aL(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return cd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class cQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lQ{constructor(e){this.key=e,this.Ra=!1}}class dQ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Cs(a=>TV(a),gp),this.fa=new Map,this.ga=new Set,this.pa=new Kt(ce.comparator),this.ya=new Map,this.wa=new g0,this.Sa={},this.ba=new Map,this.Da=Pu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function hQ(t,e){return nD.apply(this,arguments)}function nD(){return nD=(0,Fe.Z)(function*(t,e){const n=function DD(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gQ.bind(null,e),e.Va.a_=oQ.bind(null,e.eventManager),e.Va.Fa=sQ.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function nd(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Ds(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,ei(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function rD(t,e,n,r,i){return iD.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Zy(n.remoteStore,s)}return i}),nD.apply(this,arguments)}function iD(){return iD=(0,Fe.Z)(function*(t,e,n,r,i){t.va=(g,m,y)=>{return(T=(0,Fe.Z)(function*(R,V,x,j){let ie=V.view.ca(x);ie.Zi&&(ie=yield zy(R.localStore,V.query,!1).then(({documents:$n})=>V.view.ca($n,ie)));const fe=j&&j.targetChanges.get(V.targetId),Be=j&&null!=j.targetMismatches.get(V.targetId),xt=V.view.applyChanges(ie,R.isPrimaryClient,fe,Be);return pD(R,V.targetId,xt.Ta),xt.snapshot}),function D(R,V,x,j){return T.apply(this,arguments)})(t,g,m,y);var T};const o=yield zy(t.localStore,e,!0),s=new cL(e,o.ls),a=s.ca(o.documents),u=Cp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,u);pD(t,n,l.Ta);const h=new cQ(e,n,s);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),iD.apply(this,arguments)}function fQ(t,e){return oD.apply(this,arguments)}function oD(){return oD=(0,Fe.Z)(function*(t,e){const n=se(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!gp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Vp(n.remoteStore,r.targetId),ld(n,r.targetId)}).catch(pa))):(ld(n,r.targetId),yield rd(n.localStore,r.targetId,!0))}),oD.apply(this,arguments)}function lL(t,e){return aD.apply(this,arguments)}function aD(){return aD=(0,Fe.Z)(function*(t,e){const n=se(t);try{const r=yield function NZ(t,e){const n=se(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,g)));let y=m.withSequenceNumber(o.currentSequenceNumber);var D,R,V;null!==e.targetMismatches.get(g)?y=y.withResumeToken(Xn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),R=y,V=h,(0===(D=m).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,y))});let u=li(),l=Qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(function HF(t,e,n){let r=Qe(),i=Qe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=li();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(h=>{u=h.us,l=h.cs})),!r.isEqual(Re.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(g=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ae(s.Ra):i.removedDocuments.size>0&&(Ae(s.Ra),s.Ra=!1))}),yield bs(n,r,e)}catch(r){yield pa(r)}}),aD.apply(this,arguments)}function dL(t,e,n){const r=se(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=se(s);u.onlineState=a;let l=!1;u.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(l=!0)}),l&&eD(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gQ(t,e,n){return uD.apply(this,arguments)}function uD(){return uD=(0,Fe.Z)(function*(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Kt(ce.comparator);s=s.insert(o,sn.newNoDocument(o,Re.min()));const a=Qe().add(o),u=new wp(Re.min(),new Map,new Kt(He),s,a);yield lL(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),gD(r)}else yield rd(r.localStore,e,!1).then(()=>ld(r,e,n)).catch(pa)}),uD.apply(this,arguments)}function ld(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||hL(t,r)})}function hL(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Vp(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),gD(t))}function pD(t,e,n){for(const r of n)r instanceof aL?(t.wa.addReference(r.key,e),vQ(t,r)):r instanceof uL?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||hL(t,r.key)):Ee()}function vQ(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),gD(t))}function gD(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ce(vt.fromString(e)),r=t.Da.next();t.ya.set(r,new lQ(n)),t.pa=t.pa.insert(n,r),Zy(t.remoteStore,new Ds(ei(Hl(n.path)),r,"TargetPurposeLimboResolution",Ri._e))}}function bs(t,e,n){return mD.apply(this,arguments)}function mD(){return mD=(0,Fe.Z)(function*(t,e,n){const r=se(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const h=E0.Qi(u.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=(0,Fe.Z)(function*(l,h){const g=se(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>O.forEach(h,y=>O.forEach(y.ki,T=>g.persistence.referenceDelegate.addReference(m,y.targetId,T)).next(()=>O.forEach(y.qi,T=>g.persistence.referenceDelegate.removeReference(m,y.targetId,T)))))}catch(m){if(!ga(m))throw m;te("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const T=g.ts.get(y),R=T.withLastLimboFreeSnapshotVersion(T.snapshotVersion);g.ts=g.ts.insert(y,R)}}}),function u(l,h){return a.apply(this,arguments)})(r.localStore,o))}),mD.apply(this,arguments)}function EQ(t,e){return _D.apply(this,arguments)}function _D(){return _D=(0,Fe.Z)(function*(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=yield jF(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new ne(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bs(n,r._s)}var o}),_D.apply(this,arguments)}function IQ(t,e){const n=se(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class Yy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Fe.Z)(function*(){n.serializer=Op(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function BF(t,e,n,r){return new MZ(t,e,n,r)}(this.persistence,new UF,e.initialUser,this.serializer)}createPersistence(e){return new m0(jy.jr,this.serializer)}createSharedClientState(e){return new ZF}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dd{initialize(e,n){var r=this;return(0,Fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=EQ.bind(null,r.syncEngine),yield function W0(t,e){return K0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iQ}createDatastore(e){const n=Op(e.databaseInfo.databaseId),r=new BZ(e.databaseInfo);return new zZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>dL(this.syncEngine,n,0),a=QF.D()?new QF:new FZ,new WZ(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){const g=new dQ(i,o,s,a,u,l);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Fe.Z)(function*(r){const i=se(r);te("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield id(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class OQ{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cr.UNAUTHENTICATED,this.clientId=Bk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,Fe.Z)(function*(a){te("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ad(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Xy(t,e){return AD.apply(this,arguments)}function AD(){return AD=(0,Fe.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Fe.Z)(function*(o){r.isEqual(o)||(yield jF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),AD.apply(this,arguments)}function SD(t,e){return RD.apply(this,arguments)}function RD(){return RD=(0,Fe.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function PD(t){return MD.apply(this,arguments)}(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>rL(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>rL(e.remoteStore,o)),t._onlineComponents=e}),RD.apply(this,arguments)}function MD(){return MD=(0,Fe.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function yL(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),yield Xy(t,new Yy)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Xy(t,new Yy);return t._offlineComponents}),MD.apply(this,arguments)}function xD(){return xD=(0,Fe.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield SD(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield SD(t,new dd))),t._onlineComponents}),xD.apply(this,arguments)}function fd(t){return OD.apply(this,arguments)}function OD(){return OD=(0,Fe.Z)(function*(t){const e=yield function ev(t){return xD.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=hQ.bind(null,e.syncEngine),n.onUnlisten=fQ.bind(null,e.syncEngine),n}),OD.apply(this,arguments)}function TL(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const DL=new Map;function kD(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bL(t){if(!ce.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AL(t){if(ce.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function tv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ee()}(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class RL{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function GQ(t,e,n,r){if(!0===e&&!0===r)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=TL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new B7;switch(r.type){case"firstParty":return new z7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DL.get(n);r&&(te("ComponentProvider","Removing Datastore"),DL.delete(n),r.terminate())}(this),Promise.resolve()}}class wr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wr(this.firestore,e,this._query)}}class Fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class $o extends wr{constructor(e,n,r){super(e,n,Hl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new ce(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function WQ(t,e,...n){if(t=(0,Vf.m9)(t),kD("collection","path",e),t instanceof Fp){const r=vt.fromString(e,...n);return AL(r),new $o(t,null,r)}{if(!(t instanceof Fn||t instanceof $o))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return AL(r),new $o(t.firestore,null,r)}}function PL(t,e,...n){if(t=(0,Vf.m9)(t),1===arguments.length&&(e=Bk.newId()),kD("doc","path",e),t instanceof Fp){const r=vt.fromString(e,...n);return bL(r),new Fn(t,null,new ce(r))}{if(!(t instanceof Fn||t instanceof $o))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return bL(r),new Fn(t.firestore,t instanceof $o?t.converter:null,new ce(r))}}class KQ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new P0(this,"async_queue_retry"),this.iu=()=>{const n=Ky();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ky();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ky();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Jn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!ga(n))throw n;te("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,kn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Z0.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Ee()}verifyOperationInProgress(){}uu(){var e=this;return(0,Fe.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Zt extends Fp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new KQ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xL(this),this._firestoreClient.terminate()}}function QQ(t,e){const n="object"==typeof t?t:(0,ui.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,ui._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,Vf.P0)("firestore");o&&function qQ(t,e,n,r={}){var i;const o=(t=gt(t,Fp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=cr.MOCK_USER;else{a=(0,Vf.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new cr(l)}t._authCredentials=new j7(new Lk(a,u))}}(i,...o)}return i}function Ln(t){return t._firestoreClient||xL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xL(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new EK(t._databaseId,u,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TL(h.experimentalLongPollingOptions),h.useFetchStreams));var u,h;t._firestoreClient=new OQ(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(Xn.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xu(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}const iY=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ne(B.INVALID_ARGUMENT,a+t+u)}class jD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class oY extends jD{data(){return super.data()}}function ov(t,e){return"string"==typeof e?function rv(t,e,n){if(e.search(iY)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}class aY{convertValue(e,n="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ma(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new FD(Dn(e.latitude),Dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cy(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cp(e));default:return null}}convertTimestamp(e){const n=_a(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Ae(cF(r));const i=new Eu(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _d extends jD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cv extends _d{data(e={}){return super.data(e)}}class yd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cv(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new cv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new cv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:cY(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function lY(t){t=gt(t,Fn);const e=gt(t.firestore,Zt);return function wL(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(o,s,a,u,l){const h=new Jy({next:m=>{s.enqueueAndForget(()=>J0(o,g));const y=m.docs.has(a);!y&&m.fromCache?l.reject(new ne(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&"server"===u.source?l.reject(new ne(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new tD(Hl(a.path),h,{includeMetadataChanges:!0,J_:!0});return Q0(o,g)}(yield fd(t),t.asyncQueue,e,n,r)})),r.promise}(Ln(e),t._key).then(n=>function zD(t,e,n){const r=n.docs.get(e._key),i=new Sa(t);return new _d(t,i,e._key,r,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Sa extends aY{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function dY(t){t=gt(t,wr);const e=gt(t.firestore,Zt),n=Ln(e),r=new Sa(e);return function GL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function CL(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(o,s,a,u,l){const h=new Jy({next:m=>{s.enqueueAndForget(()=>J0(o,g)),m.fromCache&&"server"===u.source?l.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new tD(a,h,{includeMetadataChanges:!0,J_:!0});return Q0(o,g)}(yield fd(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new yd(e,r,t,i))}!function(e,n=!0){kl=ui.SDK_VERSION,(0,ui._registerComponent)(new P8.wA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Zt(new $7(r.getProvider("auth-internal")),new G7(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,ui.registerVersion)(Fk,"4.4.0",e),(0,ui.registerVersion)(Fk,"4.4.0","esm2017")}();class hv{constructor(e){return e}}const e2="firestore",qD=new oe("angularfire2.firestore-instances");function bY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hv(r)}}const AY={provide:class TY{constructor(){return vC(e2)}},deps:[[new Ei,qD]]},SY={provide:hv,useFactory:function DY(t,e){const n=function e1(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(e2,t,e);return n&&new hv(n)},deps:[[new Ei,qD],kf]};let RY=(()=>{class t{constructor(){(0,ui.registerVersion)("angularfire",wl.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=xn({type:t});static \u0275inj=Gn({providers:[SY,AY]})}return t})();function PY(t,...e){return{ngModule:RY,providers:[{provide:qD,useFactory:bY(t),multi:!0,deps:[bt,Kr,EC,mO,[new Ei,vO],[new Ei,t1],...e]}]}}const fv=Sf(WQ,!0),MY=Sf(PL,!0),xY=Sf(lY,!0),WD=Sf(dY,!0),NY=Sf(QQ,!0);let t2=(()=>{class t{constructor(n){this.firestore=n}getTestsYears(n){const r=fv(this.firestore,"test");return E(WD(r).then(i=>i.docs.filter(o=>{const s=o.id.split("-"),a=s.length>1?s[1].toLowerCase():"";return n===a}).map(o=>o.id.split("-")[0])))}getTest(n,r){const i=fv(this.firestore,"test"),o=r+"-"+n.toUpperCase(),s=MY(i,o),a=fv(s,"articles"),u=fv(s,"questions");return c1([E(xY(s).then(l=>{if(l.exists())return l.id;throw new Error("Document not found")})),E(WD(a).then(l=>l.docs.map(g=>({id:g.id,url:g.data().url})).sort((g,m)=>g.id.localeCompare(m.id)))),E(WD(u).then(l=>l.docs.map(g=>{const m=g.data().options;return{id:g.id,articleId:g.data().articleId,correctAnswer:g.data().correctAnswer,options:m,text:g.data().text}})))]).pipe(Ie(([l,h,g])=>({id:l,articles:h,questions:g})))}static#e=this.\u0275fac=function(r){return new(r||t)(ue(hv))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const OY=function(t,e){return["/test-page",t,e]};function kY(t,e){if(1&t&&(De(0,"a",3),at(1),we()),2&t){const n=e.$implicit,r=So(2);Ct("routerLink",ol(2,OY,r.subCat,n)),wt(1),nl(" ",n," ")}}function VY(t,e){if(1&t&&(De(0,"div"),Ar(1,kY,2,5,"a",2),we()),2&t){const n=So();wt(1),Ct("ngForOf",n.years)}}function FY(t,e){1&t&&(De(0,"div")(1,"p"),at(2,"no years"),we()())}function LY(t,e){1&t&&(De(0,"div")(1,"p"),at(2,"loading"),we()())}let n2=(()=>{class t{constructor(n,r){this.route=n,this.testService=r,this.loading=!0,this.route.params.subscribe(i=>{i&&(this.subCat=i.subCat,this.fetchTestYears().subscribe(o=>{this.years=o,console.log(this.years),this.loading=!1},o=>{console.error("Error fetching tests:",o)}))})}fetchTestYears(){return this.subCat?this.testService.getTestsYears(this.subCat):new qe(n=>{n.next([]),n.complete()})}static#e=this.\u0275fac=function(r){return new(r||t)(J(oa),J(t2))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-years-page"]],decls:4,vars:3,consts:[["id","main_page_container"],[4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,i){1&r&&(De(0,"div",0),Ar(1,VY,2,1,"div",1),Ar(2,FY,3,0,"div",1),Ar(3,LY,3,0,"div",1),we()),2&r&&(wt(1),Ct("ngIf",i.years),wt(1),Ct("ngIf",!(i.years&&0!=i.years.length||i.loading)),wt(1),Ct("ngIf",i.loading))},dependencies:[Mw,af,sa],styles:["#main_page_container[_ngcontent-%COMP%]{display:flex;background-color:#fbfef9;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;width:100%;height:100%}"]})}return t})();function UY(t,e){1&t&&AI(0)}function BY(t,e){1&t&&(Vm(0),_n(1,"input",16),Fm())}function jY(t,e){if(1&t&&(De(0,"div",18),_n(1,"input",19)(2,"label",20),we()),2&t){const n=e.$implicit,r=So(3).$implicit;wt(1),Ct("name",r.id)("value",n)("id",n),wt(1),Ct("for",n)("innerHTML",n,OE)}}function $Y(t,e){1&t&&Ar(0,jY,3,5,"div",17),2&t&&Ct("ngForOf",So(2).$implicit.options)}function HY(t,e){if(1&t&&(De(0,"div",9)(1,"div",10)(2,"p",11),at(3),we(),_n(4,"p",12),we(),Ar(5,UY,1,0,"ng-container",13),Ar(6,BY,2,0,"ng-container",14),Ar(7,$Y,1,1,"ng-template",null,15,tM),we()),2&t){const n=function YS(t){return function js(t,e){return t[e]}(function dh(){return Ve.lFrame.contextLView}(),rt+t)}(8),r=So().$implicit,i=So(3);wt(3),nl("",r.id,"."),wt(1),Ct("innerHTML",r.text,OE),wt(1),Ct("ngIf","Zru\u0161en\xe1 ot\xe1zka"===r.text),wt(1),Ct("ngIf",i.isTextInput(r)&&"Zru\u0161en\xe1 ot\xe1zka"!==r.text)("ngIfElse",n)}}function zY(t,e){if(1&t&&(De(0,"div",7),Ar(1,HY,9,5,"div",8),we()),2&t){const n=e.$implicit;wt(1),Ct("ngIf",0!=n.text.length)}}function GY(t,e){if(1&t&&(De(0,"div",3)(1,"div",4),_n(2,"img",5),we(),Ar(3,zY,2,1,"div",6),we()),2&t){const n=e.$implicit;wt(2),Ct("src",n.article.url,kE),wt(1),Ct("ngForOf",n.questions)}}function qY(t,e){if(1&t&&(De(0,"div",1),Ar(1,GY,4,2,"div",2),we()),2&t){const n=So();wt(1),Ct("ngForOf",n.articleWithQuestions)}}let r2=(()=>{class t{constructor(n,r,i){this.route=n,this.router=r,this.testService=i,this.route.params.subscribe(o=>{o&&o.subCat&&o.year?(this.subCat=o.subCat,this.year=o.year,this.fetchTest().then(s=>{s.subscribe(a=>{this.test=a,this.articleWithQuestions=this.getTestObject(),console.log(this.articleWithQuestions)})})):console.error("subCat and year are required")})}isTextInput(n){return!n.options||n.options.every(r=>!r)}fetchTest(){var n=this;return(0,Fe.Z)(function*(){return n.testService.getTest(n.subCat,n.year)})()}getTestObject(){const n=[];return this.test?.articles.forEach(r=>{const i=[];this.test?.questions.forEach(o=>{o.articleId===parseInt(r.id)&&i.push(o)}),n.push({article:r,questions:i})}),n}static#e=this.\u0275fac=function(r){return new(r||t)(J(oa),J(_r),J(t2))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-test-page"]],decls:1,vars:1,consts:[["id","main_page_container",4,"ngIf"],["id","main_page_container"],["class","test",4,"ngFor","ngForOf"],[1,"test"],[1,"article"],[3,"src"],["class","question",4,"ngFor","ngForOf"],[1,"question"],["class","questions",4,"ngIf"],[1,"questions"],[1,"test_question"],[1,"question_id"],[1,"question_text",3,"innerHTML"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["radioOptions",""],["type","text","placeholder","Sem nap\xed\u0161te svoju odpove\u010f",1,"input_text"],["class","radio_options",4,"ngFor","ngForOf"],[1,"radio_options"],["type","radio",3,"name","value","id"],[3,"for","innerHTML"]],template:function(r,i){1&r&&Ar(0,qY,2,1,"div",0),2&r&&Ct("ngIf",i.articleWithQuestions)},dependencies:[Mw,af],styles:["#main_page_container[_ngcontent-%COMP%]{display:flex;flex-flow:column;background-color:#fbfef9;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;width:100%;padding:2% 20%}.test[_ngcontent-%COMP%]{border:2px solid black}.article[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid black}.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:31rem}.question[_ngcontent-%COMP%]{padding:0 15% 1.5rem;margin:1.5rem 0;border-bottom:1px solid gray}.question[_ngcontent-%COMP%]:last-child{border:none}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.2rem}.input_text[_ngcontent-%COMP%]{width:100%;padding:5px}.radio_options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.3rem}.test_question[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.question_id[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}@media (max-width: 525px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:25rem}.question[_ngcontent-%COMP%]{padding:0}}@media (max-width: 415px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20rem}}@media (max-width: 375px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:18rem}}"]})}return t})();function WY(t,e){if(1&t&&(De(0,"div")(1,"p"),at(2),we()()),2&t){const n=So();CR(n.isError?"error_message_on":"error_message"),wt(2),NI(n.errorMessage)}}let i2=(()=>{class t{constructor(n){this.router=n,this.email="",this.isError=!1,this.errorMessage="Nespr\xe1vny form\xe1t emailu."}isValidEmail(){this.isError=!/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(this.email)}sendPasswordResetEmail(){const n=(0,_O.o)();if(this.isValidEmail(),!this.isError)try{(0,_O.a5)(n,this.email),this.isError=!1,this.router.navigate([""])}catch(r){console.error(`Error sending password reset email: ${r.code} - ${r.message}`)}}static#e=this.\u0275fac=function(r){return new(r||t)(J(_r))};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-forgot-password"]],decls:11,vars:2,consts:[[1,"forgot-password-card"],[1,"top_section"],[3,"class",4,"ngIf"],[1,"bot_section"],["type","email","placeholder","Zadaj svoj email",3,"ngModel","ngModelChange"],[3,"click"]],template:function(r,i){1&r&&(De(0,"div",0)(1,"div",1)(2,"h2"),at(3,"Resetovanie zabudnut\xe9ho hesla"),we(),De(4,"p"),at(5,"zadaj svoj email a pr\xedde ti link na mail na resetovanie hesla"),we()(),Ar(6,WY,3,3,"div",2),De(7,"div",3)(8,"input",4),Mt("ngModelChange",function(s){return i.email=s}),we(),De(9,"button",5),Mt("click",function(){return i.sendPasswordResetEmail()}),at(10,"Odo\u0161li"),we()()()),2&r&&(wt(6),Ct("ngIf",i.isError),wt(2),Ct("ngModel",i.email))},dependencies:[af,Dl,F_,Nf],styles:["app-forgot-password[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;background-color:#fbfef9;display:flex;align-items:center;justify-content:center;padding:2rem}.forgot-password-card[_ngcontent-%COMP%]{background-color:#5c89ff;padding:3rem 2rem;width:clamp(15rem,30rem,42rem);height:clamp(15rem,20rem,25rem);display:flex;align-items:center;justify-content:space-between;flex-direction:column;border-radius:10px;box-shadow:2px 2px 15px 1px #31313180}.top_section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;color:#000}.bot_section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid #4363b58d;padding:5px;width:18rem;height:2.5rem}button[_ngcontent-%COMP%]{padding:.4rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400;width:100%}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#e52222;font-weight:400;font-size:1.2rem}"]})}return t})(),o2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ti({type:t,selectors:[["app-user-account"]],decls:2,vars:0,template:function(r,i){1&r&&(De(0,"p"),at(1,"user-account works!"),we())}})}return t})();const KY=[{path:"",component:q_},{path:"login",component:pO},{path:"register",component:gO},{path:"landing-page",component:q_},{path:"years-page/:subCat",component:n2},{path:"test-page/:subCat/:year",component:r2},{path:"forgot-password",component:i2},{path:"user-account",component:o2}];let ZY=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({imports:[QN.forRoot(KY),QN]})}return t})();const s2_firebase={apiKey:"AIzaSyDrXz37bgp6zYCw-X9eKtQlg2Q6j4tjDMI",authDomain:"maturity-project.firebaseapp.com",databaseURL:"https://maturity-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"maturity-project",storageBucket:"maturity-project.appspot.com",messagingSenderId:"759368949191",appId:"1:759368949191:web:a326a11500d8e4c152cde2",measurementId:"G-CJJD6MK3D8"};class pv{}class gv{}class Ho{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ho?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ho;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ho?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class QY{encodeKey(e){return a2(e)}encodeValue(e){return a2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JY=/%(\d[a-f0-9])/gi,XY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function a2(t){return encodeURIComponent(t).replace(JY,(e,n)=>XY[n]??e)}function mv(t){return`${t}`}class Ra{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new QY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YY(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(mv):[mv(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ra({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(mv(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(mv(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class eJ{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function u2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function c2(t){return typeof Blob<"u"&&t instanceof Blob}function l2(t){return typeof FormData<"u"&&t instanceof FormData}class Hp{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tJ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ho),this.context||(this.context=new eJ),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Ra,this.urlWithParams=n}serializeBody(){return null===this.body?null:u2(this.body)||c2(this.body)||l2(this.body)||function nJ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ra?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l2(this.body)?null:c2(this.body)?this.body.type||null:u2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ra?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),l)),new Hp(n,r,o,{params:l,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var vd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(vd||{});class KD{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ho,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ZD extends KD{constructor(e={}){super(e),this.type=vd.ResponseHeader}clone(e={}){return new ZD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ed extends KD{constructor(e={}){super(e),this.type=vd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ed({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class d2 extends KD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let rJ=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Hp)o=n;else{let u,l;u=i.headers instanceof Ho?i.headers:new Ho(i.headers),i.params&&(l=i.params instanceof Ra?i.params:new Ra({fromObject:i.params})),o=new Hp(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=A(o).pipe(fl(u=>this.handler.handle(u)));if(n instanceof Hp||"events"===i.observe)return s;const a=s.pipe(Mo(u=>u instanceof Ed));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ie(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ie(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ra).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,QD(i,r))}post(n,r,i={}){return this.request("POST",n,QD(i,r))}put(n,r,i={}){return this.request("PUT",n,QD(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(ue(pv))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function p2(t,e){return e(t)}function oJ(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const aJ=new oe(""),zp=new oe(""),g2=new oe("");function uJ(){let t=null;return(e,n)=>{null===t&&(t=(pe(aJ,{optional:!0})??[]).reduceRight(oJ,p2));const r=pe(Km),i=r.add();return t(e,n).pipe(df(()=>r.remove(i)))}}let m2=(()=>{class t extends pv{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=pe(Km)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(zp),...this.injector.get(g2,[])]));this.chain=i.reduceRight((o,s)=>function sJ(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(o,s,this.injector),p2)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(df(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(ue(gv),ue(Ii))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const hJ=/^\)\]\}',?\n/;let y2=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new H(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?E(r.\u0275loadImpl()):A(null)).pipe(ye(()=>new qe(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((D,R)=>s.setRequestHeader(D,R.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const D=n.detectContentTypeHeader();null!==D&&s.setRequestHeader("Content-Type",D)}if(n.responseType){const D=n.responseType.toLowerCase();s.responseType="json"!==D?D:"text"}const a=n.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const D=s.statusText||"OK",R=new Ho(s.getAllResponseHeaders()),V=function fJ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||n.url;return u=new ZD({headers:R,status:s.status,statusText:D,url:V}),u},h=()=>{let{headers:D,status:R,statusText:V,url:x}=l(),j=null;204!==R&&(j=typeof s.response>"u"?s.responseText:s.response),0===R&&(R=j?200:0);let ie=R>=200&&R<300;if("json"===n.responseType&&"string"==typeof j){const fe=j;j=j.replace(hJ,"");try{j=""!==j?JSON.parse(j):null}catch(Be){j=fe,ie&&(ie=!1,j={error:Be,text:j})}}ie?(o.next(new Ed({body:j,headers:D,status:R,statusText:V,url:x||void 0})),o.complete()):o.error(new d2({error:j,headers:D,status:R,statusText:V,url:x||void 0}))},g=D=>{const{url:R}=l(),V=new d2({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)};let m=!1;const y=D=>{m||(o.next(l()),m=!0);let R={type:vd.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(R.total=D.total),"text"===n.responseType&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=D=>{let R={type:vd.UploadProgress,loaded:D.loaded};D.lengthComputable&&(R.total=D.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),n.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:vd.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",h),s.removeEventListener("timeout",g),n.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ix))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();const YD=new oe("XSRF_ENABLED"),v2=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),E2=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class I2{}let mJ=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=fx(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(ue(Ti),ue(To),ue(v2))};static#t=this.\u0275prov=Se({token:t,factory:t.\u0275fac})}return t})();function _J(t,e){const n=t.url.toLowerCase();if(!pe(YD)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=pe(I2).getToken(),i=pe(E2);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Pa=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Pa||{});function yJ(...t){const e=[rJ,y2,m2,{provide:pv,useExisting:m2},{provide:gv,useExisting:y2},{provide:zp,useValue:_J,multi:!0},{provide:YD,useValue:!0},{provide:I2,useClass:mJ}];for(const n of t)e.push(...n.\u0275providers);return function FE(t){return{\u0275providers:t}}(e)}const w2=new oe("LEGACY_INTERCEPTOR_FN");function vJ(){return function ku(t,e){return{\u0275kind:t,\u0275providers:e}}(Pa.LegacyInterceptors,[{provide:w2,useFactory:uJ},{provide:zp,useExisting:w2,multi:!0}])}let EJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t});static#n=this.\u0275inj=Gn({providers:[yJ(vJ())]})}return t})();var bJ=aa.Z.initializeApp;let AJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=xn({type:t,bootstrap:[T6]});static#n=this.\u0275inj=Gn({imports:[eW,w8,R8(()=>bJ(s2_firebase)),PY(()=>NY()),i6.initializeApp(s2_firebase),_6,ZY,EJ]})}return t})();Jq().bootstrapModule(AJ).catch(t=>console.error(t))},106:(Pi,bn,xe)=>{xe.d(bn,{Z:()=>An});var C=xe(58),G=xe(537),N=xe(534),Te=xe(879);class mt{constructor(Le,Ue){this._delegate=Le,this.firebase=Ue,(0,N._addComponent)(Le,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Le,Ue=N._DEFAULT_ENTRY_NAME){var Sn;this._delegate.checkDestroyed();const Yt=this._delegate.container.getProvider(Le);return!Yt.isInitialized()&&"EXPLICIT"===(null===(Sn=Yt.getComponent())||void 0===Sn?void 0:Sn.instantiationMode)&&Yt.initialize(),Yt.getImmediate({identifier:Ue})}_removeServiceInstance(Le,Ue=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Ue)}_addComponent(Le){(0,N._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,N._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const dn=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ct(){const it=function Lt(it){const Le={},Ue={__esModule:!0,initializeApp:function tt(Ke,ee={}){const ut=N.initializeApp(Ke,ee);if((0,C.r3)(Le,ut.name))return Le[ut.name];const jt=new it(ut,Ue);return Le[ut.name]=jt,jt},app:Yt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Or(Ke){const ee=Ke.name,ut=ee.replace("-compat","");if(N._registerComponent(Ke)&&"PUBLIC"===Ke.type){const jt=(an=Yt())=>{if("function"!=typeof an[ut])throw dn.create("invalid-app-argument",{appName:ee});return an[ut]()};void 0!==Ke.serviceProps&&(0,C.ZB)(jt,Ke.serviceProps),Ue[ut]=jt,it.prototype[ut]=function(...an){return this._getService.bind(this,ee).apply(this,Ke.multipleInstances?an:[])}}return"PUBLIC"===Ke.type?Ue[ut]:null},removeApp:function Sn(Ke){delete Le[Ke]},useAsService:function vn(Ke,ee){return"serverAuth"===ee?null:ee},modularAPIs:N}};function Yt(Ke){if(!(0,C.r3)(Le,Ke=Ke||N._DEFAULT_ENTRY_NAME))throw dn.create("no-app",{appName:Ke});return Le[Ke]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function Tt(){return Object.keys(Le).map(Ke=>Le[Ke])}}),Yt.App=it,Ue}(mt);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:ct,extendNamespace:function Le(Ue){(0,C.ZB)(it,Ue)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),it}(),re=new Te.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const An=W;!function _t(it){(0,N.registerVersion)("@firebase/app-compat","0.2.25",it)}()},534:(Pi,bn,xe)=>{xe.r(bn),xe.d(bn,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>pi,_addComponent:()=>Fr,_addOrOverwriteComponent:()=>Lr,_apps:()=>er,_clearComponents:()=>fn,_components:()=>Vr,_getProvider:()=>Dt,_registerComponent:()=>zn,_removeServiceInstance:()=>Ur,deleteApp:()=>En,getApp:()=>mi,getApps:()=>Mn,initializeApp:()=>ki,onLog:()=>As,registerVersion:()=>Br,setLogLevel:()=>ho});var C=xe(861),G=xe(537),N=xe(879),Te=xe(58);const mt=(k,P)=>P.some(X=>k instanceof X);let Qt,dn;const W=new WeakMap,re=new WeakMap,Ce=new WeakMap,ze=new WeakMap,_t=new WeakMap;let Le={get(k,P,X){if(k instanceof IDBTransaction){if("done"===P)return re.get(k);if("objectStoreNames"===P)return k.objectStoreNames||Ce.get(k);if("store"===P)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return tt(k[P])},set:(k,P,X)=>(k[P]=X,!0),has:(k,P)=>k instanceof IDBTransaction&&("done"===P||"store"===P)||P in k};function Yt(k){return"function"==typeof k?function Sn(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return dn||(dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...P){return k.apply(Tt(this),P),tt(W.get(this))}:function(...P){return tt(k.apply(Tt(this),P))}:function(P,...X){const ge=k.call(Tt(this),P,...X);return Ce.set(ge,P.sort?P.sort():[P]),tt(ge)}}(k):(k instanceof IDBTransaction&&function it(k){if(re.has(k))return;const P=new Promise((X,ge)=>{const Ye=()=>{k.removeEventListener("complete",nt),k.removeEventListener("error",H),k.removeEventListener("abort",H)},nt=()=>{X(),Ye()},H=()=>{ge(k.error||new DOMException("AbortError","AbortError")),Ye()};k.addEventListener("complete",nt),k.addEventListener("error",H),k.addEventListener("abort",H)});re.set(k,P)}(k),mt(k,function Lt(){return Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Le):k)}function tt(k){if(k instanceof IDBRequest)return function An(k){const P=new Promise((X,ge)=>{const Ye=()=>{k.removeEventListener("success",nt),k.removeEventListener("error",H)},nt=()=>{X(tt(k.result)),Ye()},H=()=>{ge(k.error),Ye()};k.addEventListener("success",nt),k.addEventListener("error",H)});return P.then(X=>{X instanceof IDBCursor&&W.set(X,k)}).catch(()=>{}),_t.set(P,k),P}(k);if(ze.has(k))return ze.get(k);const P=Yt(k);return P!==k&&(ze.set(k,P),_t.set(P,k)),P}const Tt=k=>_t.get(k),Ke=["get","getKey","getAll","getAllKeys","count"],ee=["put","add","delete","clear"],ut=new Map;function jt(k,P){if(!(k instanceof IDBDatabase)||P in k||"string"!=typeof P)return;if(ut.get(P))return ut.get(P);const X=P.replace(/FromIndex$/,""),ge=P!==X,Ye=ee.includes(X);if(!(X in(ge?IDBIndex:IDBObjectStore).prototype)||!Ye&&!Ke.includes(X))return;const nt=function(){var H=(0,C.Z)(function*(en,...ve){const Je=this.transaction(en,Ye?"readwrite":"readonly");let xa=Je.store;return ge&&(xa=xa.index(ve.shift())),(yield Promise.all([xa[X](...ve),Ye&&Je.done]))[0]});return function(ve){return H.apply(this,arguments)}}();return ut.set(P,nt),nt}!function Ue(k){Le=k(Le)}(k=>({...k,get:(P,X,ge)=>jt(P,X)||k.get(P,X,ge),has:(P,X)=>!!jt(P,X)||k.has(P,X)}));class an{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function hn(k){const P=k.getComponent();return"VERSION"===P?.type}(X)){const ge=X.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter(X=>X).join(" ")}}const di="@firebase/app",qe=new N.Yd("@firebase/app"),pi="[DEFAULT]",gi={[di]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},er=new Map,Vr=new Map;function Fr(k,P){try{k.container.addComponent(P)}catch(X){qe.debug(`Component ${P.name} failed to register with FirebaseApp ${k.name}`,X)}}function Lr(k,P){k.container.addOrOverwriteComponent(P)}function zn(k){const P=k.name;if(Vr.has(P))return qe.debug(`There were multiple attempts to register component ${P}.`),!1;Vr.set(P,k);for(const X of er.values())Fr(X,k);return!0}function Dt(k,P){const X=k.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),k.container.getProvider(P)}function Ur(k,P,X=pi){Dt(k,P).clearInstance(X)}function fn(){Vr.clear()}const Xt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(P,X,ge){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const Oi="10.7.1";function ki(k,P={}){let X=k;"object"!=typeof P&&(P={name:P});const ge=Object.assign({name:pi,automaticDataCollectionEnabled:!1},P),Ye=ge.name;if("string"!=typeof Ye||!Ye)throw Xt.create("bad-app-name",{appName:String(Ye)});if(X||(X=(0,Te.aH)()),!X)throw Xt.create("no-options");const nt=er.get(Ye);if(nt){if((0,Te.vZ)(X,nt.options)&&(0,Te.vZ)(ge,nt.config))return nt;throw Xt.create("duplicate-app",{appName:Ye})}const H=new G.H0(Ye);for(const ve of Vr.values())H.addComponent(ve);const en=new pn(X,ge,H);return er.set(Ye,en),en}function mi(k=pi){const P=er.get(k);if(!P&&k===pi&&(0,Te.aH)())return ki();if(!P)throw Xt.create("no-app",{appName:k});return P}function Mn(){return Array.from(er.values())}function En(k){return tr.apply(this,arguments)}function tr(){return(tr=(0,C.Z)(function*(k){const P=k.name;er.has(P)&&(er.delete(P),yield Promise.all(k.container.getProviders().map(X=>X.delete())),k.isDeleted=!0)})).apply(this,arguments)}function Br(k,P,X){var ge;let Ye=null!==(ge=gi[k])&&void 0!==ge?ge:k;X&&(Ye+=`-${X}`);const nt=Ye.match(/\s|\//),H=P.match(/\s|\//);if(nt||H){const en=[`Unable to register library "${Ye}" with version "${P}":`];return nt&&en.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),nt&&H&&en.push("and"),H&&en.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void qe.warn(en.join(" "))}zn(new G.wA(`${Ye}-version`,()=>({library:Ye,version:P}),"VERSION"))}function As(k,P){if(null!==k&&"function"!=typeof k)throw Xt.create("invalid-log-argument");(0,N.Am)(k,P)}function ho(k){(0,N.Ub)(k)}const zo="firebase-heartbeat-database",Vi=1,S="firebase-heartbeat-store";let b=null;function E(){return b||(b=function Or(k,P,{blocked:X,upgrade:ge,blocking:Ye,terminated:nt}={}){const H=indexedDB.open(k,P),en=tt(H);return ge&&H.addEventListener("upgradeneeded",ve=>{ge(tt(H.result),ve.oldVersion,ve.newVersion,tt(H.transaction),ve)}),X&&H.addEventListener("blocked",ve=>X(ve.oldVersion,ve.newVersion,ve)),en.then(ve=>{nt&&ve.addEventListener("close",()=>nt()),Ye&&ve.addEventListener("versionchange",Je=>Ye(Je.oldVersion,Je.newVersion,Je))}).catch(()=>{}),en}(zo,Vi,{upgrade:(k,P)=>{0===P&&k.createObjectStore(S)}}).catch(k=>{throw Xt.create("idb-open",{originalErrorMessage:k.message})})),b}function v(){return(v=(0,C.Z)(function*(k){try{return yield(yield E()).transaction(S).objectStore(S).get(_e(k))}catch(P){if(P instanceof Te.ZR)qe.warn(P.message);else{const X=Xt.create("idb-get",{originalErrorMessage:P?.message});qe.warn(X.message)}}})).apply(this,arguments)}function A(k,P){return q.apply(this,arguments)}function q(){return(q=(0,C.Z)(function*(k,P){try{const ge=(yield E()).transaction(S,"readwrite");yield ge.objectStore(S).put(P,_e(k)),yield ge.done}catch(X){if(X instanceof Te.ZR)qe.warn(X.message);else{const ge=Xt.create("idb-set",{originalErrorMessage:X?.message});qe.warn(ge.message)}}})).apply(this,arguments)}function _e(k){return`${k.name}!${k.options.appId}`}class ht{constructor(P){this.container=P,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new be(X),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var P=this;return(0,C.Z)(function*(){var X,ge;const nt=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),H=le();if((null!=(null===(X=P._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||(P._heartbeatsCache=yield P._heartbeatsCachePromise,null!=(null===(ge=P._heartbeatsCache)||void 0===ge?void 0:ge.heartbeats)))&&P._heartbeatsCache.lastSentHeartbeatDate!==H&&!P._heartbeatsCache.heartbeats.some(en=>en.date===H))return P._heartbeatsCache.heartbeats.push({date:H,agent:nt}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(en=>{const ve=new Date(en.date).valueOf();return Date.now()-ve<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,C.Z)(function*(){var X;if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null==(null===(X=P._heartbeatsCache)||void 0===X?void 0:X.heartbeats)||0===P._heartbeatsCache.heartbeats.length)return"";const ge=le(),{heartbeatsToSend:Ye,unsentEntries:nt}=function Rt(k,P=1024){const X=[];let ge=k.slice();for(const Ye of k){const nt=X.find(H=>H.agent===Ye.agent);if(nt){if(nt.dates.push(Ye.date),Un(X)>P){nt.dates.pop();break}}else if(X.push({agent:Ye.agent,dates:[Ye.date]}),Un(X)>P){X.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:X,unsentEntries:ge}}(P._heartbeatsCache.heartbeats),H=(0,Te.L)(JSON.stringify({version:2,heartbeats:Ye}));return P._heartbeatsCache.lastSentHeartbeatDate=ge,nt.length>0?(P._heartbeatsCache.heartbeats=nt,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),H})()}}function le(){return(new Date).toISOString().substring(0,10)}class be{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,C.Z)(function*(){if(yield P._canUseIndexedDBPromise){const ge=yield function w(k){return v.apply(this,arguments)}(P.app);return ge?.heartbeats?ge:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(P){var X=this;return(0,C.Z)(function*(){var ge;if(yield X._canUseIndexedDBPromise){const nt=yield X.read();return A(X.app,{lastSentHeartbeatDate:null!==(ge=P.lastSentHeartbeatDate)&&void 0!==ge?ge:nt.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var X=this;return(0,C.Z)(function*(){var ge;if(yield X._canUseIndexedDBPromise){const nt=yield X.read();return A(X.app,{lastSentHeartbeatDate:null!==(ge=P.lastSentHeartbeatDate)&&void 0!==ge?ge:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,...P.heartbeats]})}})()}}function Un(k){return(0,Te.L)(JSON.stringify({version:2,heartbeats:k})).length}!function Go(k){zn(new G.wA("platform-logger",P=>new an(P),"PRIVATE")),zn(new G.wA("heartbeat",P=>new ht(P),"PRIVATE")),Br(di,"0.9.25",k),Br(di,"0.9.25","esm2017"),Br("fire-js","")}("")},537:(Pi,bn,xe)=>{xe.d(bn,{H0:()=>Lt,wA:()=>N});var C=xe(861),G=xe(58);class N{constructor(W,re,Ce){this.name=W,this.instanceFactory=re,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Te="[DEFAULT]";class mt{constructor(W,re){this.name=W,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const re=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(re)){const Ce=new G.BH;if(this.instancesDeferred.set(re,Ce),this.isInitialized(re)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:re});ze&&Ce.resolve(ze)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(W){var re;const Ce=this.normalizeInstanceIdentifier(W?.identifier),ze=null!==(re=W?.optional)&&void 0!==re&&re;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(_t){if(ze)return null;throw _t}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function dn(ct){return"EAGER"===ct.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[re,Ce]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(re);try{const _t=this.getOrInitializeService({instanceIdentifier:ze});Ce.resolve(_t)}catch{}}}}clearInstance(W=Te){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,C.Z)(function*(){const re=Array.from(W.instances.values());yield Promise.all([...re.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...re.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=Te){return this.instances.has(W)}getOptions(W=Te){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:re={}}=W,Ce=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Ce,options:re});for(const[_t,An]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(_t)&&An.resolve(ze);return ze}onInit(W,re){var Ce;const ze=this.normalizeInstanceIdentifier(re),_t=null!==(Ce=this.onInitCallbacks.get(ze))&&void 0!==Ce?Ce:new Set;_t.add(W),this.onInitCallbacks.set(ze,_t);const An=this.instances.get(ze);return An&&W(An,ze),()=>{_t.delete(W)}}invokeOnInitCallbacks(W,re){const Ce=this.onInitCallbacks.get(re);if(Ce)for(const ze of Ce)try{ze(W,re)}catch{}}getOrInitializeService({instanceIdentifier:W,options:re={}}){let Ce=this.instances.get(W);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(ct=W,ct===Te?void 0:ct),options:re}),this.instances.set(W,Ce),this.instancesOptions.set(W,re),this.invokeOnInitCallbacks(Ce,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Ce)}catch{}var ct;return Ce||null}normalizeInstanceIdentifier(W=Te){return this.component?this.component.multipleInstances?W:Te:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lt{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const re=this.getProvider(W.name);if(re.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);re.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const re=new mt(W,this);return this.providers.set(W,re),re}getProviders(){return Array.from(this.providers.values())}}},879:(Pi,bn,xe)=>{xe.d(bn,{Am:()=>ct,Ub:()=>Lt,Yd:()=>dn,in:()=>G});const C=[];var G=function(W){return W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W}(G||{});const N={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Te=G.INFO,mt={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Qt=(W,re,...Ce)=>{if(re<W.logLevel)return;const ze=(new Date).toISOString(),_t=mt[re];if(!_t)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[_t](`[${ze}]  ${W.name}:`,...Ce)};class dn{constructor(re){this.name=re,this._logLevel=Te,this._logHandler=Qt,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in G))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?N[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...re),this._logHandler(this,G.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...re),this._logHandler(this,G.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,G.INFO,...re),this._logHandler(this,G.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,G.WARN,...re),this._logHandler(this,G.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...re),this._logHandler(this,G.ERROR,...re)}}function Lt(W){C.forEach(re=>{re.setLogLevel(W)})}function ct(W,re){for(const Ce of C){let ze=null;re&&re.level&&(ze=N[re.level]),Ce.userLogHandler=null===W?null:(_t,An,...it)=>{const Le=it.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");An>=(ze??_t.logLevel)&&W({level:G[An].toLowerCase(),message:Le,args:it,type:_t.name})}}}},365:(Pi,bn,xe)=>{xe.r(bn);var C=xe(861),G=xe(106),N=xe(217),Te=xe(58),dn=(xe(534),xe(879),xe(537));function Lt(){return window}function re(){return re=(0,C.Z)(function*(E,w,v){var A;const{BuildInfo:q}=Lt();(0,N.au)(w.sessionId,"AuthEvent did not contain a session ID");const _e=yield function Ue(E){return Sn.apply(this,arguments)}(w.sessionId),ye={};return(0,N.av)()?ye.ibi=q.packageName:(0,N.aw)()?ye.apn=q.packageName:(0,N.ax)(E,"operation-not-supported-in-this-environment"),q.displayName&&(ye.appDisplayName=q.displayName),ye.sessionId=_e,(0,N.ay)(E,v,w.type,void 0,null!==(A=w.eventId)&&void 0!==A?A:void 0,ye)}),re.apply(this,arguments)}function ze(){return(ze=(0,C.Z)(function*(E){const{BuildInfo:w}=Lt(),v={};(0,N.av)()?v.iosBundleId=w.packageName:(0,N.aw)()?v.androidPackageName=w.packageName:(0,N.ax)(E,"operation-not-supported-in-this-environment"),yield(0,N.az)(E,v)})).apply(this,arguments)}function it(){return(it=(0,C.Z)(function*(E,w,v){const{cordova:A}=Lt();let q=()=>{};try{yield new Promise((_e,ye)=>{let ke=null;function ht(){var be;_e();const Un=null===(be=A.plugins.browsertab)||void 0===be?void 0:be.close;"function"==typeof Un&&Un(),"function"==typeof v?.close&&v.close()}function le(){ke||(ke=window.setTimeout(()=>{ye((0,N.aB)(E,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&le()}w.addPassiveListener(ht),document.addEventListener("resume",le,!1),(0,N.aw)()&&document.addEventListener("visibilitychange",Rt,!1),q=()=>{w.removePassiveListener(ht),document.removeEventListener("resume",le,!1),document.removeEventListener("visibilitychange",Rt,!1),ke&&window.clearTimeout(ke)}})}finally{q()}})).apply(this,arguments)}function Sn(){return(Sn=(0,C.Z)(function*(E){const w=function Yt(E){if((0,N.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const w=new ArrayBuffer(E.length),v=new Uint8Array(w);for(let A=0;A<E.length;A++)v[A]=E.charCodeAt(A);return v}(E),v=yield crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(v)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Tt extends N.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(w=>{this.resolveInialized=w})}addPassiveListener(w){this.passiveListeners.add(w)}removePassiveListener(w){this.passiveListeners.delete(w)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(w){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(w)),super.onEvent(w)}initialized(){var w=this;return(0,C.Z)(function*(){yield w.initPromise})()}}function Ke(E){return ee.apply(this,arguments)}function ee(){return(ee=(0,C.Z)(function*(E){const w=yield an()._get(hn(E));return w&&(yield an()._remove(hn(E))),w})).apply(this,arguments)}function jt(){const E=[];for(let v=0;v<20;v++){const A=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return E.join("")}function an(){return(0,N.aE)(N.b)}function hn(E){return(0,N.aF)("authEvent",E.config.apiKey,E.name)}function qe(E){if(!E?.includes("?"))return{};const[w,...v]=E.split("?");return(0,Te.zd)(v.join("?"))}const U=class Zi{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(w){var v=this;return(0,C.Z)(function*(){const A=w._key();let q=v.eventManagers.get(A);return q||(q=new Tt(w),v.eventManagers.set(A,q),v.attachCallbackListeners(w,q)),q})()}_openPopup(w){(0,N.ax)(w,"operation-not-supported-in-this-environment")}_openRedirect(w,v,A,q){var _e=this;return(0,C.Z)(function*(){!function Le(E){var w,v,A,q,_e,ye,ke,ht,le,Rt;const be=Lt();(0,N.aC)("function"==typeof(null===(w=be?.universalLinks)||void 0===w?void 0:w.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aC)(typeof(null===(v=be?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aC)("function"==typeof(null===(_e=null===(q=null===(A=be?.cordova)||void 0===A?void 0:A.plugins)||void 0===q?void 0:q.browsertab)||void 0===_e?void 0:_e.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(ht=null===(ke=null===(ye=be?.cordova)||void 0===ye?void 0:ye.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===ht?void 0:ht.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Rt=null===(le=be?.cordova)||void 0===le?void 0:le.InAppBrowser)||void 0===Rt?void 0:Rt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(w);const ye=yield _e._initialize(w);yield ye.initialized(),ye.resetRedirect(),(0,N.aI)(),yield _e._originValidation(w);const ke=function Or(E,w,v=null){return{type:w,eventId:v,urlResponse:null,sessionId:jt(),postBody:null,tenantId:E.tenantId,error:(0,N.aB)(E,"no-auth-event")}}(w,A,q);yield function vn(E,w){return an()._set(hn(E),w)}(w,ke);const ht=yield function W(E,w,v){return re.apply(this,arguments)}(w,ke,v),le=yield function _t(E){const{cordova:w}=Lt();return new Promise(v=>{w.plugins.browsertab.isAvailable(A=>{let q=null;A?w.plugins.browsertab.openUrl(E):q=w.InAppBrowser.open(E,(0,N.aA)()?"_blank":"_system","location=yes"),v(q)})})}(ht);return function An(E,w,v){return it.apply(this,arguments)}(w,ye,le)})()}_isIframeWebStorageSupported(w,v){throw new Error("Method not implemented.")}_originValidation(w){const v=w._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ce(E){return ze.apply(this,arguments)}(w)),this.originValidationPromises[v]}attachCallbackListeners(w,v){const{universalLinks:A,handleOpenURL:q,BuildInfo:_e}=Lt(),ye=setTimeout((0,C.Z)(function*(){yield Ke(w),v.onEvent($())}),500),ke=function(){var Rt=(0,C.Z)(function*(be){clearTimeout(ye);const Un=yield Ke(w);let Go=null;Un&&be?.url&&(Go=function ut(E,w){var v,A;const q=function hi(E){const w=qe(E),v=w.link?decodeURIComponent(w.link):void 0,A=qe(v).link,q=w.deep_link_id?decodeURIComponent(w.deep_link_id):void 0;return qe(q).link||q||A||v||E}(w);if(q.includes("/__/auth/callback")){const _e=qe(q),ye=_e.firebaseError?function di(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,ke=null===(A=null===(v=ye?.code)||void 0===v?void 0:v.split("auth/"))||void 0===A?void 0:A[1],ht=ke?(0,N.aB)(ke):null;return ht?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:q,postBody:null}}return null}(Un,be.url)),v.onEvent(Go||$())});return function(Un){return Rt.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,ke);const ht=q,le=`${_e.packageName.toLowerCase()}://`;Lt().handleOpenURL=function(){var Rt=(0,C.Z)(function*(be){if(be.toLowerCase().startsWith(le)&&ke({url:be}),"function"==typeof ht)try{ht(be)}catch(Un){console.error(Un)}});return function(be){return Rt.apply(this,arguments)}}()}};function $(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aB)("no-auth-event")}}function ae(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Ie(E=(0,Te.z$)()){return!("file:"!==ae()&&"ionic:"!==ae()&&"capacitor:"!==ae()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const E=self.localStorage,w=N.aN();if(E)return E.setItem(w,"1"),E.removeItem(w),!function Nt(E=(0,Te.z$)()){return function lt(){return(0,Te.w1)()&&11===document?.documentMode}()||function Ht(E=(0,Te.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Te.hl)()}catch{return Rn()&&(0,Te.hl)()}return!1}function Rn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pn(){return(function et(){return"http:"===ae()||"https:"===ae()}()||(0,Te.ru)()||Ie())&&!function Pe(){return(0,Te.b$)()||(0,Te.UG)()}()&&Jt()&&!Rn()}function Hn(){return Ie()&&typeof document<"u"}function fi(){return(fi=(0,C.Z)(function*(){return!!Hn()&&new Promise(E=>{const w=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(w),E(!0)})})})).apply(this,arguments)}const dt={LOCAL:"local",NONE:"none",SESSION:"session"},xi=N.aC,Ni="persistence";function gi(E){return er.apply(this,arguments)}function er(){return(er=(0,C.Z)(function*(E){yield E._initializationPromise;const w=Fr(),v=N.aF(Ni,E.config.apiKey,E.name);w&&w.setItem(v,E._getPersistence())})).apply(this,arguments)}function Fr(){var E;try{return(null===(E=function Mi(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Lr=N.aC;class zn{constructor(){this.browserResolver=N.aE(N.k),this.cordovaResolver=N.aE(U),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(w){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(w)})()}_openPopup(w,v,A,q){var _e=this;return(0,C.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(w,v,A,q)})()}_openRedirect(w,v,A,q){var _e=this;return(0,C.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(w,v,A,q)})()}_isIframeWebStorageSupported(w,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(w,v)}_originValidation(w){return this.assertedUnderlyingResolver._originValidation(w)}get _shouldInitProactively(){return Hn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var w=this;return(0,C.Z)(function*(){if(w.underlyingResolver)return;const v=yield function Cr(){return fi.apply(this,arguments)}();w.underlyingResolver=v?w.cordovaResolver:w.browserResolver})()}}function Dt(E){return E.unwrap()}function fn(E){return Xt(E)}function Xt(E){const{_tokenResponse:w}=E instanceof Te.ZR?E.customData:E;if(!w)return null;if(!(E instanceof Te.ZR)&&"temporaryProof"in w&&"phoneNumber"in w)return N.P.credentialFromResult(E);const v=w.providerId;if(!v||v===N.p.PASSWORD)return null;let A;switch(v){case N.p.GOOGLE:A=N.X;break;case N.p.FACEBOOK:A=N.W;break;case N.p.GITHUB:A=N.Y;break;case N.p.TWITTER:A=N.$;break;default:const{oauthIdToken:q,oauthAccessToken:_e,oauthTokenSecret:ye,pendingToken:ke,nonce:ht}=w;return _e||ye||q||ke?ke?v.startsWith("saml.")?N.aQ._create(v,ke):N.N._fromParams({providerId:v,signInMethod:v,pendingToken:ke,idToken:q,accessToken:_e}):new N.Z(v).credential({idToken:q,accessToken:_e,rawNonce:ht}):null}return E instanceof Te.ZR?A.credentialFromError(E):A.credentialFromResult(E)}function pn(E,w){return w.catch(v=>{throw v instanceof Te.ZR&&function Ma(E,w){var v;const A=null===(v=w.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===w?.code)w.resolver=new mi(E,N.as(E,w));else if(A){const q=Xt(w),_e=w;q&&(_e.credential=q,_e.tenantId=A.tenantId||void 0,_e.email=A.email||void 0,_e.phoneNumber=A.phoneNumber||void 0)}}(E,v),v}).then(v=>{const q=v.user;return{operationType:v.operationType,credential:fn(v),additionalUserInfo:N.aq(v),user:Mn.getOrCreate(q)}})}function Oi(E,w){return ki.apply(this,arguments)}function ki(){return(ki=(0,C.Z)(function*(E,w){const v=yield w;return{verificationId:v.verificationId,confirm:A=>pn(E,v.confirm(A))}})).apply(this,arguments)}class mi{constructor(w,v){this.resolver=v,this.auth=function Ur(E){return E.wrapped()}(w)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(w){return pn(Dt(this.auth),this.resolver.resolveSignIn(w))}}class Mn{constructor(w){this._delegate=w,this.multiFactor=N.at(w)}static getOrCreate(w){return Mn.USER_MAP.has(w)||Mn.USER_MAP.set(w,new Mn(w)),Mn.USER_MAP.get(w)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(w){return this._delegate.getIdTokenResult(w)}getIdToken(w){return this._delegate.getIdToken(w)}linkAndRetrieveDataWithCredential(w){return this.linkWithCredential(w)}linkWithCredential(w){var v=this;return(0,C.Z)(function*(){return pn(v.auth,N.a2(v._delegate,w))})()}linkWithPhoneNumber(w,v){var A=this;return(0,C.Z)(function*(){return Oi(A.auth,N.l(A._delegate,w,v))})()}linkWithPopup(w){var v=this;return(0,C.Z)(function*(){return pn(v.auth,N.d(v._delegate,w,zn))})()}linkWithRedirect(w){var v=this;return(0,C.Z)(function*(){return yield gi(N.aJ(v.auth)),N.g(v._delegate,w,zn)})()}reauthenticateAndRetrieveDataWithCredential(w){return this.reauthenticateWithCredential(w)}reauthenticateWithCredential(w){var v=this;return(0,C.Z)(function*(){return pn(v.auth,N.a3(v._delegate,w))})()}reauthenticateWithPhoneNumber(w,v){return Oi(this.auth,N.r(this._delegate,w,v))}reauthenticateWithPopup(w){return pn(this.auth,N.e(this._delegate,w,zn))}reauthenticateWithRedirect(w){var v=this;return(0,C.Z)(function*(){return yield gi(N.aJ(v.auth)),N.h(v._delegate,w,zn)})()}sendEmailVerification(w){return N.ag(this._delegate,w)}unlink(w){var v=this;return(0,C.Z)(function*(){return yield N.ap(v._delegate,w),v})()}updateEmail(w){return N.al(this._delegate,w)}updatePassword(w){return N.am(this._delegate,w)}updatePhoneNumber(w){return N.u(this._delegate,w)}updateProfile(w){return N.ak(this._delegate,w)}verifyBeforeUpdateEmail(w,v){return N.ah(this._delegate,w,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mn.USER_MAP=new WeakMap;const En=N.aC;let tr=(()=>{class E{constructor(v,A){if(this.app=v,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=v.options;En(q,"invalid-api-key",{appName:v.name}),En(q,"invalid-api-key",{appName:v.name});const _e=typeof window<"u"?zn:void 0;this._delegate=A.initialize({options:{persistence:As(q,v.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap(N.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,A){N.K(this._delegate,v,A)}applyActionCode(v){return N.a7(this._delegate,v)}checkActionCode(v){return N.a8(this._delegate,v)}confirmPasswordReset(v,A){return N.a6(this._delegate,v,A)}createUserWithEmailAndPassword(v,A){var q=this;return(0,C.Z)(function*(){return pn(q._delegate,N.aa(q._delegate,v,A))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return N.af(this._delegate,v)}isSignInWithEmailLink(v){return N.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){En(Pn(),v._delegate,"operation-not-supported-in-this-environment");const A=yield N.j(v._delegate,zn);return A?pn(v._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function z(E,w){(0,N.aJ)(E)._logFramework(w)}(this._delegate,v)}onAuthStateChanged(v,A,q){const{next:_e,error:ye,complete:ke}=Br(v,A,q);return this._delegate.onAuthStateChanged(_e,ye,ke)}onIdTokenChanged(v,A,q){const{next:_e,error:ye,complete:ke}=Br(v,A,q);return this._delegate.onIdTokenChanged(_e,ye,ke)}sendSignInLinkToEmail(v,A){return N.ac(this._delegate,v,A)}sendPasswordResetEmail(v,A){return N.a5(this._delegate,v,A||void 0)}setPersistence(v){var A=this;return(0,C.Z)(function*(){let q;switch(function pi(E,w){xi(Object.values(dt).includes(w),E,"invalid-persistence-type"),(0,Te.b$)()?xi(w!==dt.SESSION,E,"unsupported-persistence-type"):(0,Te.UG)()?xi(w===dt.NONE,E,"unsupported-persistence-type"):Rn()?xi(w===dt.NONE||w===dt.LOCAL&&(0,Te.hl)(),E,"unsupported-persistence-type"):xi(w===dt.NONE||Jt(),E,"unsupported-persistence-type")}(A._delegate,v),v){case dt.SESSION:q=N.a;break;case dt.LOCAL:q=(yield N.aE(N.i)._isAvailable())?N.i:N.b;break;case dt.NONE:q=N.U;break;default:return N.ax("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return pn(this._delegate,N.a0(this._delegate))}signInWithCredential(v){return pn(this._delegate,N.a1(this._delegate,v))}signInWithCustomToken(v){return pn(this._delegate,N.a4(this._delegate,v))}signInWithEmailAndPassword(v,A){return pn(this._delegate,N.ab(this._delegate,v,A))}signInWithEmailLink(v,A){return pn(this._delegate,N.ae(this._delegate,v,A))}signInWithPhoneNumber(v,A){return Oi(this._delegate,N.s(this._delegate,v,A))}signInWithPopup(v){var A=this;return(0,C.Z)(function*(){return En(Pn(),A._delegate,"operation-not-supported-in-this-environment"),pn(A._delegate,N.c(A._delegate,v,zn))})()}signInWithRedirect(v){var A=this;return(0,C.Z)(function*(){return En(Pn(),A._delegate,"operation-not-supported-in-this-environment"),yield gi(A._delegate),N.f(A._delegate,v,zn)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return N.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=dt,E})();function Br(E,w,v){let A=E;"function"!=typeof E&&({next:A,error:w,complete:v}=E);const q=A;return{next:ye=>q(ye&&Mn.getOrCreate(ye)),error:w,complete:v}}function As(E,w){const v=function Vr(E,w){const v=Fr();if(!v)return[];const A=N.aF(Ni,E,w);switch(v.getItem(A)){case dt.NONE:return[N.U];case dt.LOCAL:return[N.i,N.a];case dt.SESSION:return[N.a];default:return[]}}(E,w);if(typeof self<"u"&&!v.includes(N.i)&&v.push(N.i),typeof window<"u")for(const A of[N.b,N.a])v.includes(A)||v.push(A);return v.includes(N.U)||v.push(N.U),v}class ho{constructor(){this.providerId="phone",this._delegate=new N.P(Dt(G.Z.auth()))}static credential(w,v){return N.P.credential(w,v)}verifyPhoneNumber(w,v){return this._delegate.verifyPhoneNumber(w,v)}unwrap(){return this._delegate}}ho.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,ho.PROVIDER_ID=N.P.PROVIDER_ID;const zo=N.aC;class Vi{constructor(w,v,A=G.Z.app()){var q;zo(null===(q=A.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new N.R(A.auth(),w,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function b(E){E.INTERNAL.registerComponent(new dn.wA("auth-compat",w=>{const v=w.getProvider("app-compat").getImmediate(),A=w.getProvider("auth");return new tr(v,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.V,FacebookAuthProvider:N.W,GithubAuthProvider:N.Y,GoogleAuthProvider:N.X,OAuthProvider:N.Z,SAMLAuthProvider:N._,PhoneAuthProvider:ho,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Vi,TwitterAuthProvider:N.$,Auth:tr,AuthCredential:N.L,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.1")}(G.Z)},861:(Pi,bn,xe)=>{function C(N,Te,mt,Qt,dn,Lt,ct){try{var W=N[Lt](ct),re=W.value}catch(Ce){return void mt(Ce)}W.done?Te(re):Promise.resolve(re).then(Qt,dn)}function G(N){return function(){var Te=this,mt=arguments;return new Promise(function(Qt,dn){var Lt=N.apply(Te,mt);function ct(re){C(Lt,Qt,dn,ct,W,"next",re)}function W(re){C(Lt,Qt,dn,ct,W,"throw",re)}ct(void 0)})}}xe.d(bn,{Z:()=>G})},582:(Pi,bn,xe)=>{function Te(U,$){var z={};for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&$.indexOf(F)<0&&(z[F]=U[F]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var K=0;for(F=Object.getOwnPropertySymbols(U);K<F.length;K++)$.indexOf(F[K])<0&&Object.prototype.propertyIsEnumerable.call(U,F[K])&&(z[F[K]]=U[F[K]])}return z}function Ce(U,$,z,F){return new(z||(z=Promise))(function(Z,ae){function et(lt){try{Pe(F.next(lt))}catch(Ht){ae(Ht)}}function Ie(lt){try{Pe(F.throw(lt))}catch(Ht){ae(Ht)}}function Pe(lt){lt.done?Z(lt.value):function K(Z){return Z instanceof z?Z:new z(function(ae){ae(Z)})}(lt.value).then(et,Ie)}Pe((F=F.apply(U,$||[])).next())})}function tt(U){return this instanceof tt?(this.v=U,this):new tt(U)}function Tt(U,$,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,F=z.apply(U,$||[]),Z=[];return K={},ae("next"),ae("throw"),ae("return"),K[Symbol.asyncIterator]=function(){return this},K;function ae(Nt){F[Nt]&&(K[Nt]=function(Jt){return new Promise(function(Rn,Pn){Z.push([Nt,Jt,Rn,Pn])>1||et(Nt,Jt)})})}function et(Nt,Jt){try{!function Ie(Nt){Nt.value instanceof tt?Promise.resolve(Nt.value.v).then(Pe,lt):Ht(Z[0][2],Nt)}(F[Nt](Jt))}catch(Rn){Ht(Z[0][3],Rn)}}function Pe(Nt){et("next",Nt)}function lt(Nt){et("throw",Nt)}function Ht(Nt,Jt){Nt(Jt),Z.shift(),Z.length&&et(Z[0][0],Z[0][1])}}function vn(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,$=U[Symbol.asyncIterator];return $?$.call(U):(U=function it(U){var $="function"==typeof Symbol&&Symbol.iterator,z=$&&U[$],F=0;if(z)return z.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&F>=U.length&&(U=void 0),{value:U&&U[F++],done:!U}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),z={},F("next"),F("throw"),F("return"),z[Symbol.asyncIterator]=function(){return this},z);function F(Z){z[Z]=U[Z]&&function(ae){return new Promise(function(et,Ie){!function K(Z,ae,et,Ie){Promise.resolve(Ie).then(function(Pe){Z({value:Pe,done:et})},ae)}(et,Ie,(ae=U[Z](ae)).done,ae.value)})}}}xe.d(bn,{FC:()=>Tt,KL:()=>vn,_T:()=>Te,mG:()=>Ce,qq:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},Pi=>{Pi(Pi.s=297)}]);