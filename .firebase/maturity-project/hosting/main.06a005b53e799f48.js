"use strict";(self.webpackChunkangular_school_project=self.webpackChunkangular_school_project||[]).push([[179],{217:(ia,ui,Pt)=>{Pt.d(ui,{$:()=>ix,A:()=>$e,C:()=>ZT,G:()=>On,K:()=>HT,L:()=>tu,N:()=>Qs,P:()=>zh,R:()=>Ax,U:()=>wt,V:()=>Mg,W:()=>Ih,X:()=>_o,Y:()=>fa,Z:()=>Js,_:()=>su,a:()=>ga,a0:()=>Og,a1:()=>kh,a2:()=>jg,a3:()=>cx,a4:()=>qT,a5:()=>Bi,a6:()=>au,a7:()=>lx,a8:()=>Md,a9:()=>KT,aA:()=>cn,aB:()=>qn,aC:()=>He,aD:()=>va,aE:()=>Ee,aF:()=>Ot,aG:()=>zd,aH:()=>Px,aI:()=>gu,aJ:()=>Sr,aN:()=>Kr,aQ:()=>$a,aa:()=>pt,ab:()=>gr,ac:()=>Lo,ad:()=>Ji,ae:()=>cu,af:()=>qt,ag:()=>ux,ah:()=>qr,ak:()=>Pd,al:()=>gc,am:()=>Wa,ap:()=>sx,aq:()=>Od,as:()=>YP,at:()=>tF,au:()=>dr,av:()=>vt,aw:()=>oe,ax:()=>hn,ay:()=>vu,az:()=>Lx,b:()=>XT,c:()=>vc,d:()=>Mx,e:()=>uI,f:()=>fI,g:()=>Hi,h:()=>Mn,i:()=>Uh,j:()=>_a,k:()=>qx,l:()=>aI,m:()=>TI,o:()=>fF,p:()=>or,r:()=>cI,s:()=>Dx,u:()=>ar});var F=Pt(861),we=Pt(58),ee=Pt(534),Ct=Pt(879),vn=Pt(582),wr=Pt(537);const or={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$e={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const On=function It(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},di=function Qt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yn=new we.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zt=new Ct.Yd("@firebase/auth");function Er(g,...f){zt.logLevel<=Ct.in.ERROR&&zt.error(`Auth (${ee.SDK_VERSION}): ${g}`,...f)}function hn(g,...f){throw nn(g,...f)}function qn(g,...f){return nn(g,...f)}function $s(g,f,h){const v=Object.assign(Object.assign({},di()),{[f]:h});return new we.LL("auth","Firebase",v).create(f,{appName:g.name})}function Xr(g,f,h){if(!(f instanceof h))throw h.name!==f.constructor.name&&hn(g,"argument-error"),$s(g,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nn(g,...f){if("string"!=typeof g){const h=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=g.name),g._errorFactory.create(h,...v)}return yn.create(g,...f)}function He(g,f,...h){if(!g)throw nn(f,...h)}function Tn(g){const f="INTERNAL ASSERTION FAILED: "+g;throw Er(f),new Error(f)}function dr(g,f){g||Tn(f)}function Vr(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Wr(){return"http:"===Ro()||"https:"===Ro()}function Ro(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Ws{constructor(f,h){this.shortDelay=f,this.longDelay=h,dr(h>f,"Short delay should be less than long delay!"),this.isMobile=(0,we.uI)()||(0,we.b$)()}get(){return function Mo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wr()||(0,we.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sa(g,f){dr(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return f?`${h}${f.startsWith("/")?f.slice(1):f}`:h}class me{static initialize(f,h,v){this.fetchImpl=f,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new Ws(3e4,6e4);function fe(g,f){return g.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:g.tenantId}):f}function Oe(g,f,h,v){return Me.apply(this,arguments)}function Me(){return(Me=(0,F.Z)(function*(g,f,h,v,T={}){return st(g,T,(0,F.Z)(function*(){let D={},X={};v&&("GET"===f?X=v:D={body:JSON.stringify(v)});const pe=(0,we.xO)(Object.assign({key:g.config.apiKey},X)).slice(1),Be=yield g._getAdditionalHeaders();return Be["Content-Type"]="application/json",g.languageCode&&(Be["X-Firebase-Locale"]=g.languageCode),me.fetch()(In(g,g.config.apiHost,h,pe),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function st(g,f,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,F.Z)(function*(g,f,h){g._canInitEmulator=!1;const v=Object.assign(Object.assign({},ye),f);try{const T=new er(g),D=yield Promise.race([h(),T.promise]);T.clearNetworkTimeout();const X=yield D.json();if("needConfirmation"in X)throw Tr(g,"account-exists-with-different-credential",X);if(D.ok&&!("errorMessage"in X))return X;{const pe=D.ok?X.errorMessage:X.error.message,[Be,yt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Tr(g,"credential-already-in-use",X);if("EMAIL_EXISTS"===Be)throw Tr(g,"email-already-in-use",X);if("USER_DISABLED"===Be)throw Tr(g,"user-disabled",X);const Rt=v[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw $s(g,Rt,yt);hn(g,Rt)}}catch(T){if(T instanceof we.ZR)throw T;hn(g,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function lt(g,f,h,v){return kt.apply(this,arguments)}function kt(){return(kt=(0,F.Z)(function*(g,f,h,v,T={}){const D=yield Oe(g,f,h,v,T);return"mfaPendingCredential"in D&&hn(g,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function In(g,f,h,v){const T=`${f}${h}?${v}`;return g.config.emulator?sa(g.config,T):`${g.config.apiScheme}://${T}`}function pr(g){switch(g){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class er{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(qn(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tr(g,f,h){const v={appName:g.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const T=qn(g,f,v);return T.customData._tokenResponse=h,T}function hi(g){return void 0!==g&&void 0!==g.getResponse}function pi(g){return void 0!==g&&void 0!==g.enterprise}class Ni{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===f)return pr(h.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Po(){return(Po=(0,F.Z)(function*(g){return(yield Oe(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function oa(g,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,F.Z)(function*(g,f){return Oe(g,"GET","/v2/recaptchaConfig",fe(g,f))})).apply(this,arguments)}function ca(){return(ca=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Oo(){return(Oo=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gs(){return(Gs=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function qs(g){if(g)try{const f=new Date(Number(g));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Wn(){return(Wn=(0,F.Z)(function*(g,f=!1){const h=(0,we.m9)(g),v=yield h.getIdToken(f),T=Gr(v);He(T&&T.exp&&T.auth_time&&T.iat,h.auth,"internal-error");const D="object"==typeof T.firebase?T.firebase:void 0,X=D?.sign_in_provider;return{claims:T,token:v,authTime:qs(Zs(T.auth_time)),issuedAtTime:qs(Zs(T.iat)),expirationTime:qs(Zs(T.exp)),signInProvider:X||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function Zs(g){return 1e3*Number(g)}function Gr(g){const[f,h,v]=g.split(".");if(void 0===f||void 0===h||void 0===v)return Er("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,we.tV)(h);return T?JSON.parse(T):(Er("Failed to decode base64 JWT payload"),null)}catch(T){return Er("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Ir(g,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,F.Z)(function*(g,f,h=!1){if(h)return f;try{return yield f}catch(v){throw v instanceof we.ZR&&function la({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(v)&&g.auth.currentUser===g&&(yield g.auth.signOut()),v}})).apply(this,arguments)}class ua{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var h;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,F.Z)(function*(){yield h.iteration()}),v)}iteration(){var f=this;return(0,F.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&f.schedule(!0))}f.schedule()})()}}class No{constructor(f,h){this.createdAt=f,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=qs(this.lastLoginAt),this.creationTime=qs(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(g){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,F.Z)(function*(g){var f;const h=g.auth,v=yield g.getIdToken(),T=yield Ir(g,function Yi(g,f){return Gs.apply(this,arguments)}(h,{idToken:v}));He(T?.users.length,h,"internal-error");const D=T.users[0];g._notifyReloadListener(D);const X=null!==(f=D.providerUserInfo)&&void 0!==f&&f.length?function lc(g){return g.map(f=>{var{providerId:h}=f,v=(0,vn._T)(f,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(D.providerUserInfo):[],pe=function eu(g,f){return[...g.filter(v=>!f.some(T=>T.providerId===v.providerId)),...f]}(g.providerData,X),Rt=!!g.isAnonymous&&!(g.email&&D.passwordHash||pe?.length),wn={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:pe,metadata:new No(D.createdAt,D.lastLoginAt),isAnonymous:Rt};Object.assign(g,wn)}),Qr.apply(this,arguments)}function Ys(){return(Ys=(0,F.Z)(function*(g){const f=(0,we.m9)(g);yield mi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function da(){return(da=(0,F.Z)(function*(g,f){const h=yield st(g,{},(0,F.Z)(function*(){const v=(0,we.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:D}=g.config,X=In(g,T,"/v1/token",`key=${D}`),pe=yield g._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(X,{method:"POST",headers:pe,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function j(){return(j=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v2/accounts:revokeToken",fe(g,f))})).apply(this,arguments)}class C{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){He(f.idToken,"internal-error"),He(typeof f.idToken<"u","internal-error"),He(typeof f.refreshToken<"u","internal-error");const h="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Sd(g){const f=Gr(g);return He(f,"internal-error"),He(typeof f.exp<"u","internal-error"),He(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,h)}getToken(f,h=!1){var v=this;return(0,F.Z)(function*(){return He(!v.accessToken||v.refreshToken,f,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,h){var v=this;return(0,F.Z)(function*(){const{accessToken:T,refreshToken:D,expiresIn:X}=yield function il(g,f){return da.apply(this,arguments)}(f,h);v.updateTokensAndExpiration(T,D,Number(X))})()}updateTokensAndExpiration(f,h,v){this.refreshToken=h||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,h){const{refreshToken:v,accessToken:T,expirationTime:D}=h,X=new C;return v&&(He("string"==typeof v,"internal-error",{appName:f}),X.refreshToken=v),T&&(He("string"==typeof T,"internal-error",{appName:f}),X.accessToken=T),D&&(He("number"==typeof D,"internal-error",{appName:f}),X.expirationTime=D),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new C,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function k(g,f){He("string"==typeof g||typeof g>"u","internal-error",{appName:f})}class I{constructor(f){var{uid:h,auth:v,stsTokenManager:T}=f,D=(0,vn._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ua(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new No(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(f){var h=this;return(0,F.Z)(function*(){const v=yield Ir(h,h.stsTokenManager.getToken(h.auth,f));return He(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(f){return function Li(g){return Wn.apply(this,arguments)}(this,f)}reload(){return function Xi(g){return Ys.apply(this,arguments)}(this)}_assign(f){this!==f&&(He(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(h=>Object.assign({},h)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const h=new I(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(f){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,h=!1){var v=this;return(0,F.Z)(function*(){let T=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),T=!0),h&&(yield mi(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,F.Z)(function*(){const h=yield f.getIdToken();return yield Ir(f,function aa(g,f){return ca.apply(this,arguments)}(f.auth,{idToken:h})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,h){var v,T,D,X,pe,Be,yt,Rt;const wn=null!==(v=h.displayName)&&void 0!==v?v:void 0,ms=null!==(T=h.email)&&void 0!==T?T:void 0,Ka=null!==(D=h.phoneNumber)&&void 0!==D?D:void 0,Kd=null!==(X=h.photoURL)&&void 0!==X?X:void 0,Zx=null!==(pe=h.tenantId)&&void 0!==pe?pe:void 0,bu=null!==(Be=h._redirectEventId)&&void 0!==Be?Be:void 0,xc=null!==(yt=h.createdAt)&&void 0!==yt?yt:void 0,Yx=null!==(Rt=h.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:np,emailVerified:y0,isAnonymous:wu,providerData:x0,stsTokenManager:ts}=h;He(np&&ts,f,"internal-error");const AI=C.fromJSON(this.name,ts);He("string"==typeof np,f,"internal-error"),k(wn,f.name),k(ms,f.name),He("boolean"==typeof y0,f,"internal-error"),He("boolean"==typeof wu,f,"internal-error"),k(Ka,f.name),k(Kd,f.name),k(Zx,f.name),k(bu,f.name),k(xc,f.name),k(Yx,f.name);const gi=new I({uid:np,auth:f,email:ms,emailVerified:y0,displayName:wn,isAnonymous:wu,photoURL:Kd,phoneNumber:Ka,tenantId:Zx,stsTokenManager:AI,createdAt:xc,lastLoginAt:Yx});return x0&&Array.isArray(x0)&&(gi.providerData=x0.map(b0=>Object.assign({},b0))),bu&&(gi._redirectEventId=bu),gi}static _fromIdTokenResponse(f,h,v=!1){return(0,F.Z)(function*(){const T=new C;T.updateFromServerResponse(h);const D=new I({uid:h.localId,auth:f,stsTokenManager:T,isAnonymous:v});return yield mi(D),D})()}}const G=new Map;function Ee(g){dr(g instanceof Function,"Expected a class definition");let f=G.get(g);return f?(dr(f instanceof g,"Instance stored in cache mismatched with class"),f):(f=new g,G.set(g,f),f)}const wt=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,F.Z)(function*(){return!0})()}_set(h,v){var T=this;return(0,F.Z)(function*(){T.storage[h]=v})()}_get(h){var v=this;return(0,F.Z)(function*(){const T=v.storage[h];return void 0===T?null:T})()}_remove(h){var v=this;return(0,F.Z)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return g.type="NONE",g})();function Ot(g,f,h){return`firebase:${g}:${f}:${h}`}class Rn{constructor(f,h,v){this.persistence=f,this.auth=h,this.userKey=v;const{config:T,name:D}=this.auth;this.fullUserKey=Ot(this.userKey,T.apiKey,D),this.fullPersistenceKey=Ot("persistence",T.apiKey,D),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,F.Z)(function*(){const h=yield f.persistence._get(f.fullUserKey);return h?I._fromJSON(f.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var h=this;return(0,F.Z)(function*(){if(h.persistence===f)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=f,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,h,v="authUser"){return(0,F.Z)(function*(){if(!h.length)return new Rn(Ee(wt),f,v);const T=(yield Promise.all(h.map(function(){var yt=(0,F.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let D=T[0]||Ee(wt);const X=Ot(v,f.config.apiKey,f.name);let pe=null;for(const yt of h)try{const Rt=yield yt._get(X);if(Rt){const wn=I._fromJSON(f,Rt);yt!==D&&(pe=wn),D=yt;break}}catch{}const Be=T.filter(yt=>yt._shouldAllowMigration);return D._shouldAllowMigration&&Be.length?(D=Be[0],pe&&(yield D._set(X,pe.toJSON())),yield Promise.all(h.map(function(){var yt=(0,F.Z)(function*(Rt){if(Rt!==D)try{yield Rt._remove(X)}catch{}});return function(Rt){return yt.apply(this,arguments)}}())),new Rn(D,f,v)):new Rn(D,f,v)})()}}function ft(g){const f=g.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(sl(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Yn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Y(f))return"Blackberry";if(je(f))return"Webos";if(St(f))return"Safari";if((f.includes("chrome/")||Ii(f))&&!f.includes("edge/"))return"Chrome";if(oe(f))return"Android";{const v=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function Yn(g=(0,we.z$)()){return/firefox\//i.test(g)}function St(g=(0,we.z$)()){const f=g.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ii(g=(0,we.z$)()){return/crios\//i.test(g)}function sl(g=(0,we.z$)()){return/iemobile/i.test(g)}function oe(g=(0,we.z$)()){return/android/i.test(g)}function Y(g=(0,we.z$)()){return/blackberry/i.test(g)}function je(g=(0,we.z$)()){return/webos/i.test(g)}function vt(g=(0,we.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function cn(g=(0,we.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}function Cr(g=(0,we.z$)()){return vt(g)||oe(g)||je(g)||Y(g)||/windows phone/i.test(g)||sl(g)}function ln(g,f=[]){let h;switch(g){case"Browser":h=ft((0,we.z$)());break;case"Worker":h=`${ft((0,we.z$)())}-${g}`;break;default:h=g}const v=f.length?f.join(","):"FirebaseCore-web";return`${h}/JsCore/${ee.SDK_VERSION}/${v}`}class Ad{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,h){const v=D=>new Promise((X,pe)=>{try{X(f(D))}catch(Be){pe(Be)}});v.onAbort=h,this.queue.push(v);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var h=this;return(0,F.Z)(function*(){if(h.auth.currentUser===f)return;const v=[];try{for(const T of h.queue)yield T(f),T.onAbort&&v.push(T.onAbort)}catch(T){v.reverse();for(const D of v)try{D()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}function xg(){return(xg=(0,F.Z)(function*(g,f={}){return Oe(g,"GET","/v2/passwordPolicy",fe(g,f))})).apply(this,arguments)}class Xs{constructor(f){var h,v,T,D;const X=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=X.minPasswordLength)&&void 0!==h?h:6,X.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=X.maxPasswordLength),void 0!==X.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=X.containsLowercaseCharacter),void 0!==X.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=X.containsUppercaseCharacter),void 0!==X.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=X.containsNumericCharacter),void 0!==X.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=X.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(T=null===(v=f.allowedNonAlphanumericCharacters)||void 0===v?void 0:v.join(""))&&void 0!==T?T:"",this.forceUpgradeOnSignin=null!==(D=f.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=f.schemaVersion}validatePassword(f){var h,v,T,D,X,pe;const Be={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Be),this.validatePasswordCharacterOptions(f,Be),Be.isValid&&(Be.isValid=null===(h=Be.meetsMinPasswordLength)||void 0===h||h),Be.isValid&&(Be.isValid=null===(v=Be.meetsMaxPasswordLength)||void 0===v||v),Be.isValid&&(Be.isValid=null===(T=Be.containsLowercaseLetter)||void 0===T||T),Be.isValid&&(Be.isValid=null===(D=Be.containsUppercaseLetter)||void 0===D||D),Be.isValid&&(Be.isValid=null===(X=Be.containsNumericCharacter)||void 0===X||X),Be.isValid&&(Be.isValid=null===(pe=Be.containsNonAlphanumericCharacter)||void 0===pe||pe),Be}validatePasswordLengthOptions(f,h){const v=this.customStrengthOptions.minPasswordLength,T=this.customStrengthOptions.maxPasswordLength;v&&(h.meetsMinPasswordLength=f.length>=v),T&&(h.meetsMaxPasswordLength=f.length<=T)}validatePasswordCharacterOptions(f,h){let v;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let T=0;T<f.length;T++)v=f.charAt(T),this.updatePasswordCharacterOptionsStatuses(h,v>="a"&&v<="z",v>="A"&&v<="Z",v>="0"&&v<="9",this.allowedNonAlphanumericCharacters.includes(v))}updatePasswordCharacterOptionsStatuses(f,h,v,T,D){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=v)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=T)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=D))}}class HP{constructor(f,h,v,T){this.app=f,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=v,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VT(this),this.idTokenSubscription=new VT(this),this.beforeStateQueue=new Ad(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,h){var v=this;return h&&(this._popupRedirectResolver=Ee(h)),this._initializationPromise=this.queue((0,F.Z)(function*(){var T,D;if(!v._deleted&&(v.persistenceManager=yield Rn.create(v,f),!v._deleted)){if(null!==(T=v._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(D=v.currentUser)||void 0===D?void 0:D.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,F.Z)(function*(){if(f._deleted)return;const h=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||h){if(f.currentUser&&h&&f.currentUser.uid===h.uid)return f._currentUser._assign(h),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(h,!0)}})()}initializeCurrentUser(f){var h=this;return(0,F.Z)(function*(){var v;const T=yield h.assertedPersistence.getCurrentUser();let D=T,X=!1;if(f&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const pe=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,Be=D?._redirectEventId,yt=yield h.tryRedirectSignIn(f);(!pe||pe===Be)&&yt?.user&&(D=yt.user,X=!0)}if(!D)return h.directlySetCurrentUser(null);if(!D._redirectEventId){if(X)try{yield h.beforeStateQueue.runMiddleware(D)}catch(pe){D=T,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(pe))}return D?h.reloadAndSetCurrentUserOrClear(D):h.directlySetCurrentUser(null)}return He(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===D._redirectEventId?h.directlySetCurrentUser(D):h.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(f){var h=this;return(0,F.Z)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,f,!0)}catch{yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var h=this;return(0,F.Z)(function*(){try{yield mi(f)}catch(v){if("auth/network-request-failed"!==v?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function jt(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var f=this;return(0,F.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var h=this;return(0,F.Z)(function*(){const v=f?(0,we.m9)(f):null;return v&&He(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(f,h=!1){var v=this;return(0,F.Z)(function*(){if(!v._deleted)return f&&He(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),h||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,F.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,F.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var h=this;return this.queue((0,F.Z)(function*(){yield h.assertedPersistence.setPersistence(Ee(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var h=this;return(0,F.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const v=h._getPasswordPolicyInternal();return v.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):v.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,F.Z)(function*(){const h=yield function jP(g){return xg.apply(this,arguments)}(f),v=new Xs(h);null===f.tenantId?f._projectPasswordPolicy=v:f._tenantPasswordPolicies[f.tenantId]=v})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new we.LL("auth","Firebase",f())}onAuthStateChanged(f,h,v){return this.registerStateListener(this.authStateSubscription,f,h,v)}beforeAuthStateChanged(f,h){return this.beforeStateQueue.pushCallback(f,h)}onIdTokenChanged(f,h,v){return this.registerStateListener(this.idTokenSubscription,f,h,v)}authStateReady(){return new Promise((f,h)=>{if(this.currentUser)f();else{const v=this.onAuthStateChanged(()=>{v(),f()},h)}})}revokeAccessToken(f){var h=this;return(0,F.Z)(function*(){if(h.currentUser){const v=yield h.currentUser.getIdToken(),T={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:v};null!=h.tenantId&&(T.tenantId=h.tenantId),yield function q(g,f){return j.apply(this,arguments)}(h,T)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,h){var v=this;return(0,F.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(h);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var h=this;return(0,F.Z)(function*(){if(!h.redirectPersistenceManager){const v=f&&Ee(f)||h._popupRedirectResolver;He(v,h,"argument-error"),h.redirectPersistenceManager=yield Rn.create(h,[Ee(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(f){var h=this;return(0,F.Z)(function*(){var v,T;return h._isInitialized&&(yield h.queue((0,F.Z)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===f?h._currentUser:(null===(T=h.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?h.redirectUser:null})()}_persistUserIfCurrent(f){var h=this;return(0,F.Z)(function*(){if(f===h.currentUser)return h.queue((0,F.Z)(function*(){return h.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,h,v,T){if(this._deleted)return()=>{};const D="function"==typeof h?h:h.next.bind(h);let X=!1;const pe=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(pe,this,"internal-error"),pe.then(()=>{X||D(this.currentUser)}),"function"==typeof h){const Be=f.addObserver(h,v,T);return()=>{X=!0,Be()}}{const Be=f.addObserver(h);return()=>{X=!0,Be()}}}directlySetCurrentUser(f){var h=this;return(0,F.Z)(function*(){h.currentUser&&h.currentUser!==f&&h._currentUser._stopProactiveRefresh(),f&&h.isProactiveRefreshEnabled&&f._startProactiveRefresh(),h.currentUser=f,f?yield h.assertedPersistence.setCurrentUser(f):yield h.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,F.Z)(function*(){var h;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(h=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();T&&(v["X-Firebase-Client"]=T);const D=yield f._getAppCheckToken();return D&&(v["X-Firebase-AppCheck"]=D),v})()}_getAppCheckToken(){var f=this;return(0,F.Z)(function*(){var h;const v=yield null===(h=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return v?.error&&function fi(g,...f){zt.logLevel<=Ct.in.WARN&&zt.warn(`Auth (${ee.SDK_VERSION}): ${g}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Sr(g){return(0,we.m9)(g)}class VT{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,we.ne)(h=>this.observer=h)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zy(g){return new Promise((f,h)=>{const v=document.createElement("script");v.setAttribute("src",g),v.onload=f,v.onerror=T=>{const D=qn("internal-error");D.customData=T,h(D)},v.type="text/javascript",v.charset="UTF-8",function ol(){var g,f;return null!==(f=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==f?f:document}().appendChild(v)})}function BT(g){return`__${g}${Math.floor(1e6*Math.random())}`}class jT{constructor(f){this.type="recaptcha-enterprise",this.auth=Sr(f)}verify(f="verify",h=!1){var v=this;return(0,F.Z)(function*(){function D(){return D=(0,F.Z)(function*(pe){if(!h){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var Be=(0,F.Z)(function*(yt,Rt){oa(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wn=>{if(void 0!==wn.recaptchaKey){const ms=new Ni(wn);return null==pe.tenantId?pe._agentRecaptchaConfig=ms:pe._tenantRecaptchaConfigs[pe.tenantId]=ms,yt(ms.siteKey)}Rt(new Error("recaptcha Enterprise site key undefined"))}).catch(wn=>{Rt(wn)})});return function(yt,Rt){return Be.apply(this,arguments)}}())}),D.apply(this,arguments)}function X(pe,Be,yt){const Rt=window.grecaptcha;pi(Rt)?Rt.enterprise.ready(()=>{Rt.enterprise.execute(pe,{action:f}).then(wn=>{Be(wn)}).catch(()=>{Be("NO_RECAPTCHA")})}):yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,Be)=>{(function T(pe){return D.apply(this,arguments)})(v.auth).then(yt=>{if(!h&&pi(window.grecaptcha))X(yt,pe,Be);else{if(typeof window>"u")return void Be(new Error("RecaptchaVerifier is only supported in browser"));Zy("https://www.google.com/recaptcha/enterprise.js?render="+yt).then(()=>{X(yt,pe,Be)}).catch(Rt=>{Be(Rt)})}}).catch(yt=>{Be(yt)})})})()}}function Yy(g,f,h){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,F.Z)(function*(g,f,h,v=!1){const T=new jT(g);let D;try{D=yield T.verify(h)}catch{D=yield T.verify(h,!0)}const X=Object.assign({},f);return Object.assign(X,v?{captchaResp:D}:{captchaResponse:D}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}function Qi(g,f,h,v){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,F.Z)(function*(g,f,h,v){var T;if(null!==(T=g._getRecaptchaConfig())&&void 0!==T&&T.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield Yy(g,f,h,"getOobCode"===h);return v(g,D)}return v(g,f).catch(function(){var D=(0,F.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pe=yield Yy(g,f,h,"getOobCode"===h);return v(g,pe)}return Promise.reject(X)});return function(X){return D.apply(this,arguments)}}())}),Nt.apply(this,arguments)}function HT(g,f,h){const v=Sr(g);He(v._canInitEmulator,v,"emulator-config-failed"),He(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const T=!!h?.disableWarnings,D=Nn(f),{host:X,port:pe}=function gh(g){const f=Nn(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(f.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const D=T[1];return{host:D,port:Jy(v.substr(D.length+1))}}{const[D,X]=v.split(":");return{host:D,port:Jy(X)}}}(f);v.config.emulator={url:`${D}//${X}${null===pe?"":`:${pe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:X,port:pe,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function ex(){function g(){const f=document.createElement("p"),h=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}function Nn(g){const f=g.indexOf(":");return f<0?"":g.substr(0,f+1)}function Jy(g){if(!g)return null;const f=Number(g);return isNaN(f)?null:f}class tu{constructor(f,h){this.providerId=f,this.signInMethod=h}toJSON(){return Tn("not implemented")}_getIdTokenResponse(f){return Tn("not implemented")}_linkToIdToken(f,h){return Tn("not implemented")}_getReauthenticationResolver(f){return Tn("not implemented")}}function Dd(g,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:resetPassword",fe(g,f))})).apply(this,arguments)}function _h(){return(_h=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zT(g,f){return un.apply(this,arguments)}function un(){return(un=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function vh(){return(vh=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:update",fe(g,f))})).apply(this,arguments)}function Cs(g,f){return yh.apply(this,arguments)}function yh(){return(yh=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithPassword",fe(g,f))})).apply(this,arguments)}function Tg(g,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:sendOobCode",fe(g,f))})).apply(this,arguments)}function tx(){return(tx=(0,F.Z)(function*(g,f){return Tg(g,f)})).apply(this,arguments)}function Pe(g,f){return kd.apply(this,arguments)}function kd(){return(kd=(0,F.Z)(function*(g,f){return Tg(g,f)})).apply(this,arguments)}function Ig(g,f){return xh.apply(this,arguments)}function xh(){return(xh=(0,F.Z)(function*(g,f){return Tg(g,f)})).apply(this,arguments)}function Sg(){return(Sg=(0,F.Z)(function*(g,f){return Tg(g,f)})).apply(this,arguments)}function nx(){return(nx=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithEmailLink",fe(g,f))})).apply(this,arguments)}function rx(){return(rx=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithEmailLink",fe(g,f))})).apply(this,arguments)}class bh extends tu{constructor(f,h,v,T=null){super("password",v),this._email=f,this._password=h,this._tenantId=T}static _fromEmailAndPassword(f,h){return new bh(f,h,"password")}static _fromEmailAndCode(f,h,v=null){return new bh(f,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const h="string"==typeof f?JSON.parse(f):f;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(f){var h=this;return(0,F.Z)(function*(){switch(h.signInMethod){case"password":return Qi(f,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Cs);case"emailLink":return function Ag(g,f){return nx.apply(this,arguments)}(f,{email:h._email,oobCode:h._password});default:hn(f,"internal-error")}})()}_linkToIdToken(f,h){var v=this;return(0,F.Z)(function*(){switch(v.signInMethod){case"password":return Qi(f,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zT);case"emailLink":return function KP(g,f){return rx.apply(this,arguments)}(f,{idToken:h,email:v._email,oobCode:v._password});default:hn(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function uc(g,f){return al.apply(this,arguments)}function al(){return(al=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithIdp",fe(g,f))})).apply(this,arguments)}class Qs extends tu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const h=new Qs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(h.idToken=f.idToken),f.accessToken&&(h.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(h.nonce=f.nonce),f.pendingToken&&(h.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(h.accessToken=f.oauthToken,h.secret=f.oauthTokenSecret):hn("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const h="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:T}=h,D=(0,vn._T)(h,["providerId","signInMethod"]);if(!v||!T)return null;const X=new Qs(v,T);return X.idToken=D.idToken||void 0,X.accessToken=D.accessToken||void 0,X.secret=D.secret,X.nonce=D.nonce,X.pendingToken=D.pendingToken||null,X}_getIdTokenResponse(f){return uc(f,this.buildRequest())}_linkToIdToken(f,h){const v=this.buildRequest();return v.idToken=h,uc(f,v)}_getReauthenticationResolver(f){const h=this.buildRequest();return h.autoCreate=!1,uc(f,h)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),f.postBody=(0,we.xO)(h)}return f}}function kg(){return(kg=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:sendVerificationCode",fe(g,f))})).apply(this,arguments)}function wh(){return(wh=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithPhoneNumber",fe(g,f))})).apply(this,arguments)}function Rg(){return(Rg=(0,F.Z)(function*(g,f){const h=yield lt(g,"POST","/v1/accounts:signInWithPhoneNumber",fe(g,f));if(h.temporaryProof)throw Tr(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const dc={USER_NOT_FOUND:"user-not-found"};function te(){return(te=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithPhoneNumber",fe(g,Object.assign(Object.assign({},f),{operation:"REAUTH"})),dc)})).apply(this,arguments)}class fc extends tu{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,h){return new fc({verificationId:f,verificationCode:h})}static _fromTokenResponse(f,h){return new fc({phoneNumber:f,temporaryProof:h})}_getIdTokenResponse(f){return function WT(g,f){return wh.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,h){return function ru(g,f){return Rg.apply(this,arguments)}(f,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function GT(g,f){return te.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:h,verificationId:v,verificationCode:T}=this.params;return f&&h?{temporaryProof:f,phoneNumber:h}:{sessionInfo:v,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:h,verificationCode:v,phoneNumber:T,temporaryProof:D}=f;return v||h||T||D?new fc({verificationId:h,verificationCode:v,phoneNumber:T,temporaryProof:D}):null}}class cl{constructor(f){var h,v,T,D,X,pe;const Be=(0,we.zd)((0,we.pd)(f)),yt=null!==(h=Be.apiKey)&&void 0!==h?h:null,Rt=null!==(v=Be.oobCode)&&void 0!==v?v:null,wn=function ht(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Be.mode)&&void 0!==T?T:null);He(yt&&Rt&&wn,"argument-error"),this.apiKey=yt,this.operation=wn,this.code=Rt,this.continueUrl=null!==(D=Be.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(X=Be.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=Be.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const h=function Eh(g){const f=(0,we.zd)((0,we.pd)(g)).link,h=f?(0,we.zd)((0,we.pd)(f)).deep_link_id:null,v=(0,we.zd)((0,we.pd)(g)).deep_link_id;return(v?(0,we.zd)((0,we.pd)(v)).link:null)||v||h||f||g}(f);try{return new cl(h)}catch{return null}}}let Mg=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,v){return bh._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const T=cl.parseLink(v);return He(T,"argument-error"),bh._fromEmailAndCode(h,T.code,T.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class za{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class iu extends za{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Js extends iu{static credentialFromJSON(f){const h="string"==typeof f?JSON.parse(f):f;return He("providerId"in h&&"signInMethod"in h,"argument-error"),Qs._fromParams(h)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return He(f.idToken||f.accessToken,"argument-error"),Qs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Js.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Js.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:D,nonce:X,providerId:pe}=f;if(!v&&!T&&!h&&!D||!pe)return null;try{return new Js(pe)._credential({idToken:h,accessToken:v,nonce:X,pendingToken:D})}catch{return null}}}let Ih=(()=>{class g extends iu{constructor(){super("facebook.com")}static credential(h){return Qs._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),_o=(()=>{class g extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return Qs._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:T}=h;if(!v&&!T)return null;try{return g.credential(v,T)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),fa=(()=>{class g extends iu{constructor(){super("github.com")}static credential(h){return Qs._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class $a extends tu{constructor(f,h){super(f,f),this.pendingToken=h}_getIdTokenResponse(f){return uc(f,this.buildRequest())}_linkToIdToken(f,h){const v=this.buildRequest();return v.idToken=h,uc(f,v)}_getReauthenticationResolver(f){const h=this.buildRequest();return h.autoCreate=!1,uc(f,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const h="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:T,pendingToken:D}=h;return v&&T&&D&&v===T?new $a(v,D):null}static _create(f,h){return new $a(f,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class su extends za{constructor(f){He(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return su.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return su.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const h=$a.fromJSON(f);return He(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:h,providerId:v}=f;if(!h||!v)return null;try{return $a._create(v,h)}catch{return null}}}let ix=(()=>{class g extends iu{constructor(){super("twitter.com")}static credential(h,v){return Qs._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=h;if(!v||!T)return null;try{return g.credential(v,T)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function ha(g,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signUp",fe(g,f))})).apply(this,arguments)}class eo{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,h,v,T=!1){return(0,F.Z)(function*(){const D=yield I._fromIdTokenResponse(f,v,T),X=Fg(v);return new eo({user:D,providerId:X,_tokenResponse:v,operationType:h})})()}static _forOperation(f,h,v){return(0,F.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const T=Fg(v);return new eo({user:f,providerId:T,_tokenResponse:v,operationType:h})})()}}function Fg(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Og(g){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,F.Z)(function*(g){var f;const h=Sr(g);if(yield h._initializationPromise,null!==(f=h.currentUser)&&void 0!==f&&f.isAnonymous)return new eo({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield ha(h,{returnSecureToken:!0}),T=yield eo._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(T.user),T})).apply(this,arguments)}class Rd extends we.ZR{constructor(f,h,v,T){var D;super(h.code,h.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:f.name,tenantId:null!==(D=f.tenantId)&&void 0!==D?D:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,h,v,T){return new Rd(f,h,v,T)}}function ou(g,f,h,v){return("reauthenticate"===f?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?Rd._fromErrorAndOperation(g,D,f,v):D})}function Ng(g){return new Set(g.map(({providerId:f})=>f).filter(f=>!!f))}function sx(g,f){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,F.Z)(function*(g,f){const h=(0,we.m9)(g);yield Ah(!0,h,f);const{providerUserInfo:v}=yield function Fo(g,f){return Oo.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[f]}),T=Ng(v||[]);return h.providerData=h.providerData.filter(D=>T.has(D.providerId)),T.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Lg.apply(this,arguments)}function Sh(g,f){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,F.Z)(function*(g,f,h=!1){const v=yield Ir(g,f._linkToIdToken(g.auth,yield g.getIdToken()),h);return eo._forOperation(g,"link",v)})).apply(this,arguments)}function Ah(g,f,h){return to.apply(this,arguments)}function to(){return(to=(0,F.Z)(function*(g,f,h){yield mi(f);const T=!1===g?"provider-already-linked":"no-such-provider";He(Ng(f.providerData).has(h)===g,f.auth,T)})).apply(this,arguments)}function ox(g,f){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,F.Z)(function*(g,f,h=!1){const{auth:v}=g,T="reauthenticate";try{const D=yield Ir(g,ou(v,T,f,g),h);He(D.idToken,v,"internal-error");const X=Gr(D.idToken);He(X,v,"internal-error");const{sub:pe}=X;return He(g.uid===pe,v,"user-mismatch"),eo._forOperation(g,T,D)}catch(D){throw"auth/user-not-found"===D?.code&&hn(v,"user-mismatch"),D}})).apply(this,arguments)}function ax(g,f){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,F.Z)(function*(g,f,h=!1){const v="signIn",T=yield ou(g,v,f),D=yield eo._fromIdTokenResponse(g,v,T);return h||(yield g._updateCurrentUser(D.user)),D})).apply(this,arguments)}function kh(g,f){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,F.Z)(function*(g,f){return ax(Sr(g),f)})).apply(this,arguments)}function jg(g,f){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,F.Z)(function*(g,f){const h=(0,we.m9)(g);return yield Ah(!1,h,f.providerId),Sh(h,f)})).apply(this,arguments)}function cx(g,f){return zg.apply(this,arguments)}function zg(){return(zg=(0,F.Z)(function*(g,f){return ox((0,we.m9)(g),f)})).apply(this,arguments)}function $g(){return($g=(0,F.Z)(function*(g,f){return lt(g,"POST","/v1/accounts:signInWithCustomToken",fe(g,f))})).apply(this,arguments)}function qT(g,f){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,F.Z)(function*(g,f){const h=Sr(g),v=yield function Ci(g,f){return $g.apply(this,arguments)}(h,{token:f,returnSecureToken:!0}),T=yield eo._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(T.user),T}),Wg.apply(this,arguments)}class Cn{constructor(f,h){this.factorId=f,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(f,h){return"phoneInfo"in h?Gg._fromServerResponse(f,h):"totpInfo"in h?Rh._fromServerResponse(f,h):hn(f,"internal-error")}}class Gg extends Cn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,h){return new Gg(h)}}class Rh extends Cn{constructor(f){super("totp",f)}static _fromServerResponse(f,h){return new Rh(h)}}function Ft(g,f,h){var v;He((null===(v=h.url)||void 0===v?void 0:v.length)>0,g,"invalid-continue-uri"),He(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),f.continueUrl=h.url,f.dynamicLinkDomain=h.dynamicLinkDomain,f.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(He(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),f.iOSBundleId=h.iOS.bundleId),h.android&&(He(h.android.packageName.length>0,g,"missing-android-pkg-name"),f.androidInstallApp=h.android.installApp,f.androidMinimumVersionCode=h.android.minimumVersion,f.androidPackageName=h.android.packageName)}function Vi(g){return bn.apply(this,arguments)}function bn(){return(bn=(0,F.Z)(function*(g){const f=Sr(g);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Bi(g,f,h){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,F.Z)(function*(g,f,h){const v=Sr(g),T={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};h&&Ft(v,T,h),yield Qi(v,T,"getOobCode",Pe)})).apply(this,arguments)}function au(g,f,h){return fs.apply(this,arguments)}function fs(){return fs=(0,F.Z)(function*(g,f,h){yield Dd((0,we.m9)(g),{oobCode:f,newPassword:h}).catch(function(){var v=(0,F.Z)(function*(T){throw"auth/password-does-not-meet-requirements"===T.code&&Vi(g),T});return function(T){return v.apply(this,arguments)}}())}),fs.apply(this,arguments)}function lx(g,f){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,F.Z)(function*(g,f){yield function Eg(g,f){return vh.apply(this,arguments)}((0,we.m9)(g),{oobCode:f})}),Mh.apply(this,arguments)}function Md(g,f){return qg.apply(this,arguments)}function qg(){return(qg=(0,F.Z)(function*(g,f){const h=(0,we.m9)(g),v=yield Dd(h,{oobCode:f}),T=v.requestType;switch(He(T,h,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(v.mfaInfo,h,"internal-error");default:He(v.email,h,"internal-error")}let D=null;return v.mfaInfo&&(D=Cn._fromServerResponse(Sr(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:D},operation:T}})).apply(this,arguments)}function KT(g,f){return mr.apply(this,arguments)}function mr(){return(mr=(0,F.Z)(function*(g,f){const{data:h}=yield Md((0,we.m9)(g),f);return h.email})).apply(this,arguments)}function pt(g,f,h){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,F.Z)(function*(g,f,h){const v=Sr(g),X=yield Qi(v,{returnSecureToken:!0,email:f,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ha).catch(Be=>{throw"auth/password-does-not-meet-requirements"===Be.code&&Vi(g),Be}),pe=yield eo._fromIdTokenResponse(v,"signIn",X);return yield v._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function gr(g,f,h){return kh((0,we.m9)(g),Mg.credential(f,h)).catch(function(){var v=(0,F.Z)(function*(T){throw"auth/password-does-not-meet-requirements"===T.code&&Vi(g),T});return function(T){return v.apply(this,arguments)}}())}function Lo(g,f,h){return ul.apply(this,arguments)}function ul(){return(ul=(0,F.Z)(function*(g,f,h){const v=Sr(g),T={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function D(X,pe){He(pe.handleCodeInApp,v,"argument-error"),pe&&Ft(v,X,pe)})(T,h),yield Qi(v,T,"getOobCode",Ig)})).apply(this,arguments)}function Ji(g,f){const h=cl.parseLink(f);return"EMAIL_SIGNIN"===h?.operation}function cu(g,f,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g),T=Mg.credentialWithLink(f,h||Vr());return He(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),kh(v,T)})).apply(this,arguments)}function pc(){return(pc=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:createAuthUri",fe(g,f))})).apply(this,arguments)}function qt(g,f){return dl.apply(this,arguments)}function dl(){return dl=(0,F.Z)(function*(g,f){const v={identifier:f,continueUri:Wr()?Vr():"http://localhost"},{signinMethods:T}=yield function hc(g,f){return pc.apply(this,arguments)}((0,we.m9)(g),v);return T||[]}),dl.apply(this,arguments)}function ux(g,f){return mc.apply(this,arguments)}function mc(){return mc=(0,F.Z)(function*(g,f){const h=(0,we.m9)(g),T={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};f&&Ft(h.auth,T,f);const{email:D}=yield function qP(g,f){return tx.apply(this,arguments)}(h.auth,T);D!==g.email&&(yield g.reload())}),mc.apply(this,arguments)}function qr(g,f,h){return fl.apply(this,arguments)}function fl(){return fl=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:f};h&&Ft(v.auth,D,h);const{email:X}=yield function Cg(g,f){return Sg.apply(this,arguments)}(v.auth,D);X!==g.email&&(yield g.reload())}),fl.apply(this,arguments)}function vo(){return(vo=(0,F.Z)(function*(g,f){return Oe(g,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pd(g,f){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,F.Z)(function*(g,{displayName:f,photoURL:h}){if(void 0===f&&void 0===h)return;const v=(0,we.m9)(g),D={idToken:yield v.getIdToken(),displayName:f,photoUrl:h,returnSecureToken:!0},X=yield Ir(v,function lu(g,f){return vo.apply(this,arguments)}(v.auth,D));v.displayName=X.displayName||null,v.photoURL=X.photoUrl||null;const pe=v.providerData.find(({providerId:Be})=>"password"===Be);pe&&(pe.displayName=v.displayName,pe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(X)}),Ph.apply(this,arguments)}function gc(g,f){return uu((0,we.m9)(g),f,null)}function Wa(g,f){return uu((0,we.m9)(g),null,f)}function uu(g,f,h){return hl.apply(this,arguments)}function hl(){return hl=(0,F.Z)(function*(g,f,h){const{auth:v}=g,D={idToken:yield g.getIdToken(),returnSecureToken:!0};f&&(D.email=f),h&&(D.password=h);const X=yield Ir(g,function wg(g,f){return _h.apply(this,arguments)}(v,D));yield g._updateTokensIfNecessary(X,!0)}),hl.apply(this,arguments)}class Fd{constructor(f,h,v={}){this.isNewUser=f,this.providerId=h,this.profile=v}}class Fh extends Fd{constructor(f,h,v,T){super(f,h,v),this.username=T}}class dx extends Fd{constructor(f,h){super(f,"facebook.com",h)}}class pa extends Fh{constructor(f,h){super(f,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Oh extends Fd{constructor(f,h){super(f,"google.com",h)}}class du extends Fh{constructor(f,h,v){super(f,"twitter.com",h,v)}}function Od(g){const{user:f,_tokenResponse:h}=g;return f.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function mn(g){var f,h;if(!g)return null;const{providerId:v}=g,T=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},D=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!v&&g?.idToken){const X=null===(h=null===(f=Gr(g.idToken))||void 0===f?void 0:f.firebase)||void 0===h?void 0:h.sign_in_provider;if(X)return new Fd(D,"anonymous"!==X&&"custom"!==X?X:null)}if(!v)return null;switch(v){case"facebook.com":return new dx(D,T);case"github.com":return new pa(D,T);case"google.com":return new Oh(D,T);case"twitter.com":return new du(D,T,g.screenName||null);case"custom":case"anonymous":return new Fd(D,null);default:return new Fd(D,v,T)}}(h)}function ZT(g){return(0,we.m9)(g).signOut()}class ml{constructor(f,h,v){this.type=f,this.credential=h,this.user=v}static _fromIdtoken(f,h){return new ml("enroll",f,h)}static _fromMfaPendingCredential(f){return new ml("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var h,v;if(f?.multiFactorSession){if(null!==(h=f.multiFactorSession)&&void 0!==h&&h.pendingCredential)return ml._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return ml._fromIdtoken(f.multiFactorSession.idToken)}return null}}class hx{constructor(f,h,v){this.session=f,this.hints=h,this.signInResolver=v}static _fromError(f,h){const v=Sr(f),T=h.customData._serverResponse,D=(T.mfaInfo||[]).map(pe=>Cn._fromServerResponse(v,pe));He(T.mfaPendingCredential,v,"internal-error");const X=ml._fromMfaPendingCredential(T.mfaPendingCredential);return new hx(X,D,function(){var pe=(0,F.Z)(function*(Be){const yt=yield Be._process(v,X);delete T.mfaInfo,delete T.mfaPendingCredential;const Rt=Object.assign(Object.assign({},T),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(h.operationType){case"signIn":const wn=yield eo._fromIdTokenResponse(v,h.operationType,Rt);return yield v._updateCurrentUser(wn.user),wn;case"reauthenticate":return He(h.user,v,"internal-error"),eo._forOperation(h.user,h.operationType,Rt);default:hn(v,"internal-error")}});return function(Be){return pe.apply(this,arguments)}}())}resolveSignIn(f){var h=this;return(0,F.Z)(function*(){return h.signInResolver(f)})()}}function YP(g,f){var h;const v=(0,we.m9)(g),T=f;return He(f.customData.operationType,v,"argument-error"),He(null===(h=T.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),hx._fromError(v,T)}class px{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>Cn._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new px(f)}getSession(){var f=this;return(0,F.Z)(function*(){return ml._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,h){var v=this;return(0,F.Z)(function*(){const T=f,D=yield v.getSession(),X=yield Ir(v.user,T._process(v.user.auth,D,h));return yield v.user._updateTokensIfNecessary(X),v.user.reload()})()}unenroll(f){var h=this;return(0,F.Z)(function*(){const v="string"==typeof f?f:f.uid,T=yield h.user.getIdToken();try{const D=yield Ir(h.user,function eF(g,f){return Oe(g,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(g,f))}(h.user.auth,{idToken:T,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:X})=>X!==v),yield h.user._updateTokensIfNecessary(D),yield h.user.reload()}catch(D){throw D}})()}}const mx=new WeakMap;function tF(g){const f=(0,we.m9)(g);return mx.has(f)||mx.set(f,px._fromUser(f)),mx.get(f)}const Xg="__sak";class YT{constructor(f,h){this.storageRetriever=f,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,h){return this.storage.setItem(f,JSON.stringify(h)),Promise.resolve()}_get(f){const h=this.storage.getItem(f);return Promise.resolve(h?JSON.parse(h):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const XT=(()=>{class g extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gx(){const g=(0,we.z$)();return St(g)||vt(g)}()&&function Et(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cr(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),D=this.localCache[v];T!==D&&h(v,D,T)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((pe,Be,yt)=>{this.notifyListeners(pe,yt)});const T=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(T);if(h.newValue!==pe)null!==h.newValue?this.storage.setItem(T,h.newValue):this.storage.removeItem(T);else if(this.localCache[T]===h.newValue&&!v)return}const D=()=>{const pe=this.storage.getItem(T);!v&&this.localCache[T]===pe||this.notifyListeners(T,pe)},X=this.storage.getItem(T);!function re(){return(0,we.w1)()&&10===document.documentMode}()||X===h.newValue||h.newValue===h.oldValue?D():setTimeout(D,10)}notifyListeners(h,v){this.localCache[h]=v;const T=this.listeners[h];if(T)for(const D of Array.from(T))D(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var T=()=>super._set,D=this;return(0,F.Z)(function*(){yield T().call(D,h,v),D.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,T=this;return(0,F.Z)(function*(){const D=yield v().call(T,h);return T.localCache[h]=JSON.stringify(D),D})()}_remove(h){var v=()=>super._remove,T=this;return(0,F.Z)(function*(){yield v().call(T,h),delete T.localCache[h]})()}}return g.type="LOCAL",g})(),ga=(()=>{class g extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return g.type="SESSION",g})();let iF=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(D=>D.isListeningto(h));if(v)return v;const T=new g(h);return this.receivers.push(T),T}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,F.Z)(function*(){const T=h,{eventId:D,eventType:X,data:pe}=T.data,Be=v.handlersMap[X];if(!Be?.size)return;T.ports[0].postMessage({status:"ack",eventId:D,eventType:X});const yt=Array.from(Be).map(function(){var wn=(0,F.Z)(function*(ms){return ms(T.origin,pe)});return function(ms){return wn.apply(this,arguments)}}()),Rt=yield function rF(g){return Promise.all(g.map(function(){var f=(0,F.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return f.apply(this,arguments)}}()))}(yt);T.ports[0].postMessage({status:"done",eventId:D,eventType:X,response:Rt})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function Kr(g="",f=10){let h="";for(let v=0;v<f;v++)h+=Math.floor(10*Math.random());return g+h}class Nh{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,h,v=50){var T=this;return(0,F.Z)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let X,pe;return new Promise((Be,yt)=>{const Rt=Kr("",20);D.port1.start();const wn=setTimeout(()=>{yt(new Error("unsupported_event"))},v);pe={messageChannel:D,onMessage(ms){const Ka=ms;if(Ka.data.eventId===Rt)switch(Ka.data.status){case"ack":clearTimeout(wn),X=setTimeout(()=>{yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Be(Ka.data.response);break;default:clearTimeout(wn),clearTimeout(X),yt(new Error("invalid_response"))}}},T.handlers.add(pe),D.port1.addEventListener("message",pe.onMessage),T.target.postMessage({eventType:f,eventId:Rt,data:h},[D.port2])}).finally(()=>{pe&&T.removeMessageHandler(pe)})})()}}function Hn(){return window}function Lh(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Vh(){return(Vh=(0,F.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bh="firebaseLocalStorageDb",Nd="firebaseLocalStorage",e0="fbase_key";class hu{constructor(f){this.request=f}toPromise(){return new Promise((f,h)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function gl(g,f){return g.transaction([Nd],f?"readwrite":"readonly").objectStore(Nd)}function _c(){const g=indexedDB.open(Bh,1);return new Promise((f,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const v=g.result;try{v.createObjectStore(Nd,{keyPath:e0})}catch(T){h(T)}}),g.addEventListener("success",(0,F.Z)(function*(){const v=g.result;v.objectStoreNames.contains(Nd)?f(v):(v.close(),yield function Ld(){const g=indexedDB.deleteDatabase(Bh);return new hu(g).toPromise()}(),f(yield _c()))}))})}function t0(g,f,h){return bx.apply(this,arguments)}function bx(){return(bx=(0,F.Z)(function*(g,f,h){const v=gl(g,!0).put({[e0]:f,value:h});return new hu(v).toPromise()})).apply(this,arguments)}function wx(){return(wx=(0,F.Z)(function*(g,f){const h=gl(g,!1).get(f),v=yield new hu(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ex(g,f){const h=gl(g,!0).delete(f);return new hu(h).toPromise()}const Uh=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,F.Z)(function*(){return h.db||(h.db=yield _c()),h.db})()}_withRetries(h){var v=this;return(0,F.Z)(function*(){let T=0;for(;;)try{const D=yield v._openDb();return yield h(D)}catch(D){if(T++>3)throw D;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,F.Z)(function*(){return Lh()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,F.Z)(function*(){h.receiver=iF._getInstance(function xx(){return Lh()?self:null}()),h.receiver._subscribe("keyChanged",function(){var v=(0,F.Z)(function*(T,D){return{keyProcessed:(yield h._poll()).includes(D.key)}});return function(T,D){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,F.Z)(function*(T,D){return["keyChanged"]});return function(T,D){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,F.Z)(function*(){var v,T;if(h.activeServiceWorker=yield function yx(){return Vh.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Nh(h.activeServiceWorker);const D=yield h.sender._send("ping",{},800);D&&null!==(v=D[0])&&void 0!==v&&v.fulfilled&&null!==(T=D[0])&&void 0!==T&&T.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,F.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Qg(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,F.Z)(function*(){try{if(!indexedDB)return!1;const h=yield _c();return yield t0(h,Xg,"1"),yield Ex(h,Xg),!0}catch{}return!1})()}_withPendingWrite(h){var v=this;return(0,F.Z)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var T=this;return(0,F.Z)(function*(){return T._withPendingWrite((0,F.Z)(function*(){return yield T._withRetries(D=>t0(D,h,v)),T.localCache[h]=v,T.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,F.Z)(function*(){const T=yield v._withRetries(D=>function sF(g,f){return wx.apply(this,arguments)}(D,h));return v.localCache[h]=T,T})()}_remove(h){var v=this;return(0,F.Z)(function*(){return v._withPendingWrite((0,F.Z)(function*(){return yield v._withRetries(T=>Ex(T,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,F.Z)(function*(){const v=yield h._withRetries(X=>{const pe=gl(X,!1).getAll();return new hu(pe).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const T=[],D=new Set;if(0!==v.length)for(const{fbase_key:X,value:pe}of v)D.add(X),JSON.stringify(h.localCache[X])!==JSON.stringify(pe)&&(h.notifyListeners(X,pe),T.push(X));for(const X of Object.keys(h.localCache))h.localCache[X]&&!D.has(X)&&(h.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(h,v){this.localCache[h]=v;const T=this.listeners[h];if(T)for(const D of Array.from(T))D(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,F.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),Vd=1e12;class Tx{constructor(f){this.auth=f,this.counter=Vd,this._widgets=new Map}render(f,h){const v=this.counter;return this._widgets.set(v,new nI(f,this.auth.name,h||{})),this.counter++,v}reset(f){var h;const v=f||Vd;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(f){var h;return(null===(h=this._widgets.get(f||Vd))||void 0===h?void 0:h.getResponse())||""}execute(f){var h=this;return(0,F.Z)(function*(){var v;return null===(v=h._widgets.get(f||Vd))||void 0===v||v.execute(),""})()}}class nI{constructor(f,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;He(T,"argument-error",{appName:h}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rI(g){const f=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<g;v++)f.push(h.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":h}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const r0=BT("rcb"),Ix=new Ws(3e4,6e4);class Cx{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Hn().grecaptcha)||void 0===f||!f.render)}load(f,h=""){return He(function sI(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(h),f,"argument-error"),this.shouldResolveImmediately(h)&&hi(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((v,T)=>{const D=Hn().setTimeout(()=>{T(qn(f,"network-request-failed"))},Ix.get());Hn()[r0]=()=>{Hn().clearTimeout(D),delete Hn()[r0];const pe=Hn().grecaptcha;if(!pe||!hi(pe))return void T(qn(f,"internal-error"));const Be=pe.render;pe.render=(yt,Rt)=>{const wn=Be(yt,Rt);return this.counter++,wn},this.hostLanguage=h,v(pe)},Zy(`https://www.google.com/recaptcha/api.js??${(0,we.xO)({onload:r0,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(D),T(qn(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var h;return!(null===(h=Hn().grecaptcha)||void 0===h||!h.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lF{load(f){return(0,F.Z)(function*(){return new Tx(f)})()}clearedOneInstance(){}}const Sx="recaptcha",yo={theme:"light",type:"image"};class Ax{constructor(f,h,v=Object.assign({},yo)){this.parameters=v,this.type=Sx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sr(f),this.isInvisible="invisible"===this.parameters.size,He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;He(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lF:new Cx,this.validateStartingState()}verify(){var f=this;return(0,F.Z)(function*(){f.assertNotDestroyed();const h=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(h)||new Promise(D=>{const X=pe=>{pe&&(f.tokenChangeListeners.delete(X),D(pe))};f.tokenChangeListeners.add(X),f.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof f)f(h);else if("string"==typeof f){const v=Hn()[f];"function"==typeof v&&v(h)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,F.Z)(function*(){if(yield f.init(),!f.widgetId){let h=f.container;if(!f.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}f.widgetId=f.getAssertedRecaptcha().render(h,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,F.Z)(function*(){He(Wr()&&!Lh(),f.auth,"internal-error"),yield function oI(){let g=null;return new Promise(f=>{"complete"!==document.readyState?(g=()=>f(),window.addEventListener("load",g)):f()}).catch(f=>{throw g&&window.removeEventListener("load",g),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const h=yield function Is(g){return Po.apply(this,arguments)}(f.auth);He(h,f.auth,"internal-error"),f.parameters.sitekey=h})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class s0{constructor(f,h){this.verificationId=f,this.onConfirmation=h}confirm(f){const h=fc._fromVerification(this.verificationId,f);return this.onConfirmation(h)}}function Dx(g,f,h){return jh.apply(this,arguments)}function jh(){return(jh=(0,F.Z)(function*(g,f,h){const v=Sr(g),T=yield Ud(v,f,(0,we.m9)(h));return new s0(T,D=>kh(v,D))})).apply(this,arguments)}function aI(g,f,h){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g);yield Ah(!1,v,"phone");const T=yield Ud(v.auth,f,(0,we.m9)(h));return new s0(T,D=>jg(v,D))})).apply(this,arguments)}function cI(g,f,h){return xo.apply(this,arguments)}function xo(){return(xo=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g),T=yield Ud(v.auth,f,(0,we.m9)(h));return new s0(T,D=>cx(v,D))})).apply(this,arguments)}function Ud(g,f,h){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,F.Z)(function*(g,f,h){var v;const T=yield h.verify();try{let D;if(He("string"==typeof T,g,"argument-error"),He(h.type===Sx,g,"argument-error"),D="string"==typeof f?{phoneNumber:f}:f,"session"in D){const X=D.session;if("phoneNumber"in D)return He("enroll"===X.type,g,"internal-error"),(yield function XP(g,f){return Oe(g,"POST","/v2/accounts/mfaEnrollment:start",fe(g,f))}(g,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{He("signin"===X.type,g,"internal-error");const pe=(null===(v=D.multiFactorHint)||void 0===v?void 0:v.uid)||D.multiFactorUid;return He(pe,g,"missing-multi-factor-info"),(yield function eI(g,f){return Oe(g,"POST","/v2/accounts/mfaSignIn:start",fe(g,f))}(g,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function $T(g,f){return kg.apply(this,arguments)}(g,{phoneNumber:D.phoneNumber,recaptchaToken:T});return X}}finally{h._reset()}}),Hh.apply(this,arguments)}function ar(g,f){return jd.apply(this,arguments)}function jd(){return(jd=(0,F.Z)(function*(g,f){yield Sh((0,we.m9)(g),f)})).apply(this,arguments)}let zh=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=Sr(h)}verifyPhoneNumber(h,v){return Ud(this.auth,h,(0,we.m9)(v))}static credential(h,v){return fc._fromVerification(h,v)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:T}=h;return v&&T?fc._fromTokenResponse(v,T):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Jr(g,f){return f?Ee(f):(He(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class o0 extends tu{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return uc(f,this._buildIdpRequest())}_linkToIdToken(f,h){return uc(f,this._buildIdpRequest(h))}_getReauthenticationResolver(f){return uc(f,this._buildIdpRequest())}_buildIdpRequest(f){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(h.idToken=f),h}}function kx(g){return ax(g.auth,new o0(g),g.bypassAuthState)}function pu(g){const{auth:f,user:h}=g;return He(h,f,"internal-error"),ox(h,new o0(g),g.bypassAuthState)}function ro(g){return a0.apply(this,arguments)}function a0(){return(a0=(0,F.Z)(function*(g){const{auth:f,user:h}=g;return He(h,f,"internal-error"),Sh(h,new o0(g),g.bypassAuthState)})).apply(this,arguments)}class Rx{constructor(f,h,v,T,D=!1){this.auth=f,this.resolver=v,this.user=T,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var f=this;return new Promise(function(){var h=(0,F.Z)(function*(v,T){f.pendingPromise={resolve:v,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(D){f.reject(D)}});return function(v,T){return h.apply(this,arguments)}}())}onAuthEvent(f){var h=this;return(0,F.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:D,tenantId:X,error:pe,type:Be}=f;if(pe)return void h.reject(pe);const yt={auth:h.auth,requestUri:v,sessionId:T,tenantId:X||void 0,postBody:D||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Be)(yt))}catch(Rt){h.reject(Rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return kx;case"linkViaPopup":case"linkViaRedirect":return ro;case"reauthViaPopup":case"reauthViaRedirect":return pu;default:hn(this.auth,"internal-error")}}resolve(f){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lI=new Ws(2e3,1e4);function vc(g,f,h){return $h.apply(this,arguments)}function $h(){return($h=(0,F.Z)(function*(g,f,h){const v=Sr(g);Xr(g,f,za);const T=Jr(v,h);return new c0(v,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function uI(g,f,h){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g);Xr(v.auth,f,za);const T=Jr(v.auth,h);return new c0(v.auth,"reauthViaPopup",f,T,v).executeNotNull()})).apply(this,arguments)}function Mx(g,f,h){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g);Xr(v.auth,f,za);const T=Jr(v.auth,h);return new c0(v.auth,"linkViaPopup",f,T,v).executeNotNull()})).apply(this,arguments)}let c0=(()=>{class g extends Rx{constructor(h,v,T,D,X){super(h,v,D,X),this.provider=T,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,F.Z)(function*(){const v=yield h.execute();return He(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,F.Z)(function*(){dr(1===h.filter.length,"Popup operations only handle one event");const v=Kr();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(T=>{h.reject(T)}),h.resolver._isIframeWebStorageSupported(h.auth,T=>{T||h.reject(qn(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,lI.get())};h()}}return g.currentPopupAction=null,g})();const Ut="pendingRedirect",mu=new Map;class uF extends Rx{constructor(f,h,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,h=this;return(0,F.Z)(function*(){let v=mu.get(h.auth._key());if(!v){try{const D=(yield function dI(g,f){return l0.apply(this,arguments)}(h.resolver,h.auth))?yield f().call(h):null;v=()=>Promise.resolve(D)}catch(T){v=()=>Promise.reject(T)}mu.set(h.auth._key(),v)}return h.bypassAuthState||mu.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var h=()=>super.onAuthEvent,v=this;return(0,F.Z)(function*(){if("signInViaRedirect"===f.type)return h().call(v,f);if("unknown"!==f.type){if(f.eventId){const T=yield v.auth._redirectUserForId(f.eventId);if(T)return v.user=T,h().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,F.Z)(function*(){})()}cleanUp(){}}function l0(){return(l0=(0,F.Z)(function*(g,f){const h=Ox(f),v=Fx(g);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(h));return yield v._remove(h),T})).apply(this,arguments)}function u0(g,f){return qh.apply(this,arguments)}function qh(){return(qh=(0,F.Z)(function*(g,f){return Fx(g)._set(Ox(f),"true")})).apply(this,arguments)}function gu(){mu.clear()}function Px(g,f){mu.set(g._key(),f)}function Fx(g){return Ee(g._redirectPersistence)}function Ox(g){return Ot(Ut,g.config.apiKey,g.name)}function fI(g,f,h){return function hI(g,f,h){return Ne.apply(this,arguments)}(g,f,h)}function Ne(){return(Ne=(0,F.Z)(function*(g,f,h){const v=Sr(g);Xr(g,f,za),yield v._initializationPromise;const T=Jr(v,h);return yield u0(T,v),T._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Mn(g,f,h){return function ei(g,f,h){return Ur.apply(this,arguments)}(g,f,h)}function Ur(){return(Ur=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g);Xr(v.auth,f,za),yield v.auth._initializationPromise;const T=Jr(v.auth,h);yield u0(T,v.auth);const D=yield pI(v);return T._openRedirect(v.auth,f,"reauthViaRedirect",D)})).apply(this,arguments)}function Hi(g,f,h){return function Nx(g,f,h){return _l.apply(this,arguments)}(g,f,h)}function _l(){return(_l=(0,F.Z)(function*(g,f,h){const v=(0,we.m9)(g);Xr(v.auth,f,za),yield v.auth._initializationPromise;const T=Jr(v.auth,h);yield Ah(!1,v,f.providerId),yield u0(T,v.auth);const D=yield pI(v);return T._openRedirect(v.auth,f,"linkViaRedirect",D)})).apply(this,arguments)}function _a(g,f){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,F.Z)(function*(g,f){return yield Sr(g)._initializationPromise,zd(g,f,!1)})).apply(this,arguments)}function zd(g,f){return d0.apply(this,arguments)}function d0(){return(d0=(0,F.Z)(function*(g,f,h=!1){const v=Sr(g),T=Jr(v,f),X=yield new uF(v,T,h).execute();return X&&!h&&(delete X.user._redirectEventId,yield v._persistUserIfCurrent(X.user),yield v._setRedirectUser(null,f)),X})).apply(this,arguments)}function pI(g){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,F.Z)(function*(g){const f=Kr(`${g.uid}:::`);return g._redirectEventId=f,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),f})).apply(this,arguments)}class va{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(h=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ga(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(g);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=f,h=!0)),h}sendToConsumer(f,h){var v;if(f.error&&!vl(f)){const T=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(qn(this.auth,T))}else h.onAuthEvent(f)}isEventForConsumer(f,h){const v=null===h.eventId||!!f.eventId&&f.eventId===h.eventId;return h.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(f))}saveEventToCache(f){this.cachedEventUids.add(f0(f)),this.lastProcessedEventTime=Date.now()}}function f0(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(f=>f).join("-")}function vl({type:g,error:f}){return"unknown"===g&&"auth/no-auth-event"===f?.code}function Lx(g){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,F.Z)(function*(g,f={}){return Oe(g,"GET","/v1/projects",f)})).apply(this,arguments)}const mI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gI=/^https?/;function $d(){return($d=(0,F.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:f}=yield Lx(g);for(const h of f)try{if(Vx(h))return}catch{}hn(g,"unauthorized-domain")})).apply(this,arguments)}function Vx(g){const f=Vr(),{protocol:h,hostname:v}=new URL(f);if(g.startsWith("chrome-extension://")){const X=new URL(g);return""===X.hostname&&""===v?"chrome-extension:"===h&&g.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===h&&X.hostname===v}if(!gI.test(h))return!1;if(mI.test(g))return v===g;const T=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const p0=new Ws(3e4,6e4);function Bx(){const g=Hn().___jsl;if(g?.H)for(const f of Object.keys(g.H))if(g.H[f].r=g.H[f].r||[],g.H[f].L=g.H[f].L||[],g.H[f].r=[...g.H[f].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let _u=null;const Hx=new Ws(5e3,15e3),zx="__/auth/iframe",$x="emulator/auth/iframe",m0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vI(g){const f=g.config;He(f.authDomain,g,"auth-domain-config-required");const h=f.emulator?sa(f,$x):`https://${g.config.authDomain}/${zx}`,v={apiKey:f.apiKey,appName:g.name,v:ee.SDK_VERSION},T=_I.get(g.config.apiHost);T&&(v.eid=T);const D=g._getFrameworks();return D.length&&(v.fw=D.join(",")),`${h}?${(0,we.xO)(v).slice(1)}`}function qa(){return qa=(0,F.Z)(function*(g){const f=yield function jx(g){return _u=_u||function Ux(g){return new Promise((f,h)=>{var v,T,D;function X(){Bx(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bx(),h(qn(g,"network-request-failed"))},timeout:p0.get()})}if(null!==(T=null===(v=Hn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(D=Hn().gapi)||void 0===D||!D.load){const pe=BT("iframefcb");return Hn()[pe]=()=>{gapi.load?X():h(qn(g,"network-request-failed"))},Zy(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Be=>h(Be))}X()}}).catch(f=>{throw _u=null,f})}(g),_u}(g),h=Hn().gapi;return He(h,g,"internal-error"),f.open({where:document.body,url:vI(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m0,dontclear:!0},v=>new Promise(function(){var T=(0,F.Z)(function*(D,X){yield v.restyle({setHideOnLeave:!1});const pe=qn(g,"network-request-failed"),Be=Hn().setTimeout(()=>{X(pe)},Hx.get());function yt(){Hn().clearTimeout(Be),D(v)}v.ping(yt).then(yt,()=>{X(pe)})});return function(D,X){return T.apply(this,arguments)}}()))}),qa.apply(this,arguments)}const Dr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class g0{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const yc="__/auth/handler",EI="emulator/auth/handler",Xh=encodeURIComponent("fac");function vu(g,f,h,v,T,D){return yu.apply(this,arguments)}function yu(){return(yu=(0,F.Z)(function*(g,f,h,v,T,D){He(g.config.authDomain,g,"auth-domain-config-required"),He(g.config.apiKey,g,"invalid-api-key");const X={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:v,v:ee.SDK_VERSION,eventId:T};if(f instanceof za){f.setDefaultLanguage(g.languageCode),X.providerId=f.providerId||"",(0,we.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Rt,wn]of Object.entries(D||{}))X[Rt]=wn}if(f instanceof iu){const Rt=f.getScopes().filter(wn=>""!==wn);Rt.length>0&&(X.scopes=Rt.join(","))}g.tenantId&&(X.tid=g.tenantId);const pe=X;for(const Rt of Object.keys(pe))void 0===pe[Rt]&&delete pe[Rt];const Be=yield g._getAppCheckToken(),yt=Be?`#${Xh}=${encodeURIComponent(Be)}`:"";return`${function _0({config:g}){return g.emulator?sa(g,EI):`https://${g.authDomain}/${yc}`}(g)}?${(0,we.xO)(pe).slice(1)}${yt}`})).apply(this,arguments)}const Qh="webStorageSupport",qx=class Gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=zd,this._overrideRedirectResult=Px}_openPopup(f,h,v,T){var D=this;return(0,F.Z)(function*(){var X;dr(null===(X=D.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=yield vu(f,h,v,Vr(),T);return function Wx(g,f,h,v=500,T=600){const D=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-v)/2,0).toString();let pe="";const Be=Object.assign(Object.assign({},Dr),{width:v.toString(),height:T.toString(),top:D,left:X}),yt=(0,we.z$)().toLowerCase();h&&(pe=Ii(yt)?"_blank":h),Yn(yt)&&(f=f||"http://localhost",Be.scrollbars="yes");const Rt=Object.entries(Be).reduce((ms,[Ka,Kd])=>`${ms}${Ka}=${Kd},`,"");if(function pn(g=(0,we.z$)()){var f;return vt(g)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(yt)&&"_self"!==pe)return function Yh(g,f){const h=document.createElement("a");h.href=g,h.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(f||"",pe),new g0(null);const wn=window.open(f||"",pe,Rt);He(wn,g,"popup-blocked");try{wn.focus()}catch{}return new g0(wn)}(f,pe,Kr())})()}_openRedirect(f,h,v,T){var D=this;return(0,F.Z)(function*(){return yield D._originValidation(f),function vx(g){Hn().location.href=g}(yield vu(f,h,v,Vr(),T)),new Promise(()=>{})})()}_initialize(f){const h=f._key();if(this.eventManagers[h]){const{manager:T,promise:D}=this.eventManagers[h];return T?Promise.resolve(T):(dr(D,"If manager is not set, promise should be"),D)}const v=this.initAndGetManager(f);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(f){var h=this;return(0,F.Z)(function*(){const v=yield function ps(g){return qa.apply(this,arguments)}(f),T=new va(f);return v.register("authEvent",D=>(He(D?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[f._key()]={manager:T},h.iframes[f._key()]=v,T})()}_isIframeWebStorageSupported(f,h){this.iframes[f._key()].send(Qh,{type:Qh},T=>{var D;const X=null===(D=T?.[0])||void 0===D?void 0:D[Qh];void 0!==X&&h(!!X),hn(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const h=f._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function h0(g){return $d.apply(this,arguments)}(f)),this.originValidationPromises[h]}get _shouldInitProactively(){return Cr()||St()||vt()}};class xu{constructor(f){this.factorId=f}_process(f,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(f,h.credential,v);case"signin":return this._finalizeSignIn(f,h.credential);default:return Tn("unexpected MultiFactorSessionType")}}}class yl extends xu{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new yl(f)}_finalizeEnroll(f,h,v){return function QP(g,f){return Oe(g,"POST","/v2/accounts/mfaEnrollment:finalize",fe(g,f))}(f,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,h){return function n0(g,f){return Oe(g,"POST","/v2/accounts/mfaSignIn:finalize",fe(g,f))}(f,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let TI=(()=>{class g{constructor(){}static assertion(h){return yl._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var Kx="@firebase/auth";class dF{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var h=this;return(0,F.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const h=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,h),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const h=this.internalListeners.get(f);h&&(this.internalListeners.delete(f),h(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qd=(0,we.Pz)("authIdTokenMaxAge")||300;let ep=null;const tp=g=>function(){var f=(0,F.Z)(function*(h){const v=h&&(yield h.getIdTokenResult()),T=v&&((new Date).getTime()-Date.parse(v.issuedAtTime))/1e3;if(T&&T>qd)return;const D=v?.token;ep!==D&&(ep=D,yield fetch(g,{method:D?"POST":"DELETE",headers:D?{Authorization:`Bearer ${D}`}:{}}))});return function(h){return f.apply(this,arguments)}}();function fF(g=(0,ee.getApp)()){const f=(0,ee._getProvider)(g,"auth");if(f.isInitialized())return f.getImmediate();const h=function GP(g,f){const h=(0,ee._getProvider)(g,"auth");if(h.isInitialized()){const T=h.getImmediate(),D=h.getOptions();if((0,we.vZ)(D,f??{}))return T;hn(T,"already-initialized")}return h.initialize({options:f})}(g,{popupRedirectResolver:qx,persistence:[Uh,XT,ga]}),v=(0,we.Pz)("authTokenSyncURL");if(v){const D=tp(v);(function pl(g,f,h){(0,we.m9)(g).beforeAuthStateChanged(f,h)})(h,D,()=>D(h.currentUser)),function Kg(g,f,h,v){(0,we.m9)(g).onIdTokenChanged(f,h,v)}(h,X=>D(X))}const T=(0,we.q4)("auth");return T&&HT(h,`http://${T}`),h}!function Gd(g){(0,ee._registerComponent)(new wr.wA("auth",(f,{options:h})=>{const v=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),D=f.getProvider("app-check-internal"),{apiKey:X,authDomain:pe}=v.options;He(X&&!X.includes(":"),"invalid-api-key",{appName:v.name});const Be={apiKey:X,authDomain:pe,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ln(g)},yt=new HP(v,T,D,Be);return function Ye(g,f){const h=f?.persistence||[],v=(Array.isArray(h)?h:[h]).map(Ee);f?.errorMap&&g._updateErrorMap(f.errorMap),g._initializeWithPersistence(v,f?.popupRedirectResolver)}(yt,h),yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,h,v)=>{f.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new wr.wA("auth-internal",f=>{const h=Sr(f.getProvider("auth").getImmediate());return new dF(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Kx,"1.5.1",function v0(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,ee.registerVersion)(Kx,"1.5.1","esm2017")}("Browser")},58:(ia,ui,Pt)=>{Pt.d(ui,{BH:()=>$s,G6:()=>sa,L:()=>kn,LL:()=>Me,P0:()=>Er,Pz:()=>qn,Sg:()=>Xr,UG:()=>Tn,ZB:()=>It,ZR:()=>Oe,aH:()=>hn,b$:()=>Wr,eu:()=>ye,hl:()=>me,jU:()=>dr,m9:()=>da,ne:()=>Gs,pd:()=>Oo,q4:()=>fi,r3:()=>pi,ru:()=>Vr,tV:()=>Re,uI:()=>He,vZ:()=>oa,w1:()=>Mo,xO:()=>ca,xb:()=>Is,z$:()=>nn,zd:()=>Fo});const Ct=function(q){const j=[];let C=0;for(let k=0;k<q.length;k++){let I=q.charCodeAt(k);I<128?j[C++]=I:I<2048?(j[C++]=I>>6|192,j[C++]=63&I|128):55296==(64512&I)&&k+1<q.length&&56320==(64512&q.charCodeAt(k+1))?(I=65536+((1023&I)<<10)+(1023&q.charCodeAt(++k)),j[C++]=I>>18|240,j[C++]=I>>12&63|128,j[C++]=I>>6&63|128,j[C++]=63&I|128):(j[C++]=I>>12|224,j[C++]=I>>6&63|128,j[C++]=63&I|128)}return j},wr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,j){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let I=0;I<q.length;I+=3){const G=q[I],Ee=I+1<q.length,xt=Ee?q[I+1]:0,wt=I+2<q.length,Ot=wt?q[I+2]:0;let Yn=(15&xt)<<2|Ot>>6,St=63&Ot;wt||(St=64,Ee||(Yn=64)),k.push(C[G>>2],C[(3&G)<<4|xt>>4],C[Yn],C[St])}return k.join("")},encodeString(q,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(q):this.encodeByteArray(Ct(q),j)},decodeString(q,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(q):function(q){const j=[];let C=0,k=0;for(;C<q.length;){const I=q[C++];if(I<128)j[k++]=String.fromCharCode(I);else if(I>191&&I<224){const G=q[C++];j[k++]=String.fromCharCode((31&I)<<6|63&G)}else if(I>239&&I<365){const wt=((7&I)<<18|(63&q[C++])<<12|(63&q[C++])<<6|63&q[C++])-65536;j[k++]=String.fromCharCode(55296+(wt>>10)),j[k++]=String.fromCharCode(56320+(1023&wt))}else{const G=q[C++],Ee=q[C++];j[k++]=String.fromCharCode((15&I)<<12|(63&G)<<6|63&Ee)}}return j.join("")}(this.decodeStringToByteArray(q,j))},decodeStringToByteArray(q,j){this.init_();const C=j?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let I=0;I<q.length;){const G=C[q.charAt(I++)],xt=I<q.length?C[q.charAt(I)]:0;++I;const Ot=I<q.length?C[q.charAt(I)]:64;++I;const ft=I<q.length?C[q.charAt(I)]:64;if(++I,null==G||null==xt||null==Ot||null==ft)throw new $r;k.push(G<<2|xt>>4),64!==Ot&&(k.push(xt<<4&240|Ot>>2),64!==ft&&k.push(Ot<<6&192|ft))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class $r extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kn=function(q){return function(q){const j=Ct(q);return wr.encodeByteArray(j,!0)}(q).replace(/\./g,"")},Re=function(q){try{return wr.decodeString(q,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function It(q,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return j}for(const C in j)!j.hasOwnProperty(C)||!Qt(C)||(q[C]=It(q[C],j[C]));return q}function Qt(q){return"__proto__"!==q}const zt=()=>{try{return function On(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=q&&Re(q[1]);return j&&JSON.parse(j)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},fi=q=>{var j,C;return null===(C=null===(j=zt())||void 0===j?void 0:j.emulatorHosts)||void 0===C?void 0:C[q]},Er=q=>{const j=fi(q);if(!j)return;const C=j.lastIndexOf(":");if(C<=0||C+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const k=parseInt(j.substring(C+1),10);return"["===j[0]?[j.substring(1,C-1),k]:[j.substring(0,C),k]},hn=()=>{var q;return null===(q=zt())||void 0===q?void 0:q.config},qn=q=>{var j;return null===(j=zt())||void 0===j?void 0:j[`_${q}`]};class $s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,C)=>{this.resolve=j,this.reject=C})}wrapCallback(j){return(C,k)=>{C?this.reject(C):this.resolve(k),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(C):j(C,k))}}}function Xr(q,j){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=j||"demo-project",I=q.iat||0,G=q.sub||q.user_id;if(!G)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:I,exp:I+3600,auth_time:I,sub:G,user_id:G,firebase:{sign_in_provider:"custom",identities:{}}},q);return[kn(JSON.stringify({alg:"none",type:"JWT"})),kn(JSON.stringify(Ee)),""].join(".")}function nn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Tn(){var q;const j=null===(q=zt())||void 0===q?void 0:q.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dr(){return"object"==typeof self&&self.self===self}function Vr(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Wr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mo(){const q=nn();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function sa(){return!Tn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((q,j)=>{try{let C=!0;const k="validate-browser-context-for-indexeddb-analytics-module",I=self.indexedDB.open(k);I.onsuccess=()=>{I.result.close(),C||self.indexedDB.deleteDatabase(k),q(!0)},I.onupgradeneeded=()=>{C=!1},I.onerror=()=>{var G;j((null===(G=I.error)||void 0===G?void 0:G.message)||"")}}catch(C){j(C)}})}class Oe extends Error{constructor(j,C,k){super(C),this.code=j,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(j,C,k){this.service=j,this.serviceName=C,this.errors=k}create(j,...C){const k=C[0]||{},I=`${this.service}/${j}`,G=this.errors[j],Ee=G?function st(q,j){return q.replace(fn,(C,k)=>{const I=j[k];return null!=I?String(I):`<${k}?>`})}(G,k):"Error";return new Oe(I,`${this.serviceName}: ${Ee} (${I}).`,k)}}const fn=/\{\$([^}]+)}/g;function pi(q,j){return Object.prototype.hasOwnProperty.call(q,j)}function Is(q){for(const j in q)if(Object.prototype.hasOwnProperty.call(q,j))return!1;return!0}function oa(q,j){if(q===j)return!0;const C=Object.keys(q),k=Object.keys(j);for(const I of C){if(!k.includes(I))return!1;const G=q[I],Ee=j[I];if(xn(G)&&xn(Ee)){if(!oa(G,Ee))return!1}else if(G!==Ee)return!1}for(const I of k)if(!C.includes(I))return!1;return!0}function xn(q){return null!==q&&"object"==typeof q}function ca(q){const j=[];for(const[C,k]of Object.entries(q))Array.isArray(k)?k.forEach(I=>{j.push(encodeURIComponent(C)+"="+encodeURIComponent(I))}):j.push(encodeURIComponent(C)+"="+encodeURIComponent(k));return j.length?"&"+j.join("&"):""}function Fo(q){const j={};return q.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[I,G]=k.split("=");j[decodeURIComponent(I)]=decodeURIComponent(G)}}),j}function Oo(q){const j=q.indexOf("?");if(!j)return"";const C=q.indexOf("#",j);return q.substring(j,C>0?C:void 0)}function Gs(q,j){const C=new qs(q,j);return C.subscribe.bind(C)}class qs{constructor(j,C){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=C,this.task.then(()=>{j(this)}).catch(k=>{this.error(k)})}next(j){this.forEachObserver(C=>{C.next(j)})}error(j){this.forEachObserver(C=>{C.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,C,k){let I;if(void 0===j&&void 0===C&&void 0===k)throw new Error("Missing Observer.");I=function Li(q,j){if("object"!=typeof q||null===q)return!1;for(const C of j)if(C in q&&"function"==typeof q[C])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:C,complete:k},void 0===I.next&&(I.next=Wn),void 0===I.error&&(I.error=Wn),void 0===I.complete&&(I.complete=Wn);const G=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?I.error(this.finalError):I.complete()}catch{}}),this.observers.push(I),G}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let C=0;C<this.observers.length;C++)this.sendOne(C,j)}sendOne(j,C){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{C(this.observers[j])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}function da(q){return q&&q._delegate?q._delegate:q}},511:(ia,ui,Pt)=>{function F(t){return"function"==typeof t}function we(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ee=we(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ct(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof ee?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{or(s)}catch(o){e=e??[],o instanceof ee?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ee(e)}}add(e){var n;if(e&&e!==this)if(this.closed)or(e);else{if(e instanceof vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ct(n,e)}remove(e){const{_finalizers:n}=this;n&&Ct(n,e),e instanceof vn&&e._removeParent(this)}}vn.EMPTY=(()=>{const t=new vn;return t.closed=!0,t})();const wr=vn.EMPTY;function $r(t){return t instanceof vn||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function or(t){F(t)?t():t.unsubscribe()}const kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Re={setTimeout(t,e,...n){const{delegate:r}=Re;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Re;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $e(t){Re.setTimeout(()=>{const{onUnhandledError:e}=kn;if(!e)throw t;e(t)})}function It(){}const Qt=yn("C",void 0,void 0);function yn(t,e,n){return{kind:t,value:e,error:n}}let Ht=null;function zt(t){if(kn.useDeprecatedSynchronousErrorHandling){const e=!Ht;if(e&&(Ht={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ht;if(Ht=null,n)throw r}}else t()}class Er extends vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$r(e)&&e.add(this)):this.destination=dr}static create(e,n,r){return new Xr(e,n,r)}next(e){this.isStopped?Tn(function di(t){return yn("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Tn(function On(t){return yn("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tn(Qt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const hn=Function.prototype.bind;function qn(t,e){return hn.call(t,e)}class $s{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nn(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nn(r)}else nn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nn(n)}}}class Xr extends Er{constructor(e,n,r){let i;if(super(),F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&kn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qn(e.next,s),error:e.error&&qn(e.error,s),complete:e.complete&&qn(e.complete,s)}):i=e}this.destination=new $s(i)}}function nn(t){kn.useDeprecatedSynchronousErrorHandling?function fi(t){kn.useDeprecatedSynchronousErrorHandling&&Ht&&(Ht.errorThrown=!0,Ht.error=t)}(t):$e(t)}function Tn(t,e){const{onStoppedNotification:n}=kn;n&&Re.setTimeout(()=>n(t,e))}const dr={closed:!0,next:It,error:function He(t){throw t},complete:It},Vr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wr(t){return t}function Mo(t){return 0===t.length?Wr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let jt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function me(t){return t&&t instanceof Er||function sa(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}(t)&&$r(t)}(n)?n:new Xr(n,r,i);return zt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ws(r))((i,s)=>{const o=new Xr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Vr](){return this}pipe(...n){return Mo(n)(this)}toPromise(n){return new(n=Ws(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ws(t){var e;return null!==(e=t??kn.Promise)&&void 0!==e?e:Promise}const ye=we(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let le=(()=>{class t extends jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new fe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ye}next(n){zt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){zt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?wr:(this.currentObservers=null,s.push(n),new vn(()=>{this.currentObservers=null,Ct(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new jt;return n.source=this,n}}return t.create=(e,n)=>new fe(e,n),t})();class fe extends le{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:wr}}function Oe(t){return F(t?.lift)}function Me(t){return e=>{if(Oe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new fn(t,e,n,r,i)}class fn extends Er{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function lt(t,e){return Me((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}var kt=Pt(582);const In=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function pr(t){return F(t?.then)}function er(t){return F(t[Vr])}function Tr(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function hi(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ni=function pi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Is(t){return F(t?.[Ni])}function Po(t){return(0,kt.FC)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,kt.qq)(n.read());if(i)return yield(0,kt.qq)(void 0);yield yield(0,kt.qq)(r)}}finally{n.releaseLock()}})}function oa(t){return F(t?.getReader)}function xn(t){if(t instanceof jt)return t;if(null!=t){if(er(t))return function aa(t){return new jt(e=>{const n=t[Vr]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(In(t))return function ca(t){return new jt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(pr(t))return function Fo(t){return new jt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$e)})}(t);if(Tr(t))return Yi(t);if(Is(t))return function Oo(t){return new jt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(oa(t))return function Gs(t){return Yi(Po(t))}(t)}throw hi(t)}function Yi(t){return new jt(e=>{(function qs(t,e){var n,r,i,s;return(0,kt.mG)(this,void 0,void 0,function*(){try{for(n=(0,kt.KL)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ks(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Wn(t,e,n=1/0){return F(e)?Wn((r,i)=>lt((s,o)=>e(r,s,i,o))(xn(t(r,i))),n):("number"==typeof e&&(n=e),Me((r,i)=>function Li(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const p=()=>{d&&!c.length&&!l&&e.complete()},m=_=>l<r?y(_):c.push(_),y=_=>{s&&e.next(_),l++;let x=!1;xn(n(_,u++)).subscribe(st(e,E=>{i?.(E),s?m(E):e.next(E)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<r;){const E=c.shift();o?Ks(e,o,()=>y(E)):y(E)}p()}catch(E){e.error(E)}}))};return t.subscribe(st(e,m,()=>{d=!0,p()})),()=>{a?.()}}(r,i,t,n)))}function Zs(t=1/0){return Wn(Wr,t)}const Gr=new jt(t=>t.complete());function Br(t){return t&&F(t.schedule)}function la(t){return t[t.length-1]}function ua(t){return F(la(t))?t.pop():void 0}function No(t){return Br(la(t))?t.pop():void 0}function Qr(t,e=0){return Me((n,r)=>{n.subscribe(st(r,i=>Ks(r,t,()=>r.next(i),e),()=>Ks(r,t,()=>r.complete(),e),i=>Ks(r,t,()=>r.error(i),e)))})}function Xi(t,e=0){return Me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function da(t,e){if(!t)throw new Error("Iterable cannot be null");return new jt(n=>{Ks(n,e,()=>{const r=t[Symbol.asyncIterator]();Ks(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function C(t,e){return e?function j(t,e){if(null!=t){if(er(t))return function Ys(t,e){return xn(t).pipe(Xi(e),Qr(e))}(t,e);if(In(t))return function lc(t,e){return new jt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(pr(t))return function eu(t,e){return xn(t).pipe(Xi(e),Qr(e))}(t,e);if(Tr(t))return da(t,e);if(Is(t))return function il(t,e){return new jt(n=>{let r;return Ks(n,e,()=>{r=t[Ni](),Ks(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}(t,e);if(oa(t))return function q(t,e){return da(Po(t),e)}(t,e)}throw hi(t)}(t,e):xn(t)}function k(...t){const e=No(t),n=function mi(t,e){return"number"==typeof la(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?xn(r[0]):Zs(n)(C(r,e)):Gr}class I extends le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function G(...t){return C(t,No(t))}function Ee(t={}){const{connector:e=(()=>new le),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),o=c=void 0,u=d=!1},y=()=>{const _=o;m(),_?.unsubscribe()};return Me((_,x)=>{l++,!d&&!u&&p();const E=c=c??e();x.add(()=>{l--,0===l&&!d&&!u&&(a=xt(y,i))}),E.subscribe(x),!o&&l>0&&(o=new Xr({next:b=>E.next(b),error:b=>{d=!0,p(),a=xt(m,n,b),E.error(b)},complete:()=>{u=!0,p(),a=xt(m,r),E.complete()}}),xn(_).subscribe(o))})(s)}}function xt(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Xr({next:()=>{r.unsubscribe(),t()}});return xn(e(...n)).subscribe(r)}function wt(t,e){return Me((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,c=>{i?.unsubscribe();let l=0;const u=s++;xn(t(c,u)).subscribe(i=st(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ot(t,e=Wr){return t=t??Rn,Me((n,r)=>{let i,s=!0;n.subscribe(st(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Rn(t,e){return t===e}function ft(t){for(let e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function Yn(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function St(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ii(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const sl=ft({__forward_ref__:ft});function oe(t){return t.__forward_ref__=oe,t.toString=function(){return St(this())},t}function Y(t){return je(t)?t():t}function je(t){return"function"==typeof t&&t.hasOwnProperty(sl)&&t.__forward_ref__===oe}function vt(t){return t&&!!t.\u0275providers}const pn="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function Cr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Et(t){return"string"==typeof t?t:null==t?"":String(t)}function bg(t,e){throw new re(-201,!1)}function Qi(t,e){null==t&&function Nt(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gh(t){return ex(t,nu)||ex(t,_h)}function ex(t,e){return t.hasOwnProperty(e)?t[e]:null}function Dd(t){return t&&(t.hasOwnProperty(wg)||t.hasOwnProperty(zT))?t[wg]:null}const nu=ft({\u0275prov:ft}),wg=ft({\u0275inj:ft}),_h=ft({ngInjectableDef:ft}),zT=ft({ngInjectorDef:ft});var un=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(un||{});let Eg;function Cs(t){const e=Eg;return Eg=t,e}function yh(t,e,n){const r=gh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&un.Optional?null:void 0!==e?e:void bg(St(t))}const Xn=globalThis;class Pe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const al={},Dg="__NG_DI_FLAG__",Qs="ngTempTokenPath",kg=/\n/gm,wh="__source";let ru;function dc(t){const e=ru;return ru=t,e}function GT(t,e=un.Default){if(void 0===ru)throw new re(-203,!1);return null===ru?yh(t,void 0,e):ru.get(t,e&un.Optional?null:void 0,e)}function te(t,e=un.Default){return(function vh(){return Eg}()||GT)(Y(t),e)}function ht(t,e=un.Default){return te(t,Eh(e))}function Eh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cl(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=un.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Mg(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(te(i,s))}else e.push(te(r))}return e}function Th(t,e){return t[Dg]=e,t.prototype[Dg]=e,t}function Mg(t){return t[Dg]}function Js(t){return{toString:t}.toString()}var Ih=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ih||{}),_o=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_o||{});const fa={},Ln=[],$a=ft({\u0275cmp:ft}),Pg=ft({\u0275dir:ft}),su=ft({\u0275pipe:ft}),ix=ft({\u0275mod:ft}),ha=ft({\u0275fac:ft}),ll=ft({__NG_ELEMENT_ID__:ft}),eo=ft({__NG_ENV_ID__:ft});function Fg(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Og(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Rd(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Ch(t){return 3===t||4===t||6===t}function Rd(t){return 64===t.charCodeAt(0)}function ou(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ng(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ng(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const sx="ng-template";function Lg(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Fg(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Sh(t){return 4===t.type&&t.value!==sx}function Vg(t,e,n){return e===(4!==t.type||n?t.value:sx)}function Ah(t,e,n){let r=4;const i=t.attrs||[],s=function Bg(t){for(let e=0;e<t.length;e++)if(Ch(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Vg(t,c,n)||""===c&&1===e.length){if(to(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Lg(t.attrs,l,n)){if(to(r))return!1;o=!0}continue}const d=ox(8&r?"class":c,i,Sh(t),n);if(-1===d){if(to(r))return!1;o=!0;continue}if(""!==l){let p;p=d>s?"":i[d+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==Fg(m,l,0)||2&r&&l!==p){if(to(r))return!1;o=!0}}}}else{if(!o&&!to(r)&&!to(c))return!1;if(o&&to(c))continue;o=!1,r=c|1&r}}return to(r)||o}function to(t){return 0==(1&t)}function ox(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function kh(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Dh(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ah(t,e[r],n))return!0;return!1}function jg(t,e){return t?":not("+e.trim()+")":e}function Hg(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!to(o)&&(e+=jg(s,i),i=""),r=o,s=s||!to(r);n++}return""!==i&&(e+=jg(s,i)),e}function Ci(t){return Js(()=>{const e=lx(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ih.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_o.Emulated,styles:t.styles||Ln,_:null,schemas:t.schemas||null,tView:null,id:""};Mh(n);const r=t.dependencies;return n.directiveDefs=Md(r,!1),n.pipeDefs=Md(r,!0),n.id=function KT(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function qT(t){return bn(t)||Bi(t)}function Wg(t){return null!==t}function Cn(t){return Js(()=>({type:t.type,bootstrap:t.bootstrap||Ln,declarations:t.declarations||Ln,imports:t.imports||Ln,exports:t.exports||Ln,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Rh(t,e){if(null==t)return fa;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ft(t){return Js(()=>{const e=lx(t);return Mh(e),e})}function Vi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[$a]||null}function Bi(t){return t[Pg]||null}function Ui(t){return t[su]||null}function fs(t,e){const n=t[ix]||null;if(!n&&!0===e)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function lx(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||fa,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rh(t.inputs,e),outputs:Rh(t.outputs)}}function Mh(t){t.features?.forEach(e=>e(t))}function Md(t,e){if(!t)return null;const n=e?Ui:qT;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Wg)}const mr=0,pt=1,Gt=2,gr=3,Lo=4,ul=5,Ji=6,cu=7,Ar=8,hc=9,pc=10,qt=11,dl=12,ux=13,mc=14,qr=15,fl=16,lu=17,vo=18,Pd=19,Ph=20,gc=21,Wa=22,uu=23,hl=24,mn=25,Fh=1,dx=2,pa=7,du=9,es=11;function no(t){return Array.isArray(t)&&"object"==typeof t[Fh]}function ji(t){return Array.isArray(t)&&!0===t[Fh]}function Kg(t){return 0!=(4&t.flags)}function pl(t){return t.componentOffset>-1}function Zg(t){return 1==(1&t.flags)}function ma(t){return!!t.template}function fx(t){return 0!=(512&t[Gt])}function fu(t,e){return t.hasOwnProperty(ha)?t[ha]:null}let Kr=null,Nh=!1;function Hn(t){const e=Kr;return Kr=t,e}const vx={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yx(t){if(!Ld(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Nd(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xx(t){t.dirty=!0,function Vh(t){if(void 0===t.liveConsumerNode)return;const e=Nh;Nh=!0;try{for(const n of t.liveConsumerNode)n.dirty||xx(n)}finally{Nh=e}}(t),t.consumerMarkedDirty?.(t)}function Bh(t){return t&&(t.nextProducerIndex=0),Hn(t)}function Jg(t,e){if(Hn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ld(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nd(t){_c(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(yx(n),r!==n.version))return!0}return!1}function e0(t){if(_c(t),Ld(t))for(let e=0;e<t.producerNode.length;e++)gl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gl(t,e){if(function t0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),_c(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)gl(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_c(i),i.producerIndexOfThis[r]=e}}function Ld(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let JT=null;function Ix(t){const e=Hn(null);try{return t()}finally{Hn(e)}}const Cx=()=>{},sI=(()=>({...vx,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Cx}))();class Sx{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yo(){return Ax}function Ax(t){return t.type.prototype.ngOnChanges&&(t.setInput=s0),oI}function oI(){const t=jh(this),e=t?.current;if(e){const n=t.previous;if(n===fa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function s0(t,e,n,r){const i=this.declaredInputs[n],s=jh(t)||function aI(t,e){return t[Dx]=e}(t,{previous:fa,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Sx(c&&c.currentValue,e,a===fa),t[r]=e}yo.ngInherit=!0;const Dx="__ngSimpleChanges__";function jh(t){return t[Dx]||null}const xo=function(t,e,n){};function ar(t){for(;Array.isArray(t);)t=t[mr];return t}function zh(t,e){return ar(e[t])}function Jr(t,e){return ar(e[t.index])}function kx(t,e){return t.data[e]}function pu(t,e){return t[e]}function ro(t,e){const n=e[t];return no(n)?n:n[mr]}function vc(t,e){return null==e?null:t[e]}function $h(t){t[lu]=0}function uI(t){1024&t[Gt]||(t[Gt]|=1024,Mx(t,1))}function Wh(t){1024&t[Gt]&&(t[Gt]&=-1025,Mx(t,-1))}function Mx(t,e){let n=t[gr];if(null===n)return;n[ul]+=e;let r=n;for(n=n[gr];null!==n&&(1===e&&1===r[ul]||-1===e&&0===r[ul]);)n[ul]+=e,r=n,n=n[gr]}const Ut={lFrame:Hx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qh(){return Ut.bindingsEnabled}function Ne(){return Ut.lFrame.lView}function Mn(){return Ut.lFrame.tView}function ei(t){return Ut.lFrame.contextLView=t,t[Ar]}function Ur(t){return Ut.lFrame.contextLView=null,t}function Hi(){let t=Nx();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nx(){return Ut.lFrame.currentTNode}function _a(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Hd(){return Ut.lFrame.isParent}function zd(){Ut.lFrame.isParent=!1}function hs(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vl(){return Ut.lFrame.bindingIndex++}function Ga(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mI(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,h0(e)}function h0(t){Ut.lFrame.currentDirectiveIndex=t}function Vx(){return Ut.lFrame.currentQueryIndex}function p0(t){Ut.lFrame.currentQueryIndex=t}function Bx(t){const e=t[pt];return 2===e.type?e.declTNode:1===e.type?t[Ji]:null}function Ux(t,e,n){if(n&un.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&un.Host||(i=Bx(s),null===i||(s=s[mc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Ut.lFrame=jx();return r.currentTNode=e,r.lView=t,!0}function _u(t){const e=jx(),n=t[pt];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jx(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?Hx(t):e}function Hx(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function zx(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $x=zx;function m0(){const t=zx();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ps(){return Ut.lFrame.selectedIndex}function qa(t){Ut.lFrame.selectedIndex=t}function Dr(){const t=Ut.lFrame;return kx(t.tView,t.selectedIndex)}let Wx=!0;function Yh(){return Wx}function yc(t){Wx=t}function Xh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function vu(t,e,n){Qh(t,e,3,n)}function yu(t,e,n,r){(3&t[Gt])===n&&Qh(t,e,n,r)}function _0(t,e){let n=t[Gt];(3&n)===e&&(n&=8191,n+=1,t[Gt]=n)}function Qh(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[lu]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[lu]+=65536),(a<s||-1==s)&&(qx(t,n,e,c),t[lu]=(4294901760&t[lu])+c+2),c++}function Gx(t,e){xo(4,t,e);const n=Hn(null);try{e.call(t)}finally{Hn(n),xo(5,t,e)}}function qx(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Gt]>>13<t[lu]>>16&&(3&t[Gt])===e&&(t[Gt]+=8192,Gx(a,s)):Gx(a,s)}const xu=-1;class yl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function v0(t){return t!==xu}function Gd(t){return 32767&t}function qd(t,e){let n=function SI(t){return t>>16}(t),r=e;for(;n>0;)r=r[mc],n--;return r}let ep=!0;function tp(t){const e=ep;return ep=t,e}const g=255,f=5;let h=0;const v={};function D(t,e){const n=pe(t,e);if(-1!==n)return n;const r=e[pt];r.firstCreatePass&&(t.injectorIndex=e.length,X(r.data,t),X(e,null),X(r.blueprint,null));const i=Be(t,e),s=t.injectorIndex;if(v0(i)){const o=Gd(i),a=qd(i,e),c=a[pt].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function X(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=hF(i),null===r)return xu;if(n++,i=i[mc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xu}function yt(t,e,n){!function T(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ll)&&(r=n[ll]),null==r&&(r=n[ll]=h++);const i=r&g;e.data[t+(i>>f)]|=1<<i}(t,e,n)}function wn(t,e,n){if(n&un.Optional||void 0!==t)return t;bg()}function ms(t,e,n,r){if(n&un.Optional&&void 0===r&&(r=null),!(n&(un.Self|un.Host))){const i=t[hc],s=Cs(void 0);try{return i?i.get(e,r,n&un.Optional):yh(e,r,n&un.Optional)}finally{Cs(s)}}return wn(r,0,n)}function Ka(t,e,n,r=un.Default,i){if(null!==t){if(2048&e[Gt]&&!(r&un.Self)){const o=function $G(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Gt]&&!(512&o[Gt]);){const a=Kd(s,o,n,r|un.Self,v);if(a!==v)return a;let c=s.parent;if(!c){const l=o[Ph];if(l){const u=l.get(n,v,r);if(u!==v)return u}c=hF(o),o=o[mc]}s=c}return i}(t,e,n,r,v);if(o!==v)return o}const s=Kd(t,e,n,r,v);if(s!==v)return s}return ms(e,n,r,i)}function Kd(t,e,n,r,i){const s=function Yx(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ll)?t[ll]:void 0;return"number"==typeof e?e>=0?e&g:AI:e}(n);if("function"==typeof s){if(!Ux(e,t,r))return r&un.Host?wn(i,0,r):ms(e,n,r,i);try{let o;if(o=s(r),null!=o||r&un.Optional)return o;bg()}finally{$x()}}else if("number"==typeof s){let o=null,a=pe(t,e),c=xu,l=r&un.Host?e[qr][Ji]:null;for((-1===a||r&un.SkipSelf)&&(c=-1===a?Be(t,e):e[a+8],c!==xu&&y0(r,!1)?(o=e[pt],a=Gd(c),e=qd(c,e)):a=-1);-1!==a;){const u=e[pt];if(np(s,a,u.data)){const d=Zx(a,e,n,o,r,l);if(d!==v)return d}c=e[a+8],c!==xu&&y0(r,e[pt].data[a+8]===l)&&np(s,a,e)?(o=u,a=Gd(c),e=qd(c,e)):a=-1}}return i}function Zx(t,e,n,r,i,s){const o=e[pt],a=o.data[t+8],u=bu(a,o,n,null==r?pl(a)&&ep:r!=o&&0!=(3&a.type),i&un.Host&&s===a);return null!==u?xc(e,o,u,a):v}function bu(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,p=i?a+u:t.directiveEnd;for(let m=r?a:a+u;m<p;m++){const y=o[m];if(m<c&&n===y||m>=c&&y.type===n)return m}if(i){const m=o[c];if(m&&ma(m)&&m.type===n)return c}return null}function xc(t,e,n,r){let i=t[n];const s=e.data;if(function TI(t){return t instanceof yl}(i)){const o=i;o.resolving&&function Ad(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ln(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Et(t)}(s[n]));const a=tp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Cs(o.injectImpl):null;Ux(t,r,un.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function EI(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Ax(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Cs(l),tp(a),o.resolving=!1,$x()}}return i}function np(t,e,n){return!!(n[e+(t>>f)]&1<<t)}function y0(t,e){return!(t&un.Self||t&un.Host&&e)}class ts{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ka(this._tNode,this._lView,e,Eh(r),n)}}function AI(){return new ts(Hi(),Ne())}function gi(t){return Js(()=>{const e=t.prototype.constructor,n=e[ha]||b0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ha]||b0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function b0(t){return je(t)?()=>{const e=b0(Y(t));return e&&e()}:fu(t)}function hF(t){const e=t[pt],n=e.type;return 2===n?e.declTNode:1===n?t[Ji]:null}const ip="__parameters__";function op(t,e,n){return Js(()=>{const r=function DI(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(ip)?c[ip]:Object.defineProperty(c,ip,{value:[]})[ip];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function cp(t,e){t.forEach(n=>Array.isArray(n)?cp(n,e):e(n))}function mF(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qx(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Vo(t,e,n){let r=lp(t,e);return r>=0?t[1|r]=n:(r=~r,function XG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function kI(t,e){const n=lp(t,e);if(n>=0)return t[1|n]}function lp(t,e){return function gF(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Bo=Th(op("Optional"),8),eb=Th(op("SkipSelf"),4);function sb(t){return 128==(128&t.flags)}var Eu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Eu||{});const vq=/^>|^->|<!--|-->|--!>|<!-$/g,yq=/(<|>)/g,xq="\u200b$1\u200b";const OI=new Map;let bq=0;const LI="__ngContext__";function Ss(t,e){no(e)?(t[LI]=e[Pd],function Eq(t){OI.set(t[Pd],t)}(e)):t[LI]=e}let VI;function BI(t,e){return VI(t,e)}function C0(t){const e=t[gr];return ji(e)?e[gr]:e}function NF(t){return VF(t[dl])}function LF(t){return VF(t[Lo])}function VF(t){for(;null!==t&&!ji(t);)t=t[Lo];return t}function fp(t,e,n,r,i){if(null!=r){let s,o=!1;ji(r)?s=r:no(r)&&(o=!0,r=r[mr]);const a=ar(r);0===t&&null!==n?null==i?HF(e,n,a):Zd(e,n,a,i||null,!0):1===t&&null!==n?Zd(e,n,a,i||null,!0):2===t?function fb(t,e,n){const r=ub(t,e);r&&function Hq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Wq(t,e,n,r,i){const s=n[pa];s!==ar(n)&&fp(e,t,r,s,i);for(let a=es;a<n.length;a++){const c=n[a];A0(c[pt],c,t,e,r,s)}}(e,t,s,n,i)}}function UI(t,e){return t.createComment(function AF(t){return t.replace(vq,e=>e.replace(yq,xq))}(e))}function cb(t,e,n){return t.createElement(e,n)}function UF(t,e){const n=t[du],r=n.indexOf(e);Wh(e),n.splice(r,1)}function lb(t,e){if(t.length<=es)return;const n=es+e,r=t[n];if(r){const i=r[fl];null!==i&&i!==t&&UF(i,r),e>0&&(t[n-1][Lo]=r[Lo]);const s=Qx(t,es+e);!function Fq(t,e){A0(t,e,e[qt],2,null,null),e[mr]=null,e[Ji]=null}(r[pt],r);const o=s[vo];null!==o&&o.detachView(s[pt]),r[gr]=null,r[Lo]=null,r[Gt]&=-129}return r}function jI(t,e){if(!(256&e[Gt])){const n=e[qt];e[uu]&&e0(e[uu]),e[hl]&&e0(e[hl]),n.destroyNode&&A0(t,e,n,3,null,null),function Lq(t){let e=t[dl];if(!e)return HI(t[pt],t);for(;e;){let n=null;if(no(e))n=e[dl];else{const r=e[es];r&&(n=r)}if(!n){for(;e&&!e[Lo]&&e!==t;)no(e)&&HI(e[pt],e),e=e[gr];null===e&&(e=t),no(e)&&HI(e[pt],e),n=e&&e[Lo]}e=n}}(e)}}function HI(t,e){if(!(256&e[Gt])){e[Gt]&=-129,e[Gt]|=256,function jq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof yl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];xo(4,a,c);try{c.call(a)}finally{xo(5,a,c)}}else{xo(4,i,s);try{s.call(i)}finally{xo(5,i,s)}}}}}(t,e),function Uq(t,e){const n=t.cleanup,r=e[cu];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[cu]=null);const i=e[gc];if(null!==i){e[gc]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[pt].type&&e[qt].destroy();const n=e[fl];if(null!==n&&ji(e[gr])){n!==e[gr]&&UF(n,e);const r=e[vo];null!==r&&r.detachView(t)}!function Tq(t){OI.delete(t[Pd])}(e)}}function zI(t,e,n){return function jF(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[mr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===_o.None||s===_o.Emulated)return null}return Jr(r,n)}}(t,e.parent,n)}function Zd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HF(t,e,n){t.appendChild(e,n)}function zF(t,e,n,r,i){null!==r?Zd(t,e,n,r,i):HF(t,e,n)}function ub(t,e){return t.parentNode(e)}let $I,hb,KI,pb,GF=function WF(t,e,n){return 40&t.type?Jr(t,n):null};function db(t,e,n,r){const i=zI(t,r,e),s=e[qt],a=function $F(t,e,n){return GF(t,e,n)}(r.parent||e[Ji],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)zF(s,i,n[c],a,!1);else zF(s,i,n,a,!1);void 0!==$I&&$I(s,r,e,n,i)}function S0(t,e){if(null!==e){const n=e.type;if(3&n)return Jr(e,t);if(4&n)return WI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return S0(t,r);{const i=t[e.index];return ji(i)?WI(-1,i):ar(i)}}if(32&n)return BI(e,t)()||ar(t[e.index]);{const r=KF(t,e);return null!==r?Array.isArray(r)?r[0]:S0(C0(t[qr]),r):S0(t,e.next)}}return null}function KF(t,e){return null!==e?t[qr][Ji].projection[e.projection]:null}function WI(t,e){const n=es+t+1;if(n<e.length){const r=e[n],i=r[pt].firstChild;if(null!==i)return S0(r,i)}return e[pa]}function GI(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Ss(ar(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)GI(t,e,n.child,r,i,s,!1),fp(e,t,i,a,s);else if(32&c){const l=BI(n,r);let u;for(;u=l();)fp(e,t,i,u,s);fp(e,t,i,a,s)}else 16&c?YF(t,e,r,n,i,s):fp(e,t,i,a,s);n=o?n.projectionNext:n.next}}function A0(t,e,n,r,i,s){GI(n,r,t.firstChild,e,i,s,!1)}function YF(t,e,n,r,i,s){const o=n[qr],c=o[Ji].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)fp(e,t,i,c[l],s);else{let l=c;const u=o[gr];sb(r)&&(l.flags|=128),GI(t,e,l,u,i,s,!0)}}function XF(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function QF(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Og(t,e,r),null!==i&&XF(t,e,i),null!==s&&function qq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function hp(t){return function qI(){if(void 0===hb&&(hb=null,Xn.trustedTypes))try{hb=Xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hb}()?.createHTML(t)||t}function pp(){if(void 0!==KI)return KI;if(typeof document<"u")return document;throw new re(210,!1)}function ZI(){if(void 0===pb&&(pb=null,Xn.trustedTypes))try{pb=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pb}function JF(t){return ZI()?.createHTML(t)||t}function tO(t){return ZI()?.createScriptURL(t)||t}class nO{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pn})`}}function Tu(t){return t instanceof nO?t.changingThisBreaksApplicationSecurity:t}function D0(t,e){const n=function rK(t){return t instanceof nO&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pn})`)}return n===e}class iK{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(hp(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class sK{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=hp(e),n}}const aK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YI(t){return(t=String(t)).match(aK)?t:"unsafe:"+t}function xl(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function k0(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const iO=xl("area,br,col,hr,img,wbr"),sO=xl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oO=xl("rp,rt"),XI=k0(iO,k0(sO,xl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),k0(oO,xl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),k0(oO,sO)),QI=xl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aO=k0(QI,xl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cK=xl("script,style,template");class lK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!XI.hasOwnProperty(n))return this.sanitizedSomething=!0,!cK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!aO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;QI[a]&&(c=YI(c)),this.buf.push(" ",o,'="',cO(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();XI.hasOwnProperty(n)&&!iO.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cO(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const uK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dK=/([^\#-~ |!])/g;function cO(t){return t.replace(/&/g,"&amp;").replace(uK,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(dK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mb;function JI(t){return"content"in t&&function hK(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mp=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mp||{});function Za(t){const e=R0();return e?JF(e.sanitize(mp.HTML,t)||""):D0(t,"HTML")?JF(Tu(t)):function fK(t,e){let n=null;try{mb=mb||function rO(t){const e=new sK(t);return function oK(){try{return!!(new window.DOMParser).parseFromString(hp(""),"text/html")}catch{return!1}}()?new iK(e):e}(t);let r=e?String(e):"";n=mb.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mb.getInertBodyElement(r)}while(r!==s);return hp((new lK).sanitizeChildren(JI(n)||n))}finally{if(n){const r=JI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(pp(),Et(t))}function bc(t){const e=R0();return e?e.sanitize(mp.URL,t)||"":D0(t,"URL")?Tu(t):YI(Et(t))}function lO(t){const e=R0();if(e)return tO(e.sanitize(mp.RESOURCE_URL,t)||"");if(D0(t,"ResourceURL"))return tO(Tu(t));throw new re(904,!1)}function R0(){const t=Ne();return t&&t[pc].sanitizer}const M0=new Pe("ENVIRONMENT_INITIALIZER"),dO=new Pe("INJECTOR",-1),fO=new Pe("INJECTOR_DEF_TYPES");class eC{get(e,n=al){if(n===al){const r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return n}}function yK(...t){return{\u0275providers:hO(0,t),\u0275fromNgModule:!0}}function hO(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return cp(e,o=>{const a=o;gb(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&pO(i,s),n}function pO(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];nC(i,s=>{e(s,r)})}}function gb(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=Dd(t);const o=!s&&bn(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=Dd(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)gb(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{cp(s.imports,u=>{gb(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&pO(l,e)}if(!a){const l=fu(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ln},i),e({provide:fO,useValue:i,multi:!0},i),e({provide:M0,useValue:()=>te(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;nC(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function nC(t,e){for(let n of t)vt(n)&&(n=n.\u0275providers),Array.isArray(n)?nC(n,e):e(n)}const xK=ft({provide:String,useValue:ft});function rC(t){return null!==t&&"object"==typeof t&&xK in t}function Yd(t){return"function"==typeof t}const iC=new Pe("Set Injector scope."),_b={},wK={};let sC;function vb(){return void 0===sC&&(sC=new eC),sC}class Uo{}class gp extends Uo{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,aC(e,o=>this.processProvider(o)),this.records.set(dO,_p(void 0,this)),i.has("environment")&&this.records.set(Uo,_p(void 0,this));const s=this.records.get(iC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fO.multi,Ln,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=dc(this),r=Cs(void 0);try{return e()}finally{dc(n),Cs(r)}}get(e,n=al,r=un.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eo))return e[eo](this);r=Eh(r);const s=dc(this),o=Cs(void 0);try{if(!(r&un.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function SK(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pe}(e)&&gh(e);c=l&&this.injectableDefInScope(l)?_p(oC(e),_b):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&un.Self?vb():this.parent).get(e,n=r&un.Optional&&n===al?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Qs]=a[Qs]||[]).unshift(St(e)),s)throw a;return function za(t,e,n,r){const i=t[Qs];throw e[wh]&&i.unshift(e[wh]),t.message=function iu(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):St(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(kg,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Qs]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Cs(o),dc(s)}}resolveInjectorInitializers(){const e=dc(this),n=Cs(void 0);try{const i=this.get(M0.multi,Ln,un.Self);for(const s of i)s()}finally{dc(e),Cs(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=Yd(e=Y(e))?e:Y(e&&e.provide);const r=function TK(t){return rC(t)?_p(void 0,t.useValue):_p(_O(t),_b)}(e);if(Yd(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=_p(void 0,_b,!0),i.factory=()=>cl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===_b&&(n.value=wK,n.value=n.factory()),"object"==typeof n.value&&n.value&&function CK(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function oC(t){const e=gh(t),n=null!==e?e.factory:fu(t);if(null!==n)return n;if(t instanceof Pe)throw new re(204,!1);if(t instanceof Function)return function EK(t){const e=t.length;if(e>0)throw function E0(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new re(204,!1);const n=function tu(t){return t&&(t[nu]||t[_h])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function _O(t,e,n){let r;if(Yd(t)){const i=Y(t);return fu(i)||oC(i)}if(rC(t))r=()=>Y(t.useValue);else if(function gO(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...cl(t.deps||[]));else if(function mO(t){return!(!t||!t.useExisting)}(t))r=()=>te(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function IK(t){return!!t.deps}(t))return fu(i)||oC(i);r=()=>new i(...cl(t.deps))}return r}function _p(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aC(t,e){for(const n of t)Array.isArray(n)?aC(n,e):n&&vt(n)?aC(n.\u0275providers,e):e(n)}const yb=new Pe("AppId",{providedIn:"root",factory:()=>AK}),AK="ng",vO=new Pe("Platform Initializer"),xa=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),P0=new Pe("AnimationModuleType"),cC=new Pe("CSP nonce",{providedIn:"root",factory:()=>pp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yO=(t,e,n)=>null;function gC(t,e,n=!1){return yO(t,e,n)}class VK{}class wO{}class UK{resolveComponentFactory(e){throw function BK(t){const e=Error(`No component factory found for ${St(t)}.`);return e.ngComponent=t,e}(e)}}let xp=(()=>{class t{static#e=this.NULL=new UK}return t})();function jK(){return bp(Hi(),Ne())}function bp(t,e){return new _i(Jr(t,e))}let _i=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=jK}return t})();function HK(t){return t instanceof _i?t.nativeElement:t}class N0{}let bl=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function zK(){const t=Ne(),n=ro(Hi().index,t);return(no(n)?n:t)[qt]}()}return t})(),$K=(()=>{class t{static#e=this.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>null})}return t})();class Iu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yC=new Iu("16.2.12"),xC={};function SO(t,e=null,n=null,r){const i=AO(t,e,n,r);return i.resolveInjectorInitializers(),i}function AO(t,e=null,n=null,r,i=new Set){const s=[n||Ln,yK(t)];return r=r||("object"==typeof t?void 0:St(t)),new gp(s,e||vb(),r||null,i)}let vi=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=al;static#t=this.NULL=new eC;static create(n,r){if(Array.isArray(n))return SO({name:""},r,n,"");{const i=n.name??"";return SO({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Ye({token:t,providedIn:"any",factory:()=>te(dO)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function wC(t){return t.ngOriginalError}class wl{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wC(e);for(;n&&wC(n);)n=wC(n);return n||null}}function TC(t){return e=>{setTimeout(t,void 0,e)}}const kr=class XK extends le{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=TC(s),i&&(i=TC(i)),o&&(o=TC(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof vn&&e.add(a),a}};function kO(...t){}class Kt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kr(!1),this.onMicrotaskEmpty=new kr(!1),this.onStable=new kr(!1),this.onError=new kr(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function QK(){const t="function"==typeof Xn.requestAnimationFrame;let e=Xn[t?"requestAnimationFrame":"setTimeout"],n=Xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function tZ(t){const e=()=>{!function eZ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,CC(t),t.isCheckStableRunning=!0,IC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),CC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function rZ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return RO(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),MO(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return RO(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),MO(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,CC(t),IC(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(Kt.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,JK,kO,kO);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const JK={};function IC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function CC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function RO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MO(t){t._nesting--,IC(t)}class nZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr,this.onMicrotaskEmpty=new kr,this.onStable=new kr,this.onError=new kr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const PO=new Pe("",{providedIn:"root",factory:FO});function FO(){const t=ht(Kt);let e=!0;return k(new jt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new jt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Kt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Kt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Ee()))}function SC(t){return t.ownerDocument}function El(t){return t instanceof Function?t():t}let AC=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>new t})}return t})();function L0(t){for(;t;){t[Gt]|=64;const e=C0(t);if(fx(t)&&!e)return t;t=e}return null}const BO=new Pe("",{providedIn:"root",factory:()=>!1});let Cb=null;function zO(t,e){return t[e]??GO()}function $O(t,e){const n=GO();n.producerNode?.length&&(t[e]=Cb,n.lView=t,Cb=WO())}const fZ={...vx,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{L0(t.lView)},lView:null};function WO(){return Object.create(fZ)}function GO(){return Cb??=WO(),Cb}const en={};function Xe(t){qO(Mn(),Ne(),ps()+t,!1)}function qO(t,e,n,r){if(!r)if(3==(3&e[Gt])){const s=t.preOrderCheckHooks;null!==s&&vu(e,s,n)}else{const s=t.preOrderHooks;null!==s&&yu(e,s,0,n)}qa(n)}function se(t,e=un.Default){const n=Ne();return null===n?te(t,e):Ka(Hi(),n,Y(t),e)}function DC(){throw new Error("invalid")}function Sb(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[mr]=i,d[Gt]=140|r,(null!==l||t&&2048&t[Gt])&&(d[Gt]|=2048),$h(d),d[gr]=d[mc]=t,d[Ar]=n,d[pc]=o||t&&t[pc],d[qt]=a||t&&t[qt],d[hc]=c||t&&t[hc]||null,d[Ji]=s,d[Pd]=function wq(){return bq++}(),d[Wa]=u,d[Ph]=l,d[qr]=2==e.type?t[qr]:d,d}function Tp(t,e,n,r,i){let s=t.data[e];if(null===s)s=function kC(t,e,n,r,i){const s=Nx(),o=Hd(),c=t.data[e]=function xZ(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function gu(){return null!==Ut.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function Lx(){return Ut.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function _l(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return _a(s,!0),s}function V0(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KO(t,e,n,r,i){const s=zO(e,uu),o=ps(),a=2&r;try{qa(-1),a&&e.length>mn&&qO(t,e,mn,!1),xo(a?2:0,i);const l=a?s:null,u=Bh(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Jg(l,u)}}finally{a&&null===e[uu]&&$O(e,uu),qa(o),xo(a?3:1,i)}}function RC(t,e,n){if(Kg(e)){const r=Hn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Hn(r)}}}function MC(t,e,n){qh()&&(function SZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;pl(n)&&function FZ(t,e,n){const r=Jr(e,t),i=ZO(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ab(t,Sb(t,i,null,o,r,e,null,t[pc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||D(n,e),Ss(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=xc(e,t,a,n);Ss(l,e),null!==o&&OZ(0,a-i,l,c,0,o),ma(c)&&(ro(n.index,e)[Ar]=xc(e,t,a,n))}}(t,e,n,Jr(n,e)),64==(64&n.flags)&&eN(t,e,n))}function PC(t,e,n=Jr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ZO(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=FC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function FC(t,e,n,r,i,s,o,a,c,l,u){const d=mn+r,p=d+i,m=function pZ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:en);return n}(d,p),y="function"==typeof l?l():l;return m[pt]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}let YO=t=>null;function XO(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?QO(n,e,i,s):r.hasOwnProperty(i)&&QO(n,e,r[i],s)}return n}function QO(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function jo(t,e,n,r,i,s,o,a){const c=Jr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(BC(t,n,u,r,i),pl(e)&&function EZ(t,e){const n=ro(e,t);16&n[Gt]||(n[Gt]|=64)}(n,e.index)):3&e.type&&(r=function wZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function OC(t,e,n,r){if(qh()){const i=null===r?null:{"":-1},s=function DZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Dh(e,o.selectors,!1))if(r||(r=[]),ma(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),NC(t,e,a.length)}else r.unshift(o),NC(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&JO(t,e,n,o,i,a),i&&function kZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=ou(n.mergedAttrs,n.attrs)}function JO(t,e,n,r,i,s){for(let l=0;l<r.length;l++)yt(D(n,e),t,r[l].type);!function MZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=V0(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=ou(n.mergedAttrs,u.hostAttrs),PZ(t,n,e,c,u),RZ(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function bZ(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],p=n?n.get(d):null,y=p?p.outputs:null;c=XO(d.inputs,u,c,p?p.inputs:null),l=XO(d.outputs,u,l,y);const _=null===c||null===o||Sh(e)?null:NZ(c,u,o);a.push(_)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function eN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function gI(){return Ut.lFrame.currentDirectiveIndex}();try{qa(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];h0(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&AZ(c,l)}}finally{qa(-1),h0(o)}}function AZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function NC(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function RZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ma(e)&&(n[""]=t)}}function PZ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=fu(i.type)),o=new yl(s,ma(i),se);t.blueprint[r]=o,n[r]=o,function IZ(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function CZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,V0(t,n,i.hostVars,en),i)}function wc(t,e,n,r,i,s){const o=Jr(t,e);!function LC(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Et(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[qt],o,s,t.value,n,r,i)}function OZ(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)tN(r,n,o[a++],o[a++],o[a++])}function tN(t,e,n,r,i){const s=Hn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Hn(s)}}function NZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function rN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];p0(n[r]),o.contentQueries(2,e[s],s)}}}function Ab(t,e){return t[dl]?t[ux][Lo]=e:t[dl]=e,t[ux]=e,e}function VC(t,e,n){p0(0);const r=Hn(null);try{e(t,n)}finally{Hn(r)}}function iN(t){return t[cu]||(t[cu]=[])}function sN(t){return t.cleanup||(t.cleanup=[])}function aN(t,e){const n=t[hc],r=n?n.get(wl,null):null;r&&r.handleError(e)}function BC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];tN(t.data[o],e[o],r,a,i)}}function LZ(t,e){const n=ro(e,t),r=n[pt];!function VZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[mr];null!==i&&null===n[Wa]&&(n[Wa]=gC(i,n[hc])),UC(r,n,n[Ar])}function UC(t,e,n){_u(e);try{const r=t.viewQuery;null!==r&&VC(1,r,n);const i=t.template;null!==i&&KO(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rN(t,e),t.staticViewQueries&&VC(2,t.viewQuery,n);const s=t.components;null!==s&&function BZ(t,e){for(let n=0;n<e.length;n++)LZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Gt]&=-5,m0()}}let cN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function iI(t,e,n){const r=Object.create(sI);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>xx(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Nd(r))return;r.hasRun=!0;const o=Bh(r);try{r.cleanupFn(),r.cleanupFn=Cx,r.fn(i)}finally{Jg(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>new t})}return t})();function Db(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ii(i,a):2==s&&(r=Ii(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function B0(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(ar(s)),ji(s)&&lN(s,r);const o=n.type;if(8&o)B0(t,e,n.child,r);else if(32&o){const a=BI(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=KF(e,n);if(Array.isArray(a))r.push(...a);else{const c=C0(e[qr]);B0(c[pt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lN(t,e){for(let n=es;n<t.length;n++){const r=t[n],i=r[pt].firstChild;null!==i&&B0(r[pt],r,i,e)}t[pa]!==t[mr]&&e.push(t[pa])}function kb(t,e,n,r=!0){const i=e[pc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{uN(t,e,t.template,n)}catch(c){throw r&&aN(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function uN(t,e,n,r){const i=e[Gt];if(256!=(256&i)){e[pc].effectManager?.flush(),_u(e);try{$h(e),function f0(t){return Ut.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&KO(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&vu(e,l,null)}else{const l=t.preOrderHooks;null!==l&&yu(e,l,0,null),_0(e,0)}if(function HZ(t){for(let e=NF(t);null!==e;e=LF(e)){if(!e[dx])continue;const n=e[du];for(let r=0;r<n.length;r++){uI(n[r])}}}(e),dN(e,2),null!==t.contentQueries&&rN(t,e),o){const l=t.contentCheckHooks;null!==l&&vu(e,l)}else{const l=t.contentHooks;null!==l&&yu(e,l,1),_0(e,1)}!function hZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=zO(e,hl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)qa(~s);else{const o=s,a=n[++i],c=n[++i];mI(a,o),r.dirty=!1;const l=Bh(r);try{c(2,e[o])}finally{Jg(r,l)}}}}finally{null===e[hl]&&$O(e,hl),qa(-1)}}(t,e);const a=t.components;null!==a&&hN(e,a,0);const c=t.viewQuery;if(null!==c&&VC(2,c,r),o){const l=t.viewCheckHooks;null!==l&&vu(e,l)}else{const l=t.viewHooks;null!==l&&yu(e,l,2),_0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Gt]&=-73,Wh(e)}finally{m0()}}}function dN(t,e){for(let n=NF(t);null!==n;n=LF(n))for(let r=es;r<n.length;r++)fN(n[r],e)}function zZ(t,e,n){fN(ro(e,t),n)}function fN(t,e){if(!function Rx(t){return 128==(128&t[Gt])}(t))return;const n=t[pt],r=t[Gt];if(80&r&&0===e||1024&r||2===e)uN(n,t,n.template,t[Ar]);else if(t[ul]>0){dN(t,1);const i=n.components;null!==i&&hN(t,i,1)}}function hN(t,e,n){for(let r=0;r<e.length;r++)zZ(t,e[r],n)}class U0{get rootNodes(){const e=this._lView,n=e[pt];return B0(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ar]}set context(e){this._lView[Ar]=e}get destroyed(){return 256==(256&this._lView[Gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gr];if(ji(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(lb(e,r),Qx(n,r))}this._attachedToViewContainer=!1}jI(this._lView[pt],this._lView)}onDestroy(e){!function Gh(t,e){if(256==(256&t[Gt]))throw new re(911,!1);null===t[gc]&&(t[gc]=[]),t[gc].push(e)}(this._lView,e)}markForCheck(){L0(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gt]&=-129}reattach(){this._lView[Gt]|=128}detectChanges(){kb(this._lView[pt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nq(t,e){A0(t,e,e[qt],2,null,null)}(this._lView[pt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class $Z extends U0{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;kb(e[pt],e,e[Ar],!1)}checkNoChanges(){}get context(){return null}}class pN extends xp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=bn(e);return new j0(n,this.ngModule)}}function mN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class GZ{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Eh(r);const i=this.injector.get(e,xC,r);return i!==xC||n===xC?i:this.parentInjector.get(e,n,r)}}class j0 extends wO{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=mN(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return mN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function cx(t){return t.map(Hg).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Uo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new GZ(e,s):e,a=o.get(N0,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get($K,null),effectManager:o.get(cN,null),afterRenderEventManager:o.get(AC,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function mZ(t,e,n,r){const s=r.get(BO,!1)||n===_o.ShadowDom,o=t.selectRootElement(e,s);return function gZ(t){YO(t)}(o),o}(p,r,this.componentDef.encapsulation,o):cb(p,m,function WZ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==y&&(b=gC(y,o,!0));const w=FC(0,null,null,1,0,null,null,null,null,null,null),M=Sb(null,w,null,E,null,null,d,p,o,null,b);let z,B;_u(M);try{const R=this.componentDef;let Q,J=null;R.findHostDirectiveDefs?(Q=[],J=new Map,R.findHostDirectiveDefs(R,Q,J),Q.push(R)):Q=[R];const ce=function KZ(t,e){const n=t[pt],r=mn;return t[r]=e,Tp(n,r,2,"#host",null)}(M,y),ve=function ZZ(t,e,n,r,i,s,o){const a=i[pt];!function YZ(t,e,n,r){for(const i of t)e.mergedAttrs=ou(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Db(e,e.mergedAttrs,!0),null!==n&&QF(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=gC(e,i[hc]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Sb(i,ZO(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&NC(a,t,r.length-1),Ab(i,d),i[t.index]=d}(ce,y,R,Q,M,d,p);B=kx(w,mn),y&&function QZ(t,e,n,r){if(r)Og(t,n,["ng-version",yC.full]);else{const{attrs:i,classes:s}=function zg(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!to(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Og(t,n,i),s&&s.length>0&&XF(t,n,s.join(" "))}}(p,R,y,r),void 0!==n&&function JZ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(B,this.ngContentSelectors,n),z=function XZ(t,e,n,r,i,s){const o=Hi(),a=i[pt],c=Jr(o,i);JO(a,i,o,n,null,r);for(let u=0;u<n.length;u++)Ss(xc(i,a,o.directiveStart+u,o),i);eN(a,i,o),c&&Ss(c,i);const l=xc(i,a,o.directiveStart+o.componentOffset,o);if(t[Ar]=i[Ar]=l,null!==s)for(const u of s)u(l,e);return RC(a,o,t),l}(ve,R,Q,J,M,[eY]),UC(w,M,null)}finally{m0()}return new qZ(this.componentType,z,bp(B,M),M,B)}}class qZ extends VK{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $Z(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;BC(s[pt],s,i,e,n),this.previousInputValues.set(e,n),L0(ro(this._tNode.index,s))}}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function eY(){const t=Hi();Xh(Ne()[pt],t)}function zn(t){let e=function gN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ma(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Rb(t.inputs),o.inputTransforms=Rb(t.inputTransforms),o.declaredInputs=Rb(t.declaredInputs),o.outputs=Rb(t.outputs);const a=i.hostBindings;a&&iY(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&nY(t,c),l&&rY(t,l),Yn(t.inputs,i.inputs),Yn(t.declaredInputs,i.declaredInputs),Yn(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Yn(o.inputTransforms,i.inputTransforms)),ma(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===zn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function tY(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ou(i.hostAttrs,n=ou(n,i.hostAttrs))}}(r)}function Rb(t){return t===fa?{}:t===Ln?[]:t}function nY(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function rY(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function iY(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function xN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Mb(t){return!!jC(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function jC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ec(t,e,n){return t[e]=n}function As(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wa(t,e,n,r){const i=Ne();return As(i,vl(),e)&&(Mn(),wc(Dr(),i,t,e,n,r)),wa}function Bt(t,e,n,r,i,s,o,a){const c=Ne(),l=Mn(),u=t+mn,d=l.firstCreatePass?function DY(t,e,n,r,i,s,o,a,c){const l=e.consts,u=Tp(e,t,4,o||null,vc(l,a));OC(e,n,u,vc(l,c)),Xh(e,u);const d=u.tView=FC(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];_a(d,!1);const p=PN(l,c,d,t);Yh()&&db(l,c,p,d),Ss(p,c),Ab(c,c[u]=nN(p,c,p,d)),Zg(d)&&MC(l,c,d),null!=o&&PC(c,d,a)}let PN=function FN(t,e,n,r){return yc(!0),e[qt].createComment("")};function Je(t,e,n){const r=Ne();return As(r,vl(),e)&&jo(Mn(),Dr(),r,t,e,r[qt],n,!1),Je}function qC(t,e,n,r,i){const o=i?"class":"style";BC(t,n,e.inputs[o],o,r)}function xe(t,e,n,r){const i=Ne(),s=Mn(),o=mn+t,a=i[qt],c=s.firstCreatePass?function PY(t,e,n,r,i,s){const o=e.consts,c=Tp(e,t,2,r,vc(o,i));return OC(e,n,c,vc(o,s)),null!==c.attrs&&Db(c,c.attrs,!1),null!==c.mergedAttrs&&Db(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=NN(s,i,c,a,e,t);i[o]=l;const u=Zg(c);return _a(c,!0),QF(a,l,c),32!=(32&c.flags)&&Yh()&&db(s,i,l,c),0===function dI(){return Ut.lFrame.elementDepthCount}()&&Ss(l,i),function l0(){Ut.lFrame.elementDepthCount++}(),u&&(MC(s,i,c),RC(s,c,i)),null!==r&&PC(i,c),xe}function be(){let t=Hi();Hd()?zd():(t=t.parent,_a(t,!1));const e=t;(function Px(t){return Ut.skipHydrationRootTNode===t})(e)&&function hI(){Ut.skipHydrationRootTNode=null}(),function u0(){Ut.lFrame.elementDepthCount--}();const n=Mn();return n.firstCreatePass&&(Xh(n,t),Kg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Jh(t){return 0!=(8&t.flags)}(e)&&qC(n,e,Ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Kx(t){return 0!=(16&t.flags)}(e)&&qC(n,e,Ne(),e.stylesWithoutHost,!1),be}function gn(t,e,n,r){return xe(t,e,n,r),be(),gn}let NN=(t,e,n,r,i,s)=>(yc(!0),cb(r,i,function g0(){return Ut.lFrame.currentNamespace}()));function Fp(t,e,n){const r=Ne(),i=Mn(),s=t+mn,o=i.firstCreatePass?function NY(t,e,n,r,i){const s=e.consts,o=vc(s,r),a=Tp(e,t,8,"ng-container",o);return null!==o&&Db(a,o,!0),OC(e,n,a,vc(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];_a(o,!0);const a=LN(i,r,o,t);return r[s]=a,Yh()&&db(i,r,a,o),Ss(a,r),Zg(o)&&(MC(i,r,o),RC(i,o,r)),null!=n&&PC(r,o),Fp}function Op(){let t=Hi();const e=Mn();return Hd()?zd():(t=t.parent,_a(t,!1)),e.firstCreatePass&&(Xh(e,t),Kg(t)&&e.queries.elementEnd(t)),Op}function KC(t,e,n){return Fp(t,e,n),Op(),KC}let LN=(t,e,n,r)=>(yc(!0),UI(e[qt],""));function wo(){return Ne()}function G0(t){return!!t&&"function"==typeof t.then}function VN(t){return!!t&&"function"==typeof t.subscribe}function Lt(t,e,n,r){const i=Ne(),s=Mn(),o=Hi();return function UN(t,e,n,r,i,s,o){const a=Zg(r),l=t.firstCreatePass&&sN(t),u=e[Ar],d=iN(e);let p=!0;if(3&r.type||o){const _=Jr(r,e),x=o?o(_):_,E=d.length,b=o?M=>o(ar(M[r.index])):r.index;let w=null;if(!o&&a&&(w=function BY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[cu],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,p=!1;else{s=HN(r,e,u,s,!1);const M=n.listen(x,i,s);d.push(s,M),l&&l.push(i,b,E,E+1)}}else s=HN(r,e,u,s,!1);const m=r.outputs;let y;if(p&&null!==m&&(y=m[i])){const _=y.length;if(_)for(let x=0;x<_;x+=2){const z=e[y[x]][y[x+1]].subscribe(s),B=d.length;d.push(s,z),l&&l.push(i,r.index,B,-(B+1))}}}(s,i,i[qt],o,t,e,r),Lt}function jN(t,e,n,r){try{return xo(6,e,n),!1!==n(r)}catch(i){return aN(t,i),!1}finally{xo(7,e,n)}}function HN(t,e,n,r,i){return function s(o){if(o===Function)return r;L0(t.componentOffset>-1?ro(t.index,e):e);let c=jN(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=jN(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Zt(t=1){return function _I(t){return(Ut.lFrame.contextLView=function vI(t,e){for(;t>0;)e=e[mc],t--;return e}(t,Ut.lFrame.contextLView))[Ar]}(t)}function Lb(t,e){return t<<17|e<<2}function Cu(t){return t>>17&32767}function YC(t){return 2|t}function Qd(t){return(131068&t)>>2}function XC(t,e){return-131069&t|e<<2}function QC(t){return 1|t}function QN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Cu(s):Qd(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];KY(t[a],e)&&(c=!0,t[a+1]=r?QC(u):YC(u)),a=r?Cu(u):Qd(u)}c&&(t[n+1]=r?YC(s):QC(s))}function KY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&lp(t,e)>=0}const $i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JN(t){return t.substring($i.key,$i.keyEnd)}function eL(t,e){const n=$i.textEnd;return n===e?-1:(e=$i.keyEnd=function QY(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,$i.key=e,n),Np(t,e,n))}function Np(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Su(t,e){return function Ya(t,e,n,r){const i=Ne(),s=Mn(),o=Ga(2);s.firstUpdatePass&&aL(s,t,o,r),e!==en&&As(i,o,e)&&lL(s,s.data[ps()],i,i[qt],t,i[o+1]=function lX(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=St(Tu(t)))),t}(e,n),r,o)}(t,e,null,!0),Su}function Lp(t){!function Xa(t,e,n,r){const i=Mn(),s=Ga(2);i.firstUpdatePass&&aL(i,null,s,r);const o=Ne();if(n!==en&&As(o,s,n)){const a=i.data[ps()];if(dL(a,r)&&!oL(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Ii(c,n||"")),qC(i,a,o,n,r)}else!function cX(t,e,n,r,i,s,o,a){i===en&&(i=Ln);let c=0,l=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const p=c<i.length?i[c+1]:void 0,m=l<s.length?s[l+1]:void 0;let _,y=null;u===d?(c+=2,l+=2,p!==m&&(y=d,_=m)):null===d||null!==u&&u<d?(c+=2,y=u):(l+=2,y=d,_=m),null!==y&&lL(t,e,n,r,y,_,o,a),u=c<i.length?i[c]:null,d=l<s.length?s[l]:null}}(i,a,o,o[qt],o[s+1],o[s+1]=function oX(t,e,n){if(null==n||""===n)return Ln;const r=[],i=Tu(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(aX,Ic,t,!0)}function Ic(t,e){for(let n=function YY(t){return function nL(t){$i.key=0,$i.keyEnd=0,$i.value=0,$i.valueEnd=0,$i.textEnd=t.length}(t),eL(t,Np(t,0,$i.textEnd))}(e);n>=0;n=eL(e,n))Vo(t,JN(e),!0)}function oL(t,e){return e>=t.expandoStartIndex}function aL(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ps()],o=oL(t,n);dL(s,r)&&null===e&&!o&&(e=!1),e=function nX(t,e,n,r){const i=function $d(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=q0(n=JC(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=JC(i,t,e,n,r),null===s){let c=function rX(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Qd(r))return t[Cu(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=JC(null,t,e,c[1],r),c=q0(c,e.attrs,r),function iX(t,e,n,r){t[Cu(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function sX(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=q0(r,t[s].hostAttrs,n);return q0(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function GY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Cu(o),c=Qd(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||lp(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const p=Cu(t[a+1]);t[r+1]=Lb(p,a),0!==p&&(t[p+1]=XC(t[p+1],r)),t[a+1]=function $Y(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Lb(a,0),0!==a&&(t[a+1]=XC(t[a+1],r)),a=r;else t[r+1]=Lb(c,0),0===a?a=r:t[c+1]=XC(t[c+1],r),c=r;l&&(t[r+1]=YC(t[r+1])),QN(t,u,r,!0),QN(t,u,r,!1),function qY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&lp(s,e)>=0&&(n[r+1]=QC(n[r+1]))}(e,u,t,r,s),o=Lb(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function JC(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=q0(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function q0(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vo(t,o,!!n||e[++s]))}return void 0===t?null:t}function aX(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Vo(t,r,n)}function lL(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function WY(t){return 1==(1&t)}(l)?uL(c,e,n,i,Qd(l),o):void 0;Vb(u)||(Vb(s)||function zY(t){return 2==(2&t)}(l)&&(s=uL(c,null,n,i,a,o)),function Gq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Eu.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Eu.Important),t.setStyle(n,r,i,s))}}(r,o,zh(ps(),n),i,s))}function uL(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let p=n[i+1];p===en&&(p=d?Ln:void 0);let m=d?kI(p,r):u===r?p:void 0;if(l&&!Vb(m)&&(m=kI(c,r)),Vb(m)&&(a=m,o))return a;const y=t[i+1];i=o?Cu(y):Qd(y)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=kI(c,r))}return a}function Vb(t){return void 0!==t}function dL(t,e){return 0!=(t.flags&(e?8:16))}function dt(t,e=""){const n=Ne(),r=Mn(),i=t+mn,s=r.firstCreatePass?Tp(r,i,1,e,null):r.data[i],o=fL(r,n,s,e,t);n[i]=o,Yh()&&db(r,n,o,s),_a(s,!1)}let fL=(t,e,n,r,i)=>(yc(!0),function ab(t,e){return t.createText(e)}(e[qt],r));function Bb(t){return Ea("",t,""),Bb}function Ea(t,e,n){const r=Ne(),i=function Cp(t,e,n,r){return As(t,vl(),n)?e+Et(n)+r:en}(r,t,e,n);return i!==en&&function Tl(t,e,n){const r=zh(e,t);!function BF(t,e,n){t.setValue(e,n)}(t[qt],r,n)}(r,ps(),i),Ea}function eS(t,e,n){const r=Ne();return As(r,vl(),e)&&jo(Mn(),Dr(),r,t,e,r[qt],n,!0),eS}const Bp="en-US";let PL=Bp;function rS(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)rS(t[s],e,n,r,i);else{const s=Mn(),o=Ne(),a=Hi();let c=Yd(t)?t:Y(t.provide);const l=_O(t),u=1048575&a.providerIndexes,d=a.directiveStart,p=a.providerIndexes>>20;if(Yd(t)||!t.multi){const m=new yl(l,i,se),y=sS(c,e,i?u:u+p,d);-1===y?(yt(D(a,o),s,c),iS(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),o.push(m)):(n[y]=m,o[y]=m)}else{const m=sS(c,e,u+p,d),y=sS(c,e,u,u+p),x=y>=0&&n[y];if(i&&!x||!i&&!(m>=0&&n[m])){yt(D(a,o),s,c);const E=function kQ(t,e,n,r,i){const s=new yl(t,n,se);return s.multi=[],s.index=e,s.componentProviders=0,s4(s,i,r&&!n),s}(i?DQ:AQ,n.length,i,r,l);!i&&x&&(n[y].providerFactory=E),iS(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else iS(s,t,m>-1?m:y,s4(n[i?y:m],l,!i&&r));!i&&r&&x&&n[y].componentProviders++}}}function iS(t,e,n,r){const i=Yd(e),s=function bK(t){return!!t.useClass}(e);if(i||s){const c=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function s4(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sS(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AQ(t,e,n,r){return oS(this.multi,[])}function DQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=xc(n,n[pt],this.providerFactory.index,r);s=a.slice(0,o),oS(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],oS(i,s);return s}function oS(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function jr(t,e=[]){return n=>{n.providersResolver=(r,i)=>function SQ(t,e,n){const r=Mn();if(r.firstCreatePass){const i=ma(t);rS(n,r.data,r.blueprint,i,!0),rS(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ef{}class o4{}class aS extends ef{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pN(this);const i=fs(e);this._bootstrapComponents=El(i.bootstrap),this._r3Injector=AO(e,n,[{provide:ef,useValue:this},{provide:xp,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cS extends o4{constructor(e){super(),this.moduleType=e}create(e){return new aS(this.moduleType,e,[])}}class a4 extends ef{constructor(e){super(),this.componentFactoryResolver=new pN(this),this.instance=null;const n=new gp([...e.providers,{provide:ef,useValue:this},{provide:xp,useValue:this.componentFactoryResolver}],e.parent||vb(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function lS(t,e,n=null){return new a4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let PQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=hO(0,n.type),i=r.length>0?lS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ye({token:t,providedIn:"environment",factory:()=>new t(te(Uo))})}return t})();function c4(t){t.getStandaloneInjector=e=>e.get(PQ).getOrCreateStandaloneInjector(t)}function Cc(t,e,n,r){return m4(Ne(),hs(),t,e,n,r)}function Au(t,e,n,r,i){return function g4(t,e,n,r,i,s,o){const a=e+n;return function Xd(t,e,n,r){const i=As(t,e,n);return As(t,e+1,r)||i}(t,a,i,s)?Ec(t,a+2,o?r.call(o,i,s):r(i,s)):J0(t,a+2)}(Ne(),hs(),t,e,n,r,i)}function J0(t,e){const n=t[e];return n===en?void 0:n}function m4(t,e,n,r,i,s){const o=e+n;return As(t,o,i)?Ec(t,o+1,s?r.call(s,i):r(i)):J0(t,o+1)}function e_(t,e){const n=Mn();let r;const i=t+mn;n.firstCreatePass?(r=function YQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=fu(r.type)),a=Cs(se);try{const c=tp(!1),l=s();return tp(c),function MY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ne(),i,l),l}finally{Cs(a)}}function t_(t,e,n){const r=t+mn,i=Ne(),s=pu(i,r);return function n_(t,e){return t[pt].data[e].pure}(i,r)?m4(i,hs(),e,s.transform,n,s):s.transform(n)}function tJ(){return this._results[Symbol.iterator]()}class dS{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new kr)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=dS.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=tJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ya(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ZG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rJ(t,e,n,r=!0){const i=e[pt];if(function Vq(t,e,n,r){const i=es+r,s=n.length;r>0&&(n[i-1][Lo]=e),r<s-es?(e[Lo]=n[i],mF(n,es+r,e)):(n.push(e),e[Lo]=null),e[gr]=n;const o=e[fl];null!==o&&n!==o&&function Bq(t,e){const n=t[du];e[qr]!==e[gr][gr][qr]&&(t[dx]=!0),null===n?t[du]=[e]:n.push(e)}(o,e);const a=e[vo];null!==a&&a.insertView(t),e[Gt]|=128}(i,e,t,n),r){const s=WI(n,t),o=e[qt],a=ub(o,t[pa]);null!==a&&function Oq(t,e,n,r,i,s){r[mr]=i,r[Ji]=e,A0(t,r,n,1,i,s)}(i,t[Ji],o,e,a,s)}}let Sc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oJ}return t})();const iJ=Sc,sJ=class extends iJ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function nJ(t,e,n,r){const i=e.tView,a=Sb(t,i,n,4096&t[Gt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[fl]=t[e.index];const l=t[vo];return null!==l&&(a[vo]=l.createEmbeddedView(i)),UC(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new U0(i)}};function oJ(){return $b(Hi(),Ne())}function $b(t,e){return 4&t.type?new sJ(e,t,bp(t,e)):null}let Ta=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=fJ}return t})();function fJ(){return C4(Hi(),Ne())}const hJ=Ta,T4=class extends hJ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return bp(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){const e=Be(this._hostTNode,this._hostLView);if(v0(e)){const n=qd(e,this._hostLView),r=Gd(e);return new ts(n[pt].data[r+8],n)}return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=I4(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-es}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function w0(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}const c=o?e:new j0(bn(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const x=(o?l:this.parentInjector).get(Uo,null);x&&(s=x)}bn(c.componentType??{});const m=c.create(l,i,null,s);return this.insertImpl(m.hostView,a,false),m}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function lI(t){return ji(t[gr])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[gr],u=new T4(l,l[Ji],l[gr]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return rJ(a,i,o,!r),e.attachToViewContainerRef(),mF(fS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=I4(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=lb(this._lContainer,n);r&&(Qx(fS(this._lContainer),n),jI(r[pt],r))}detach(e){const n=this._adjustIndex(e,-1),r=lb(this._lContainer,n);return r&&null!=Qx(fS(this._lContainer),n)?new U0(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function I4(t){return t[8]}function fS(t){return t[8]||(t[8]=[])}function C4(t,e){let n;const r=e[t.index];return ji(r)?n=r:(n=nN(r,e,null,t),e[t.index]=n,Ab(e,n)),S4(n,e,t,r),new T4(n,t,e)}let S4=function A4(t,e,n,r){if(t[pa])return;let i;i=8&n.type?ar(r):function pJ(t,e){const n=t[qt],r=n.createComment(""),i=Jr(e,t);return Zd(n,ub(n,i),r,function zq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[pa]=i};class hS{constructor(e){this.queryList=e,this.matches=null}clone(){return new hS(this.queryList)}setDirty(){this.queryList.setDirty()}}class pS{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new pS(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==O4(e,n).matches&&this.queries[n].setDirty()}}class D4{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class mS{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new mS(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gS{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new gS(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,_J(n,s)),this.matchTNodeWithReadOption(e,n,bu(n,e,s,!1,!1))}else r===Sc?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===_i||i===Ta||i===Sc&&4&n.type)this.addMatch(n.index,-2);else{const s=bu(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function _J(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function yJ(t,e,n,r){return-1===n?function vJ(t,e){return 11&t.type?bp(t,e):4&t.type?$b(t,e):null}(e,t):-2===n?function xJ(t,e,n){return n===_i?bp(e,t):n===Sc?$b(e,t):n===Ta?C4(e,t):void 0}(t,e,r):xc(t,t[pt],n,e)}function k4(t,e,n,r){const i=e[vo].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:yJ(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function _S(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=k4(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=es;d<u.length;d++){const p=u[d];p[fl]===p[gr]&&_S(p[pt],p,l,r)}if(null!==u[du]){const d=u[du];for(let p=0;p<d.length;p++){const m=d[p];_S(m[pt],m,l,r)}}}}}return r}function vS(t){const e=Ne(),n=Mn(),r=Vx();p0(r+1);const i=O4(n,r);if(t.dirty&&function a0(t){return 4==(4&t[Gt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?_S(n,e,r,[]):k4(n,e,i,r);t.reset(s,HK),t.notifyOnChanges()}return!0}return!1}function R4(t,e,n){const r=Mn();r.firstCreatePass&&(function F4(t,e,n){null===t.queries&&(t.queries=new mS),t.queries.track(new gS(e,n))}(r,new D4(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function P4(t,e,n){const r=new dS(4==(4&n));(function yZ(t,e,n,r){const i=iN(e);i.push(n),t.firstCreatePass&&sN(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[vo]&&(e[vo]=new pS),e[vo].queries.push(new hS(r))}(r,Ne(),e)}function O4(t,e){return t.queries.getByIndex(e)}function N4(t,e){return $b(t,e)}const IS=new Pe("Application Initializer");let CS=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ht(IS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(G0(s))n.push(s);else if(VN(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ac=new Pe("LocaleId",{providedIn:"root",factory:()=>ht(Ac,un.Optional|un.SkipSelf)||function zJ(){return typeof $localize<"u"&&$localize.locale||Bp}()});let qb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new I(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class GJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let eV=(()=>{class t{compileModuleSync(n){return new cS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=El(fs(n).declarations).reduce((o,a)=>{const c=bn(a);return c&&o.push(new j0(c)),o},[]);return new GJ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iV=new Pe(""),Zb=new Pe("");let RS,DS=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,RS||(function pee(t){RS=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(te(Kt),te(kS),te(Zb))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})(),kS=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return RS?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Du=null;const sV=new Pe("AllowMultipleToken"),MS=new Pe("PlatformDestroyListeners"),PS=new Pe("appBootstrapListener");class aV{constructor(e,n){this.name=e,this.token=n}}function lV(t,e,n=[]){const r=`Platform: ${e}`,i=new Pe(r);return(s=[])=>{let o=FS();if(!o||o.injector.get(sV,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function _ee(t){if(Du&&!Du.get(sV,!1))throw new re(400,!1);(function oV(){!function eI(t){JT=t}(()=>{throw new re(600,!1)})})(),Du=t;const e=t.get(dV);(function cV(t){t.get(vO,null)?.forEach(n=>n())})(t)}(function uV(t=[],e){return vi.create({name:e,providers:[{provide:iC,useValue:"platform"},{provide:MS,useValue:new Set([()=>Du=null])},...t]})}(a,r))}return function yee(t){const e=FS();if(!e)throw new re(401,!1);return e}()}}function FS(){return Du?.get(dV)??null}let dV=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function xee(t="zone.js",e){return"noop"===t?new nZ:"zone.js"===t?new Kt(e):t}(r?.ngZone,function fV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function MQ(t,e,n){return new aS(t,e,n)}(n.moduleType,this.injector,function _V(t){return[{provide:Kt,useFactory:t},{provide:M0,multi:!0,useFactory:()=>{const e=ht(wee,{optional:!0});return()=>e.initialize()}},{provide:gV,useFactory:bee},{provide:PO,useFactory:FO}]}(()=>i)),o=s.injector.get(wl,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{Yb(this._modules,s),a.unsubscribe()})}),function hV(t,e,n){try{const r=n();return G0(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(CS);return a.runInitializers(),a.donePromise.then(()=>(function FL(t){Qi(t,"Expected localeId to be defined"),"string"==typeof t&&(PL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ac,Bp)||Bp),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=pV({},r);return function mee(t,e,n){const r=new cS(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ku);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new re(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(MS,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(te(vi))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function pV(t,e){return Array.isArray(e)?e.reduce(pV,t):{...t,...e}}let ku=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ht(gV),this.zoneIsStable=ht(PO),this.componentTypes=[],this.components=[],this.isStable=ht(qb).hasPendingTasks.pipe(wt(n=>n?G(!1):this.zoneIsStable),Ot(),Ee()),this._injector=ht(Uo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof wO;if(!this._injector.get(CS).done)throw!i&&function au(t){const e=bn(t)||Bi(t)||Ui(t);return null!==e&&e.standalone}(n),new re(405,!1);let o;o=i?n:this._injector.get(xp).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function gee(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ef),l=o.create(vi.NULL,[],r||o.selector,a),u=l.location.nativeElement,d=l.injector.get(iV,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Yb(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Yb(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(PS,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yb(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new re(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gV=new Pe("",{providedIn:"root",factory:()=>ht(wl).handleError.bind(void 0)});function bee(){const t=ht(Kt),e=ht(wl);return n=>t.runOutsideAngular(()=>e.handleError(n))}let wee=(()=>{class t{constructor(){this.zone=ht(Kt),this.applicationRef=ht(ku)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Xb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Tee}return t})();function Tee(t){return function Iee(t,e,n){if(pl(t)&&!n){const r=ro(t.index,e);return new U0(r,r)}return 47&t.type?new U0(e[qr],e):null}(Hi(),Ne(),16==(16&t))}class wV{constructor(){}supports(e){return Mb(e)}create(e){return new Ree(e)}}const kee=(t,e)=>e;class Ree{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kee}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<TV(r,i,s)?n:r,a=TV(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){const m=p<s.length?s[p]:s[p]=0,y=m+p;u<=y&&y<l&&(s[p]=m+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Mb(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function dY(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Mee(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new EV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Mee{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pee{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EV{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Pee,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TV(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class IV{constructor(){}supports(e){return e instanceof Map||jC(e)}create(){return new Fee}}class Fee{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||jC(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Oee(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Oee{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CV(){return new e1([new wV])}let e1=(()=>{class t{static#e=this.\u0275prov=Ye({token:t,providedIn:"root",factory:CV});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||CV()),deps:[[t,new eb,new Bo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new re(901,!1)}}return t})();function SV(){return new s_([new IV])}let s_=(()=>{class t{static#e=this.\u0275prov=Ye({token:t,providedIn:"root",factory:SV});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||SV()),deps:[[t,new eb,new Bo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new re(901,!1)}}return t})();const Vee=lV(null,"core",[]);let Bee=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(te(ku))};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})();function Hp(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let US=null;function Ru(){return US}class Jee{}const Vn=new Pe("DocumentToken");let jS=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return ht(tte)},providedIn:"platform"})}return t})();const ete=new Pe("Location Initialized");let tte=(()=>{class t extends jS{constructor(){super(),this._doc=ht(Vn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ru().getBaseHref(this._doc)}onPopState(n){const r=Ru().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ru().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function HS(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function NV(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Il(t){return t&&"?"!==t[0]?"?"+t:t}let nf=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return ht(VV)},providedIn:"root"})}return t})();const LV=new Pe("appBaseHref");let VV=(()=>{class t extends nf{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ht(Vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return HS(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Il(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Il(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(te(jS),te(LV,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nte=(()=>{class t extends nf{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=HS(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Il(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Il(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(te(jS),te(LV,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})(),o_=(()=>{class t{constructor(n){this._subject=new kr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function ste(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(NV(BV(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Il(r))}normalize(n){return t.stripTrailingSlash(function ite(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,BV(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Il;static#t=this.joinWithSlash=HS;static#n=this.stripTrailingSlash=NV;static#r=this.\u0275fac=function(r){return new(r||t)(te(nf))};static#i=this.\u0275prov=Ye({token:t,factory:function(){return function rte(){return new o_(te(nf))}()},providedIn:"root"})}return t})();function BV(t){return t.replace(/\/index.html$/,"")}function KV(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const QS=/\s+/,ZV=[];let l_=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=ZV,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(QS):ZV}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(QS):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(QS).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(se(e1),se(s_),se(_i),se(bl))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class $te{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rf=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $te(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),XV(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{XV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(se(Ta),se(Sc),se(e1))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function XV(t,e){t.context.$implicit=e.item}let Dc=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Wte,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){QV("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){QV("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(se(Ta),se(Sc))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Wte{constructor(){this.$implicit=null,this.ngIf=null}}function QV(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${St(e)}'.`)}class Kte{createSubscription(e,n){return Ix(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Ix(()=>e.unsubscribe())}}class Zte{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Yte=new Zte,Xte=new Kte;let e3=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(G0(n))return Yte;if(VN(n))return Xte;throw function Ja(t,e){return new re(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(se(Xb,16))};static#t=this.\u0275pipe=Vi({name:"async",type:t,pure:!1,standalone:!0})}return t})(),n3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})();const r3="browser";function h1(t){return"server"===t}let yne=(()=>{class t{static#e=this.\u0275prov=Ye({token:t,providedIn:"root",factory:()=>new xne(te(Vn),window)})}return t})();class xne{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function bne(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class s3{}class $ne extends Jee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sA extends $ne{static makeCurrent(){!function Qee(t){US||(US=t)}(new sA)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Wne(){return d_=d_||document.querySelector("base"),d_?d_.getAttribute("href"):null}();return null==n?null:function Gne(t){g1=g1||document.createElement("a"),g1.setAttribute("href",t);const e=g1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){d_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return KV(document.cookie,e)}}let g1,d_=null,Kne=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const oA=new Pe("EventManagerPlugins");let u3=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new re(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(te(oA),te(Kt))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();class d3{constructor(e){this._doc=e}}const aA="ng-app-id";let f3=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=h1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${aA}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(aA),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(aA,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn),te(yb),te(cC,8),te(xa))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const cA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lA=/%COMP%/g,Qne=new Pe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function p3(t,e){return e.map(n=>n.replace(lA,t))}let uA=(()=>{class t{constructor(n,r,i,s,o,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=h1(a),this.defaultRenderer=new dA(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_o.ShadowDom&&(r={...r,encapsulation:_o.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof g3?i.applyToHost(n):i instanceof fA&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case _o.Emulated:s=new g3(c,l,r,this.appId,u,o,a,d);break;case _o.ShadowDom:return new nre(c,l,n,r,o,a,this.nonce,d);default:s=new fA(c,l,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(te(u3),te(f3),te(yb),te(Qne),te(Vn),te(xa),te(Kt),te(cC))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();class dA{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(m3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(m3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=cA[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=cA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Eu.DashCase|Eu.Important)?e.style.setProperty(n,r,i&Eu.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Eu.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ru().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function m3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class nre extends dA{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=p3(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fA extends dA{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?p3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class g3 extends fA{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function Jne(t){return"_ngcontent-%COMP%".replace(lA,t)}(l),this.hostAttr=function ere(t){return"_nghost-%COMP%".replace(lA,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let rre=(()=>{class t extends d3{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const _3=["alt","control","meta","shift"],ire={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sre={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ore=(()=>{class t extends d3{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ru().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),_3.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=ire[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_3.forEach(o=>{o!==i&&(0,sre[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const y3=[{provide:xa,useValue:r3},{provide:vO,useValue:function are(){sA.makeCurrent()},multi:!0},{provide:Vn,useFactory:function lre(){return function Xq(t){KI=t}(document),document},deps:[]}],ure=lV(Vee,"browser",y3),dre=new Pe(""),x3=[{provide:Zb,useClass:class qne{addToWindow(e){Xn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},Xn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xn.getAllAngularRootElements=()=>e.getAllRootElements(),Xn.frameworkStabilizers||(Xn.frameworkStabilizers=[]),Xn.frameworkStabilizers.push(r=>{const i=Xn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ru().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:iV,useClass:DS,deps:[Kt,kS,Zb]},{provide:DS,useClass:DS,deps:[Kt,kS,Zb]}],b3=[{provide:iC,useValue:"root"},{provide:wl,useFactory:function cre(){return new wl},deps:[]},{provide:oA,useClass:rre,multi:!0,deps:[Vn,Kt,xa]},{provide:oA,useClass:ore,multi:!0,deps:[Vn]},uA,f3,u3,{provide:N0,useExisting:uA},{provide:s3,useClass:Kne,deps:[]},[]];let w3=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yb,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(te(dre,12))};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:[...b3,...x3],imports:[n3,Bee]})}return t})(),E3=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:function(r){let i=null;return i=r?new r:function hre(){return new E3(te(Vn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:yre}=Array,{getPrototypeOf:xre,prototype:bre,keys:wre}=Object;function S3(t){if(1===t.length){const e=t[0];if(yre(e))return{args:e,keys:null};if(function Ere(t){return t&&"object"==typeof t&&xre(t)===bre}(e)){const n=wre(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Tre}=Array;function pA(t){return lt(e=>function Ire(t,e){return Tre(e)?t(...e):t(e)}(t,e))}function A3(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _1(...t){const e=No(t),n=ua(t),{args:r,keys:i}=S3(t);if(0===r.length)return C([],e);const s=new jt(function Cre(t,e,n=Wr){return r=>{D3(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)D3(e,()=>{const l=C(t[c],e);let u=!1;l.subscribe(st(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>A3(i,o):Wr));return n?s.pipe(pA(n)):s}function D3(t,e,n){t?Ks(n,t,e):e()}const v1=we(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function y1(...t){return function Sre(){return Zs(1)}()(C(t,No(t)))}function x1(t){return new jt(e=>{xn(t()).subscribe(e)})}function f_(t,e){const n=F(t)?t:()=>t,r=i=>i.error(n());return new jt(e?i=>e.schedule(r,0,i):r)}function mA(){return Me((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class k3 extends jt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oe(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vn;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vn.EMPTY)}return e}refCount(){return mA()(this)}}function Sa(t){return t<=0?()=>Gr:Me((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sf(...t){const e=No(t);return Me((n,r)=>{(e?y1(t,n,e):y1(t,n)).subscribe(r)})}function Wi(t,e){return Me((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}function b1(t){return Me((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function R3(t=Are){return Me((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Are(){return new v1}function Pu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wi((i,s)=>t(i,s,r)):Wr,Sa(1),n?b1(e):R3(()=>new v1))}function $p(t,e){return F(e)?Wn(t,e,1):Wn(t,1)}function gs(t,e,n){const r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?Me((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Wr}function af(t){return Me((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=xn(t(o,af(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function w1(t,e){return Me(function Dre(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(st(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}function gA(t){return t<=0?()=>Gr:Me((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function h_(t){return Me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function E1(t){return Me((e,n)=>{xn(t).subscribe(st(n,()=>n.complete(),It)),!n.closed&&e.subscribe(n)})}const rn="primary",p_=Symbol("RouteTitle");class Mre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Wp(t){return new Mre(t)}function Pre(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kc(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!M3(t[i],e[i]))return!1;return!0}function M3(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function P3(t){return t.length>0?t[t.length-1]:null}function Fu(t){return function vre(t){return!!t&&(t instanceof jt||F(t.lift)&&F(t.subscribe))}(t)?t:G0(t)?C(Promise.resolve(t)):G(t)}const Ore={exact:function N3(t,e,n){if(!cf(t.segments,e.segments)||!T1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!N3(t.children[r],e.children[r],n))return!1;return!0},subset:L3},F3={exact:function Nre(t,e){return kc(t,e)},subset:function Lre(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>M3(t[n],e[n]))},ignored:()=>!0};function O3(t,e,n){return Ore[n.paths](t.root,e.root,n.matrixParams)&&F3[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function L3(t,e,n){return V3(t,e,e.segments,n)}function V3(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!cf(i,n)||e.hasChildren()||!T1(i,n,r))}if(t.segments.length===n.length){if(!cf(t.segments,n)||!T1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!L3(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(cf(t.segments,i)&&T1(t.segments,i,r)&&t.children[rn])&&V3(t.children[rn],e,s,r)}}function T1(t,e,n){return e.every((r,i)=>F3[n](t[i].parameters,r.parameters))}class Gp{constructor(e=new tr([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wp(this.queryParams)),this._queryParamMap}toString(){return Ure.serialize(this)}}class tr{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return I1(this)}}class m_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Wp(this.parameters)),this._parameterMap}toString(){return j3(this)}}function cf(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let g_=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return new _A},providedIn:"root"})}return t})();class _A{parse(e){const n=new Xre(e);return new Gp(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${__(e.root,!0)}`,r=function zre(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${C1(n)}=${C1(i)}`).join("&"):`${C1(n)}=${C1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function jre(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ure=new _A;function I1(t){return t.segments.map(e=>j3(e)).join("/")}function __(t,e){if(!t.hasChildren())return I1(t);if(e){const n=t.children[rn]?__(t.children[rn],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==rn&&r.push(`${i}:${__(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Bre(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===rn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==rn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===rn?[__(t.children[rn],!1)]:[`${i}:${__(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[rn]?`${I1(t)}/${n[0]}`:`${I1(t)}/(${n.join("//")})`}}function B3(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function C1(t){return B3(t).replace(/%3B/gi,";")}function vA(t){return B3(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function S1(t){return decodeURIComponent(t)}function U3(t){return S1(t.replace(/\+/g,"%20"))}function j3(t){return`${vA(t.path)}${function Hre(t){return Object.keys(t).map(e=>`;${vA(e)}=${vA(t[e])}`).join("")}(t.parameters)}`}const $re=/^[^\/()?;#]+/;function yA(t){const e=t.match($re);return e?e[0]:""}const Wre=/^[^\/()?;=#]+/,qre=/^[^=?&#]+/,Zre=/^[^&#]+/;class Xre{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tr([],{}):new tr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[rn]=new tr(e,n)),r}parseSegment(){const e=yA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new m_(S1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Gre(t){const e=t.match(Wre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=yA(this.remaining);i&&(r=i,this.capture(r))}e[S1(n)]=S1(r)}parseQueryParam(e){const n=function Kre(t){const e=t.match(qre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Yre(t){const e=t.match(Zre);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=U3(n),s=U3(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=rn);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[rn]:new tr([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function H3(t){return t.segments.length>0?new tr([],{[rn]:t}):t}function z3(t){const e={};for(const r of Object.keys(t.children)){const s=z3(t.children[r]);if(r===rn&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Qre(t){if(1===t.numberOfChildren&&t.children[rn]){const e=t.children[rn];return new tr(t.segments.concat(e.segments),e.children)}return t}(new tr(t.segments,e))}function lf(t){return t instanceof Gp}function $3(t){let e;const i=H3(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new tr(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function W3(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return xA(i,i,i,n,r);const s=function eie(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new q3(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new q3(n,e,r)}(e);if(s.toRoot())return xA(i,i,new tr([],{}),n,r);const o=function tie(t,e,n){if(t.isAbsolute)return new D1(e,!0,0);if(!n)return new D1(e,!1,NaN);if(null===n.parent)return new D1(n,!0,0);const r=A1(t.commands[0])?0:1;return function nie(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new D1(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?y_(o.segmentGroup,o.index,s.commands):K3(o.segmentGroup,o.index,s.commands);return xA(i,o.segmentGroup,a,n,r)}function A1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function v_(t){return"object"==typeof t&&null!=t&&t.outlets}function xA(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:G3(t,e,n);const a=H3(z3(o));return new Gp(a,s,i)}function G3(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:G3(s,e,n)}),new tr(t.segments,r)}class q3{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&A1(r[0]))throw new re(4003,!1);const i=r.find(v_);if(i&&i!==P3(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class D1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function K3(t,e,n){if(t||(t=new tr([],{})),0===t.segments.length&&t.hasChildren())return y_(t,e,n);const r=function iie(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(v_(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!Y3(c,l,o))return s;r+=2}else{if(!Y3(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new tr(t.segments.slice(0,r.pathIndex),{});return s.children[rn]=new tr(t.segments.slice(r.pathIndex),t.children),y_(s,0,i)}return r.match&&0===i.length?new tr(t.segments,{}):r.match&&!t.hasChildren()?bA(t,e,n):r.match?y_(t,0,i):bA(t,e,n)}function y_(t,e,n){if(0===n.length)return new tr(t.segments,{});{const r=function rie(t){return v_(t[0])?t[0].outlets:{[rn]:t}}(n),i={};if(Object.keys(r).some(s=>s!==rn)&&t.children[rn]&&1===t.numberOfChildren&&0===t.children[rn].segments.length){const s=y_(t.children[rn],e,n);return new tr(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=K3(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new tr(t.segments,i)}}function bA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(v_(s)){const c=sie(s.outlets);return new tr(r,c)}if(0===i&&A1(n[0])){r.push(new m_(t.segments[e].path,Z3(n[0]))),i++;continue}const o=v_(s)?s.outlets[rn]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&A1(a)?(r.push(new m_(o,Z3(a))),i+=2):(r.push(new m_(o,{})),i++)}return new tr(r,{})}function sie(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=bA(new tr([],{}),0,r))}),e}function Z3(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Y3(t,e,n){return t==n.path&&kc(e,n.parameters)}const x_="imperative";class Rc{constructor(e,n){this.id=e,this.url=n}}class k1 extends Rc{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends Rc{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class b_ extends Rc{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qp extends Rc{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class R1 extends Rc{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class X3 extends Rc{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oie extends Rc{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aie extends Rc{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cie extends Rc{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lie extends Rc{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uie{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class die{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fie{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hie{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pie{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mie{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q3{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wA{}class EA{constructor(e){this.url=e}}class gie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new w_,this.attachRef=null}}let w_=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gie,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class J3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=TA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=TA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=IA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return IA(e,this._root).map(n=>n.value)}}function TA(t,e){if(t===e.value)return e;for(const n of e.children){const r=TA(t,n);if(r)return r}return null}function IA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=IA(t,n);if(r.length)return r.unshift(e),r}return[]}class Dl{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Kp(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class eB extends J3{constructor(e,n){super(e),this.snapshot=n,CA(this,e)}toString(){return this.snapshot.toString()}}function tB(t,e){const n=function _ie(t,e){const o=new M1([],{},{},"",{},rn,e,null,{});return new rB("",new Dl(o,[]))}(0,e),r=new I([new m_("",{})]),i=new I({}),s=new I({}),o=new I({}),a=new I(""),c=new Ou(r,i,o,a,s,rn,e,n.root);return c.snapshot=n.root,new eB(new Dl(c,[]),n)}class Ou{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(lt(l=>l[p_]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(lt(e=>Wp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(lt(e=>Wp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nB(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function vie(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class M1{get title(){return this.data?.[p_]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rB extends J3{constructor(e,n){super(n),this.url=e,CA(this,n)}toString(){return iB(this._root)}}function CA(t,e){e.value._routerState=t,e.children.forEach(n=>CA(t,n))}function iB(t){const e=t.children.length>0?` { ${t.children.map(iB).join(", ")} } `:"";return`${t.value}${e}`}function SA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kc(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kc(e.params,n.params)||t.paramsSubject.next(n.params),function Fre(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),kc(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function AA(t,e){const n=kc(t.params,e.params)&&function Vre(t,e){return cf(t,e)&&t.every((n,r)=>kc(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||AA(t.parent,e.parent))}let DA=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=rn,this.activateEvents=new kr,this.deactivateEvents=new kr,this.attachEvents=new kr,this.detachEvents=new kr,this.parentContexts=ht(w_),this.location=ht(Ta),this.changeDetector=ht(Xb),this.environmentInjector=ht(Uo),this.inputBinder=ht(P1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new yie(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ft({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yo]})}return t})();class yie{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ou?this.route:e===w_?this.childContexts:this.parent.get(e,n)}}const P1=new Pe("");let sB=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=_1([r.queryParams,r.params,r.data]).pipe(wt(([s,o,a],c)=>(a={...s,...o,...a},0===c?G(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function Xee(t){const e=bn(t);if(!e)return null;const n=new j0(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();function E_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function bie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return E_(t,r,i);return E_(t,r)})}(t,e,n);return new Dl(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>E_(t,a)),o}}const r=function wie(t){return new Ou(new I(t.url),new I(t.params),new I(t.queryParams),new I(t.fragment),new I(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>E_(t,s));return new Dl(r,i)}}const kA="ngNavigationCancelingError";function oB(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=lf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aB(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function aB(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[kA]=!0,r.cancellationCode=e,n&&(r.url=n),r}function cB(t){return t&&t[kA]}let lB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ci({type:t,selectors:[["ng-component"]],standalone:!0,features:[c4],decls:1,vars:0,template:function(r,i){1&r&&gn(0,"router-outlet")},dependencies:[DA],encapsulation:2})}return t})();function RA(t){const e=t.children&&t.children.map(RA),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==rn&&(n.component=lB),n}function ec(t){return t.outlet||rn}function T_(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class kie{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),SA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Kp(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Kp(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Kp(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Kp(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hie(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(SA(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),SA(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=T_(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class F1{constructor(e,n){this.component=e,this.route=n}}function Rie(t,e,n){const r=t._root;return I_(r,e?e._root:null,n,[r.value])}function Zp(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Jy(t){return null!==gh(t)}(t)?e.get(t):t:r}function I_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kp(e);return t.children.forEach(o=>{(function Pie(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Fie(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cf(t.url,e.url)||!kc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AA(t,e)||!kc(t.queryParams,e.queryParams);default:return!AA(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new uB(r)):(s.data=o.data,s._resolvedData=o._resolvedData),I_(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new F1(a.outlet.component,o))}else o&&C_(e,a,i),i.canActivateChecks.push(new uB(r)),I_(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>C_(a,n.getContext(o),i)),i}function C_(t,e,n){const r=Kp(t),i=t.value;Object.entries(r).forEach(([s,o])=>{C_(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new F1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function S_(t){return"function"==typeof t}function dB(t){return t instanceof v1||"EmptyError"===t?.name}const O1=Symbol("INITIAL_VALUE");function Yp(){return wt(t=>_1(t.map(e=>e.pipe(Sa(1),sf(O1)))).pipe(lt(e=>{for(const n of e)if(!0!==n){if(n===O1)return O1;if(!1===n||n instanceof Gp)return n}return!0}),Wi(e=>e!==O1),Sa(1)))}function fB(t){return function Ro(...t){return Mo(t)}(gs(e=>{if(lf(e))throw oB(0,e)}),lt(e=>!0===e))}class N1{constructor(e){this.segmentGroup=e||null}}class hB{constructor(e){this.urlTree=e}}function Xp(t){return f_(new N1(t))}function pB(t){return f_(new hB(t))}class ese{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[rn])return f_(new re(4e3,!1));i=i.children[rn]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Gp(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new tr(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const MA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tse(t,e,n,r,i){const s=PA(t,e,n);return s.matched?(r=function Tie(t,e){return t.providers&&!t._injector&&(t._injector=lS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Xie(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=Zp(o,t);return Fu(function Uie(t){return t&&S_(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yp(),fB()):G(!0)}(r,e,n).pipe(lt(o=>!0===o?s:{...MA}))):G(s)}function PA(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...MA}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Pre)(n,t,e);if(!i)return{...MA};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mB(t,e,n,r){return n.length>0&&function ise(t,e,n){return n.some(r=>L1(t,e,r)&&ec(r)!==rn)}(t,n,r)?{segmentGroup:new tr(e,rse(r,new tr(n,t.children))),slicedSegments:[]}:0===n.length&&function sse(t,e,n){return n.some(r=>L1(t,e,r))}(t,n,r)?{segmentGroup:new tr(t.segments,nse(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new tr(t.segments,t.children),slicedSegments:n}}function nse(t,e,n,r,i){const s={};for(const o of r)if(L1(t,n,o)&&!i[ec(o)]){const a=new tr([],{});s[ec(o)]=a}return{...i,...s}}function rse(t,e){const n={};n[rn]=e;for(const r of t)if(""===r.path&&ec(r)!==rn){const i=new tr([],{});n[ec(r)]=i}return n}function L1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class lse{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ese(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=mB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,rn).pipe(af(n=>{if(n instanceof hB)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof N1?this.noMatchError(n):n}),lt(n=>{const r=new M1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,{}),i=new Dl(r,n),s=new rB("",i),o=function Jre(t,e,n=null,r=null){return W3($3(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,rn).pipe(af(r=>{throw r instanceof N1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=nB(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return C(i).pipe($p(s=>{const o=r.children[s],a=function Aie(t,e){const n=t.filter(r=>ec(r)===e);return n.push(...t.filter(r=>ec(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),w1((s,o)=>(s.push(...o),s)),b1(null),function kre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wi((i,s)=>t(i,s,r)):Wr,gA(1),n?b1(e):R3(()=>new v1))}(),Wn(s=>{if(null===s)return Xp(r);const o=gB(s);return function use(t){t.sort((e,n)=>e.value.outlet===rn?-1:n.value.outlet===rn?1:e.value.outlet.localeCompare(n.value.outlet))}(o),G(o)}))}processSegment(e,n,r,i,s,o){return C(n).pipe($p(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(af(c=>{if(c instanceof N1)return G(null);throw c}))),Pu(a=>!!a),af(a=>{if(dB(a))return function ase(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?G([]):Xp(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function ose(t,e,n,r){return!!(ec(t)===r||r!==rn&&L1(e,n,t))&&("**"===t.path||PA(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Xp(i):Xp(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pB(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Wn(o=>{const a=new tr(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=PA(n,i,s);if(!a)return Xp(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?pB(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Wn(p=>this.processSegment(e,r,n,p.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?P3(i).parameters:{};a=G({snapshot:new M1(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_B(r),ec(r),r.component??r._loadedComponent??null,r,vB(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=tse(n,r,i,e).pipe(lt(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new M1(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_B(r),ec(r),r.component??r._loadedComponent??null,r,vB(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(wt(c=>null===c?Xp(n):this.getChildConfig(e=r._injector??e,r,i).pipe(wt(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:p,remainingSegments:m}=c,{segmentGroup:y,slicedSegments:_}=mB(n,p,m,l);if(0===_.length&&y.hasChildren())return this.processChildren(u,l,y).pipe(lt(E=>null===E?null:[new Dl(d,E)]));if(0===l.length&&0===_.length)return G([new Dl(d,[])]);const x=ec(r)===s;return this.processSegment(u,l,y,_,x?rn:s,!0).pipe(lt(E=>[new Dl(d,E)]))}))))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function Yie(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=Zp(o,t);return Fu(function Nie(t){return t&&S_(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yp(),fB())}(e,n,r).pipe(Wn(i=>i?this.configLoader.loadChildren(e,n).pipe(gs(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Jie(t){return f_(aB(!1,3))}())):G({routes:[],injector:e})}}function dse(t){const e=t.value.routeConfig;return e&&""===e.path}function gB(t){const e=[],n=new Set;for(const r of t){if(!dse(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=gB(r.children);e.push(new Dl(r.value,i))}return e.filter(r=>!n.has(r))}function _B(t){return t.data||{}}function vB(t){return t.resolve||{}}function yB(t){return"string"==typeof t.title||null===t.title}function FA(t){return wt(e=>{const n=t(e);return n?C(n).pipe(lt(()=>e)):G(e)})}const Qp=new Pe("ROUTES");let OA=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ht(eV)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Fu(n.loadComponent()).pipe(lt(xB),gs(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),h_(()=>{this.componentLoaders.delete(n)})),i=new k3(r,()=>new le).pipe(mA());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function vse(t,e,n,r){return Fu(t.loadChildren()).pipe(lt(xB),Wn(i=>i instanceof o4||Array.isArray(i)?G(i):C(e.compileModuleAsync(i))),lt(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Qp,[],{optional:!0,self:!0}).flat()),{routes:o.map(RA),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(h_(()=>{this.childrenLoaders.delete(r)})),o=new k3(s,()=>new le).pipe(mA());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xB(t){return function yse(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let V1=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new le,this.transitionAbortSubject=new le,this.configLoader=ht(OA),this.environmentInjector=ht(Uo),this.urlSerializer=ht(g_),this.rootContexts=ht(w_),this.inputBindingEnabled=null!==ht(P1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new die(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new uie(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new I({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:x_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wi(s=>0!==s.id),lt(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),wt(s=>{this.currentTransition=s;let o=!1,a=!1;return G(s).pipe(gs(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wt(c=>{const l=c.currentBrowserUrl.toString(),u=!n.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const p="";return this.events.next(new qp(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Gr}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return G(c).pipe(wt(p=>{const m=this.transitions?.getValue();return this.events.next(new k1(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Gr:Promise.resolve(p)}),function fse(t,e,n,r,i,s){return Wn(o=>function cse(t,e,n,r,i,s,o="emptyOnly"){return new lse(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(lt(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),gs(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new X3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:m,source:y,restoredState:_,extras:x}=c,E=new k1(p,this.urlSerializer.serialize(m),y,_);this.events.next(E);const b=tB(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:b,urlAfterRedirects:m,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},G(s)}{const p="";return this.events.next(new qp(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Gr}}),gs(c=>{const l=new oie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),lt(c=>(this.currentTransition=s={...c,guards:Rie(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Hie(t,e){return Wn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function zie(t,e,n,r){return C(t).pipe(Wn(i=>function Zie(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const c=T_(e)??i,l=Zp(a,c);return Fu(function Bie(t){return t&&S_(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Pu())})).pipe(Yp()):G(!0)}(i.component,i.route,n,e,r)),Pu(i=>!0!==i,!0))}(o,r,i,t).pipe(Wn(a=>a&&function Oie(t){return"boolean"==typeof t}(a)?function $ie(t,e,n,r){return C(e).pipe($p(i=>y1(function Gie(t,e){return null!==t&&e&&e(new fie(t)),G(!0)}(i.route.parent,r),function Wie(t,e){return null!==t&&e&&e(new pie(t)),G(!0)}(i.route,r),function Kie(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Mie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>x1(()=>G(o.guards.map(c=>{const l=T_(o.node)??n,u=Zp(c,l);return Fu(function Vie(t){return t&&S_(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(Pu())})).pipe(Yp())));return G(s).pipe(Yp())}(t,i.path,n),function qie(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>x1(()=>{const o=T_(e)??n,a=Zp(s,o);return Fu(function Lie(t){return t&&S_(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Pu())}));return G(i).pipe(Yp())}(t,i.route,n))),Pu(i=>!0!==i,!0))}(r,s,t,e):G(a)),lt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),gs(c=>{if(s.guardsResult=c.guardsResult,lf(c.guardsResult))throw oB(0,c.guardsResult);const l=new aie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Wi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),FA(c=>{if(c.guards.canActivateChecks.length)return G(c).pipe(gs(l=>{const u=new cie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),wt(l=>{let u=!1;return G(l).pipe(function hse(t,e){return Wn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return C(i).pipe($p(o=>function pse(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!yB(i)&&(s[p_]=i.title),function mse(t,e,n,r){const i=function gse(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return C(i).pipe(Wn(o=>function _se(t,e,n,r){const i=T_(e)??r,s=Zp(t,i);return Fu(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Pu(),gs(a=>{s[o]=a}))),gA(1),function Rre(t){return lt(()=>t)}(s),af(o=>dB(o)?Gr:f_(o)))}(s,t,e,r).pipe(lt(o=>(t._resolvedData=o,t.data=nB(t,n).resolve,i&&yB(i)&&(t.data[p_]=i.title),null)))}(o.route,r,t,e)),gs(()=>s++),gA(1),Wn(o=>s===i.length?G(n):Gr))})}(n.paramsInheritanceStrategy,this.environmentInjector),gs({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),gs(l=>{const u=new lie(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),FA(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(gs(p=>{u.component=p}),lt(()=>{})));for(const p of u.children)d.push(...l(p));return d};return _1(l(c.targetSnapshot.root)).pipe(b1(),Sa(1))}),FA(()=>this.afterPreactivation()),lt(c=>{const l=function xie(t,e,n){const r=E_(t,e._root,n?n._root:void 0);return new eB(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),gs(()=>{this.events.next(new wA)}),((t,e,n,r)=>lt(i=>(new kie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Sa(1),gs({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Al(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),E1(this.transitionAbortSubject.pipe(gs(c=>{throw c}))),h_(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),af(c=>{if(a=!0,cB(c))this.events.next(new b_(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Eie(t){return cB(t)&&lf(t.url)}(c)?this.events.next(new EA(c.url)):s.resolve(!1);else{this.events.next(new R1(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){s.reject(l)}}return Gr}))}))}cancelNavigationTransition(n,r,i){const s=new b_(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bB(t){return t!==x_}let wB=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===rn);return r}getResolvedTitleForRoute(n){return n.data[p_]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return ht(xse)},providedIn:"root"})}return t})(),xse=(()=>{class t extends wB{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(te(E3))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return ht(Ese)},providedIn:"root"})}return t})();class wse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Ese=(()=>{class t extends wse{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=gi(t)))(i||t)}}();static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const B1=new Pe("",{providedIn:"root",factory:()=>({})});let Tse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:function(){return ht(Ise)},providedIn:"root"})}return t})(),Ise=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(A_||{});function EB(t,e){t.events.pipe(Wi(n=>n instanceof Al||n instanceof b_||n instanceof R1||n instanceof qp),lt(n=>n instanceof Al||n instanceof qp?A_.COMPLETE:n instanceof b_&&(0===n.code||1===n.code)?A_.REDIRECTING:A_.FAILED),Wi(n=>n!==A_.REDIRECTING),Sa(1)).subscribe(()=>{e()})}function Cse(t){throw t}function Sse(t,e,n){return e.parse("/")}const Ase={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ns=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ht(J4),this.isNgZoneEnabled=!1,this._events=new le,this.options=ht(B1,{optional:!0})||{},this.pendingTasks=ht(qb),this.errorHandler=this.options.errorHandler||Cse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ht(Tse),this.routeReuseStrategy=ht(bse),this.titleStrategy=ht(wB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ht(Qp,{optional:!0})?.flat()??[],this.navigationTransitions=ht(V1),this.urlSerializer=ht(g_),this.location=ht(o_),this.componentInputBindingEnabled=!!ht(P1,{optional:!0}),this.eventsSubscription=new vn,this.isNgZoneEnabled=ht(Kt)instanceof Kt&&Kt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(TB(r)&&this._events.next(r));if(r instanceof k1)bB(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof qp)this.rawUrlTree=i.rawUrl;else if(r instanceof X3){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof wA)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof b_)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof EA){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bB(i.source)};this.scheduleNavigation(s,x_,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof R1&&this.restoreHistory(i,!0),r instanceof Al&&(this.navigated=!0),TB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),x_,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(RA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=$3(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return W3(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=lf(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,x_,null,r)}navigate(n,r={skipLocationChange:!1}){return function kse(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Ase}:!1===r?{...Dse}:r,lf(n))return O3(this.currentUrlTree,n,i);const s=this.parseUrl(n);return O3(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,p)=>{a=d,c=p});const u=this.pendingTasks.add();return EB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TB(t){return!(t instanceof wA||t instanceof EA)}let Mc=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new le,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Al&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function uO(t,e,n){return function vK(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?lO:bc}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(se(ns),se(Ou),function Xx(t){return function Rt(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Ch(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Hi(),t)}("tabindex"),se(bl),se(_i),se(nf))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Lt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&wa("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Hp],skipLocationChange:["skipLocationChange","skipLocationChange",Hp],replaceUrl:["replaceUrl","replaceUrl",Hp],routerLink:"routerLink"},standalone:!0,features:[xN,yo]})}return t})();class IB{}let Pse=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wi(n=>n instanceof Al),$p(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=lS(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return C(i).pipe(Zs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(Wn(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?C([s,this.loader.loadComponent(r)]).pipe(Zs()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(te(ns),te(eV),te(Uo),te(IB),te(OA))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const NA=new Pe("");let CB=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof k1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Al?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof qp&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Q3&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Q3(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){DC()};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();function kl(t,e){return{\u0275kind:t,\u0275providers:e}}function AB(){const t=ht(vi);return e=>{const n=t.get(ku);if(e!==n.components[0])return;const r=t.get(ns),i=t.get(DB);1===t.get(LA)&&r.initialNavigation(),t.get(kB,null,un.Optional)?.setUpPreloading(),t.get(NA,null,un.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const DB=new Pe("",{factory:()=>new le}),LA=new Pe("",{providedIn:"root",factory:()=>1}),kB=new Pe("");function Lse(t){return kl(0,[{provide:kB,useExisting:Pse},{provide:IB,useExisting:t}])}const RB=new Pe("ROUTER_FORROOT_GUARD"),Bse=[o_,{provide:g_,useClass:_A},ns,w_,{provide:Ou,useFactory:function SB(t){return t.routerState.root},deps:[ns]},OA,[]];function Use(){return new aV("Router",ns)}let MB=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Bse,[],{provide:Qp,multi:!0,useValue:n},{provide:RB,useFactory:$se,deps:[[ns,new Bo,new eb]]},{provide:B1,useValue:r||{}},r?.useHash?{provide:nf,useClass:nte}:{provide:nf,useClass:VV},{provide:NA,useFactory:()=>{const t=ht(yne),e=ht(Kt),n=ht(B1),r=ht(V1),i=ht(g_);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CB(i,r,t,e,n)}},r?.preloadingStrategy?Lse(r.preloadingStrategy).\u0275providers:[],{provide:aV,multi:!0,useFactory:Use},r?.initialNavigation?Wse(r):[],r?.bindToComponentInputs?kl(8,[sB,{provide:P1,useExisting:sB}]).\u0275providers:[],[{provide:PB,useFactory:AB},{provide:PS,multi:!0,useExisting:PB}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Qp,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(te(RB,8))};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})();function $se(t){return"guarded"}function Wse(t){return["disabled"===t.initialNavigation?kl(3,[{provide:IS,multi:!0,useFactory:()=>{const e=ht(ns);return()=>{e.setUpLocationChangeListener()}}},{provide:LA,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?kl(2,[{provide:LA,useValue:0},{provide:IS,multi:!0,deps:[vi],useFactory:e=>{const n=e.get(ete,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ns),s=e.get(DB);EB(i,()=>{r(!0)}),e.get(V1).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const PB=new Pe("");var Ce=Pt(861),uf=Pt(217),cr=Pt(58),Io=Pt(534),Pc=Pt(879),FB=Pt(537);Pt(365),(0,Io.registerVersion)("firebase","10.7.1","app");class Zse extends vn{constructor(e,n){super()}schedule(e,n=0){return this}}const U1={setInterval(t,e,...n){const{delegate:r}=U1;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=U1;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class j1 extends Zse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return U1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&U1.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ct(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VA={now:()=>(VA.delegate||Date).now(),delegate:void 0};class D_{constructor(e,n=D_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}D_.now=VA.now;class H1 extends D_{constructor(e,n=D_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Qse=new class Xse extends H1{}(class Yse extends j1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),k_=new H1(j1),Jse=k_,Jp=new Iu("ANGULARFIRE2_VERSION");const BA=(t,e)=>{const n=e?[e]:(0,Io.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class UA{constructor(){return BA(eoe)}}const eoe="app-check";function em(){}class NB{zone;delegate;constructor(e,n=Qse){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class toe{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",em,{},em,em)),n.pipe(gs({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let z1=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new NB(Zone.current)),this.insideAngular=n.run(()=>new NB(Zone.current,k_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(Kt))};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tm(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function df(t){return tm().ngZone.run(()=>t())}function zo(t){return function roe(t){return function(n){return(n=n.lift(new toe(t.ngZone))).pipe(Xi(t.outsideAngular),Qr(t.insideAngular))}}(tm())(t)}const ioe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),df(()=>t.apply(void 0,r))},ff=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=df(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",em,{},em,em))),r[s]=ioe(r[s],n));const i=function noe(t){return tm().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof jt){const s=tm();return i.pipe(Xi(s.outsideAngular),Qr(s.insideAngular))}return df(()=>i)}return i instanceof jt?i.pipe(zo):i instanceof Promise?df(()=>new Promise((s,o)=>i.then(a=>df(()=>s(a)),a=>df(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:df(()=>i)};var Rl=Pt(106);Rl.Z.registerVersion("firebase","10.7.1","app-compat");const aoe=["ngOnDestroy"];class LB{constructor(e){return e}}const $1=new Pe("angularfire2.app.options"),W1=new Pe("angularfire2.app.name");function jA(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=Rl.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Rl.Z.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){const a=!!module.hot;uoe("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new LB(o)}const uoe=(t,...e)=>{},doe={provide:LB,useFactory:jA,deps:[$1,Kt,[new Bo,W1]]};let foe=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:$1,useValue:n},{provide:W1,useValue:r}]}}constructor(n){Rl.Z.registerVersion("angularfire",Jp.full,"core"),Rl.Z.registerVersion("angularfire",Jp.full,"app-compat"),Rl.Z.registerVersion("angular",yC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(te(xa))};static \u0275mod=Cn({type:t});static \u0275inj=Nn({providers:[doe]})}return t})();function VB(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return function hoe(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,o)||(BB("error",`${e} was already initialized on the ${n} Firebase App with different settings.${poe?" You may need to reload as Firebase is not HMR aware.":""}`),BB("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const poe=typeof module<"u"&&!!module.hot,BB=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class moe extends le{constructor(e=1/0,n=1/0,r=VA){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function UB(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,Ee({connector:()=>new moe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jB(t,e){return F(e)?wt(()=>t,e):wt(()=>t)}const HB=new Pe("angularfire2.auth.use-emulator"),zB=new Pe("angularfire2.auth.settings"),$B=new Pe("angularfire2.auth.tenant-id"),WB=new Pe("angularfire2.auth.langugage-code"),GB=new Pe("angularfire2.auth.use-device-language"),qB=new Pe("angularfire.auth.persistence"),KB=(t,e,n,r,i,s,o,a)=>VB(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[l,u]of Object.entries(o))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let G1=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,c,l,u,d,p,m){const y=new le,_=G(void 0).pipe(Qr(o.outsideAngular),wt(()=>s.runOutsideAngular(()=>Promise.resolve().then(Pt.bind(Pt,365)))),lt(()=>jA(n,s,r)),lt(x=>KB(x,s,a,l,u,d,c,p)),UB({bufferSize:1,refCount:!1}));if(h1(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=G(null);else{_.pipe(Pu()).subscribe();const x=_.pipe(wt(w=>w.getRedirectResult().then(M=>M,()=>null)),zo,UB({bufferSize:1,refCount:!1})),E=_.pipe(wt(w=>new jt(M=>({unsubscribe:s.runOutsideAngular(()=>w.onAuthStateChanged(z=>M.next(z),z=>M.error(z),()=>M.complete()))})))),b=_.pipe(wt(w=>new jt(M=>({unsubscribe:s.runOutsideAngular(()=>w.onIdTokenChanged(z=>M.next(z),z=>M.error(z),()=>M.complete()))}))));this.authState=x.pipe(jB(E),Xi(o.outsideAngular),Qr(o.insideAngular)),this.user=x.pipe(jB(b),Xi(o.outsideAngular),Qr(o.insideAngular)),this.idToken=this.user.pipe(wt(w=>w?C(w.getIdToken()):G(null))),this.idTokenResult=this.user.pipe(wt(w=>w?C(w.getIdTokenResult()):G(null))),this.credential=k(x,y,this.authState.pipe(Wi(w=>!w))).pipe(lt(w=>w?.user?w:null),Xi(o.outsideAngular),Qr(o.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(aoe.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,l)=>o.then(u=>{const d=u?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,d),d})})})}))(this,_,s,{spy:{apply:(x,E,b)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&b.then(w=>y.next(w))}}})}static \u0275fac=function(r){return new(r||t)(te($1),te(W1,8),te(xa),te(Kt),te(z1),te(HB,8),te(zB,8),te($B,8),te(WB,8),te(GB,8),te(qB,8),te(UA,8))};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),_oe=(()=>{class t{constructor(){Rl.Z.registerVersion("angularfire",Jp.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cn({type:t});static \u0275inj=Nn({providers:[G1]})}return t})(),nm=(()=>{class t{getUserId(){return localStorage.getItem("uid")}constructor(n){this.afAuth=n,this.isLoggedIn=!1,this.userData=n.authState,this.afAuth.setPersistence("session"),this.checkAuthState()}googleSignIn(){const n=new uf.X;return(0,uf.c)((0,uf.o)(),n).then(r=>(localStorage.setItem("uid",r.user?.uid),console.log(r),this.isLoggedIn=!0,r)).catch(r=>(console.log(r),{}))}googleSignOut(){(0,uf.C)((0,uf.o)())}register(n,r,i,s){return this.afAuth.createUserWithEmailAndPassword(n,r).then(o=>(this.isLoggedIn=!0,o.user?.updateProfile({displayName:`${i} ${s}`})))}login(n,r,i){var s=this;return(0,Ce.Z)(function*(){const o=yield s.afAuth.signInWithEmailAndPassword(n,r);o.user&&(localStorage.setItem("uid",o.user.uid),localStorage.setItem("User_info",JSON.stringify(o.user)),s.isLoggedIn=!0,i?localStorage.setItem("rememberMe",JSON.stringify({email:n,password:r})):localStorage.removeItem("rememberMe"))})()}logout(){this.isLoggedIn=!1,this.afAuth.signOut().then(n=>{localStorage.removeItem("User_info"),localStorage.removeItem("uid")})}checkAuthState(){this.afAuth.authState.subscribe(n=>{this.isLoggedIn=!!n})}static#e=this.\u0275fac=function(r){return new(r||t)(te(G1))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ml=(()=>{class t{constructor(){this.isDarkModeSubject=new I(!1),this.isDarkMode$=this.isDarkModeSubject.asObservable()}toggleDarkMode(){this.isDarkModeSubject.next(!this.isDarkModeSubject.value)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZB(...t){const e=ua(t),{args:n,keys:r}=S3(t),i=new jt(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;xn(n[u]).subscribe(st(s,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?A3(r,a):a),s.complete())}))}});return e?i.pipe(pA(e)):i}class R_{constructor(e){return e}}class YB{constructor(){return(0,Io.getApps)()}}const HA=new Pe("angularfire2._apps"),yoe={provide:R_,useFactory:function voe(t){return t&&1===t.length?t[0]:new R_((0,Io.getApp)())},deps:[[new Bo,HA]]},xoe={provide:YB,deps:[[new Bo,HA]]};function boe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new R_(r)}}let woe=(()=>{class t{constructor(n){(0,Io.registerVersion)("angularfire",Jp.full,"core"),(0,Io.registerVersion)("angularfire",Jp.full,"app"),(0,Io.registerVersion)("angular",yC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(te(xa))};static \u0275mod=Cn({type:t});static \u0275inj=Nn({providers:[yoe,xoe]})}return t})();function Eoe(t,...e){return{ngModule:woe,providers:[{provide:HA,useFactory:boe(t),multi:!0,deps:[Kt,vi,z1,...e]}]}}class QB{constructor(){return BA("auth")}}var mt,Soe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tc={},WA=WA||{},Jt=Soe||self;function q1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function M_(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GA="closure_uid_"+(1e9*Math.random()>>>0),Doe=0;function koe(t,e,n){return t.call.apply(t.bind,arguments)}function Roe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ds(t,e,n){return(Ds=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?koe:Roe).apply(null,arguments)}function K1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function rs(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Nu(){this.s=this.s,this.o=this.o}Nu.prototype.s=!1,Nu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Aoe(t){Object.prototype.hasOwnProperty.call(t,GA)&&t[GA]||(t[GA]=++Doe)}(this)},Nu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qA(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function e8(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(q1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ks(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ks.prototype.h=function(){this.defaultPrevented=!0};var Poe=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Jt.addEventListener("test",n,e),Jt.removeEventListener("test",n,e)}catch{}return t}();function P_(t){return/^[\s\xa0]*$/.test(t)}function Z1(){var t=Jt.navigator;return t&&(t=t.userAgent)?t:""}function Fc(t){return-1!=Z1().indexOf(t)}function KA(t){return KA[" "](t),t}KA[" "]=function(){};var YA,t,Ooe=Fc("Opera"),rm=Fc("Trident")||Fc("MSIE"),t8=Fc("Edge"),ZA=t8||rm,n8=Fc("Gecko")&&!(-1!=Z1().toLowerCase().indexOf("webkit")&&!Fc("Edge"))&&!(Fc("Trident")||Fc("MSIE"))&&!Fc("Edge"),Noe=-1!=Z1().toLowerCase().indexOf("webkit")&&!Fc("Edge");function r8(){var t=Jt.document;return t?t.documentMode:void 0}e:{var XA="",QA=(t=Z1(),n8?/rv:([^\);]+)(\)|;)/.exec(t):t8?/Edge\/([\d\.]+)/.exec(t):rm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Noe?/WebKit\/(\S+)/.exec(t):Ooe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(QA&&(XA=QA?QA[1]:""),rm){var JA=r8();if(null!=JA&&JA>parseFloat(XA)){YA=String(JA);break e}}YA=XA}var Loe=Jt.document&&rm&&(r8()||parseInt(YA,10))||void 0;function F_(t,e){if(ks.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(n8){e:{try{KA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Voe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&F_.$.h.call(this)}}rs(F_,ks);var Voe={2:"touch",3:"pen",4:"mouse"};F_.prototype.h=function(){F_.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var O_="closure_listenable_"+(1e6*Math.random()|0),Boe=0;function Uoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Boe,this.fa=this.ia=!1}function Y1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s8(t){const e={};for(const n in t)e[n]=t[n];return e}const o8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function a8(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<o8.length;s++)n=o8[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function X1(t){this.src=t,this.g={},this.h=0}function nD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=JB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Y1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function rD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}X1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=rD(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Uoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var iD="closure_lm_"+(1e6*Math.random()|0),sD={};function c8(t,e,n,r,i){if(r&&r.once)return u8(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)c8(t,e[s],n,r,i);return null}return n=lD(n),t&&t[O_]?t.O(e,n,M_(r)?!!r.capture:!!r,i):l8(t,e,n,!1,r,i)}function l8(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=M_(i)?!!i.capture:!!i,a=aD(t);if(a||(t[iD]=a=new X1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Hoe(){const e=zoe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Poe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f8(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function u8(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)u8(t,e[s],n,r,i);return null}return n=lD(n),t&&t[O_]?t.P(e,n,M_(r)?!!r.capture:!!r,i):l8(t,e,n,!0,r,i)}function d8(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)d8(t,e[s],n,r,i);else r=M_(r)?!!r.capture:!!r,n=lD(n),t&&t[O_]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=rD(s=t.g[e],n,r,i))&&(Y1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=aD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rD(e,n,r,i)),(n=-1<t?e[t]:null)&&oD(n))}function oD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[O_])nD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f8(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=aD(e))?(nD(n,t),0==n.h&&(n.src=null,e[iD]=null)):Y1(t)}}}function f8(t){return t in sD?sD[t]:sD[t]="on"+t}function zoe(t,e){if(t.fa)t=!0;else{e=new F_(e,this);var n=t.listener,r=t.la||t.src;t.ia&&oD(t),t=n.call(r,e)}return t}function aD(t){return(t=t[iD])instanceof X1?t:null}var cD="__closure_events_fn_"+(1e9*Math.random()>>>0);function lD(t){return"function"==typeof t?t:(t[cD]||(t[cD]=function(e){return t.handleEvent(e)}),t[cD])}function is(){Nu.call(this),this.i=new X1(this),this.S=this,this.J=null}function _s(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ks(e,t);else if(e instanceof ks)e.target=e.target||t;else{var i=e;a8(e=new ks(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Q1(o,r,!0,e)&&i}if(i=Q1(o=e.g=t,r,!0,e)&&i,i=Q1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Q1(o=e.g=n[s],r,!1,e)&&i}function Q1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&nD(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}rs(is,Nu),is.prototype[O_]=!0,is.prototype.removeEventListener=function(t,e,n,r){d8(this,t,e,n,r)},is.prototype.N=function(){if(is.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y1(n[r]);delete t.g[e],t.h--}}this.J=null},is.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},is.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var uD=Jt.JSON.stringify;function Woe(){var t=dD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var h8=new class $oe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qoe,t=>t.reset());class qoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Koe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Zoe(t){Jt.setTimeout(()=>{throw t},0)}let N_,L_=!1,dD=new class Goe{constructor(){this.h=this.g=null}add(e,n){const r=h8.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},p8=()=>{const t=Jt.Promise.resolve(void 0);N_=()=>{t.then(Yoe)}};var Yoe=()=>{for(var t;t=Woe();){try{t.h.call(t.g)}catch(n){Zoe(n)}var e=h8;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}L_=!1};function J1(t,e){is.call(this),this.h=t||1,this.g=e||Jt,this.j=Ds(this.qb,this),this.l=Date.now()}function fD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function hD(t,e,n){if("function"==typeof t)n&&(t=Ds(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ds(t.handleEvent,t)}return 2147483647<Number(e)?-1:Jt.setTimeout(t,e||0)}function m8(t){t.g=hD(()=>{t.g=null,t.i&&(t.i=!1,m8(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}rs(J1,is),(mt=J1.prototype).ga=!1,mt.T=null,mt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_s(this,"tick"),this.ga&&(fD(this),this.start()))}},mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.N=function(){J1.$.N.call(this),fD(this),delete this.g};class Xoe extends Nu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m8(this)}N(){super.N(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function V_(t){Nu.call(this),this.h=t,this.g={}}rs(V_,Nu);var g8=[];function _8(t,e,n,r){Array.isArray(n)||(n&&(g8[0]=n.toString()),n=g8);for(var i=0;i<n.length;i++){var s=c8(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function v8(t){tD(t.g,function(e,n){this.g.hasOwnProperty(n)&&oD(e)},t),t.g={}}function ew(){this.g=!0}function im(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return uD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}V_.prototype.N=function(){V_.$.N.call(this),v8(this)},V_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ew.prototype.Ea=function(){this.g=!1},ew.prototype.info=function(){};var hf={},y8=null;function tw(){return y8=y8||new is}function x8(t){ks.call(this,hf.Ta,t)}function B_(t){const e=tw();_s(e,new x8(e))}function b8(t,e){ks.call(this,hf.STAT_EVENT,t),this.stat=e}function ao(t){const e=tw();_s(e,new b8(e,t))}function w8(t,e){ks.call(this,hf.Ua,t),this.size=e}function U_(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){t()},e)}hf.Ta="serverreachability",rs(x8,ks),hf.STAT_EVENT="statevent",rs(b8,ks),hf.Ua="timingevent",rs(w8,ks);var nw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},E8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pD(){}function I8(){}pD.prototype.h=null;var _D,j_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mD(){ks.call(this,"d")}function gD(){ks.call(this,"c")}function rw(){}function H_(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new V_(this),this.P=nae,this.V=new J1(t=ZA?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new C8}function C8(){this.i=null,this.g="",this.h=!1}rs(mD,ks),rs(gD,ks),rs(rw,pD),rw.prototype.g=function(){return new XMLHttpRequest},rw.prototype.i=function(){return{}},_D=new rw;var nae=45e3,S8={},vD={};function yD(t,e,n){t.L=1,t.A=aw(Pl(e)),t.u=n,t.S=!0,A8(t,null)}function A8(t,e){t.G=Date.now(),z_(t),t.B=Pl(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),V8(n.i,"t",r),t.o=0,n=t.l.J,t.h=new C8,t.g=c6(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Xoe(Ds(t.Pa,t,t.g),t.O)),_8(t.U,t.g,"readystatechange",t.nb),e=t.I?s8(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),B_(),function Qoe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.v,t.B,t.m,t.W,t.u)}function D8(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function k8(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=rae(t,n),i==vD){4==e&&(t.s=4,ao(14),r=!1),im(t.j,t.m,null,"[Incomplete Response]");break}if(i==S8){t.s=4,ao(15),im(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}im(t.j,t.m,i,null),xD(t,i)}D8(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,ao(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),SD(e),e.M=!0,ao(11))):(im(t.j,t.m,n,"[Invalid Chunked Response]"),pf(t),$_(t))}function rae(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?vD:(n=Number(e.substring(n,r)),isNaN(n)?S8:(r+=1)+n>e.length?vD:(e=e.slice(r,r+n),t.o=r+n,e))}function z_(t){t.Y=Date.now()+t.P,R8(t,t.P)}function R8(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=U_(Ds(t.lb,t),e)}function iw(t){t.C&&(Jt.clearTimeout(t.C),t.C=null)}function $_(t){0==t.l.H||t.J||i6(t.l,t)}function pf(t){iw(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,fD(t.V),v8(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xD(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||bD(n.i,t)))if(!t.K&&bD(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;hw(n),dw(n)}CD(n),ao(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=U_(Ds(n.ib,n),6e3));if(1>=j8(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gf(n,11)}else if((t.K||n.g==t)&&hw(n),!P_(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const p=l[5];null!=p&&"number"==typeof p&&0<p&&(n.L=r=1.5*p,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(wD(s,s.h),s.h=null))}if(r.F){const _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Rr(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=a6(r,r.J?r.pa:null,r.Y),o.K){H8(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(iw(a),z_(a)),r.g=o}else n6(r);0<n.j.length&&fw(n)}else"stop"!=l[0]&&"close"!=l[0]||gf(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?gf(n,7):ID(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}B_()}catch{}}function M8(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(q1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function sae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(q1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function iae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(q1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(mt=H_.prototype).setTimeout=function(t){this.P=t},mt.nb=function(t){t=t.target;const e=this.M;e&&3==Oc(t)?e.l():this.Pa(t)},mt.Pa=function(t){try{if(t==this.g)e:{const u=Oc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||ZA||this.g&&(this.h.h||this.g.ja()||Y8(this.g)))){this.J||4!=u||7==e||B_(),iw(this);var n=this.g.da();this.ca=n;t:if(D8(this)){var r=Y8(this.g);t="";var i=r.length,s=4==Oc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pf(this),$_(this);var o="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Joe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P_(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,ao(12),pf(this),$_(this);break e}im(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xD(this,n)}this.S?(k8(this,u,o),ZA&&this.i&&3==u&&(_8(this.U,this.V,"tick",this.mb),this.V.start())):(im(this.j,this.m,o,null),xD(this,o)),4==u&&pf(this),this.i&&!this.J&&(4==u?i6(this.l,this):(this.i=!1,z_(this)))}else(function Eae(t){const e={};t=(t.g&&2<=Oc(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(P_(t[r]))continue;var n=Koe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function joe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ao(12)):(this.s=0,ao(13)),pf(this),$_(this)}}}catch{}},mt.mb=function(){if(this.g){var t=Oc(this.g),e=this.g.ja();this.o<e.length&&(iw(this),k8(this,t,e),this.i&&4!=t&&z_(this))}},mt.cancel=function(){this.J=!0,pf(this)},mt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function eae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(B_(),ao(17)),pf(this),this.s=2,$_(this)):R8(this,this.Y-t)};var P8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mf){this.h=t.h,sw(this,t.j),this.s=t.s,this.g=t.g,ow(this,t.m),this.l=t.l;var e=t.i,n=new q_;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F8(this,n),this.o=t.o}else t&&(e=String(t).match(P8))?(this.h=!1,sw(this,e[1]||"",!0),this.s=W_(e[2]||""),this.g=W_(e[3]||"",!0),ow(this,e[4]),this.l=W_(e[5]||"",!0),F8(this,e[6]||"",!0),this.o=W_(e[7]||"")):(this.h=!1,this.i=new q_(null,this.h))}function Pl(t){return new mf(t)}function sw(t,e,n){t.j=n?W_(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ow(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F8(t,e,n){e instanceof q_?(t.i=e,function fae(t,e){e&&!t.j&&(Lu(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(N8(this,r),V8(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=G_(e,uae)),t.i=new q_(e,t.h))}function Rr(t,e,n){t.i.set(e,n)}function aw(t){return Rr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function W_(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function G_(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,aae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mf.prototype.toString=function(){var t=[],e=this.j;e&&t.push(G_(e,O8,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(G_(e,O8,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(G_(n,"/"==n.charAt(0)?lae:cae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",G_(n,dae)),t.join("")};var O8=/[#\/\?@]/g,cae=/[#\?:]/g,lae=/[#\?]/g,uae=/[#\?@]/g,dae=/#/g;function q_(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lu(t){t.g||(t.g=new Map,t.h=0,t.i&&function oae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function N8(t,e){Lu(t),e=sm(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function L8(t,e){return Lu(t),e=sm(t,e),t.g.has(e)}function V8(t,e,n){N8(t,e),0<n.length&&(t.i=null,t.g.set(sm(t,e),qA(n)),t.h+=n.length)}function sm(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function B8(t){this.l=t||pae,t=Jt.PerformanceNavigationTiming?0<(t=Jt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ka&&Jt.g.Ka()&&Jt.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(mt=q_.prototype).add=function(t,e){Lu(this),this.i=null,t=sm(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},mt.forEach=function(t,e){Lu(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},mt.ta=function(){Lu(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},mt.Z=function(t){Lu(this);let e=[];if("string"==typeof t)L8(this,t)&&(e=e.concat(this.g.get(sm(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},mt.set=function(t,e){return Lu(this),this.i=null,L8(this,t=sm(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},mt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var pae=10;function U8(t){return!!t.h||!!t.g&&t.g.size>=t.j}function j8(t){return t.h?1:t.g?t.g.size:0}function bD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function wD(t,e){t.g?t.g.add(e):t.h=e}function H8(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function z8(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return qA(t.i)}B8.prototype.cancel=function(){if(this.i=z8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mae=class{stringify(t){return Jt.JSON.stringify(t,void 0)}parse(t){return Jt.JSON.parse(t,void 0)}};function gae(){this.g=new mae}function _ae(t,e,n){const r=n||"";try{M8(t,function(i,s){let o=i;M_(i)&&(o=uD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cw(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function K_(t){this.l=t.ec||null,this.j=t.ob||!1}function lw(t,e){is.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ED,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rs(K_,pD),K_.prototype.g=function(){return new lw(this.l,this.j)},K_.prototype.i=function(t){return function(){return t}}({}),rs(lw,is);var ED=0;function $8(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Z_(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Y_(t)}function Y_(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(mt=lw.prototype).open=function(t,e){if(this.readyState!=ED)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Y_(this)},mt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z_(this)),this.readyState=ED},mt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Y_(this)),this.g&&(this.readyState=3,Y_(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$8(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},mt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Z_(this):Y_(this),3==this.readyState&&$8(this)}},mt.Za=function(t){this.g&&(this.response=this.responseText=t,Z_(this))},mt.Ya=function(t){this.g&&(this.response=t,Z_(this))},mt.ka=function(){this.g&&Z_(this)},mt.setRequestHeader=function(t,e){this.v.append(t,e)},mt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(lw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var yae=Jt.JSON.parse;function ni(t){is.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W8,this.L=this.M=!1}rs(ni,is);var W8="",xae=/^https?$/i,bae=["POST","PUT"];function G8(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q8(t),uw(t)}function q8(t){t.F||(t.F=!0,_s(t,"complete"),_s(t,"error"))}function K8(t){if(t.h&&typeof WA<"u"&&(!t.C[1]||4!=Oc(t)||2!=t.da()))if(t.v&&4==Oc(t))hD(t.La,0,t);else if(_s(t,"readystatechange"),4==Oc(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(P8)[1]||null;!i&&Jt.self&&Jt.self.location&&(i=Jt.self.location.protocol.slice(0,-1)),r=!xae.test(i?i.toLowerCase():"")}n=r}if(n)_s(t,"complete"),_s(t,"success");else{t.m=6;try{var s=2<Oc(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",q8(t)}}finally{uw(t)}}}function uw(t,e){if(t.g){Z8(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_s(t,"ready");try{n.onreadystatechange=r}catch{}}}function Z8(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Jt.clearTimeout(t.A),t.A=null)}function Oc(t){return t.g?t.g.readyState:0}function Y8(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W8:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function X8(t){let e="";return tD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function TD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=X8(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Rr(t,e,n))}function X_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Q8(t){this.Ga=0,this.j=[],this.l=new ew,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=X_("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=X_("baseRetryDelayMs",5e3,t),this.hb=X_("retryDelaySeedMs",1e4,t),this.eb=X_("forwardChannelMaxRetries",2,t),this.xa=X_("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new B8(t&&t.concurrentRequestLimit),this.Ja=new gae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ID(t){if(J8(t),3==t.H){var e=t.W++,n=Pl(t.I);if(Rr(n,"SID",t.K),Rr(n,"RID",e),Rr(n,"TYPE","terminate"),Q_(t,n),(e=new H_(t,t.l,e)).L=2,e.A=aw(Pl(n)),n=!1,Jt.navigator&&Jt.navigator.sendBeacon)try{n=Jt.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Jt.Image&&((new Image).src=e.A,n=!0),n||(e.g=c6(e.l,null),e.g.ha(e.A)),e.G=Date.now(),z_(e)}o6(t)}function dw(t){t.g&&(SD(t),t.g.cancel(),t.g=null)}function J8(t){dw(t),t.u&&(Jt.clearTimeout(t.u),t.u=null),hw(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Jt.clearTimeout(t.m),t.m=null)}function fw(t){if(!U8(t.i)&&!t.m){t.m=!0;var e=t.Na;N_||p8(),L_||(N_(),L_=!0),dD.add(e,t),t.C=0}}function e6(t,e){var n;n=e?e.m:t.W++;const r=Pl(t.I);Rr(r,"SID",t.K),Rr(r,"RID",n),Rr(r,"AID",t.V),Q_(t,r),t.o&&t.s&&TD(r,t.o,t.s),n=new H_(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=t6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),wD(t.i,n),yD(n,r,e)}function Q_(t,e){t.na&&tD(t.na,function(n,r){Rr(e,r,n)}),t.h&&M8({},function(n,r){Rr(e,r,n)})}function t6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ds(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{_ae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function n6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;N_||p8(),L_||(N_(),L_=!0),dD.add(e,t),t.A=0}}function CD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=U_(Ds(t.Ma,t),s6(t,t.A)),t.A++,0))}function SD(t){null!=t.B&&(Jt.clearTimeout(t.B),t.B=null)}function r6(t){t.g=new H_(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Pl(t.wa);Rr(e,"RID","rpc"),Rr(e,"SID",t.K),Rr(e,"AID",t.V),Rr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Rr(e,"TO",t.qa),Rr(e,"TYPE","xmlhttp"),Q_(t,e),t.o&&t.s&&TD(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=aw(Pl(e)),n.u=null,n.S=!0,A8(n,t)}function hw(t){null!=t.v&&(Jt.clearTimeout(t.v),t.v=null)}function i6(t,e){var n=null;if(t.g==e){hw(t),SD(t),t.g=null;var r=2}else{if(!bD(t.i,e))return;n=e.F,H8(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;_s(r=tw(),new w8(r,n)),fw(t)}else n6(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Tae(t,e){return!(j8(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=U_(Ds(t.Na,t,e),s6(t,t.C)),t.C++,0)))}(t,e)||2==r&&CD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gf(t,5);break;case 4:gf(t,10);break;case 3:gf(t,6);break;default:gf(t,2)}}function s6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gf(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ds(t.pb,t);n||(n=new mf("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||sw(n,"https"),aw(n)),function vae(t,e){const n=new ew;if(Jt.Image){const r=new Image;r.onload=K1(cw,n,r,"TestLoadImage: loaded",!0,e),r.onerror=K1(cw,n,r,"TestLoadImage: error",!1,e),r.onabort=K1(cw,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=K1(cw,n,r,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ao(2);t.H=0,t.h&&t.h.za(e),o6(t),J8(t)}function o6(t){if(t.H=0,t.ma=[],t.h){const e=z8(t.i);(0!=e.length||0!=t.j.length)&&(e8(t.ma,e),e8(t.ma,t.j),t.i.i.length=0,qA(t.j),t.j.length=0),t.h.ya()}}function a6(t,e,n){var r=n instanceof mf?Pl(n):new mf(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ow(r,r.m);else{var i=Jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new mf(null);r&&sw(s,r),e&&(s.g=e),i&&ow(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Rr(r,n,e),Rr(r,"VER",t.ra),Q_(t,r),r}function c6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(t.Ha&&!t.va?new K_({ob:n}):t.va)).Oa(t.J),e}function l6(){}function pw(){if(rm&&!(10<=Number(Loe)))throw Error("Environmental error: no available transport.")}function $o(t,e){is.call(this),this.g=new Q8(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!P_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P_(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new om(this)}function u6(t){mD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function d6(){gD.call(this),this.status=1}function om(t){this.g=t}function nc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function nr(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(mt=ni.prototype).Oa=function(t){this.M=t},mt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_D.g(),this.C=function T8(t){return t.h||(t.h=t.i())}(this.u?this.u:_D),this.g.onreadystatechange=Ds(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void G8(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Jt.FormData&&t instanceof Jt.FormData,!(0<=JB(bae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z8(this),0<this.B&&((this.L=function wae(t){return rm&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ds(this.ua,this)):this.A=hD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){G8(this,s)}},mt.ua=function(){typeof WA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_s(this,"timeout"),this.abort(8))},mt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_s(this,"complete"),_s(this,"abort"),uw(this))},mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uw(this,!0)),ni.$.N.call(this)},mt.La=function(){this.s||(this.G||this.v||this.l?K8(this):this.kb())},mt.kb=function(){K8(this)},mt.isActive=function(){return!!this.g},mt.da=function(){try{return 2<Oc(this)?this.g.status:-1}catch{return-1}},mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},mt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yae(e)}},mt.Ia=function(){return this.m},mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=Q8.prototype).ra=8,mt.H=1,mt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new H_(this,this.l,t);let s=this.s;if(this.U&&(s?(s=s8(s),a8(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=t6(this,i,e),Rr(n=Pl(this.I),"RID",t),Rr(n,"CVER",22),this.F&&Rr(n,"X-HTTP-Session-Id",this.F),Q_(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(X8(s)))+"&"+e:this.o&&TD(n,this.o,s)),wD(this.i,i),this.bb&&Rr(n,"TYPE","init"),this.P?(Rr(n,"$req",e),Rr(n,"SID","null"),i.aa=!0,yD(i,n,null)):yD(i,n,e),this.H=2}}else 3==this.H&&(t?e6(this,t):0==this.j.length||U8(this.i)||e6(this))},mt.Ma=function(){if(this.u=null,r6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=U_(Ds(this.jb,this),t)}},mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ao(10),dw(this),r6(this))},mt.ib=function(){null!=this.v&&(this.v=null,dw(this),CD(this),ao(19))},mt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ao(2)):(this.l.info("Failed to ping google.com"),ao(1))},mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(mt=l6.prototype).Ba=function(){},mt.Aa=function(){},mt.za=function(){},mt.ya=function(){},mt.isActive=function(){return!0},mt.Va=function(){},pw.prototype.g=function(t,e){return new $o(t,e)},rs($o,is),$o.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ao(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=a6(t,null,t.Y),fw(t)},$o.prototype.close=function(){ID(this.g)},$o.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=uD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&fw(e)},$o.prototype.N=function(){this.g.h=null,delete this.j,ID(this.g),delete this.g,$o.$.N.call(this)},rs(u6,mD),rs(d6,gD),rs(om,l6),om.prototype.Ba=function(){_s(this.g,"a")},om.prototype.Aa=function(t){_s(this.g,new u6(t))},om.prototype.za=function(t){_s(this.g,new d6)},om.prototype.ya=function(){_s(this.g,"b")},rs(nc,function Iae(){this.blockSize=-1}),nc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nc.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)AD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){AD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){AD(this,r),i=0;break}}this.h=i,this.i+=e},nc.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Cae={};function DD(t){return-128<=t&&128>t?function Foe(t,e){var n=Cae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new nr([0|e],0>e?-1:0)}):new nr([0|t],0>t?-1:0)}function Nc(t){if(isNaN(t)||!isFinite(t))return am;if(0>t)return vs(Nc(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kD;return new nr(e,0)}var kD=4294967296,am=DD(0),RD=DD(1),h6=DD(16777216);function Fl(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Aa(t){return-1==t.h}function vs(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new nr(n,~t.h).add(RD)}function mw(t,e){return t.add(vs(e))}function gw(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function J_(t,e){this.g=t,this.h=e}function _w(t,e){if(Fl(e))throw Error("division by zero");if(Fl(t))return new J_(am,am);if(Aa(t))return e=_w(vs(t),e),new J_(vs(e.g),vs(e.h));if(Aa(e))return e=_w(t,vs(e)),new J_(vs(e.g),e.h);if(30<t.g.length){if(Aa(t)||Aa(e))throw Error("slowDivide_ only works with positive integers.");for(var n=RD,r=e;0>=r.X(t);)n=p6(n),r=p6(r);var i=cm(n,1),s=cm(r,1);for(r=cm(r,2),n=cm(n,2);!Fl(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=cm(r,1),n=cm(n,1)}return e=mw(t,i.R(e)),new J_(i,e)}for(i=am;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Nc(n)).R(e);Aa(o)||0<o.X(t);)o=(s=Nc(n-=r)).R(e);Fl(s)&&(s=RD),i=i.add(s),t=mw(t,o)}return new J_(i,t)}function p6(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new nr(n,t.h)}function cm(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new nr(i,t.h)}(mt=nr.prototype).ea=function(){if(Aa(this))return-vs(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kD+r)*e,e*=kD}return t},mt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Fl(this))return"0";if(Aa(this))return"-"+vs(this).toString(t);for(var e=Nc(Math.pow(t,6)),n=this,r="";;){var i=_w(n,e).g,s=((0<(n=mw(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Fl(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},mt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},mt.X=function(t){return Aa(t=mw(this,t))?-1:Fl(t)?0:1},mt.abs=function(){return Aa(this)?vs(this):this},mt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new nr(n,-2147483648&n[n.length-1]?-1:0)},mt.R=function(t){if(Fl(this)||Fl(t))return am;if(Aa(this))return Aa(t)?vs(this).R(vs(t)):vs(vs(this).R(t));if(Aa(t))return vs(this.R(vs(t)));if(0>this.X(h6)&&0>t.X(h6))return Nc(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,gw(n,2*r+2*i),n[2*r+2*i+1]+=s*c,gw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,gw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,gw(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new nr(n,0)},mt.gb=function(t){return _w(this,t).h},mt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new nr(n,this.h&t.h)},mt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new nr(n,this.h|t.h)},mt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new nr(n,this.h^t.h)},pw.prototype.createWebChannel=pw.prototype.g,$o.prototype.send=$o.prototype.u,$o.prototype.open=$o.prototype.m,$o.prototype.close=$o.prototype.close,nw.NO_ERROR=0,nw.TIMEOUT=8,nw.HTTP_ERROR=6,E8.COMPLETE="complete",I8.EventType=j_,j_.OPEN="a",j_.CLOSE="b",j_.ERROR="c",j_.MESSAGE="d",is.prototype.listen=is.prototype.O,ni.prototype.listenOnce=ni.prototype.P,ni.prototype.getLastError=ni.prototype.Sa,ni.prototype.getLastErrorCode=ni.prototype.Ia,ni.prototype.getStatus=ni.prototype.da,ni.prototype.getResponseJson=ni.prototype.Wa,ni.prototype.getResponseText=ni.prototype.ja,ni.prototype.send=ni.prototype.ha,ni.prototype.setWithCredentials=ni.prototype.Oa,nc.prototype.digest=nc.prototype.l,nc.prototype.reset=nc.prototype.reset,nc.prototype.update=nc.prototype.j,nr.prototype.add=nr.prototype.add,nr.prototype.multiply=nr.prototype.R,nr.prototype.modulo=nr.prototype.gb,nr.prototype.compare=nr.prototype.X,nr.prototype.toNumber=nr.prototype.ea,nr.prototype.toString=nr.prototype.toString,nr.prototype.getBits=nr.prototype.D,nr.fromNumber=Nc,nr.fromString=function f6(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return vs(f6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nc(Math.pow(e,8)),r=am,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Nc(Math.pow(e,s)),r=r.R(s).add(Nc(o))):r=(r=r.R(n)).add(Nc(o))}return r};var Sae=tc.createWebChannelTransport=function(){return new pw},Aae=tc.getStatEventTarget=function(){return tw()},MD=tc.ErrorCode=nw,Dae=tc.EventType=E8,kae=tc.Event=hf,m6=tc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vw=(tc.FetchXmlHttpFactory=K_,tc.WebChannel=I8),Rae=tc.XhrIo=ni,Mae=tc.Md5=nc,lm=tc.Integer=nr;const g6="@firebase/firestore";class ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");let um="10.7.0";const Vu=new Pc.Yd("@firebase/firestore");function dm(){return Vu.logLevel}function ze(t,...e){if(Vu.logLevel<=Pc.in.DEBUG){const n=e.map(PD);Vu.debug(`Firestore (${um}): ${t}`,...n)}}function xi(t,...e){if(Vu.logLevel<=Pc.in.ERROR){const n=e.map(PD);Vu.error(`Firestore (${um}): ${t}`,...n)}}function Co(t,...e){if(Vu.logLevel<=Pc.in.WARN){const n=e.map(PD);Vu.warn(`Firestore (${um}): ${t}`,...n)}}function PD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function bt(t="Unexpected state"){const e=`FIRESTORE (${um}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function At(t,e){t||bt()}function at(t,e){return t}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends cr.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class _6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ss.UNAUTHENTICATED))}shutdown(){}}class Nae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lae{constructor(e){this.t=e,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,Ce.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new _6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new ss(e)}}class Vae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At("string"==typeof n.token),this.R=n.token,new v6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class y6{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=jae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function fm(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function x6(t){return t+"\0"}class Hr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Hr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Hr(0,0))}static max(){return new Dt(new Hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ev{constructor(e,n,r){void 0===n?n=0:n>e.length&&bt(),void 0===r?r=e.length-n:r>e.length-n&&bt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ev.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ev?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends ev{construct(e,n,r){return new Bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const Hae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends ev{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return Hae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ve(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Ve(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ve(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ve(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Bn.fromString(e))}static fromName(e){return new ct(Bn.fromString(e).popFirst(5))}static empty(){return new ct(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Bn(e.slice()))}}class hm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function FD(t){return t.fields.find(e=>2===e.kind)}function _f(t){return t.fields.filter(e=>2!==e.kind)}hm.UNKNOWN_ID=-1;class vf{constructor(e,n){this.fieldPath=e,this.kind=n}}class pm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new pm(0,Wo.min())}}function b6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new Hr(n+1,0):new Hr(n,r));return new Wo(i,ct.empty(),e)}function w6(t){return new Wo(t.readTime,t.key,-1)}class Wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wo(Dt.min(),ct.empty(),-1)}static max(){return new Wo(Dt.max(),ct.empty(),-1)}}function OD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ct.comparator(t.documentKey,e.documentKey),0!==n?n:Yt(t.largestBatchId,e.largestBatchId))}const E6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bu(t){return ND.apply(this,arguments)}function ND(){return ND=(0,Ce.Z)(function*(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==E6)throw t;ze("LocalStore","Unexpectedly lost primary lease")}),ND.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new ie((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}class yw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new tv(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=LD(r.target.error);this.V.reject(new tv(e,i))}}static open(e,n,r,i){try{return new yw(n,e.transaction(i,r))}catch(s){throw new tv(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Gae(n)}}class rc{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===rc.S((0,cr.z$)())&&xi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),yf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,cr.hl)())return!1;if(rc.C())return!0;const e=(0,cr.z$)(),n=rc.S(e),r=0<n&&n<10,i=rc.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,Ce.Z)(function*(){return n.db||(ze("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new tv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new Ve(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ve(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new tv(e,a))},s.onupgradeneeded=o=>{ze("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',o.oldVersion),n.p.N(o.target.result,s.transaction,o.oldVersion,n.version).next(()=>{ze("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var s=this;return(0,Ce.Z)(function*(){const o="readonly"===n;let a=0;for(;;){++a;try{s.db=yield s.O(e);const c=yw.open(s.db,e,o?"readonly":"readwrite",r),l=i(c).next(u=>(c.g(),u)).catch(u=>(c.abort(u),ie.reject(u))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(ze("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),s.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wae{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yf(this.k.delete())}}class tv extends Ve{constructor(e,n){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Uu(t){return"IndexedDbTransactionError"===t.name}class Gae{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(ze("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yf(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),yf(this.store.add(e))}get(e){return yf(this.store.get(e)).next(n=>(void 0===n&&(n=null),ze("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),yf(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),yf(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ie((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ie((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ie((r,i)=>{n.onerror=s=>{const o=LD(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new ie((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new Wae(a),l=n(a.primaryKey,a.value,c);if(l instanceof ie){const u=l.catch(d=>(c.done(),ie.reject(d)));r.push(u)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>ie.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function yf(t){return new ie((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=LD(r.target.error);n(i)}})}let I6=!1;function LD(t){const e=rc.S((0,cr.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return I6||(I6=!0,setTimeout(()=>{throw r},0)),r}}return t}class qae{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){n.task=null;try{ze("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(r){Uu(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Bu(r)}yield n.ee(6e4)}))}}class Kae{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Ce.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,s=!0;return ie.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ze("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ze("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=w6(s);OD(o,r)>0&&(r=o)}),new Wo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Go=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function nv(t){return null==t}function rv(t){return 0===t&&1/t==-1/0}function C6(t){return"number"==typeof t&&Number.isInteger(t)&&!rv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Rs(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S6(e)),e=Zae(t.get(n),e);return S6(e)}function Zae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function S6(t){return t+"\x01\x01"}function Lc(t){const e=t.length;if(At(e>=2),2===e)return At("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Bn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("\x01",s);switch((o<0||o>n)&&bt(),t.charAt(o+1)){case"\x01":const a=t.substring(s,o);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:bt()}s=o+2}return new Bn(r)}const A6=["userId","batchId"];function xw(t,e){return[t,Rs(e)]}function D6(t,e,n){return[t,Rs(e),n]}const Yae={},Xae=["prefixPath","collectionGroup","readTime","documentId"],Qae=["prefixPath","collectionGroup","documentId"],Jae=["collectionGroup","readTime","prefixPath","documentId"],ece=["canonicalId","targetId"],tce=["targetId","path"],nce=["path","targetId"],rce=["collectionId","parent"],ice=["indexId","uid"],sce=["uid","sequenceNumber"],oce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ace=["indexId","uid","orderedDocumentKey"],cce=["userId","collectionPath","documentId"],lce=["userId","collectionPath","largestBatchId"],uce=["userId","collectionGroup","largestBatchId"],k6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dce=[...k6,"documentOverlays"],R6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],M6=R6,fce=[...M6,"indexConfiguration","indexState","indexEntries"];class VD extends T6{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function os(t,e){const n=at(t);return rc.M(n.ae,e)}function P6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ju(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class yr{constructor(e,n){this.comparator=e,this.root=n||ys.EMPTY}insert(e,n){return new yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ys.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ys.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bw(this.root,e,this.comparator,!1)}getReverseIterator(){return new bw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bw(this.root,e,this.comparator,!0)}}class bw{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ys{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ys.RED,this.left=i??ys.EMPTY,this.right=s??ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ys(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ys.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}ys.EMPTY=null,ys.RED=!0,ys.BLACK=!1,ys.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ys(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O6(this.data.getIterator())}getIteratorFrom(e){return new O6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lr(this.comparator);return n.data=e,n}}class O6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mm(t){return t.hasNext()?t.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new So([])}unionWith(e){let n=new lr(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new So(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class N6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N6("Invalid base64 string: "+s):s}}(e);return new qi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const pce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(t){if(At(!!t),"string"==typeof t){let e=0;const n=pce.exec(t);if(At(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ri(t.seconds),nanos:ri(t.nanos)}}function ri(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ol(t){return"string"==typeof t?qi.fromBase64String(t):qi.fromUint8Array(t)}function ww(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ew(t){const e=t.mapValue.fields.__previous_value__;return ww(e)?Ew(e):e}function iv(t){const e=Hu(t.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}class mce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}const $u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tw={nullValue:"NULL_VALUE"};function Wu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ww(t)?4:U6(t)?9007199254740991:10:bt()}function Vc(t,e){if(t===e)return!0;const n=Wu(t);if(n!==Wu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iv(t).isEqual(iv(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hu(i.timestampValue),a=Hu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Ol(t.bytesValue).isEqual(Ol(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ri(i.geoPointValue.latitude)===ri(s.geoPointValue.latitude)&&ri(i.geoPointValue.longitude)===ri(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ri(i.integerValue)===ri(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ri(i.doubleValue),a=ri(s.doubleValue);return o===a?rv(o)===rv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fm(t.arrayValue.values||[],e.arrayValue.values||[],Vc);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(P6(o)!==P6(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Vc(o[c],a[c])))return!1;return!0}(t,e);default:return bt()}var s}function sv(t,e){return void 0!==(t.values||[]).find(n=>Vc(n,e))}function Gu(t,e){if(t===e)return 0;const n=Wu(t),r=Wu(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ri(s.integerValue||s.doubleValue),c=ri(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return L6(t.timestampValue,e.timestampValue);case 4:return L6(iv(t),iv(e));case 5:return Yt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ol(s),c=Ol(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Yt(a[l],c[l]);if(0!==u)return u}return Yt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Yt(ri(s.latitude),ri(o.latitude));return 0!==a?a:Yt(ri(s.longitude),ri(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Gu(a[l],c[l]);if(u)return u}return Yt(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===$u.mapValue&&o===$u.mapValue)return 0;if(s===$u.mapValue)return 1;if(o===$u.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const p=Yt(c[d],u[d]);if(0!==p)return p;const m=Gu(a[c[d]],l[u[d]]);if(0!==m)return m}return Yt(c.length,u.length)}(t.mapValue,e.mapValue);default:throw bt()}}function L6(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yt(t,e);const n=Hu(t),r=Hu(e),i=Yt(n.seconds,r.seconds);return 0!==i?i:Yt(n.nanos,r.nanos)}function gm(t){return BD(t)}function BD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ol(t.bytesValue).toBase64():"referenceValue"in t?ct.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=BD(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${BD(n.fields[o])}`;return i+"}"}(t.mapValue):bt()}function xf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UD(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function V6(t){return!!t&&"nullValue"in t}function B6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cw(t){return!!t&&"mapValue"in t}function av(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ju(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=av(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=av(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U6(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function gce(t){return"nullValue"in t?Tw:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?xf(zu.empty(),ct.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:bt()}function _ce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?xf(zu.empty(),ct.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?$u:bt()}function j6(t,e){const n=Gu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function H6(t,e){const n=Gu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class xs{constructor(e){this.value=e}static empty(){return new xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=av(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=av(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ju(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xs(av(this.value))}}function z6(t){const e=[];return ju(t.fields,(n,r)=>{const i=new Mr([n]);if(Cw(r)){const s=z6(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new So(e)}class Pr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pr(e,0,Dt.min(),Dt.min(),Dt.min(),xs.empty(),0)}static newFoundDocument(e,n,r,i){return new Pr(e,1,n,Dt.min(),r,i,0)}static newNoDocument(e,n){return new Pr(e,2,n,Dt.min(),Dt.min(),xs.empty(),0)}static newUnknownDocument(e,n){return new Pr(e,3,n,Dt.min(),Dt.min(),xs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qu{constructor(e,n){this.position=e,this.inclusive=n}}function $6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ct.comparator(ct.fromName(o.referenceValue),n.key):Gu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function W6(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vc(t.position[n],e.position[n]))return!1;return!0}class cv{constructor(e,n="asc"){this.field=e,this.dir=n}}function vce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class G6{}class Pn extends G6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new yce(e,n,r):"array-contains"===n?new wce(e,r):"in"===n?new Q6(e,r):"not-in"===n?new Ece(e,r):"array-contains-any"===n?new Tce(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new xce(e,r):new bce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Gu(n,this.value)):null!==n&&Wu(this.value)===Wu(n)&&this.matchesComparison(Gu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends G6{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new rr(e,n)}matches(e){return _m(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _m(t){return"and"===t.op}function jD(t){return"or"===t.op}function HD(t){return q6(t)&&_m(t)}function q6(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function zD(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+gm(t.value);if(HD(t))return t.filters.map(e=>zD(e)).join(",");{const e=t.filters.map(n=>zD(n)).join(",");return`${t.op}(${e})`}}function K6(t,e){return t instanceof Pn?(r=t,(i=e)instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&Vc(r.value,i.value)):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&K6(o,i.filters[a]),!0)}(t,e):void bt();var r,i}function Z6(t,e){const n=t.filters.concat(e);return rr.create(n,t.op)}function Y6(t){return t instanceof Pn?`${(n=t).field.canonicalString()} ${n.op} ${gm(n.value)}`:t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(Y6).join(" ,")+"}"}(t):"Filter";var n}class yce extends Pn{constructor(e,n,r){super(e,n,r),this.key=ct.fromName(r.referenceValue)}matches(e){const n=ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class xce extends Pn{constructor(e,n){super(e,"in",n),this.keys=X6(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bce extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=X6(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X6(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class wce extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ov(n)&&sv(n.arrayValue,this.value)}}class Q6 extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&sv(this.value.arrayValue,n)}}class Ece extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(sv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!sv(this.value.arrayValue,n)}}class Tce extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sv(this.value.arrayValue,r))}}class Ice{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function $D(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ice(t,e,n,r,i,s,o)}function bf(t){const e=at(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gm(r)).join(",")),e.ce=n}return e.ce}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W6(t.startAt,e.startAt)&&W6(t.endAt,e.endAt)}function Sw(t){return ct.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Aw(t,e){return t.filters.filter(n=>n instanceof Pn&&n.field.isEqual(e))}function J6(t,e,n){let r=Tw,i=!0;for(const s of Aw(t,e)){let o=Tw,a=!0;switch(s.op){case"<":case"<=":o=gce(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Tw}j6({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];j6({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}function e5(t,e,n){let r=$u,i=!0;for(const s of Aw(t,e)){let o=$u,a=!0;switch(s.op){case">=":case">":o=_ce(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=$u}H6({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];H6({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}return{value:r,inclusive:i}}class Nl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function t5(t,e,n,r,i,s,o,a){return new Nl(t,e,n,r,i,s,o,a)}function vm(t){return new Nl(t)}function n5(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function WD(t){return null!==t.collectionGroup}function ym(t){const e=at(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lr(Mr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new cv(s,r))}),n.has(Mr.keyField().canonicalString())||e.le.push(new cv(Mr.keyField(),r))}return e.le}function co(t){const e=at(t);return e.he||(e.he=function r5(t,e){if("F"===t.limitType)return $D(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new cv(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qu(t.startAt.position,t.startAt.inclusive):null;return $D(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ym(t))),e.he}function GD(t,e){const n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dw(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uv(t,e){return lv(co(t),co(e))&&t.limitType===e.limitType}function s5(t){return`${bf(co(t))}|lt:${t.limitType}`}function xm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y6(i)).join(", ")}]`),nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gm(i)).join(",")),`Target(${r})`}(co(t))}; limitType=${t.limitType})`}function dv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ym(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=$6(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ym(r),i)||r.endAt&&!function(o,a,c){const l=$6(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ym(r),i)));var r,i}function o5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a5(t){return(e,n)=>{let r=!1;for(const i of ym(t)){const s=Cce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Cce(t,e,n){const r=t.field.isKeyField()?ct.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?Gu(c,l):bt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}class Ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ju(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return F6(this.inner)}size(){return this.innerSize}}const Sce=new yr(ct.comparator);function Ao(){return Sce}const c5=new yr(ct.comparator);function fv(...t){let e=c5;for(const n of t)e=e.insert(n.key,n);return e}function l5(t){let e=c5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bc(){return hv()}function u5(){return hv()}function hv(){return new Ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ace=new yr(ct.comparator),Dce=new lr(ct.comparator);function sn(...t){let e=Dce;for(const n of t)e=e.add(n);return e}const kce=new lr(Yt);function qD(){return kce}function d5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rv(e)?"-0":e}}function f5(t){return{integerValue:""+t}}function h5(t,e){return C6(e)?f5(e):d5(t,e)}class kw{constructor(){this._=void 0}}function Rce(t,e,n){return t instanceof bm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ww(s)&&(s=Ew(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wf?m5(t,e):t instanceof Ef?g5(t,e):function(i,s){const o=p5(i,s),a=_5(o)+_5(i.Ie);return UD(o)&&UD(i.Ie)?f5(a):d5(i.serializer,a)}(t,e)}function Mce(t,e,n){return t instanceof wf?m5(t,e):t instanceof Ef?g5(t,e):n}function p5(t,e){return t instanceof wm?UD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class bm extends kw{}class wf extends kw{constructor(e){super(),this.elements=e}}function m5(t,e){const n=v5(e);for(const r of t.elements)n.some(i=>Vc(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ef extends kw{constructor(e){super(),this.elements=e}}function g5(t,e){let n=v5(e);for(const r of t.elements)n=n.filter(i=>!Vc(i,r));return{arrayValue:{values:n}}}class wm extends kw{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function _5(t){return ri(t.integerValue||t.doubleValue)}function v5(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pv{constructor(e,n){this.field=e,this.transform=n}}class Fce{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rw(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mw{}function y5(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Tm(t.key,zr.none()):new Em(t.key,t.data,zr.none());{const n=t.data,r=xs.empty();let i=new lr(Mr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vl(t.key,r,new So(i.toArray()),zr.none())}}function Oce(t,e,n){t instanceof Em?function(i,s,o){const a=i.value.clone(),c=w5(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vl?function(i,s,o){if(!Rw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=w5(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(b5(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function mv(t,e,n,r){return t instanceof Em?function(s,o,a,c){if(!Rw(s.precondition,o))return a;const l=s.value.clone(),u=E5(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vl?function(s,o,a,c){if(!Rw(s.precondition,o))return a;const l=E5(s.fieldTransforms,c,o),u=o.data;return u.setAll(b5(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Rw(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Nce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=p5(r.transform,i||null);null!=s&&(null===n&&(n=xs.empty()),n.set(r.field,s))}return n||null}function x5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&fm(r,i,(s,o)=>function Pce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof wf&&i instanceof wf||r instanceof Ef&&i instanceof Ef?fm(r.elements,i.elements,Vc):r instanceof wm&&i instanceof wm?Vc(r.Ie,i.Ie):r instanceof bm&&i instanceof bm);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Em extends Mw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends Mw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function b5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w5(t,e,n){const r=new Map;At(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Mce(o,a,n[i]))}return r}function E5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Rce(s,o,e))}return r}class Tm extends Mw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Mw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Oce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mv(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mv(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u5();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=y5(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),sn())}isEqual(e){return this.batchId===e.batchId&&fm(this.mutations,e.mutations,(n,r)=>x5(n,r))&&fm(this.baseMutations,e.baseMutations,(n,r)=>x5(n,r))}}class YD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length);let i=Ace;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new YD(e,n,r,i)}}class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vce{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ai,Un;function T5(t){switch(t){default:return bt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function I5(t){if(void 0===t)return xi("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Ai.OK:return ge.OK;case Ai.CANCELLED:return ge.CANCELLED;case Ai.UNKNOWN:return ge.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return ge.INTERNAL;case Ai.UNAVAILABLE:return ge.UNAVAILABLE;case Ai.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ai.NOT_FOUND:return ge.NOT_FOUND;case Ai.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ai.ABORTED:return ge.ABORTED;case Ai.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ai.DATA_LOSS:return ge.DATA_LOSS;default:return bt()}}(Un=Ai||(Ai={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";function C5(){return new TextEncoder}const Bce=new lm([4294967295,4294967295],0);function S5(t){const e=C5().encode(t),n=new Mae;return n.update(e),new Uint8Array(n.digest())}function A5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lm([n,r],0),new lm([i,s],0)]}class QD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gv(`Invalid padding: ${n}`);if(r<0)throw new gv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new gv(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new gv(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=lm.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(lm.fromNumber(r)));return 1===i.compare(Bce)&&(i=new lm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=S5(e),[r,i]=A5(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new QD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=S5(e),[r,i]=A5(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class gv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _v{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _v(Dt.min(),i,new yr(Yt),Ao(),sn())}}class vv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vv(r,n,sn(),sn(),sn())}}class Fw{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class D5{constructor(e,n){this.targetId=e,this.fe=n}}class k5{constructor(e,n,r=qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R5{constructor(){this.ge=0,this.pe=P5(),this.ye=qi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=sn(),n=sn(),r=sn();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bt()}}),new vv(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=P5()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,At(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Uce{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ao(),this.Qe=M5(),this.Ke=new yr(Yt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Sw(s))if(0===r){const o=new ct(s.path);this.We(n,o,Pr.newNoDocument(o,Dt.min()))}else At(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ol(r).toUint8Array()}catch(c){if(c instanceof N6)return Co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new QD(o,i,s)}catch(c){return Co(c instanceof gv?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Sw(a.target)){const c=new ct(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Pr.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=sn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new _v(e,n,this.Ke,this.qe,r);return this.qe=Ao(),this.Qe=M5(),this.Ke=new yr(Yt),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new R5,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new lr(Yt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ze("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new R5),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function M5(){return new yr(ct.comparator)}function P5(){return new yr(ct.comparator)}const jce={asc:"ASCENDING",desc:"DESCENDING"},Hce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zce={and:"AND",or:"OR"};class $ce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JD(t,e){return t.useProto3Json||nv(e)?e:{value:e}}function Im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wce(t,e){return Im(t,e.toTimestamp())}function bi(t){return At(!!t),Dt.fromTimestamp(function(n){const r=Hu(n);return new Hr(r.seconds,r.nanos)}(t))}function ek(t,e){return(r=t,new Bn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function O5(t){const e=Bn.fromString(t);return At($5(e)),e}function yv(t,e){return ek(t.databaseId,e.path)}function Uc(t,e){const n=O5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ct(L5(n))}function tk(t,e){return ek(t.databaseId,e)}function N5(t){const e=O5(t);return 4===e.length?Bn.emptyPath():L5(e)}function xv(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L5(t){return At(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function V5(t,e,n){return{name:yv(t,e),fields:n.value.mapValue.fields}}function B5(t,e,n){const r=Uc(t,e.name),i=bi(e.updateTime),s=e.createTime?bi(e.createTime):Dt.min(),o=new xs({mapValue:{fields:e.fields}}),a=Pr.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bv(t,e){let n;if(e instanceof Em)n={update:V5(t,e.key,e.value)};else if(e instanceof Tm)n={delete:yv(t,e.key)};else if(e instanceof Vl)n={update:V5(t,e.key,e.data),updateMask:Jce(e.fieldMask)};else{if(!(e instanceof KD))return bt();n={verify:yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ef)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wm)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw bt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Wce(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:bt()),n;var s}function nk(t,e){const n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?zr.updateTime(bi(s.updateTime)):void 0!==s.exists?zr.exists(s.exists):zr.none():zr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;"setToServerValue"in a?(At("REQUEST_TIME"===a.setToServerValue),c=new bm):"appendMissingElements"in a?c=new wf(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Ef(a.removeAllFromArray.values||[]):"increment"in a?c=new wm(o,a.increment):bt();const l=Mr.fromServerFormat(a.fieldPath);return new pv(l,c)}(t,i)):[];var s;if(e.update){const i=Uc(t,e.update.name),s=new xs({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new So((e.updateMask.fieldPaths||[]).map(u=>Mr.fromServerFormat(u)));return new Vl(i,s,o,n,r)}return new Em(i,s,n,r)}if(e.delete){const i=Uc(t,e.delete);return new Tm(i,n)}if(e.verify){const i=Uc(t,e.verify);return new KD(i,n)}return bt()}function U5(t,e){return{documents:[tk(t,e.path)]}}function rk(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tk(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tk(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return z5(rr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Ku((d=l).field),direction:Yce(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=JD(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function j5(t){let e=N5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const p=H5(d);return p instanceof rr&&HD(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(p=>{return new cv(Cm((y=p).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;n.limit&&(a=function(d){let p;return p="object"==typeof d?d.value:d,nv(p)?null:p}(n.limit));let c=null;var d;n.startAt&&(c=new qu((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new qu(d.values||[],!d.before)}(n.endAt)),t5(e,i,o,s,a,"F",c,l)}function H5(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cm(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cm(n.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cm(n.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cm(n.unaryFilter.field);return Pn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(t):void 0!==t.fieldFilter?Pn.create(Cm((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return rr.create(n.compositeFilter.filters.map(r=>H5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(t):bt();var n}function Yce(t){return jce[t]}function Xce(t){return Hce[t]}function Qce(t){return zce[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function Cm(t){return Mr.fromServerFormat(t.fieldPath)}function z5(t){return t instanceof Pn?function(n){if("=="===n.op){if(B6(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NAN"}};if(V6(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(B6(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NAN"}};if(V6(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(n.field),op:Xce(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>z5(i));return 1===r.length?r[0]:{compositeFilter:{op:Qce(n.op),filters:r}}}(t):bt()}function Jce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $5(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Bl{constructor(e,n,r,i,s=Dt.min(),o=Dt.min(),a=qi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W5{constructor(e){this.ut=e}}function G5(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ow(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yv(s=t.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Im(s,o.version.toTimestamp()),createTime:Im(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Tf(e.version)};else{if(!e.isUnknownDocument())return bt();r.unknownDocument={path:n.path.toArray(),version:Tf(e.version)}}var s,o;return r}function Ow(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Tf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function If(t){const e=new Hr(t.seconds,t.nanoseconds);return Dt.fromTimestamp(e)}function Cf(t,e){const n=(e.baseMutations||[]).map(s=>nk(t.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>nk(t.ut,s)),i=Hr.fromMillis(e.localWriteTimeMs);return new ZD(e.batchId,i,n,r)}function wv(t){const e=If(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?If(t.lastLimboFreeSnapshotVersion):Dt.min();let r;return r=void 0!==t.query.documents?(At(1===(s=t.query).documents.length),co(vm(N5(s.documents[0])))):function(s){return co(j5(s))}(t.query),new Bl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,qi.fromBase64String(t.resumeToken));var s}function q5(t,e){const n=Tf(e.snapshotVersion),r=Tf(e.lastLimboFreeSnapshotVersion);let i;i=Sw(e.target)?U5(t.ut,e.target):rk(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bf(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ik(t){const e=j5({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dw(e,e.limit,"L"):e}function sk(t,e){return new XD(e.largestBatchId,nk(t.ut,e.overlayMutation))}function K5(t,e){const n=e.path.lastSegment();return[t,Rs(e.path.popLast()),n]}function Z5(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Tf(r.readTime),documentKey:Rs(r.documentKey.path),largestBatchId:r.largestBatchId}}class tle{getBundleMetadata(e,n){return Y5(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:If(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return Y5(e).put({bundleId:(i=n).id,createTime:Tf(bi(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return X5(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:ik(s.bundledQuery),readTime:If(s.readTime)};var s})}saveNamedQuery(e,n){return X5(e).put({name:(i=n).name,readTime:Tf(bi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Y5(t){return os(t,"bundles")}function X5(t){return os(t,"namedQueries")}class Nw{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Nw(e,n.uid||"")}getOverlay(e,n){return Ev(e).get(K5(this.userId,n)).next(r=>r?sk(this.serializer,r):null)}getOverlays(e,n){const r=Bc();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new XD(n,o);i.push(this.lt(e,a))}),ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Rs(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ev(e).H("collectionPathOverlayIndex",a))}),ie.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Bc(),s=Rs(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ev(e).W("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const l=sk(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Bc();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ev(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=sk(this.serializer,l);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}lt(e,n){return Ev(e).put(function(i,s,o){const[a,c,l]=K5(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:bv(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function Ev(t){return os(t,"documentOverlays")}class Sf{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ri(e.integerValue));else if("doubleValue"in e){const r=ri(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),rv(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ol(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?U6(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):bt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ct.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function nle(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Q5(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=nle(255&r[s]);if(i+=o,8!==o)break}return i}(t);return Math.ceil(e/8)}Sf.St=new Sf;class rle{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=Q5(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=Q5(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ile{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class sle{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Tv{constructor(){this.Wt=new rle,this.Gt=new ile(this.Wt),this.zt=new sle(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Af{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Af(this.indexId,this.documentKey,this.arrayValue,r)}}function Zu(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=J5(t.arrayValue,e.arrayValue),0!==n?n:(n=J5(t.directionalValue,e.directionalValue),0!==n?n:ct.comparator(t.documentKey,e.documentKey)))}function J5(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class eU{constructor(e){this.Jt=new lr((n,r)=>Mr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(At(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=FD(e);if(void 0!==n&&!this.tn(n))return!1;const r=_f(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.nn(a,c)||!this.rn(this.Yt[o++],c))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new lr(Mr.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new vf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new vf(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new vf(r.field,"asc"===r.dir?0:1)));return new hm(hm.UNKNOWN_ID,this.collectionId,n,pm.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function tU(t){var e,n;if(At(t instanceof Pn||t instanceof rr),t instanceof Pn){if(t instanceof Q6){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>Pn.create(t.field,"==",s)))||[];return rr.create(i,"or")}return t}const r=t.filters.map(i=>tU(i));return rr.create(r,t.op)}function ole(t){if(0===t.getFilters().length)return[];const e=ck(tU(t));return At(nU(e)),ok(e)||ak(e)?[e]:e.getFilters()}function ok(t){return t instanceof Pn}function ak(t){return t instanceof rr&&HD(t)}function nU(t){return ok(t)||ak(t)||function(n){if(n instanceof rr&&jD(n)){for(const r of n.getFilters())if(!ok(r)&&!ak(r))return!1;return!0}return!1}(t)}function ck(t){if(At(t instanceof Pn||t instanceof rr),t instanceof Pn)return t;if(1===t.filters.length)return ck(t.filters[0]);const e=t.filters.map(r=>ck(r));let n=rr.create(e,t.op);return n=Lw(n),nU(n)?n:(At(n instanceof rr),At(_m(n)),At(n.filters.length>1),n.filters.reduce((r,i)=>lk(r,i)))}function lk(t,e){let n;return At(t instanceof Pn||t instanceof rr),At(e instanceof Pn||e instanceof rr),n=t instanceof Pn?e instanceof Pn?rr.create([t,e],"and"):rU(t,e):e instanceof Pn?rU(e,t):function(i,s){if(At(i.filters.length>0&&s.filters.length>0),_m(i)&&_m(s))return Z6(i,s.getFilters());const o=jD(i)?i:s,a=jD(i)?s:i,c=o.filters.map(l=>lk(l,a));return rr.create(c,"or")}(t,e),Lw(n)}function rU(t,e){if(_m(e))return Z6(e,t.getFilters());{const n=e.filters.map(r=>lk(t,r));return rr.create(n,"or")}}function Lw(t){if(At(t instanceof Pn||t instanceof rr),t instanceof Pn)return t;const e=t.getFilters();if(1===e.length)return Lw(e[0]);if(q6(t))return t;const n=e.map(i=>Lw(i)),r=[];return n.forEach(i=>{i instanceof Pn?r.push(i):i instanceof rr&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:rr.create(r,t.op)}class ale{constructor(){this.on=new uk}addToCollectionParentIndex(e,n){return this.on.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Wo.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Wo.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class uk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lr(Bn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(Bn.comparator)).toArray()}}const Vw=new Uint8Array(0);class cle{constructor(e,n){this.user=e,this.databaseId=n,this._n=new uk,this.an=new Ll(r=>bf(r),(r,i)=>lv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Rs(i)};return iU(e).put(s)}return ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[x6(n),""],!1,!0);return iU(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Lc(o.parent))}return r})}addFieldIndex(e,n){const r=Iv(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const s=r.add(i);if(n.indexState){const o=Am(e);return s.next(a=>{o.put(Z5(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Iv(e),i=Am(e),s=Sm(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Iv(e),r=Sm(e),i=Am(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return ie.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new eU(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Sm(e);let i=!0;const s=new Map;return ie.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=sn();const a=[];return ie.forEach(s,(c,l)=>{var w;ze("IndexedDbIndexManager",`Using index ${w=c,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(M=>`${M.fieldPath}:${M.kind}`).join(",")}`} to execute ${bf(n)}`);const u=function(w,M){const z=FD(M);if(void 0===z)return null;for(const B of Aw(w,z.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null}(l,c),d=function(w,M){const z=new Map;for(const B of _f(M))for(const R of Aw(w,B.fieldPath))switch(R.op){case"==":case"in":z.set(B.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return z.set(B.fieldPath.canonicalString(),R.value),Array.from(z.values())}return null}(l,c),p=function(w,M){const z=[];let B=!0;for(const R of _f(M)){const Q=0===R.kind?J6(w,R.fieldPath,w.startAt):e5(w,R.fieldPath,w.startAt);z.push(Q.value),B&&(B=Q.inclusive)}return new qu(z,B)}(l,c),m=function(w,M){const z=[];let B=!0;for(const R of _f(M)){const Q=0===R.kind?e5(w,R.fieldPath,w.endAt):J6(w,R.fieldPath,w.endAt);z.push(Q.value),B&&(B=Q.inclusive)}return new qu(z,B)}(l,c),y=this.ln(c,l,p),_=this.ln(c,l,m),x=this.hn(c,l,d),E=this.Pn(c.indexId,u,y,p.inclusive,_,m.inclusive,x);return ie.forEach(E,b=>r.j(b,n.limit).next(w=>{w.forEach(M=>{const z=ct.fromSegments(M.documentKey);o.has(z)||(o=o.add(z),a.push(z))})}))}).next(()=>a)}return ie.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:ole(rr.create(e.filters,"and")).map(r=>$D(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const c=(null!=n?n.length:1)*Math.max(r.length,s.length),l=c/(null!=n?n.length:1),u=[];for(let d=0;d<c;++d){const p=n?this.In(n[d/l]):Vw,m=this.Tn(e,p,r[d%l],i),y=this.En(e,p,s[d%l],o),_=a.map(x=>this.Tn(e,p,x,!0));u.push(...this.createRange(m,y,_))}return u}Tn(e,n,r,i){const s=new Af(e,ct.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new Af(e,ct.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new eU(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return ie.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(c){let l=new lr(Mr.comparator),u=!1;for(const d of c.filters)for(const p of d.getFlattenedFilters())p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?u=!0:l=l.add(p.field));for(const d of c.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}dn(e,n){const r=new Tv;for(const i of _f(e)){const s=n.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Sf.St.ht(s,o)}return r.Ut()}In(e){const n=new Tv;return Sf.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new Tv;return Sf.St.ht(xf(this.databaseId,n),r.jt(function(s){const o=_f(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(null===r)return[];let i=[];i.push(new Tv);let s=0;for(const o of _f(e)){const a=r[s++];for(const c of i)if(this.Rn(n,o.fieldPath)&&ov(a))i=this.Vn(i,o,a);else{const l=c.jt(o.kind);Sf.St.ht(a,l)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new Tv;c.seed(a.Ut()),Sf.St.ht(o,c.jt(n.kind)),s.push(c)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof Pn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Iv(e),i=Am(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return ie.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(u,d){const p=d?new pm(d.sequenceNumber,new Wo(If(d.readTime),new ct(Lc(d.documentKey)),d.largestBatchId)):pm.empty(),m=u.fields.map(([y,_])=>new vf(Mr.fromServerFormat(y),_));return new hm(u.indexId,u.collectionGroup,m,p)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Yt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Iv(e),s=Am(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ie.forEach(a,c=>s.put(Z5(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return ie.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ie.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ie.forEach(a,c=>this.gn(e,i,c).next(l=>{const u=this.pn(s,c);return l.isEqual(u)?ie.resolve():this.yn(e,s,c,l,u)}))))})}wn(e,n,r,i){return Sm(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return Sm(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=Sm(e);let s=new lr(Zu);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Af(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new lr(Zu);const i=this.dn(n,e);if(null==i)return r;const s=FD(n);if(null!=s){const o=e.data.field(s.fieldPath);if(ov(o))for(const a of o.arrayValue.values||[])r=r.add(new Af(n.indexId,e.key,this.In(a),i))}else r=r.add(new Af(n.indexId,e.key,Vw,i));return r}yn(e,n,r,i,s){ze("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,l,u,d,p){const m=c.getIterator(),y=l.getIterator();let _=mm(m),x=mm(y);for(;_||x;){let E=!1,b=!1;if(_&&x){const w=u(_,x);w<0?b=!0:w>0&&(E=!0)}else null!=_?b=!0:E=!0;E?(d(x),x=mm(y)):b?(p(_),_=mm(m)):(_=mm(m),x=mm(y))}}(i,s,Zu,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),ie.waitFor(o)}fn(e){let n=1;return Am(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Zu(o,a)).filter((o,a,c)=>!a||0!==Zu(o,c[a-1]));const i=[];i.push(e);for(const o of r){const a=Zu(o,e),c=Zu(o,n);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(o),i.push(o.Ht());else if(c>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Vw,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Vw,[]]))}return s}bn(e,n){return Zu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(sU)}getMinOffset(e,n){return ie.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||bt())).next(sU)}}function iU(t){return os(t,"collectionParents")}function Sm(t){return os(t,"indexEntries")}function Iv(t){return os(t,"indexConfiguration")}function Am(t){return os(t,"indexState")}function sU(t){At(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;OD(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wo(e.readTime,e.documentKey,n)}const oU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aU(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},(u,d,p)=>(a++,p.delete()));s.push(c.next(()=>{At(1===a)}));const l=[];for(const u of n.mutations){const d=D6(e,u.key.path,n.batchId);s.push(i.delete(d)),l.push(u.key)}return ie.waitFor(s).next(()=>l)}function Bw(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bt();e=t.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class Uw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){At(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Uw(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yu(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Dm(e),o=Yu(e);return o.add({}).next(a=>{At("number"==typeof a);const c=new ZD(a,n,r,i),l=function(m,y,_){const x=_.baseMutations.map(b=>bv(m.ut,b)),E=_.mutations.map(b=>bv(m.ut,b));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:x,mutations:E}}(this.serializer,this.userId,c),u=[];let d=new lr((p,m)=>Yt(p.canonicalString(),m.canonicalString()));for(const p of i){const m=D6(this.userId,p.key.path,a);d=d.add(p.key.path.popLast()),u.push(o.put(l)),u.push(s.put(m,Yae))}return d.forEach(p=>{u.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),ie.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return Yu(e).get(n).next(r=>r?(At(r.userId===this.userId),Cf(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?ie.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Yu(e).Y({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(At(a.batchId>=r),s=Cf(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yu(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yu(e).W("userMutationsIndex",n).next(r=>r.map(i=>Cf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=xw(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Dm(e).Y({range:i},(o,a,c)=>{const[l,u,d]=o,p=Lc(u);if(l===this.userId&&n.path.isEqual(p))return Yu(e).get(d).next(m=>{if(!m)throw bt();At(m.userId===this.userId),s.push(Cf(this.serializer,m))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lr(Yt);const i=[];return n.forEach(s=>{const o=xw(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Dm(e).Y({range:a},(l,u,d)=>{const[p,m,y]=l,_=Lc(m);p===this.userId&&s.path.isEqual(_)?r=r.add(y):d.done()});i.push(c)}),ie.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=xw(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new lr(Yt);return Dm(e).Y({range:o},(c,l,u)=>{const[d,p,m]=c,y=Lc(p);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(m)):u.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Yu(e).get(s).next(o=>{if(null===o)throw bt();At(o.userId===this.userId),r.push(Cf(this.serializer,o))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return aU(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Dm(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const c=Lc(s[1]);i.push(c)}else a.done()}).next(()=>{At(0===i.length)})})}containsKey(e,n){return cU(e,this.userId,n)}Mn(e){return lU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cU(t,e,n){const r=xw(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Dm(t).Y({range:s,J:!0},(a,c,l)=>{const[u,d,p]=a;u===e&&d===i&&(o=!0),l.done()}).next(()=>o)}function Yu(t){return os(t,"mutations")}function Dm(t){return os(t,"documentMutations")}function lU(t){return os(t,"mutationQueues")}class Df{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Df(0)}static Nn(){return new Df(-1)}}class lle{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Df(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Dt.fromTimestamp(new Hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>km(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return km(e).Y((o,a)=>{const c=wv(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>ie.waitFor(s)).next(()=>i)}forEachTarget(e,n){return km(e).Y((r,i)=>{const s=wv(i);n(s)})}Bn(e){return uU(e).get("targetGlobalKey").next(n=>(At(null!==n),n))}Ln(e,n){return uU(e).put("targetGlobalKey",n)}kn(e,n){return km(e).put(q5(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=bf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return km(e).Y({range:i,index:"queryTargetsIndex"},(o,a,c)=>{const l=wv(a);lv(n,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Xu(e);return n.forEach(o=>{const a=Rs(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=Xu(e);return ie.forEach(n,s=>{const o=Rs(s.path);return ie.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Xu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Xu(e);let s=sn();return i.Y({range:r,J:!0},(o,a,c)=>{const l=Lc(o[1]),u=new ct(l);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=Rs(n.path),i=IDBKeyRange.bound([r],[x6(r)],!1,!0);let s=0;return Xu(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],c,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,n){return km(e).get(n).next(r=>r?wv(r):null)}}function km(t){return os(t,"targets")}function uU(t){return os(t,"targetGlobal")}function Xu(t){return os(t,"targetDocuments")}function dU([t,e],[n,r]){const i=Yt(t,n);return 0===i?Yt(e,r):i}class ule{constructor(e){this.Qn=e,this.buffer=new lr(dU),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Uu(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Bu(r)}yield n.Gn(3e5)}))}}class dle{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ie.resolve(Go._e);const r=new ule(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(oU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oU):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),dm()<=Pc.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}class fle{constructor(e,n){this.db=e,this.garbageCollector=function hU(t,e){return new dle(t,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return jw(e,r)}removeReference(e,n,r){return jw(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return jw(e,n)}Xn(e,n){return function(i,s){let o=!1;return lU(i).Z(a=>cU(i,a,s).next(c=>(c&&(o=!0),ie.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const c=this.Xn(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Dt.min()),Xu(e).delete([0,Rs(o.path)])))});i.push(c)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return jw(e,n)}Zn(e,n){const r=Xu(e);let i,s=Go._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{0===o?(s!==Go._e&&n(new ct(Lc(i)),s),s=l,i=c):s=Go._e}).next(()=>{s!==Go._e&&n(new ct(Lc(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jw(t,e){return Xu(t).put((i=t.currentSequenceNumber,{targetId:0,path:Rs(e.path),sequenceNumber:i}));var i}class pU{constructor(){this.changes=new Ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hle{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return kf(e).put(r)}removeEntry(e,n,r){return kf(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ow(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Pr.newInvalidDocument(n);return kf(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Cv(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:Pr.newInvalidDocument(n)};return kf(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Cv(n))},(i,s)=>{r={document:this.tr(n,s),size:Bw(s)}}).next(()=>r)}getEntries(e,n){let r=Ao();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=Ao(),i=new yr(ct.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Bw(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return ie.resolve();let i=new lr(vU);n.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Cv(i.first()),Cv(i.last())),o=i.getIterator();let a=o.getNext();return kf(e).Y({index:"documentKeyIndex",range:s},(c,l,u)=>{const d=ct.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&vU(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?u.U(Cv(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Ow(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kf(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let u=Ao();for(const d of l){const p=this.tr(ct.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);p.isFoundDocument()&&(dv(n,p)||i.has(p.key))&&(u=u.insert(p.key,p))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Ao();const o=_U(n,r),a=_U(n,Wo.max());return kf(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,u)=>{const d=this.tr(ct.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new ple(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return gU(e).get("remoteDocumentGlobalKey").next(n=>(At(!!n),n))}er(e,n){return gU(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=function ele(t,e){let n;if(e.document)n=B5(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ct.fromSegments(e.noDocument.path),i=If(e.noDocument.readTime);n=Pr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const r=ct.fromSegments(e.unknownDocument.path),i=If(e.unknownDocument.version);n=Pr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Hr(i[0],i[1]);return Dt.fromTimestamp(s)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return Pr.newInvalidDocument(e)}}function mU(t){return new hle(t)}class ple extends pU{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Ll(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new lr((s,o)=>Yt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const c=G5(this._r.serializer,o);i=i.add(s.path.popLast());const l=Bw(c);r+=l-a.size,n.push(this._r.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){const c=G5(this._r.serializer,o.convertToNoDocument(Dt.min()));n.push(this._r.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),ie.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function gU(t){return os(t,"remoteDocumentGlobal")}function kf(t){return os(t,"remoteDocumentsV14")}function Cv(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _U(t,e){const n=e.documentKey.path.toArray();return[t,Ow(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vU(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Yt(n[s],r[s]),i)return i;return i=Yt(n.length,r.length),i||(i=Yt(n[n.length-2],r[r.length-2]),i||Yt(n[n.length-1],r[r.length-1]))}class mle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&mv(r.mutation,i,So.empty(),Hr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=sn()){const i=Bc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fv();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,sn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ao();const o=hv(),a=hv();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Vl)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),mv(u.mutation,l,u.mutation.getFieldMask(),Hr.now())):o.set(l.key,So.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new mle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hv();let i=new yr((o,a)=>o-a),s=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||So.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||sn()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=u5();u.forEach(p=>{if(!s.has(p)){const m=y5(n.get(p),r.get(p));null!==m&&d.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ct.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):WD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ie.resolve(Bc());let a=-1,c=s;return o.next(l=>ie.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?ie.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{c=c.insert(u,p)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,sn())).next(u=>({batchId:a,changes:l5(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ct(n)).next(r=>{let i=fv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=fv();return this.indexManager.getCollectionParents(e,s).next(a=>ie.forEach(a,c=>{const l=(d=n,p=c.child(s),new Nl(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,p;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Pr.newInvalidDocument(u)))});let a=fv();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&mv(u.mutation,l,So.empty(),Hr.now()),dv(n,l)&&(a=a.insert(c,l))}),a})}}class gle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ie.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:bi(i.createTime)}),ie.resolve();var i}getNamedQuery(e,n){return ie.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:ik(i.bundledQuery),readTime:bi(i.readTime)}),ie.resolve();var i}}class _le{constructor(){this.overlays=new yr(ct.comparator),this.lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bc();return ie.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Bc(),s=n.length+1,o=new ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yr((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Bc(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Bc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return ie.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XD(n,r));let s=this.lr.get(n);void 0===s&&(s=sn(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class dk{constructor(){this.hr=new lr(as.Pr),this.Ir=new lr(as.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new as(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new as(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ct(new Bn([])),r=new as(n,e),i=new as(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ct(new Bn([])),r=new as(n,e),i=new as(n,e+1);let s=sn();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new as(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class as{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ct.comparator(e.key,n.key)||Yt(e.gr,n.gr)}static Tr(e,n){return Yt(e.gr,n.gr)||ct.comparator(e.key,n.key)}}class vle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new lr(as.Pr)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new ZD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new as(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,n){return ie.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new as(n,0),i=new as(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lr(Yt);return n.forEach(i=>{const s=new as(i,0),o=new as(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),ie.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const o=new as(new ct(s),0);let a=new lr(Yt);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),ie.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){At(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return ie.forEach(n.mutations,i=>{const s=new as(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new as(n,0),i=this.yr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yle{constructor(e){this.Cr=e,this.docs=new yr(ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Pr.newInvalidDocument(n))}getEntries(e,n){let r=Ao();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ao();const o=n.path,a=new ct(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||OD(w6(u),r)<=0||(i.has(u.key)||dv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){bt()}vr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xle(this)}getSize(e){return ie.resolve(this.size)}}class xle extends pU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class ble{constructor(e){this.persistence=e,this.Fr=new Ll(n=>bf(n),lv),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new dk,this.targetCount=0,this.Nr=Df.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),ie.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Df(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.kn(n),ie.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Or.containsKey(n))}}class fk{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Go(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new ble(this),this.indexManager=new ale,this.remoteDocumentCache=new yle(r=>this.referenceDelegate.Qr(r)),this.serializer=new W5(n),this.Kr=new gle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _le,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new vle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ze("MemoryPersistence","Starting transaction:",e);const i=new wle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class wle extends T6{constructor(e){super(),this.currentSequenceNumber=e}}class Hw{constructor(e){this.persistence=e,this.Gr=new dk,this.zr=null}static jr(e){return new Hw(e)}get Hr(){if(this.zr)return this.zr;throw bt()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Hr,r=>{const i=ct.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Dt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ie.or([()=>ie.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Ele{constructor(e){this.serializer=e}N(e,n,r,i){const s=new yw("createOrUpgrade",n);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A6,{unique:!0}),c.createObjectStore("documentMutations"),xU(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),xU(e)),o=o.next(()=>function(c){const l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A6,{unique:!0});const d=l.store("mutations"),p=u.map(m=>d.put(m));return ie.waitFor(p)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:cce});l.createIndex("collectionPathOverlayIndex",lce,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",uce,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:Xae});l.createIndex("documentKeyIndex",Qae),l.createIndex("collectionGroupIndex",Jae)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:ice}).createIndex("sequenceNumberIndex",sce,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:oce}).createIndex("documentKeyIndex",ace,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Bw(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ie.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>ie.forEach(a,c=>{At(c.userId===s.userId);const l=Cf(this.serializer,c);return aU(e,s.userId,l).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const c=new Bn(o),l=[0,Rs(c)];s.push(n.get(l).next(u=>u?ie.resolve():n.put({targetId:0,path:Rs(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:rce});const r=n.store("collectionParents"),i=new uk,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Rs(c)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const c=new Bn(o);return s(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,c],l)=>{const u=Lc(a);return s(u.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=wv(i),o=q5(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),c=(d=o,d.document?new ct(Bn.fromString(d.document.name).popFirst(5)):d.noDocument?ct.fromSegments(d.noDocument.path):d.unknownDocument?ct.fromSegments(d.unknownDocument.path):bt()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var d;i.push(a.put(l))}).next(()=>ie.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=mU(this.serializer),s=new fk(Hw.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:sn();Cf(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),ie.forEach(a,(c,l)=>{const u=new ss(l),d=Nw.ct(this.serializer,u),p=s.getIndexManager(u),m=Uw.ct(u,this.serializer,p,s.referenceDelegate);return new yU(i,m,d,p).recalculateAndSaveOverlaysForDocumentKeys(new VD(n,Go._e),c).next()})})}}function xU(t){t.createObjectStore("targetDocuments",{keyPath:tce}).createIndex("documentTargetsIndex",nce,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ece,{unique:!0}),t.createObjectStore("targetGlobal")}const hk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pk{constructor(e,n,r,i,s,o,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=l,this._i=u,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=p=>Promise.resolve(),!pk.D())throw new Ve(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fle(this,i),this.Ii=n+"main",this.serializer=new W5(c),this.Ti=new rc(this.Ii,this.ai,new Ele(this.serializer)),this.qr=new lle(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mU(this.serializer),this.Kr=new tle,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&xi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(ge.FAILED_PRECONDITION,hk);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Go(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var r=(0,Ce.Z)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ce.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$w(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Uu(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Sv(e).get("owner").next(n=>ie.resolve(this.wi(n)))}Si(e){return $w(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=os(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(c=>-1===o.indexOf(c));return ie.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of n)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?ie.resolve(!0):Sv(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Ve(ge.FAILED_PRECONDITION,hk);return!1}}return!(!this.networkEnabled||!this.inForeground)||$w(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ze("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new VD(n,Go._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>$w(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Uw.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cle(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Nw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",s=15===(c=this.ai)?fce:14===c?M6:13===c?R6:12===c?dce:11===c?k6:void bt();var c;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new VD(a,this.Lr?this.Lr.next():Go._e),"readwrite-primary"===n?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw xi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Ve(ge.FAILED_PRECONDITION,E6);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Sv(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ve(ge.FAILED_PRECONDITION,hk)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sv(e).put("owner",n)}static D(){return rc.D()}pi(e){const n=Sv(e);return n.get("owner").next(r=>this.wi(r)?(ze("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ie.resolve())}Di(e,n){const r=Date.now();return!(e<r-n||e>r&&(xi(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,cr.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){xi("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sv(t){return os(t,"owner")}function $w(t){return os(t,"clientMetadata")}function mk(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class gk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=sn(),i=sn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gk(e,n.fromCache,r,i)}}class Tle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Tle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(dm()<=Pc.in.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",xm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ie.resolve()):(dm()<=Pc.in.DEBUG&&ze("QueryEngine","Query:",xm(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(dm()<=Pc.in.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",xm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(n))):ie.resolve())}zi(e,n){if(n5(n))return ie.resolve(null);let r=co(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Dw(n,null,"F"),r=co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=sn(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Dw(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return n5(n)||i.isEqual(Dt.min())?ie.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?ie.resolve(null):(dm()<=Pc.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xm(n)),this.Xi(e,o,n,b6(i,-1)).next(a=>a))})}Yi(e,n){let r=new lr(a5(e));return n.forEach((i,s)=>{dv(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return dm()<=Pc.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",xm(n)),this.Gi.getDocumentsMatchingQuery(e,n,Wo.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ile{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new yr(Yt),this.ns=new Ll(s=>bf(s),lv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function wU(t,e,n,r){return new Ile(t,e,n,r)}function EU(t,e){return _k.apply(this,arguments)}function _k(){return _k=(0,Ce.Z)(function*(t,e){const n=at(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=sn();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),_k.apply(this,arguments)}function TU(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function IU(t,e,n){let r=sn(),i=sn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ao();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Dt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}function Ale(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rm(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Bl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Mm(t,e,n){return vk.apply(this,arguments)}function vk(){return vk=(0,Ce.Z)(function*(t,e,n){const r=at(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Uu(o))throw o;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),vk.apply(this,arguments)}function Ww(t,e,n){const r=at(t);let i=Dt.min(),s=sn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=at(c),p=d.ns.get(u);return void 0!==p?ie.resolve(d.ts.get(p)):d.qr.getTargetData(l,u)}(r,o,co(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Dt.min(),n?s:sn())).next(a=>(AU(r,o5(e),a),{documents:a,ls:s})))}function CU(t,e){const n=at(t),r=at(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function SU(t,e){const n=at(t),r=n.rs.get(e)||Dt.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,b6(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AU(n,e,i),i))}function AU(t,e,n){let r=t.rs.get(e)||Dt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function yk(){return yk=(0,Ce.Z)(function*(t,e,n,r){const i=at(t);let s=sn(),o=Ao();for(const l of n){const u=e.hs(l.metadata.name);l.document&&(s=s.add(u));const d=e.Ps(l);d.setReadTime(e.Is(l.metadata.readTime)),o=o.insert(u,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield Rm(i,(u=r,co(vm(Bn.fromString(`__bundle__/docs/${u}`)))));var u;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>IU(l,a,o).next(u=>(a.apply(l),u)).next(u=>i.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.qr.addMatchingKeys(l,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,u.us,u.cs)).next(()=>u.us)))}),yk.apply(this,arguments)}function kle(t,e){return xk.apply(this,arguments)}function xk(){return xk=(0,Ce.Z)(function*(t,e,n=sn()){const r=yield Rm(t,co(ik(e.bundledQuery))),i=at(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=bi(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(qi.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),xk.apply(this,arguments)}function DU(t,e){return`firestore_clients_${t}_${e}`}function kU(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function bk(t,e){return`firestore_targets_${t}_${e}`}class Gw{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Ve(i.error.code,i.error.message))),o?new Gw(e,n,i.state,s):(xi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Av{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ve(r.error.code,r.error.message))),s?new Av(e,r.state,i):(xi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qw{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=qD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=C6(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new qw(e,s):(xi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class wk{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new wk(n.clientId,n.onlineState):(xi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ek{constructor(){this.activeTargetIds=qD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tk{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new yr(Yt),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=DU(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Ek),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Rs)continue;const s=e.getItem(DU(e.persistenceKey,i));if(s){const o=qw.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(bk(this.persistenceKey,e));if(r){const i=Av.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bk(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ze("SharedClientState","READ",e,n),n}setItem(e,n){ze("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void xi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ce.Z)(function*(){if(n.started){if(null!==r.key)if(n.Ss.test(r.key)){if(null==r.newValue){const i=n.Ks(r.key);return n.$s(i,null)}{const i=n.Us(r.key,r.newValue);if(i)return n.$s(i.clientId,i)}}else if(n.bs.test(r.key)){if(null!==r.newValue){const i=n.Ws(r.key,r.newValue);if(i)return n.Gs(i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.zs(r.key,r.newValue);if(i)return n.js(i)}}else if(r.key===n.Cs){if(null!==r.newValue){const i=n.Ms(r.newValue);if(i)return n.xs(i)}}else if(r.key===n.ws){const i=function(o){let a=Go._e;if(null!=o)try{const c=JSON.parse(o);At("number"==typeof c),a=c}catch(c){xi("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==Go._e&&n.sequenceNumberHandler(i)}else if(r.key===n.vs){const i=n.Hs(r.newValue);yield Promise.all(i.map(s=>n.syncEngine.Js(s)))}}else n.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){const i=new Gw(this.currentUser,e,n,r),s=kU(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const n=kU(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,r){const i=bk(this.persistenceKey,e),s=new Av(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return qw.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]);return Gw.Ts(new ss(void 0!==r[2]?r[2]:null),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return Av.Ts(i,n)}Ms(e){return wk.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,Ce.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=qD();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class RU{constructor(){this.eo=new Ek,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ek,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rle{ro(e){}shutdown(){}}class MU{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kw=null;function Ik(){return null===Kw?Kw=268435456+Math.round(2147483648*Math.random()):Kw++,"0x"+Kw.toString(16)}const Mle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ple{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ps="WebChannelConnection";class Fle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Ik(),c=this.So(n,r);ze("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ze("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Co("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+um,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Mle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Ik();return new Promise((o,a)=>{const c=new Rae;c.setWithCredentials(!0),c.listenOnce(Dae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case MD.NO_ERROR:const u=c.getResponseJson();ze(Ps,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case MD.TIMEOUT:ze(Ps,`RPC '${e}' ${s} timed out`),a(new Ve(ge.DEADLINE_EXCEEDED,"Request time out"));break;case MD.HTTP_ERROR:const d=c.getStatus();if(ze(Ps,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const y=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(E)>=0?E:ge.UNKNOWN}(m.status);a(new Ve(y,m.message))}else a(new Ve(ge.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ve(ge.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ze(Ps,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ze(Ps,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=Ik(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sae(),a=Aae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ze(Ps,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let p=!1,m=!1;const y=new Ple({co:x=>{m?ze(Ps,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(ze(Ps,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ze(Ps,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},lo:()=>d.close()}),_=(x,E,b)=>{x.listen(E,w=>{try{b(w)}catch(M){setTimeout(()=>{throw M},0)}})};return _(d,vw.EventType.OPEN,()=>{m||ze(Ps,`RPC '${e}' stream ${i} transport opened.`)}),_(d,vw.EventType.CLOSE,()=>{m||(m=!0,ze(Ps,`RPC '${e}' stream ${i} transport closed`),y.Ro())}),_(d,vw.EventType.ERROR,x=>{m||(m=!0,Co(Ps,`RPC '${e}' stream ${i} transport errored:`,x),y.Ro(new Ve(ge.UNAVAILABLE,"The operation could not be completed")))}),_(d,vw.EventType.MESSAGE,x=>{var E;if(!m){const b=x.data[0];At(!!b);const M=b.error||(null===(E=b[0])||void 0===E?void 0:E.error);if(M){ze(Ps,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let B=function(J){const ce=Ai[J];if(void 0!==ce)return I5(ce)}(z),R=M.message;void 0===B&&(B=ge.INTERNAL,R="Unknown error status: "+z+" with message "+M.message),m=!0,y.Ro(new Ve(B,R)),d.close()}else ze(Ps,`RPC '${e}' stream ${i} received:`,b),y.Vo(b)}}),_(a,kae.STAT_EVENT,x=>{x.stat===m6.PROXY?ze(Ps,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===m6.NOPROXY&&ze(Ps,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function PU(){return typeof window<"u"?window:null}function Zw(){return typeof document<"u"?document:null}function Dv(t){return new $ce(t,!0)}class Ck{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class FU{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ck(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return(0,Ce.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Ve(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Ce.Z)(function*(){e.state=0,e.start()}))}o_(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ole extends FU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function qce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:bt(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(At(void 0===u||"string"==typeof u),qi.fromBase64String(u||"")):(At(void 0===u||u instanceof Uint8Array),qi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?ge.UNKNOWN:I5(l.code);return new Ve(u,l.message||"")}(o);n=new k5(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Uc(t,r.document.name),s=bi(r.document.updateTime),o=r.document.createTime?bi(r.document.createTime):Dt.min(),a=new xs({mapValue:{fields:r.document.fields}}),c=Pr.newFoundDocument(i,s,o,a);n=new Fw(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Uc(t,r.document),s=r.readTime?bi(r.readTime):Dt.min(),o=Pr.newNoDocument(i,s);n=new Fw([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Uc(t,r.document);n=new Fw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return bt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Vce(i,s);n=new D5(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Dt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Dt.min():o.readTime?bi(o.readTime):Dt.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=xv(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Sw(c)?{documents:U5(s,c)}:{query:rk(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=F5(s,o.resumeToken);const l=JD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Dt.min())>0){a.readTime=Im(s,o.snapshotVersion.toTimestamp());const l=JD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Zce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=xv(this.serializer),n.removeTarget=e,this.e_(n)}}class Nle extends FU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Kce(t,e){return t&&t.length>0?(At(void 0!==e),t.map(n=>function(i,s){let o=bi(i.updateTime?i.updateTime:s);return o.isEqual(Dt.min())&&(o=bi(s)),new Fce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.I_(r,n)}return At(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=xv(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bv(this.serializer,r))};this.e_(n)}}class Lle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Ve(ge.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(ge.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(ge.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Ble{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(xi(n),this.f_=!1):ze("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Ule{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,Ce.Z)(function*(){var c;Qu(o)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,Ce.Z)(function*(u){const d=at(u);d.C_.add(4),yield Pm(d),d.M_.set("Unknown"),d.C_.delete(4),yield kv(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Ble(r,i)}}function kv(t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Ce.Z)(function*(t){if(Qu(t))for(const e of t.v_)yield e(!0)}),Ak.apply(this,arguments)}function Pm(t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Ce.Z)(function*(t){for(const e of t.v_)yield e(!1)}),Dk.apply(this,arguments)}function Yw(t,e){const n=at(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Mk(n)?Rk(n):Om(n).Ho()&&kk(n,e))}function Rv(t,e){const n=at(t),r=Om(n);n.D_.delete(e),r.Ho()&&OU(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Qu(n)&&n.M_.set("Unknown"))}function kk(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Om(t).u_(e)}function OU(t,e){t.x_.Oe(e),Om(t).c_(e)}function Rk(t){t.x_=new Uce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Om(t).start(),t.M_.g_()}function Mk(t){return Qu(t)&&!Om(t).jo()&&t.D_.size>0}function Qu(t){return 0===at(t).C_.size}function NU(t){t.x_=void 0}function jle(t){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Ce.Z)(function*(t){t.D_.forEach((e,n)=>{kk(t,e)})}),Pk.apply(this,arguments)}function Hle(t,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Ce.Z)(function*(t,e){NU(t),Mk(t)?(t.M_.w_(e),Rk(t)):t.M_.set("Unknown")}),Fk.apply(this,arguments)}function zle(t,e,n){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Ce.Z)(function*(t,e,n){if(t.M_.set("Online"),e instanceof k5&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Xw(t,r)}else if(e instanceof Fw?t.x_.$e(e):e instanceof D5?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Dt.min()))try{const r=yield TU(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(qi.EMPTY_BYTE_STRING,u.snapshotVersion)),OU(s,c);const d=new Bl(u.target,c,l,u.sequenceNumber);kk(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield Xw(t,r)}var r}),Ok.apply(this,arguments)}function Xw(t,e,n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Ce.Z)(function*(t,e,n){if(!Uu(e))throw e;t.C_.add(1),yield Pm(t),t.M_.set("Offline"),n||(n=()=>TU(t.localStore)),t.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield kv(t)}))}),Nk.apply(this,arguments)}function LU(t,e){return e().catch(n=>Xw(t,n,e))}function Fm(t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,Ce.Z)(function*(t){const e=at(t),n=Ju(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;$le(e);)try{const i=yield Ale(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Wle(e,i)}catch(i){yield Xw(e,i)}VU(e)&&BU(e)}),Lk.apply(this,arguments)}function $le(t){return Qu(t)&&t.b_.length<10}function Wle(t,e){t.b_.push(e);const n=Ju(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function VU(t){return Qu(t)&&!Ju(t).jo()&&t.b_.length>0}function BU(t){Ju(t).start()}function Gle(t){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Ce.Z)(function*(t){Ju(t).E_()}),Vk.apply(this,arguments)}function qle(t){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Ce.Z)(function*(t){const e=Ju(t);for(const n of t.b_)e.P_(n.mutations)}),Bk.apply(this,arguments)}function Kle(t,e,n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Ce.Z)(function*(t,e,n){const r=t.b_.shift(),i=YD.from(r,e,n);yield LU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fm(t)}),Uk.apply(this,arguments)}function Zle(t,e){return jk.apply(this,arguments)}function jk(){return jk=(0,Ce.Z)(function*(t,e){var n;e&&Ju(t).h_&&(yield(n=(0,Ce.Z)(function*(i,s){if(T5(a=s.code)&&a!==ge.ABORTED){const o=i.b_.shift();Ju(i).Yo(),yield LU(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Fm(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),VU(t)&&BU(t)}),jk.apply(this,arguments)}function UU(t,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Ce.Z)(function*(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Qu(n);n.C_.add(3),yield Pm(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield kv(n)}),Hk.apply(this,arguments)}function zk(t,e){return $k.apply(this,arguments)}function $k(){return $k=(0,Ce.Z)(function*(t,e){const n=at(t);e?(n.C_.delete(2),yield kv(n)):e||(n.C_.add(2),yield Pm(n),n.M_.set("Unknown"))}),$k.apply(this,arguments)}function Om(t){return t.O_||(t.O_=function(n,r,i){const s=at(n);return s.A_(),new Ole(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:jle.bind(null,t),Io:Hle.bind(null,t),a_:zle.bind(null,t)}),t.v_.push(function(){var e=(0,Ce.Z)(function*(n){n?(t.O_.Yo(),Mk(t)?Rk(t):t.M_.set("Unknown")):(yield t.O_.stop(),NU(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Ju(t){return t.N_||(t.N_=function(n,r,i){const s=at(n);return s.A_(),new Nle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Gle.bind(null,t),Io:Zle.bind(null,t),T_:qle.bind(null,t),I_:Kle.bind(null,t)}),t.v_.push(function(){var e=(0,Ce.Z)(function*(n){n?(t.N_.Yo(),yield Fm(t)):(yield t.N_.stop(),t.b_.length>0&&(ze("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class Wk{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Wk(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Uu(t))return new Ve(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class Lm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=fv(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new Lm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Lm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class jU{constructor(){this.B_=new yr(ct.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):bt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vm{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vm(e,n,Lm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yle{constructor(){this.k_=void 0,this.listeners=[]}}class Xle{constructor(){this.queries=new Ll(e=>s5(e),uv),this.onlineState="Unknown",this.q_=new Set}}function Gk(t,e){return qk.apply(this,arguments)}function qk(){return qk=(0,Ce.Z)(function*(t,e){const n=at(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Yle),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Nm(o,`Initialization of query '${xm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Yk(n)}),qk.apply(this,arguments)}function Kk(t,e){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,Ce.Z)(function*(t,e){const n=at(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Zk.apply(this,arguments)}function Qle(t,e){const n=at(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Yk(n)}function Jle(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Yk(t){t.q_.forEach(e=>{e.next()})}class Xk{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Vm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class eue{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class HU{constructor(e){this.serializer=e}hs(e){return Uc(this.serializer,e)}Ps(e){return e.metadata.exists?B5(this.serializer,e.document,!1):Pr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return bi(e)}}class tue{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zU(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const r=Bn.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,r=new HU(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||sn()).add(s);n.set(o,a)}}return n}complete(){var e=this;return(0,Ce.Z)(function*(){const n=yield function Dle(t,e,n,r){return yk.apply(this,arguments)}(e.localStore,new HU(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield kle(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function zU(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class $U{constructor(e){this.key=e}}class WU{constructor(e){this.key=e}}class GU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=sn(),this.mutatedKeys=sn(),this._a=a5(e),this.aa=new Lm(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new jU,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const p=i.get(u),m=dv(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),x=!0):this.ha(p,m)||(r.track({type:2,doc:m}),x=!0,(c&&this._a(m,c)>0||l&&this._a(m,l)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(c||l)&&(a=!0)),x&&(m?(o=o.add(m),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,d)=>function(m,y){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return _(m)-_(y)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=n&&!i?this.Ia():[],c=0===this.oa.size&&this.current&&!i?1:0,l=c!==this.sa;return this.sa=c,0!==o.length||l?{snapshot:new Vm(this.query,e.aa,s,o,e.mutatedKeys,0===c,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new jU,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=sn(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new WU(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new $U(r))}),n}da(e){this.ia=e.ls,this.oa=sn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Vm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class nue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rue{constructor(e){this.key=e,this.Ra=!1}}class iue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ll(a=>s5(a),uv),this.fa=new Map,this.ga=new Set,this.pa=new yr(ct.comparator),this.ya=new Map,this.wa=new dk,this.Sa={},this.ba=new Map,this.Da=Df.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function sue(t,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,Ce.Z)(function*(t,e){const n=bR(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Rm(n.localStore,co(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Jk(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Yw(n.remoteStore,o)}return i}),Qk.apply(this,arguments)}function Jk(t,e,n,r,i){return eR.apply(this,arguments)}function eR(){return eR=(0,Ce.Z)(function*(t,e,n,r,i){t.va=(d,p,m)=>{return(y=(0,Ce.Z)(function*(x,E,b,w){let M=E.view.ca(b);M.Zi&&(M=yield Ww(x.localStore,E.query,!1).then(({documents:Q})=>E.view.ca(Q,M)));const z=w&&w.targetChanges.get(E.targetId),B=w&&null!=w.targetMismatches.get(E.targetId),R=E.view.applyChanges(M,x.isPrimaryClient,z,B);return uR(x,E.targetId,R.Ta),R.snapshot}),function _(x,E,b,w){return y.apply(this,arguments)})(t,d,p,m);var y};const s=yield Ww(t.localStore,e,!0),o=new GU(e,s.ls),a=o.ca(s.documents),c=vv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);uR(t,n,l.Ta);const u=new nue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),eR.apply(this,arguments)}function oue(t,e){return tR.apply(this,arguments)}function tR(){return tR=(0,Ce.Z)(function*(t,e){const n=at(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!uv(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Rv(n.remoteStore,r.targetId),Bm(n,r.targetId)}).catch(Bu))):(Bm(n,r.targetId),yield Mm(n.localStore,r.targetId,!0))}),tR.apply(this,arguments)}function nR(){return nR=(0,Ce.Z)(function*(t,e,n){const r=wR(t);try{const i=yield function(o,a){const c=at(o),l=Hr.now(),u=a.reduce((m,y)=>m.add(y.key),sn());let d,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Ao(),_=sn();return c.ss.getEntries(m,u).next(x=>{y=x,y.forEach((E,b)=>{b.isValidDocument()||(_=_.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(x=>{d=x;const E=[];for(const b of a){const w=Nce(b,d.get(b.key).overlayedDocument);null!=w&&E.push(new Vl(b.key,w,z6(w.value.mapValue),zr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,E,a)}).next(x=>{p=x;const E=x.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(m,x.batchId,E)})}).then(()=>({batchId:p.batchId,changes:l5(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new yr(Yt)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ul(r,i.changes),yield Fm(r.remoteStore)}catch(i){const s=Nm(i,"Failed to persist write");n.reject(s)}}),nR.apply(this,arguments)}function qU(t,e){return rR.apply(this,arguments)}function rR(){return rR=(0,Ce.Z)(function*(t,e){const n=at(t);try{const r=yield function Sle(t,e){const n=at(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const p=i.get(d);if(!p)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let m=p.withSequenceNumber(s.currentSequenceNumber);var _,x,E;null!==e.targetMismatches.get(d)?m=m.withResumeToken(qi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(d,m),x=m,E=u,(0===(_=p).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,m))});let c=Ao(),l=sn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(IU(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Dt.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ie.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?At(o.Ra):i.removedDocuments.size>0&&(At(o.Ra),o.Ra=!1))}),yield Ul(n,r,e)}catch(r){yield Bu(r)}}),rR.apply(this,arguments)}function KU(t,e,n){const r=at(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=at(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const p of d.listeners)p.Q_(a)&&(l=!0)}),l&&Yk(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cue(t,e,n){return iR.apply(this,arguments)}function iR(){return iR=(0,Ce.Z)(function*(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new yr(ct.comparator);o=o.insert(s,Pr.newNoDocument(s,Dt.min()));const a=sn().add(s),c=new _v(Dt.min(),new Map,new yr(Yt),o,a);yield qU(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),dR(r)}else yield Mm(r.localStore,e,!1).then(()=>Bm(r,e,n)).catch(Bu)}),iR.apply(this,arguments)}function lue(t,e){return sR.apply(this,arguments)}function sR(){return sR=(0,Ce.Z)(function*(t,e){const n=at(t),r=e.batch.batchId;try{const i=yield function Cle(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,p=d.keys();let m=ie.resolve();return p.forEach(y=>{m=m.next(()=>u.getEntry(c,y)).next(_=>{const x=l.docVersions.get(y);At(null!==x),_.version.compareTo(x)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=sn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);lR(n,r,null),cR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ul(n,i)}catch(i){yield Bu(i)}}),sR.apply(this,arguments)}function uue(t,e,n){return oR.apply(this,arguments)}function oR(){return oR=(0,Ce.Z)(function*(t,e,n){const r=at(t);try{const i=yield function(o,a){const c=at(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(At(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);lR(r,e,n),cR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ul(r,i)}catch(i){yield Bu(i)}}),oR.apply(this,arguments)}function aR(){return aR=(0,Ce.Z)(function*(t,e){const n=at(t);Qu(n.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=at(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(-1===r)return void e.resolve();const i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){const i=Nm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),aR.apply(this,arguments)}function cR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function lR(t,e,n){const r=at(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||ZU(t,r)})}function ZU(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Rv(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),dR(t))}function uR(t,e,n){for(const r of n)r instanceof $U?(t.wa.addReference(r.key,e),fue(t,r)):r instanceof WU?(ze("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||ZU(t,r.key)):bt()}function fue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ze("SyncEngine","New document in limbo: "+n),t.ga.add(r),dR(t))}function dR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ct(Bn.fromString(e)),r=t.Da.next();t.ya.set(r,new rue(n)),t.pa=t.pa.insert(n,r),Yw(t.remoteStore,new Bl(co(vm(n.path)),r,"TargetPurposeLimboResolution",Go._e))}}function Ul(t,e,n){return fR.apply(this,arguments)}function fR(){return fR=(0,Ce.Z)(function*(t,e,n){const r=at(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=gk.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,Ce.Z)(function*(l,u){const d=at(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ie.forEach(u,m=>ie.forEach(m.ki,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>ie.forEach(m.qi,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Uu(p))throw p;ze("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=d.ts.get(m),x=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);d.ts=d.ts.insert(m,x)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),fR.apply(this,arguments)}function hue(t,e){return hR.apply(this,arguments)}function hR(){return hR=(0,Ce.Z)(function*(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield EU(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new Ve(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ul(n,r._s)}var s}),hR.apply(this,arguments)}function pue(t,e){const n=at(t),r=n.ya.get(e);if(r&&r.Ra)return sn().add(r.key);{let i=sn();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function mue(t,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Ce.Z)(function*(t,e){const n=at(t),r=yield Ww(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&uR(n,e.targetId,i.Ta),i}),pR.apply(this,arguments)}function gue(t,e){return mR.apply(this,arguments)}function mR(){return mR=(0,Ce.Z)(function*(t,e){const n=at(t);return SU(n.localStore,e).then(r=>Ul(n,r))}),mR.apply(this,arguments)}function _ue(t,e,n,r){return gR.apply(this,arguments)}function gR(){return gR=(0,Ce.Z)(function*(t,e,n,r){const i=at(t),s=yield function(a,c){const l=at(a),u=at(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Cn(d,c).next(p=>p?l.localDocuments.getDocuments(d,p):ie.resolve(null)))}(i.localStore,e);var c;null!==s?("pending"===n?yield Fm(i.remoteStore):"acknowledged"===n||"rejected"===n?(lR(i,e,r||null),cR(i,e),c=e,at(at(i.localStore).mutationQueue).Fn(c)):bt(),yield Ul(i,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),gR.apply(this,arguments)}function _R(){return _R=(0,Ce.Z)(function*(t,e){const n=at(t);if(bR(n),wR(n),!0===e&&!0!==n.Ca){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield YU(n,r.toArray());n.Ca=!0,yield zk(n.remoteStore,!0);for(const s of i)Yw(n.remoteStore,s)}else if(!1===e&&!1!==n.Ca){const r=[];let i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Bm(n,o),Mm(n.localStore,o,!0))),Rv(n.remoteStore,o)}),yield i,yield YU(n,r),function(o){const a=at(o);a.ya.forEach((c,l)=>{Rv(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new yr(ct.comparator)}(n),n.Ca=!1,yield zk(n.remoteStore,!1)}}),_R.apply(this,arguments)}function YU(t,e,n){return vR.apply(this,arguments)}function vR(){return vR=(0,Ce.Z)(function*(t,e,n){const r=at(t),i=[],s=[];for(const o of e){let a;const c=r.fa.get(o);if(c&&0!==c.length){a=yield Rm(r.localStore,co(c[0]));for(const l of c){const u=r.ma.get(l),d=yield mue(r,u);d.snapshot&&s.push(d.snapshot)}}else{const l=yield CU(r.localStore,o);a=yield Rm(r.localStore,l),yield Jk(r,XU(l),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),vR.apply(this,arguments)}function XU(t){return t5(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yue(t){return n=at(t).localStore,at(at(n).persistence).Bi();var n}function xue(t,e,n,r){return yR.apply(this,arguments)}function yR(){return yR=(0,Ce.Z)(function*(t,e,n,r){const i=at(t);if(i.Ca)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield SU(i.localStore,o5(s[0])),a=_v.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,qi.EMPTY_BYTE_STRING);yield Ul(i,o,a);break}case"rejected":yield Mm(i.localStore,e,!0),Bm(i,e,r);break;default:bt()}}),yR.apply(this,arguments)}function bue(t,e,n){return xR.apply(this,arguments)}function xR(){return xR=(0,Ce.Z)(function*(t,e,n){const r=bR(t);if(r.Ca){for(const i of e){if(r.fa.has(i)){ze("SyncEngine","Adding an already active target "+i);continue}const s=yield CU(r.localStore,i),o=yield Rm(r.localStore,s);yield Jk(r,XU(s),o.targetId,!1,o.resumeToken),Yw(r.remoteStore,o)}for(const i of n)r.fa.has(i)&&(yield Mm(r.localStore,i,!1).then(()=>{Rv(r.remoteStore,i),Bm(r,i)}).catch(Bu))}}),xR.apply(this,arguments)}function bR(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cue.bind(null,e),e.Va.a_=Qle.bind(null,e.eventManager),e.Va.Fa=Jle.bind(null,e.eventManager),e}function wR(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uue.bind(null,e),e}class Mv{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ce.Z)(function*(){n.serializer=Dv(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wU(this.persistence,new bU,e.initialUser,this.serializer)}createPersistence(e){return new fk(Hw.jr,this.serializer)}createSharedClientState(e){return new RU}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ER extends Mv{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield n().call(r,e),yield r.xa.initialize(r,e),yield wR(r.xa.syncEngine),yield Fm(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return wU(this.persistence,new bU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new fU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Kae(n,this.persistence);return new qae(e.asyncQueue,r)}createPersistence(e){const n=mk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new pk(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,PU(),Zw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new RU}}class QU extends ER{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield n().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof Tk&&(r.sharedClientState.syncEngine={Ys:_ue.bind(null,i),Zs:xue.bind(null,i),Xs:bue.bind(null,i),Bi:yue.bind(null,i),Js:gue.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,Ce.Z)(function*(o){yield function vue(t,e){return _R.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=PU();if(!Tk.D(n))throw new Ve(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tk(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Um{initialize(e,n){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>KU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hue.bind(null,r.syncEngine),yield zk(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xle}createDatastore(e){const n=Dv(e.databaseInfo.databaseId),r=new Fle(e.databaseInfo);return new Lle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>KU(this.syncEngine,n,0),a=MU.D()?new MU:new Rle,new Ule(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new iue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Ce.Z)(function*(r){const i=at(r);ze("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Pm(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function JU(t,e=10240){let n=0;return{read:()=>(0,Ce.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Tue{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Gi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Ce.Z)(function*(){const n=yield e.qa();if(null===n)return null;const r=e.La.decode(n),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new eue(JSON.parse(s),n.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Ce.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ka(e){var n=this;return(0,Ce.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const r=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Ce.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Iue{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ce.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ve(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(o,a){const c=at(o),l=xv(c.serializer)+"/documents",u={documents:a.map(y=>yv(c.serializer,y))},d=yield c.Co("BatchGetDocuments",l,u,a.length),p=new Map;d.forEach(y=>{const _=function Gce(t,e){return"found"in e?function(r,i){At(!!i.found);const s=Uc(r,i.found.name),o=bi(i.found.updateTime),a=i.found.createTime?bi(i.found.createTime):Dt.min(),c=new xs({mapValue:{fields:i.found.fields}});return Pr.newFoundDocument(s,o,a,c)}(t,e):"missing"in e?function(r,i){At(!!i.missing),At(!!i.readTime);const s=Uc(r,i.missing),o=bi(i.readTime);return Pr.newNoDocument(s,o)}(t,e):bt()}(c.serializer,y);p.set(_.key.toString(),_)});const m=[];return a.forEach(y=>{const _=p.get(y.toString());At(!!_),m.push(_)}),m}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=ct.fromPath(i);e.mutations.push(new KD(s,e.precondition(s)))}),yield(r=(0,Ce.Z)(function*(s,o){const a=at(s),c=xv(a.serializer)+"/documents",l={writes:o.map(u=>bv(a.serializer,u))};yield a.wo("Commit",c,l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw bt();n=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ve(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Dt.min())?zr.exists(!1):zr.updateTime(n):zr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Dt.min()))throw new Ve(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zr.updateTime(n)}return zr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Cue{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new Ck(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Ce.Z)(function*(){const n=new Iue(e.datastore),r=e.za(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const n=this.updateFunction(e);return!nv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!T5(n)}return!1}}class Sue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ss.UNAUTHENTICATED,this.clientId=y6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Ce.Z)(function*(a){ze("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Nm(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Jw(t,e){return TR.apply(this,arguments)}function TR(){return TR=(0,Ce.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(s){r.isEqual(s)||(yield EU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),TR.apply(this,arguments)}function IR(t,e){return CR.apply(this,arguments)}function CR(){return CR=(0,Ce.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield SR(t);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>UU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>UU(e.remoteStore,s)),t._onlineComponents=e}),CR.apply(this,arguments)}function ej(t){return"FirebaseError"===t.name?t.code===ge.FAILED_PRECONDITION||t.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function SR(t){return AR.apply(this,arguments)}function AR(){return AR=(0,Ce.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ej(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),yield Jw(t,new Mv)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield Jw(t,new Mv);return t._offlineComponents}),AR.apply(this,arguments)}function eE(t){return DR.apply(this,arguments)}function DR(){return DR=(0,Ce.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield IR(t,t._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield IR(t,new Um))),t._onlineComponents}),DR.apply(this,arguments)}function tj(t){return SR(t).then(e=>e.persistence)}function jm(t){return SR(t).then(e=>e.localStore)}function nj(t){return eE(t).then(e=>e.remoteStore)}function kR(t){return eE(t).then(e=>e.syncEngine)}function Hm(t){return RR.apply(this,arguments)}function RR(){return RR=(0,Ce.Z)(function*(t){const e=yield eE(t),n=e.eventManager;return n.onListen=sue.bind(null,e.syncEngine),n.onUnlisten=oue.bind(null,e.syncEngine),n}),RR.apply(this,arguments)}function ij(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,o,a,c,l){const u=new Qw({next:p=>{o.enqueueAndForget(()=>Kk(s,d));const m=p.docs.has(a);!m&&p.fromCache?l.reject(new Ve(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&"server"===c.source?l.reject(new Ve(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new Xk(vm(a.path),u,{includeMetadataChanges:!0,J_:!0});return Gk(s,d)}(yield Hm(t),t.asyncQueue,e,n,r)})),r.promise}function sj(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,o,a,c,l){const u=new Qw({next:p=>{o.enqueueAndForget(()=>Kk(s,d)),p.fromCache&&"server"===c.source?l.reject(new Ve(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new Xk(a,u,{includeMetadataChanges:!0,J_:!0});return Gk(s,d)}(yield Hm(t),t.asyncQueue,e,n,r)})),r.promise}function oj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aj=new Map;function MR(t,e,n){if(!n)throw new Ve(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cj(t,e,n,r){if(!0===e&&!0===r)throw new Ve(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lj(t){if(!ct.isDocumentKey(t))throw new Ve(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uj(t){if(ct.isDocumentKey(t))throw new Ve(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":bt()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tE(t);throw new Ve(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dj(t,e){if(e<=0)throw new Ve(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class fj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fj(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Oae;switch(r.type){case"firstParty":return new Bae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aj.get(n);r&&(ze("ComponentProvider","Removing Datastore"),aj.delete(n),r.terminate())}(this),Promise.resolve()}}function hj(t,e,n,r={}){var i;const s=(t=Sn(t,Pv))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=ss.MOCK_USER;else{a=(0,cr.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ve(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ss(l)}t._authCredentials=new Nae(new _6(a,c))}}class bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class jc extends bs{constructor(e,n,r){super(e,n,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new ct(e))}withConverter(e){return new jc(this.firestore,e,this._path)}}function PR(t,e,...n){if(t=(0,cr.m9)(t),MR("collection","path",e),t instanceof Pv){const r=Bn.fromString(e,...n);return uj(r),new jc(t,null,r)}{if(!(t instanceof Fr||t instanceof jc))throw new Ve(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return uj(r),new jc(t.firestore,null,r)}}function Fv(t,e,...n){if(t=(0,cr.m9)(t),1===arguments.length&&(e=y6.newId()),MR("doc","path",e),t instanceof Pv){const r=Bn.fromString(e,...n);return lj(r),new Fr(t,null,new ct(r))}{if(!(t instanceof Fr||t instanceof jc))throw new Ve(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return lj(r),new Fr(t.firestore,t instanceof jc?t.converter:null,new ct(r))}}function pj(t,e){return t=(0,cr.m9)(t),e=(0,cr.m9)(e),(t instanceof Fr||t instanceof jc)&&(e instanceof Fr||e instanceof jc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function FR(t,e){return t=(0,cr.m9)(t),e=(0,cr.m9)(e),t instanceof bs&&e instanceof bs&&t.firestore===e.firestore&&uv(t._query,e._query)&&t.converter===e.converter}class Bue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ck(this,"async_queue_retry"),this.iu=()=>{const n=Zw();n&&ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Zw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Zw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Gi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Uu(n))throw n;ze("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,xi("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Wk.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&bt()}verifyOperationInProgress(){}uu(){var e=this;return(0,Ce.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function OR(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Uue{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xr extends Pv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mj(this),this._firestoreClient.terminate()}}function Hue(t,e){const n="object"==typeof t?t:(0,Io.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,Io._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,cr.P0)("firestore");s&&hj(i,...s)}return i}function ii(t){return t._firestoreClient||mj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mj(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new mce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,oj(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Sue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function gj(t,e,n){const r=new Gi;return t.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield Jw(t,n),yield IR(t,e),r.resolve()}catch(i){const s=i;if(!ej(s))throw s;Co("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function _j(t){if(t._initialized||t._terminated)throw new Ve(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(qi.fromBase64String(e))}catch(n){throw new Ve(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hc(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ve(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rf{constructor(e){this._methodName=e}}class nE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const Que=/^__.*__$/;class Jue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Em(e,this.data,n,this.fieldTransforms)}}class vj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class rE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new rE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return oE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(yj(this.Iu)&&Que.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ede{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dv(e)}pu(e,n,r,i=!1){return new rE({Iu:e,methodName:n,gu:r,path:Mr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(t){const e=t._freezeSettings(),n=Dv(t._databaseId);return new ede(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iE(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);BR("Data must be an object, but it was:",o,r);const a=wj(r,o);let c,l;if(s.merge)c=new So(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const p=Lv(e,d,n);if(!o.contains(p))throw new Ve(ge.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Tj(u,p)||u.push(p)}c=new So(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Jue(new xs(a),c,l)}class Nv extends Rf{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}function xj(t,e,n){return new rE({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NR extends Rf{_toFieldTransform(e){return new pv(e.path,new bm)}isEqual(e){return e instanceof NR}}class tde extends Rf{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=xj(this,e,!0),r=this.yu.map(s=>Pf(s,n)),i=new wf(r);return new pv(e.path,i)}isEqual(e){return this===e}}class nde extends Rf{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=xj(this,e,!0),r=this.yu.map(s=>Pf(s,n)),i=new Ef(r);return new pv(e.path,i)}isEqual(e){return this===e}}class rde extends Rf{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new wm(e.serializer,h5(e.serializer,this.wu));return new pv(e.path,n)}isEqual(e){return this===e}}function LR(t,e,n,r){const i=t.pu(1,e,n);BR("Data must be an object, but it was:",i,r);const s=[],o=xs.empty();ju(r,(c,l)=>{const u=sE(e,c,n);l=(0,cr.m9)(l);const d=i.Ru(u);if(l instanceof Nv)s.push(u);else{const p=Pf(l,d);null!=p&&(s.push(u),o.set(u,p))}});const a=new So(s);return new vj(o,a,i.fieldTransforms)}function VR(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Lv(e,r,n)],c=[i];if(s.length%2!=0)throw new Ve(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Lv(e,s[p])),c.push(s[p+1]);const l=[],u=xs.empty();for(let p=a.length-1;p>=0;--p)if(!Tj(l,a[p])){const m=a[p];let y=c[p];y=(0,cr.m9)(y);const _=o.Ru(m);if(y instanceof Nv)l.push(m);else{const x=Pf(y,_);null!=x&&(l.push(m),u.set(m,x))}}const d=new So(l);return new vj(u,d,o.fieldTransforms)}function bj(t,e,n,r=!1){return Pf(n,t.pu(r?4:3,e))}function Pf(t,e){if(Ej(t=(0,cr.m9)(t)))return BR("Unsupported field value:",e,t),wj(t,e);if(t instanceof Rf)return function(r,i){if(!yj(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Pf(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=(0,cr.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return h5(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Hr.fromDate(r);return{timestampValue:Im(i.serializer,s)}}if(r instanceof Hr){const s=new Hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(i.serializer,s)}}if(r instanceof nE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:F5(i.serializer,r._byteString)};if(r instanceof Fr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ek(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${tE(r)}`)}(t,e)}function wj(t,e){const n={};return F6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ju(t,(r,i)=>{const s=Pf(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Ej(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hr||t instanceof nE||t instanceof Hc||t instanceof Fr||t instanceof Rf)}function BR(t,e,n){if(!Ej(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=tE(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Lv(t,e,n){if((e=(0,cr.m9)(e))instanceof jl)return e._internalPath;if("string"==typeof e)return sE(t,e);throw oE("Field path arguments must be of type string or ",t,!1,void 0,n)}const ide=new RegExp("[~\\*/\\[\\]]");function sE(t,e,n){if(e.search(ide)>=0)throw oE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jl(...e.split("."))._internalPath}catch{throw oE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oE(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ve(ge.INVALID_ARGUMENT,a+t+c)}function Tj(t,e){return t.some(n=>n.isEqual(e))}class Vv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class sde extends Vv{data(){return super.data()}}function aE(t,e){return"string"==typeof e?sE(t,e):e instanceof jl?e._internalPath:e._delegate._internalPath}function Ij(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ve(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UR{}class Bv extends UR{}function ed(t,e,...n){let r=[];e instanceof UR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof zm).length,a=s.filter(c=>c instanceof Uv).length;if(o>1||o>0&&a>0)throw new Ve(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Uv extends Bv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uv(e,n,r)}_apply(e){const n=this._parse(e);return Dj(e._query,n),new bs(e.firestore,e.converter,GD(e._query,n))}_parse(e){const n=Mf(e.firestore);return function(s,o,a,c,l,u,d){let p;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new Ve(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){Aj(d,u);const m=[];for(const y of d)m.push(Sj(c,s,y));p={arrayValue:{values:m}}}else p=Sj(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||Aj(d,u),p=bj(a,"where",d,"in"===u||"not-in"===u);return Pn.create(l,u,p)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class zm extends UR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)Dj(o,c),o=GD(o,c)}(e._query,n),new bs(e.firestore,e.converter,GD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jR extends Bv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jR(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cv(s,o)}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Nl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class cE extends Bv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cE(e,n,r)}_apply(e){return new bs(e.firestore,e.converter,Dw(e._query,this._limit,this._limitType))}}class lE extends Bv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lE(e,n,r)}_apply(e){const n=Cj(e,this.type,this._docOrFields,this._inclusive);return new bs(e.firestore,e.converter,(s=n,new Nl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class uE extends Bv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new uE(e,n,r)}_apply(e){const n=Cj(e,this.type,this._docOrFields,this._inclusive);return new bs(e.firestore,e.converter,(s=n,new Nl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function Cj(t,e,n,r){if(n[0]=(0,cr.m9)(n[0]),n[0]instanceof Vv)return function(s,o,a,c,l){if(!c)throw new Ve(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of ym(s))if(d.field.isKeyField())u.push(xf(o,c.key));else{const p=c.data.field(d.field);if(ww(p))throw new Ve(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){const m=d.field.canonicalString();throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(p)}return new qu(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Mf(t.firestore);return function(o,a,c,l,u,d){const p=o.explicitOrderBy;if(u.length>p.length)throw new Ve(ge.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<u.length;y++){const _=u[y];if(p[y].field.isKeyField()){if("string"!=typeof _)throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof _}`);if(!WD(o)&&-1!==_.indexOf("/"))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${_}' contains a slash.`);const x=o.path.child(Bn.fromString(_));if(!ct.isDocumentKey(x))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const E=new ct(x);m.push(xf(a,E))}else{const x=bj(c,l,_);m.push(x)}}return new qu(m,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Sj(t,e,n){if("string"==typeof(n=(0,cr.m9)(n))){if(""===n)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WD(e)&&-1!==n.indexOf("/"))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bn.fromString(n));if(!ct.isDocumentKey(r))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xf(t,new ct(r))}if(n instanceof Fr)return xf(t,n._key);throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tE(n)}.`)}function Aj(t,e){if(!Array.isArray(t)||0===t.length)throw new Ve(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dj(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ve(ge.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HR{convertValue(e,n="none"){switch(Wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ju(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nE(ri(e.latitude),ri(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ew(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iv(e));default:return null}}convertTimestamp(e){const n=Hu(e);return new Hr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bn.fromString(e);At($5(r));const i=new zu(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||xi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function dE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pde extends HR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,n)}}class Ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hl extends Vv{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jv extends Hl{data(e={}){return super.data(e)}}class td{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jv(this._firestore,this._userDataWriter,r.key,r,new Ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new jv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new jv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:gde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function Rj(t,e){return t instanceof Hl&&e instanceof Hl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof td&&e instanceof td&&t._firestore===e._firestore&&FR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Mj(t){t=Sn(t,Fr);const e=Sn(t.firestore,xr);return ij(ii(e),t._key).then(n=>$R(e,t,n))}class nd extends HR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,n)}}function Pj(t){t=Sn(t,bs);const e=Sn(t.firestore,xr),n=ii(e),r=new nd(e);return Ij(t._query),sj(n,t._query).then(i=>new td(e,r,t,i))}function zR(t,e,n){t=Sn(t,Fr);const r=Sn(t.firestore,xr),i=dE(t.converter,e,n);return $m(r,[iE(Mf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,zr.none())])}function Fj(t,e,n,...r){t=Sn(t,Fr);const i=Sn(t.firestore,xr),s=Mf(i);let o;return o="string"==typeof(e=(0,cr.m9)(e))||e instanceof jl?VR(s,"updateDoc",t._key,e,n,r):LR(s,"updateDoc",t._key,e),$m(i,[o.toMutation(t._key,zr.exists(!0))])}function Oj(t){return $m(Sn(t.firestore,xr),[new Tm(t._key,zr.none())])}function Nj(t,...e){var n,r,i;t=(0,cr.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||OR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OR(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof Fr)l=Sn(t.firestore,xr),u=vm(t._key.path),c={next:d=>{e[o]&&e[o]($R(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Sn(t,bs);l=Sn(d.firestore,xr),u=d._query;const p=new nd(l);c={next:m=>{e[o]&&e[o](new td(l,p,d,m))},error:e[o+1],complete:e[o+2]},Ij(t._query)}return function(p,m,y,_){const x=new Qw(_),E=new Xk(m,x,y);return p.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Gk(yield Hm(p),E)})),()=>{x.Na(),p.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Kk(yield Hm(p),E)}))}}(ii(l),u,a,c)}function $m(t,e){return function(r,i){const s=new Gi;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function aue(t,e,n){return nR.apply(this,arguments)}(yield kR(r),i,s)})),s.promise}(ii(t),e)}function $R(t,e,n){const r=n.docs.get(e._key),i=new nd(t);return new Hl(t,i,e._key,r,new Ff(n.hasPendingWrites,n.fromCache),e.converter)}const Rde={maxAttempts:5};class Lj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mf(e)}set(e,n,r){this._verifyNotCommitted();const i=rd(e,this._firestore),s=dE(i.converter,n,r),o=iE(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,zr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=rd(e,this._firestore);let o;return o="string"==typeof(n=(0,cr.m9)(n))||n instanceof jl?VR(this._dataReader,"WriteBatch.update",s._key,n,r,i):LR(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rd(e,this._firestore);return this._mutations=this._mutations.concat(new Tm(n._key,zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rd(t,e){if((t=(0,cr.m9)(t)).firestore!==e)throw new Ve(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Mde extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Mf(n)}get(n){const r=rd(n,this._firestore),i=new pde(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return bt();const o=s[0];if(o.isFoundDocument())return new Vv(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Vv(this._firestore,i,r._key,null,r.converter);throw bt()})}set(n,r,i){const s=rd(n,this._firestore),o=dE(s.converter,r,i),a=iE(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=rd(n,this._firestore);let a;return a="string"==typeof(r=(0,cr.m9)(r))||r instanceof jl?VR(this._dataReader,"Transaction.update",o._key,r,i,s):LR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=rd(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=rd(e,this._firestore),r=new nd(this._firestore);return super.get(e).then(i=>new Hl(this._firestore,r,n._key,i._document,new Ff(!1,!1),n.converter))}}!function(e,n=!0){um=Io.SDK_VERSION,(0,Io._registerComponent)(new FB.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xr(new Lae(r.getProvider("auth-internal")),new Uae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ve(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)(g6,"4.4.0",e),(0,Io.registerVersion)(g6,"4.4.0","esm2017")}();class Wm{constructor(e){return e}}const jj="firestore",GR=new Pe("angularfire2.firestore-instances");function Hde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wm(r)}}const zde={provide:class Ude{constructor(){return BA(jj)}},deps:[[new Bo,GR]]},$de={provide:Wm,useFactory:function jde(t,e){const n=function OB(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(jj,t,e);return n&&new Wm(n)},deps:[[new Bo,GR],R_]};let Wde=(()=>{class t{constructor(){(0,Io.registerVersion)("angularfire",Jp.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cn({type:t});static \u0275inj=Nn({providers:[$de,zde]})}return t})();function Gde(t,...e){return{ngModule:Wde,providers:[{provide:GR,useFactory:Hde(t),multi:!0,deps:[Kt,vi,z1,YB,[new Bo,QB],[new Bo,UA],...e]}]}}const Da=ff(PR,!0),qde=ff(Oj,!0),Of=ff(Fv,!0),Hj=ff(Mj,!0),Gm=ff(Pj,!0),Kde=ff(Hue,!0),Zde=ff(zR,!0);let qR=(()=>{class t{constructor(){this.timerIsOn=new I(!1),this.timeLeft=new I(0)}setTimerIsOn(n){this.timerIsOn.next(n)}getTimerIsOn(){return this.timerIsOn.asObservable()}setTimeLeft(n){this.timeLeft.next(n)}getTimeLeft(){return this.timeLeft.asObservable()}getCurrentTimeLeft(){return this.timeLeft.getValue()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zj=(()=>{class t{constructor(n,r){this.firestore=n,this.timerService=r}getTestsYears(n){const r=Da(this.firestore,"test");return C(Gm(r).then(i=>i.docs.filter(s=>{const o=s.id.split("-"),a=o.length>1?o[1].toLowerCase():"";return n===a}).map(s=>s.id.split("-")[0])))}getTest(n,r){const i=Da(this.firestore,"test"),s=r+"-"+n.toUpperCase(),o=Of(i,s),a=Da(o,"articles"),c=Da(o,"questions");return ZB([C(Hj(o).then(l=>{if(l.exists())return l.id;throw new Error("Document not found")})),C(Gm(a).then(l=>l.docs.map(d=>({id:d.id,url:d.data().url})).sort((d,p)=>d.id.localeCompare(p.id)))),C(Gm(c).then(l=>l.docs.map(d=>{const p=d.data().options;return{id:d.id,articleId:d.data().articleId,correctAnswer:d.data().correctAnswer,options:p,text:d.data().text,image:d.data().image}})))]).pipe(lt(([l,u,d])=>({id:l,articles:u,questions:d})))}saveUserTest(n,r){const i=Da(this.firestore,"users"),s=Of(i,n),o=Da(s,"savedTests"),a=Of(o);r.timeLeft=6e3-this.timerService.getCurrentTimeLeft(),Zde(a,r)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Wm),te(qR))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $j(t,e=0){return function Yde(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function hE(t){return Array.isArray(t)?t:[t]}function Di(t){return null==t?"":"string"==typeof t?t:`${t}px`}function qm(t){return t instanceof _i?t.nativeElement:t}const Xde=["addListener","removeListener"],Qde=["addEventListener","removeEventListener"],Jde=["on","off"];function KR(t,e,n,r){if(F(n)&&(r=n,n=void 0),r)return KR(t,e,n).pipe(pA(r));const[i,s]=function nfe(t){return F(t.addEventListener)&&F(t.removeEventListener)}(t)?Qde.map(o=>a=>t[o](e,a,n)):function efe(t){return F(t.addListener)&&F(t.removeListener)}(t)?Xde.map(Wj(t,e)):function tfe(t){return F(t.on)&&F(t.off)}(t)?Jde.map(Wj(t,e)):[];if(!i&&In(t))return Wn(o=>KR(o,e,n))(xn(t));if(!i)throw new TypeError("Invalid event target");return new jt(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function Wj(t,e){return n=>r=>t[n](e,r)}const Hv={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=Hv;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=e(s=>{n=void 0,t(s)});return new vn(()=>n?.(i))},requestAnimationFrame(...t){const{delegate:e}=Hv;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=Hv;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class ife extends H1{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}}(class rfe extends j1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Hv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);const{actions:s}=e;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(Hv.cancelAnimationFrame(n),e._scheduled=void 0)}});let ZR,ofe=1;const pE={};function Gj(t){return t in pE&&(delete pE[t],!0)}const afe={setImmediate(t){const e=ofe++;return pE[e]=!0,ZR||(ZR=Promise.resolve()),ZR.then(()=>Gj(e)&&t()),e},clearImmediate(t){Gj(t)}},{setImmediate:cfe,clearImmediate:lfe}=afe,mE={setImmediate(...t){const{delegate:e}=mE;return(e?.setImmediate||cfe)(...t)},clearImmediate(t){const{delegate:e}=mE;return(e?.clearImmediate||lfe)(t)},delegate:void 0};new class dfe extends H1{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}}(class ufe extends j1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=mE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);const{actions:s}=e;null!=n&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==n&&(mE.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});function qj(t,e=k_){return function hfe(t){return Me((e,n)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const l=i;i=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(st(n,l=>{r=!0,i=l,s||xn(t(l)).subscribe(s=st(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}(()=>function mfe(t=0,e,n=Jse){let r=-1;return null!=e&&(Br(e)?n=e:r=e),new jt(i=>{let s=function pfe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e))}let YR;try{YR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{YR=!1}let zv,Nf,XR,zc=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function vne(t){return t===r3}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(te(xa))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $v(t){return function gfe(){if(null==zv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zv=!0}))}finally{zv=zv||!1}return zv}()?t:!!t.capture}function _fe(){if(null==Nf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Nf=!1,Nf;if("scrollBehavior"in document.documentElement.style)Nf=!0;else{const t=Element.prototype.scrollTo;Nf=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Nf}function QR(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function id(t){return t.composedPath?t.composedPath()[0]:t.target}function JR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const xfe=new Pe("cdk-dir-doc",{providedIn:"root",factory:function bfe(){return ht(Vn)}}),wfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let e2=(()=>{class t{constructor(n){this.value="ltr",this.change=new kr,n&&(this.value=function Efe(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?wfe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(te(xfe,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wv=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})(),Ife=(()=>{class t{constructor(n,r,i){this._ngZone=n,this._platform=r,this._scrolled=new le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new jt(r=>{this._globalSubscription||this._addGlobalListener();const i=n>0?this._scrolled.pipe(qj(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Wi(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let i=qm(r),s=n.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>KR(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Kt),te(zc),te(Vn,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zj=(()=>{class t{constructor(n,r,i){this._platform=n,this._change=new le,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,s=i.getBoundingClientRect();return{top:-s.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(qj(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(te(zc),te(Kt),te(Vn,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})(),Xj=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[Wv,Yj,Wv,Yj]})}return t})();class t2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class n2 extends t2{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class Qj extends t2{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Sfe extends t2{constructor(e){super(),this.element=e instanceof _i?e.nativeElement:e}}class r2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof n2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Qj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Sfe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Afe extends r2{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||vi.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);-1!==i&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let s2=(()=>{class t extends r2{constructor(n,r,i){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new kr,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);const r=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),o=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(n){n.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static#e=this.\u0275fac=function(r){return new(r||t)(se(xp),se(Ta),se(Vn))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[zn]})}return t})(),_E=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})();const Jj=_fe();class Dfe{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Di(-this._previousScrollPosition.left),e.style.top=Di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Jj&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Jj&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}}class kfe{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Wi(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class e9{enable(){}disable(){}attach(){}}function o2(t,e){return e.some(n=>t.bottom<n.top||t.top>n.bottom||t.right<n.left||t.left>n.right)}function t9(t,e){return e.some(n=>t.top<n.top||t.bottom>n.bottom||t.left<n.left||t.right>n.right)}class Rfe{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();o2(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mfe=(()=>{class t{constructor(n,r,i,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new e9,this.close=o=>new kfe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Dfe(this._viewportRuler,this._document),this.reposition=o=>new Rfe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(r){return new(r||t)(te(Ife),te(Zj),te(Kt),te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class n9{constructor(e){if(this.scrollStrategy=new e9,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const n=Object.keys(e);for(const r of n)void 0!==e[r]&&(this[r]=e[r])}}}class Pfe{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}}let r9=(()=>{class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ffe=(()=>{class t extends r9{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn),te(Kt,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ofe=(()=>{class t extends r9{constructor(n,r,i){super(n),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=id(s)},this._clickListener=s=>{const o=id(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(n){if(super.add(n),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn),te(zc),te(Kt,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vE=(()=>{class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||JR()){const i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(n),JR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn),te(zc))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Gv{constructor(e,n,r,i,s,o,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new le,this._attachments=new le,this._detachments=new le,this._locationChanges=vn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new le,this._outsidePointerEvents=new le,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Sa(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Di(this._config.width),e.height=Di(this._config.height),e.minWidth=Di(this._config.minWidth),e.minHeight=Di(this._config.minHeight),e.maxWidth=Di(this._config.maxWidth),e.maxHeight=Di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){const i=hE(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(E1(k(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const i9="cdk-overlay-connected-position-bounding-box",Nfe=/([A-Za-z%]+)$/;class Lfe{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le,this._resizeSubscription=vn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(i9),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,r)?s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(const l of s){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Lf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(i9),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return n.left<0&&(i-=n.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i,s;return i="center"==r.overlayX?-n.width/2:"start"===r.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==r.overlayY?-n.height/2:"top"==r.overlayY?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){const s=o9(n);let{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let p=0-a,m=a+s.height-r.height,y=this._subtractOverflows(s.width,0-o,o+s.width-r.width),_=this._subtractOverflows(s.height,p,m),x=y*_;return{visibleArea:x,isCompletelyWithinViewport:s.width*s.height===x,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:y==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){const i=r.bottom-n.y,s=r.right-n.x,o=s9(this._overlayRef.getConfig().minHeight),a=s9(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=o9(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?l||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?c||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Pfe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,p;if("top"===n.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===n.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const m=Math.min(r.bottom-e.y+r.top,e.y),y=this._lastBoundingBoxSize.height;s=2*m,o=e.y-m,s>y&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-y/2)}if("end"===n.overlayX&&!i||"start"===n.overlayX&&i)p=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===n.overlayX&&!i||"end"===n.overlayX&&i)d=e.x,u=r.right-e.x;else{const m=Math.min(r.right-e.x+r.left,e.x),y=this._lastBoundingBoxSize.width;u=2*m,d=e.x-m,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-y/2)}return{top:o,left:d,bottom:a,right:p,width:u,height:s}}_setBoundingBoxStyles(e,n){const r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Di(r.height),i.top=Di(r.top),i.bottom=Di(r.bottom),i.width=Di(r.width),i.left=Di(r.left),i.right=Di(r.right),i.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",i.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Di(s)),o&&(i.maxWidth=Di(o))}this._lastBoundingBoxSize=r,Lf(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Lf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Lf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Lf(r,this._getExactOverlayY(n,e,u)),Lf(r,this._getExactOverlayX(n,e,u))}else r.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Di(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Di(o.maxWidth):s&&(r.maxWidth="")),Lf(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Di(s.y),i}_getExactOverlayX(e,n,r){let o,i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Di(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:t9(e,r),isOriginOutsideView:o2(e,r),isOverlayClipped:t9(n,r),isOverlayOutsideView:o2(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return"x"===n?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&hE(e).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof _i)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}}function Lf(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s9(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Nfe);return n&&"px"!==n?null:parseFloat(e)}return t||null}function o9(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const a9="cdk-global-overlay-wrapper";class Vfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(a9),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let m="",y="",_="";c?_="flex-start":"center"===u?(_="center",p?y=d:m=d):p?"left"===u||"end"===u?(_="flex-end",m=d):("right"===u||"start"===u)&&(_="flex-start",y=d):"left"===u||"start"===u?(_="flex-start",m=d):("right"===u||"end"===u)&&(_="flex-end",y=d),e.position=this._cssPosition,e.marginLeft=c?"0":m,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,n.justifyContent=_,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(a9),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Bfe=(()=>{class t{constructor(n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new Vfe}flexibleConnectedTo(n){return new Lfe(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Zj),te(Vn),te(zc),te(vE))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ufe=0,Zm=(()=>{class t{constructor(n,r,i,s,o,a,c,l,u,d,p,m){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=p,this._animationsModuleType=m}create(n){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new n9(n);return o.direction=o.direction||this._directionality.value,new Gv(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Ufe++,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(ku)),new Afe(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(te(Mfe),te(vE),te(xp),te(Bfe),te(Ffe),te(vi),te(Kt),te(Vn),te(e2),te(o_),te(Ofe),te(P0,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zfe={provide:new Pe("cdk-connected-overlay-scroll-strategy"),deps:[Zm],useFactory:function Hfe(t){return()=>t.scrollStrategies.reposition()}};let c9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:[Zm,zfe],imports:[Wv,_E,Xj,Xj]})}return t})();function u9(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function d9(t){return Wi((e,n)=>t<=n)}let Zfe=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:[Zfe]})}return t})();const h9=new Set;let Vf,Xfe=(()=>{class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jfe}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qfe(t,e){if(!h9.has(t))try{Vf||(Vf=document.createElement("style"),e&&(Vf.nonce=e),Vf.setAttribute("type","text/css"),document.head.appendChild(Vf)),Vf.sheet&&(Vf.sheet.insertRule(`@media ${t} {body{ }}`,0),h9.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||t)(te(zc),te(cC,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jfe(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let ehe=(()=>{class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new le}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return p9(hE(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let s=_1(p9(hE(n)).map(o=>this._registerQuery(o).observable));return s=y1(s.pipe(Sa(1)),s.pipe(d9(1),function Yfe(t,e=k_){return Me((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function c(){const l=o+t,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}n.subscribe(st(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(lt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new jt(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(sf(r),lt(({matches:o})=>({query:n,matches:o})),E1(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(r){return new(r||t)(te(Xfe),te(Kt))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p9(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}let yE=(()=>{class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function ihe(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const r=function rhe(t){try{return t.frameElement}catch{return null}}(function fhe(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(n));if(r&&(-1===v9(r)||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),s=v9(n);return n.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function uhe(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(n))&&("audio"===i?!!n.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,r){return function dhe(t){return!function ohe(t){return function che(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function she(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function ahe(t){return function lhe(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||_9(t))}(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static#e=this.\u0275fac=function(r){return new(r||t)(te(zc))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _9(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function v9(t){if(!_9(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class hhe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){const r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){const n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const n=e.children;for(let r=0;r<n.length;r++){const i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const n=e.children;for(let r=n.length-1;r>=0;r--){const i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Sa(1)).subscribe(e)}}let a2=(()=>{class t{constructor(n,r,i){this._checker=n,this._ngZone=r,this._document=i}create(n,r=!1){return new hhe(n,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||t)(te(yE),te(Kt),te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function y9(t){return 0===t.buttons||0===t.detail}function x9(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const phe=new Pe("cdk-input-modality-detector-options"),mhe={ignoreKeys:[18,17,224,91,16]},Ym=$v({passive:!0,capture:!0});let ghe=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(n,r,i,s){this._platform=n,this._mostRecentTarget=null,this._modality=new I(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=id(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(y9(o)?"keyboard":"mouse"),this._mostRecentTarget=id(o))},this._onTouchstart=o=>{x9(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=id(o))},this._options={...mhe,...s},this.modalityDetected=this._modality.pipe(d9(1)),this.modalityChanged=this.modalityDetected.pipe(Ot()),n.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ym),i.addEventListener("mousedown",this._onMousedown,Ym),i.addEventListener("touchstart",this._onTouchstart,Ym)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ym),document.removeEventListener("mousedown",this._onMousedown,Ym),document.removeEventListener("touchstart",this._onTouchstart,Ym))}static#e=this.\u0275fac=function(r){return new(r||t)(te(zc),te(Kt),te(Vn),te(phe,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vhe=new Pe("cdk-focus-monitor-default-options"),xE=$v({passive:!0,capture:!0});let c2=(()=>{class t{constructor(n,r,i,s,o){this._ngZone=n,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le,this._rootNodeFocusAndBlurListener=a=>{for(let l=id(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(n,r=!1){const i=qm(n);if(!this._platform.isBrowser||1!==i.nodeType)return G();const s=function yfe(t){if(function vfe(){if(null==XR){const t=typeof document<"u"?document.head:null;XR=!(!t||!t.createShadowRoot&&!t.attachShadow)}return XR}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new le,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){const r=qm(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){const s=qm(n);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused","touch"===r),n.classList.toggle("cdk-keyboard-focused","keyboard"===r),n.classList.toggle("cdk-mouse-focused","mouse"===r),n.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,r){const i=this._elementInfo.get(r),s=id(n);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(n,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,xE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,xE)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(E1(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){const r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){const r=[];return this._elementInfo.forEach((i,s)=>{(s===n||i.checkChildren&&s.contains(n))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const s=n.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||t)(te(Kt),te(zc),te(ghe),te(Vn,8),te(vhe,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const w9="cdk-high-contrast-black-on-white",E9="cdk-high-contrast-white-on-black",l2="cdk-high-contrast-active";let T9=(()=>{class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=ht(ehe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(l2,w9,E9),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(l2,w9):2===r&&n.add(l2,E9)}}static#e=this.\u0275fac=function(r){return new(r||t)(te(zc),te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yhe=(()=>{class t{constructor(n){n._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||t)(te(T9))};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[f9]})}return t})();function xhe(t,e){}class bE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let I9=(()=>{class t extends r2{constructor(n,r,i,s,o,a,c,l){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{n.removeEventListener("blur",i),n.removeEventListener("mousedown",i),n.removeAttribute("tabindex")};n.addEventListener("blur",i),n.addEventListener("mousedown",i)})),n.focus(r)}_focusByCssSelector(n,r){let i=this._elementRef.nativeElement.querySelector(n);i&&this._forceFocus(i,r)}_trapFocus(){const n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const n=this._config.restoreFocus;let r=null;if("string"==typeof n?r=this._document.querySelector(n):"boolean"==typeof n?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=QR(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,r=QR();return n===r||n.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=QR())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||t)(se(_i),se(a2),se(Vn,8),se(bE),se(yE),se(Kt),se(Gv),se(c2))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&R4(s2,7),2&r){let s;vS(s=function yS(){return function bJ(t,e){return t[vo].queries[e].queryList}(Ne(),Vx())}())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&wa("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[zn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Bt(0,xhe,0,0,"ng-template",0)},dependencies:[s2],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})();class u2{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new le,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!u9(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==n.closeOnOverlayDetachments&&this.close()})}close(e,n){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const C9=new Pe("DialogScrollStrategy"),bhe=new Pe("DialogData"),whe=new Pe("DefaultDialogConfig"),The={provide:C9,deps:[Zm],useFactory:function Ehe(t){return()=>t.scrollStrategies.block()}};let Ihe=0,S9=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,i,s,o,a){this._overlay=n,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le,this._afterOpenedAtThisLevel=new le,this._ariaHiddenElements=new Map,this.afterAllClosed=x1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sf(void 0))),this._scrollStrategy=a}open(n,r){(r={...this._defaultOptions||new bE,...r}).id=r.id||"cdk-dialog-"+Ihe++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new u2(o,r),c=this._attachContainer(o,a,r);return a.containerInstance=c,this._attachDialogContent(n,a,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){d2(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){d2(this._openDialogsAtThisLevel,n=>{!1===n.config.closeOnDestroy&&this._removeOpenDialog(n,!1)}),d2(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){const r=new n9({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:bE,useValue:i},{provide:u2,useValue:r},{provide:Gv,useValue:n}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=I9;const c=new n2(a,i.viewContainerRef,vi.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return n.attach(c).instance}_attachDialogContent(n,r,i,s){if(n instanceof Sc){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new Qj(n,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new n2(n,s.viewContainerRef,o,s.componentFactoryResolver));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(n,r,i,s){const o=n.injector||n.viewContainerRef?.injector,a=[{provide:bhe,useValue:n.data},{provide:u2,useValue:r}];return n.providers&&("function"==typeof n.providers?a.push(...n.providers(r,n,i)):a.push(...n.providers)),n.direction&&(!o||!o.get(e2,null,{optional:!0}))&&a.push({provide:e2,useValue:{value:n.direction,change:G()}}),vi.create({parent:o||s,providers:a})}_removeOpenDialog(n,r){const i=this.openDialogs.indexOf(n);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const r=n.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==n&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||t)(te(Zm),te(vi),te(whe,8),te(t,12),te(vE),te(C9))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();function d2(t,e){let n=t.length;for(;n--;)e(t[n])}let Che=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:[S9,The],imports:[c9,_E,yhe,_E]})}return t})();const Ahe=new Pe("mat-sanity-checks",{providedIn:"root",factory:function She(){return!0}});let $c=(()=>{class t{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!JR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(r){return new(r||t)(te(T9),te(Ahe,8),te(Vn))};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[Wv,Wv]})}return t})();const k9=$v({passive:!0,capture:!0});class Rhe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=id(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){const s=this._events.get(n);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,k9)})}removeHandler(e,n,r){const i=this._events.get(e);if(!i)return;const s=i.get(n);s&&(s.delete(r),0===s.size&&i.delete(n),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,k9)))}}class f2{static#e=this._eventManager=new Rhe;constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qm(r))}fadeInRipple(e,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...R9,...r.animation},o=r.radius||function Phe(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),m=d.transitionDuration,y="none"===d.transitionProperty||"0s"===m||"0s, 0s"===m||0===i.width&&0===i.height,_=new khe(this,u,r,y);u.style.transform="scale3d(1, 1, 1)",_.state=0,r.persistent||(this._mostRecentTransientRipple=_);return!y&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const E=()=>this._finishRippleTransition(_),b=()=>this._destroyRipple(_);u.addEventListener("transitionend",E),u.addEventListener("transitioncancel",b)}),this._activeRipples.set(_,null),(y||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,r={...R9,...e.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=qm(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,P9.forEach(r=>{f2._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{F9.forEach(n=>{this._triggerElement.addEventListener(n,this,M9)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=y9(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!x9(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(P9.forEach(n=>f2._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&F9.forEach(n=>e.removeEventListener(n,this,M9)))}}let Fhe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[$c,$c]})}return t})();class O9{}class Ohe{}const zl="*";function V9(t,e=null){return{type:2,steps:t,options:e}}function sd(t){return{type:6,styles:t,offset:null}}class Kv{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class j9{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function Nhe(t,e){}class wE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const _2="mdc-dialog--open",H9="mdc-dialog--opening",z9="mdc-dialog--closing";let Bhe=(()=>{class t extends I9{constructor(n,r,i,s,o,a,c,l){super(n,r,i,s,o,a,c,l),this._animationStateChanged=new kr}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}static#e=this.\u0275fac=function(r){return new(r||t)(se(_i),se(a2),se(Vn,8),se(wE),se(yE),se(Kt),se(Gv),se(c2))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["ng-component"]],features:[zn],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();const $9="--mat-dialog-transition-duration";function W9(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?$j(t.substring(0,t.length-2)):t.endsWith("s")?1e3*$j(t.substring(0,t.length-1)):"0"===t?0:null}let Uhe=(()=>{class t extends Bhe{constructor(n,r,i,s,o,a,c,l,u){super(n,r,i,s,o,a,c,u),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?W9(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?W9(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($9,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(H9,_2)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_2),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(_2),this._animationsEnabled?(this._hostElement.style.setProperty($9,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(z9)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(H9,z9)}_waitForAnimationToComplete(n,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(n):n()})}static#e=this.\u0275fac=function(r){return new(r||t)(se(_i),se(a2),se(Vn,8),se(wE),se(yE),se(Kt),se(Gv),se(P0,8),se(c2))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,i){2&r&&(eS("id",i._config.id),wa("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Su("_mat-animation-noopable",!i._animationsEnabled))},features:[zn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1),Bt(2,Nhe,0,0,"ng-template",2),be()())},dependencies:[s2],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return t})();class jhe{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new le,this._beforeClosed=new le,this._state=0,this.disableClose=n.disableClose,this.id=e.id,r._animationStateChanged.pipe(Wi(i=>"opened"===i.state),Sa(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Wi(i=>"closed"===i.state),Sa(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),k(this.backdropClick(),this.keydownEvents().pipe(Wi(i=>27===i.keyCode&&!this.disableClose&&!u9(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Hhe(t,e,n){t._closeInteractionType=e,t.close(n)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Wi(n=>"closing"===n.state),Sa(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const zhe=new Pe("MatMdcDialogData"),$he=new Pe("mat-mdc-dialog-default-options"),G9=new Pe("mat-mdc-dialog-scroll-strategy"),Ghe={provide:G9,deps:[Zm],useFactory:function Whe(t){return()=>t.scrollStrategies.block()}};let qhe=0,Khe=(()=>{class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,r,i,s,o,a,c,l,u,d){this._overlay=n,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le,this._afterOpenedAtThisLevel=new le,this._idPrefix="mat-dialog-",this.dialogConfigClass=wE,this.afterAllClosed=x1(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sf(void 0))),this._scrollStrategy=a,this._dialog=r.get(S9)}open(n,r){let i;(r={...this._defaultOptions||new wE,...r}).id=r.id||`${this._idPrefix}${qhe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(n,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:bE,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,c)=>(i=new this._dialogRefConstructor(o,r,c),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=s.componentRef,i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}static#e=this.\u0275fac=function(r){DC()};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})(),q9=(()=>{class t extends Khe{constructor(n,r,i,s,o,a,c,l){super(n,r,s,a,c,o,jhe,Uhe,zhe,l),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(r){return new(r||t)(te(Zm),te(vi),te(o_,8),te($he,8),te(G9),te(t,12),te(vE),te(P0,8))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})(),Zhe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:[q9,Ghe],imports:[Che,c9,_E,$c,$c]})}return t})();var qo=1200,Bf=1252,Yhe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],v2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},EE=function(t){-1!=Yhe.indexOf(t)&&(Bf=v2[0]=t)},ka=function(t){qo=t,EE(t)};function TE(){ka(1200),function Xhe(){EE(1252)}()}function IE(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function Z9(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var jn,Xm=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return 255==e&&254==n?function Qhe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}(t.slice(2)):254==e&&255==n?Z9(t.slice(2)):65279==e?t.slice(1):t},Yv=function(e){return String.fromCharCode(e)},y2=function(e){return String.fromCharCode(e)},si=null,od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qv(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;l<t.length;)s=(n=t.charCodeAt(l++))>>2,o=(3&n)<<4|(r=t.charCodeAt(l++))>>4,a=(15&r)<<2|(i=t.charCodeAt(l++))>>6,c=63&i,isNaN(r)?a=c=64:isNaN(i)&&(c=64),e+=od.charAt(s)+od.charAt(o)+od.charAt(a)+od.charAt(c);return e}function Ko(t){var e="",s=0,o=0,a=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<t.length;)s=od.indexOf(t.charAt(l++)),o=od.indexOf(t.charAt(l++)),e+=String.fromCharCode(s<<2|o>>4),64!==(a=od.indexOf(t.charAt(l++)))&&(e+=String.fromCharCode((15&o)<<4|a>>2)),64!==(c=od.indexOf(t.charAt(l++)))&&(e+=String.fromCharCode((3&a)<<6|c));return e}var _n=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),$l=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ad(t){return _n?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Y9(t){return _n?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Zo=function(e){return _n?$l(e,"binary"):e.split("").map(function(n){return 255&n.charCodeAt(0)})};function cd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function x2(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return x2(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var cs=_n?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:$l(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if("string"==typeof t[e])throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},Fs=/\u0000/g,ey=/[\u0001-\u0006]/g;function Qm(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function ic(t,e){var n=""+t;return n.length>=e?n:ai("0",e-n.length)+n}function b2(t,e){var n=""+t;return n.length>=e?n:ai(" ",e-n.length)+n}function CE(t,e){var n=""+t;return n.length>=e?n:n+ai(" ",e-n.length)}var X9=Math.pow(2,32);function Jm(t,e){return t>X9||t<-X9?function tpe(t,e){var n=""+Math.round(t);return n.length>=e?n:ai("0",e-n.length)+n}(t,e):function npe(t,e){var n=""+t;return n.length>=e?n:ai("0",e-n.length)+n}(Math.round(t),e)}function SE(t,e){return t.length>=7+(e=e||0)&&103==(32|t.charCodeAt(e))&&101==(32|t.charCodeAt(e+1))&&110==(32|t.charCodeAt(e+2))&&101==(32|t.charCodeAt(e+3))&&114==(32|t.charCodeAt(e+4))&&97==(32|t.charCodeAt(e+5))&&108==(32|t.charCodeAt(e+6))}var Q9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],w2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Vt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},J9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ipe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function AE(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,a=0,c=1,l=0,u=0,d=Math.floor(i);l<e&&(a=(d=Math.floor(i))*o+s,u=d*l+c,!(i-d<5e-8));)i=1/(i-d),s=o,o=a,c=l,l=u;if(u>e&&(l>e?(u=c,a=s):(u=l,a=o)),!n)return[0,r*a,u];var p=Math.floor(r*a/u);return[p,r*a-p*u,u]}function ld(t,e,n){if(t>2958465||t<0)return null;var r=0|t,i=Math.floor(86400*(t-r)),s=0,o=[],a={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400==++i&&(a.T=i=0,++r,++a.D)),60===r)o=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=function upe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var eH=new Date(1899,11,31,0,0,0),spe=eH.getTime(),ope=new Date(1900,2,1,0,0,0);function tH(t,e){var n=t.getTime();return e?n-=1262304e5:t>=ope&&(n+=864e5),(n-(spe+6e4*(t.getTimezoneOffset()-eH.getTimezoneOffset())))/864e5}function E2(t){return-1==t.indexOf(".")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ty(t){var n,e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return n=e>=-4&&e<=-1?t.toPrecision(10+e):Math.abs(e)<=9?function cpe(t){var e=t<0?12:11,n=E2(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10)).length<=e?n:t.toExponential(5)}(t):10===e?t.toFixed(10).substr(0,12):function lpe(t){var e=E2(t.toFixed(11));return e.length>(t<0?12:11)||"0"===e||"-0"===e?t.toPrecision(6):e}(t),E2(function ape(t){return-1==t.indexOf("E")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(n.toUpperCase()))}function Uf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(0|t)===t?t.toString(10):ty(t);case"undefined":return"";case"object":if(null==t)return"";if(t instanceof Date)return Yo(14,tH(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function dpe(t,e,n,r){var c,i="",s=0,o=0,a=n.y,l=0;switch(t){case 98:a=n.y+543;case 121:switch(e.length){case 1:case 2:c=a%100,l=2;break;default:c=a%1e4,l=4}break;case 109:switch(e.length){case 1:case 2:c=n.m,l=e.length;break;case 3:return w2[n.m-1][1];case 5:return w2[n.m-1][0];default:return w2[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,l=e.length;break;case 3:return Q9[n.q][0];default:return Q9[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if("s"!=e&&"ss"!=e&&".0"!=e&&".00"!=e&&".000"!=e)throw"bad second format: "+e;return 0!==n.u||"s"!=e&&"ss"!=e?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(n.S+n.u)))>=60*o&&(s=0),"s"===e?0===s?"0":""+s/o:(i=ic(s,2+r),"ss"===e?i.substr(0,2):"."+i.substr(2,e.length-1))):ic(n.S,e.length);case 90:switch(e){case"[h]":case"[hh]":c=24*n.D+n.H;break;case"[m]":case"[mm]":c=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":c=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}l=3===e.length?1:2;break;case 101:c=a,l=1}return l>0?ic(c,l):""}function ud(t){if(t.length<=3)return t;for(var n=t.length%3,r=t.substr(0,n);n!=t.length;n+=3)r+=(r.length>0?",":"")+t.substr(n,3);return r}var nH=/%/g;function rH(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+rH(t,-e);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(e)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var iH=/# (\?+)( ?)\/( ?)(\d+)/,sH=/^#*0*\.([0#]+)/,oH=/\).*[0#]/,aH=/\(###\) ###\\?-####/;function lo(t){for(var n,e="",r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function cH(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function lH(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Ra(t,e,n){if(40===t.charCodeAt(0)&&!e.match(oH)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ra("n",r,n):"("+Ra("n",r,-n)+")"}if(44===e.charCodeAt(e.length-1))return function hpe(t,e,n){for(var r=e.length-1;44===e.charCodeAt(r-1);)--r;return Wl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}(t,e,n);if(-1!==e.indexOf("%"))return function fpe(t,e,n){var r=e.replace(nH,""),i=e.length-r.length;return Wl(t,r,n*Math.pow(10,2*i))+ai("%",i)}(t,e,n);if(-1!==e.indexOf("E"))return rH(e,n);if(36===e.charCodeAt(0))return"$"+Ra(t,e.substr(" "==e.charAt(1)?2:1),n);var i,s,o,a,c=Math.abs(n),l=n<0?"-":"";if(e.match(/^00+$/))return l+Jm(c,e.length);if(e.match(/^[#?]+$/))return"0"===(i=Jm(n,0))&&(i=""),i.length>e.length?i:lo(e.substr(0,e.length-i.length))+i;if(s=e.match(iH))return function ppe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(0===s?"":""+s)+" "+(0===o?ai(" ",t[1].length+1+t[4].length):b2(o,t[1].length)+t[2]+"/"+t[3]+ic(a,t[4].length))}(s,c,l);if(e.match(/^#+0+$/))return l+Jm(c,e.length-e.indexOf("0"));if(s=e.match(sH))return i=cH(n,s[1].length).replace(/^([^\.]+)$/,"$1."+lo(s[1])).replace(/\.$/,"."+lo(s[1])).replace(/\.(\d*)$/,function(y,_){return"."+_+ai("0",lo(s[1]).length-_.length)}),-1!==e.indexOf("0.")?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+cH(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+ud(Jm(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ra(t,e,-n):ud(""+(Math.floor(n)+function gpe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}(n,s[1].length)))+"."+ic(lH(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ra(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qm(Ra(t,e.replace(/[\\-]/g,""),n)),o=0,Qm(Qm(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):"0"===y?"0":""}));if(e.match(aH))return"("+(i=Ra(t,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=AE(c,Math.pow(10,o)-1,!1),i=""+l," "==(u=Wl("n",s[1],a[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],(u=CE(a[2],o)).length<s[4].length&&(u=lo(s[4].substr(s[4].length-u.length))+u),i+=u;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l+((a=AE(c,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?b2(a[1],o)+s[2]+"/"+s[3]+CE(a[2],o):ai(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Jm(n,0),e.length<=i.length?i:lo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,p=e.length-i.length-d;return lo(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=lH(n,s[1].length),n<0?"-"+Ra(t,e,-n):ud(function _pe(t){return t<2147483647&&t>-2147483648?""+(t>=0?0|t:t-1|0):""+Math.floor(t)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ic(0,3-y.length):"")+y})+"."+ic(o,s[1].length);switch(e){case"###,##0.00":return Ra(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=ud(Jm(c,0));return"0"!==m?l+m:"";case"###,###.00":return Ra(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ra(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function uH(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+uH(t,-e);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),!(n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,l,u){return c+l+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Wc(t,e,n){if(40===t.charCodeAt(0)&&!e.match(oH)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Wc("n",r,n):"("+Wc("n",r,-n)+")"}if(44===e.charCodeAt(e.length-1))return function vpe(t,e,n){for(var r=e.length-1;44===e.charCodeAt(r-1);)--r;return Wl(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}(t,e,n);if(-1!==e.indexOf("%"))return function ype(t,e,n){var r=e.replace(nH,""),i=e.length-r.length;return Wl(t,r,n*Math.pow(10,2*i))+ai("%",i)}(t,e,n);if(-1!==e.indexOf("E"))return uH(e,n);if(36===e.charCodeAt(0))return"$"+Wc(t,e.substr(" "==e.charAt(1)?2:1),n);var i,s,o,a,c=Math.abs(n),l=n<0?"-":"";if(e.match(/^00+$/))return l+ic(c,e.length);if(e.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>e.length?i:lo(e.substr(0,e.length-i.length))+i;if(s=e.match(iH))return function mpe(t,e,n){return n+(0===e?"":""+e)+ai(" ",t[1].length+2+t[4].length)}(s,c,l);if(e.match(/^#+0+$/))return l+ic(c,e.length-e.indexOf("0"));if(s=e.match(sH))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+lo(s[1])).replace(/\.$/,"."+lo(s[1]))).replace(/\.(\d*)$/,function(y,_){return"."+_+ai("0",lo(s[1]).length-_.length)}),-1!==e.indexOf("0.")?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+ud(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Wc(t,e,-n):ud(""+n)+"."+ai("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Wc(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qm(Wc(t,e.replace(/[\\-]/g,""),n)),o=0,Qm(Qm(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):"0"===y?"0":""}));if(e.match(aH))return"("+(i=Wc(t,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=AE(c,Math.pow(10,o)-1,!1),i=""+l," "==(u=Wl("n",s[1],a[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],(u=CE(a[2],o)).length<s[4].length&&(u=lo(s[4].substr(s[4].length-u.length))+u),i+=u;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l+((a=AE(c,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?b2(a[1],o)+s[2]+"/"+s[3]+CE(a[2],o):ai(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return e.length<=(i=""+n).length?i:lo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,p=e.length-i.length-d;return lo(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Wc(t,e,-n):ud(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ic(0,3-y.length):"")+y})+"."+ic(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=ud(""+c);return"0"!==m?l+m:"";default:if(e.match(/\.[0#?]*$/))return Wc(t,e.slice(0,e.lastIndexOf(".")),n)+lo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Wl(t,e,n){return(0|n)===n?Wc(t,e,n):Ra(t,e,n)}var dH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function jf(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":SE(t,e)&&(e+=6),e++;break;case'"':for(;34!==t.charCodeAt(++e)&&e<t.length;);++e;break;case"\\":case"_":e+=2;break;case"@":++e;break;case"B":case"b":if("1"===t.charAt(e+1)||"2"===t.charAt(e+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===t.substr(e,3).toUpperCase()||"AM/PM"===t.substr(e,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===t.substr(e,5).toUpperCase())return!0;++e;break;case"[":for(r=n;"]"!==t.charAt(e++)&&e<t.length;)r+=t.charAt(e);if(r.match(dH))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||"\\"==n&&"-"==t.charAt(e+1)&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(" "==t.charAt(e)||"*"==t.charAt(e))&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;default:++e}return!1}var fH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hH(t,e){if(null==e)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0}return!1}function Yo(t,e,n){null==n&&(n={});var r="";switch(typeof t){case"string":r="m/d/yy"==t&&n.dateNF?n.dateNF:t;break;case"number":null==(r=14==t&&n.dateNF?n.dateNF:(null!=n.table?n.table:Vt)[t])&&(r=n.table&&n.table[J9[t]]||Vt[J9[t]]),null==r&&(r=ipe[t]||"General")}if(SE(r,0))return Uf(e,n);e instanceof Date&&(e=tH(e,n.date1904));var i=function wpe(t,e){var n=function xpe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),!0===n)throw new Error("Format |"+t+"| unterminated string ");return e}(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof e)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=e>0?n[0]:e<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(fH),a=n[1].match(fH);return hH(e,o)?[r,n[0]]:hH(e,a)?[r,n[1]]:[r,n[null!=o&&null!=a?2:1]]}return[r,s]}(r,e);if(SE(i[1]))return Uf(e,n);if(!0===e)e="TRUE";else if(!1===e)e="FALSE";else if(""===e||null==e)return"";return function bpe(t,e,n,r){for(var l,u,d,i=[],s="",o=0,a="",c="t",p="H";o<t.length;)switch(a=t.charAt(o)){case"G":if(!SE(t,o))throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(d=t.charCodeAt(++o))&&o<t.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++o;break;case"\\":var m=t.charAt(++o);i[i.length]={t:"("===m||")"===m?m:"t",v:m},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if("1"===t.charAt(o+1)||"2"===t.charAt(o+1)){if(null==l&&null==(l=ld(e,n,"2"===t.charAt(o+1))))return"";i[i.length]={t:"X",v:t.substr(o,2)},c=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||null==l&&null==(l=ld(e,n)))return"";for(s=a;++o<t.length&&t.charAt(o).toLowerCase()===a;)s+=a;"m"===a&&"h"===c.toLowerCase()&&(a="M"),"h"===a&&(a=p),i[i.length]={t:a,v:s},c=a;break;case"A":case"a":case"\u4e0a":var _={t:a,v:a};if(null==l&&(l=ld(e,n)),"A/P"===t.substr(o,3).toUpperCase()?(null!=l&&(_.v=l.H>=12?"P":"A"),_.t="T",p="h",o+=3):"AM/PM"===t.substr(o,5).toUpperCase()?(null!=l&&(_.v=l.H>=12?"PM":"AM"),_.t="T",o+=5,p="h"):"\u4e0a\u5348/\u4e0b\u5348"===t.substr(o,5).toUpperCase()?(null!=l&&(_.v=l.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),_.t="T",o+=5,p="h"):(_.t="t",++o),null==l&&"T"===_.t)return"";i[i.length]=_,c=a;break;case"[":for(s=a;"]"!==t.charAt(o++)&&o<t.length;)s+=t.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(dH)){if(null==l&&null==(l=ld(e,n)))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",jf(t)||(i[i.length]={t:"t",v:s}));break;case".":if(null!=l){for(s=a;++o<t.length&&"0"===(a=t.charAt(o));)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<t.length&&"0#?.,E+-%".indexOf(a=t.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;t.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},c=a;break;case"*":++o,(" "==t.charAt(o)||"*"==t.charAt(o))&&++o;break;case"(":case")":i[i.length]={t:1===r?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(a))throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"t",v:a},++o}var b,x=0,E=0;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,c="h",x<1&&(x=1);break;case"s":(b=i[o].v.match(/\.0+$/))&&(E=Math.max(E,b[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":"s"===c&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M)}var M,w="";for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=dpe(i[o].t.charCodeAt(0),i[o].v,l,E),i[o].t="t";break;case"n":case"?":for(M=o+1;null!=i[M]&&("?"===(a=i[M].t)||"D"===a||(" "===a||"t"===a)&&null!=i[M+1]&&("?"===i[M+1].t||"t"===i[M+1].t&&"/"===i[M+1].v)||"("===i[o].t&&(" "===a||"n"===a||")"===a)||"t"===a&&("/"===i[M].v||" "===i[M].v&&null!=i[M+1]&&"?"==i[M+1].t));)i[o].v+=i[M].v,i[M]={v:"",t:";"},++M;w+=i[o].v,o=M-1;break;case"G":i[o].t="t",i[o].v=Uf(e,n)}var B,R,z="";if(w.length>0){40==w.charCodeAt(0)?(B=e<0&&45===w.charCodeAt(0)?-e:e,R=Wl("n",w,B)):(R=Wl("n",w,B=e<0&&r>1?-e:e),B<0&&i[0]&&"t"==i[0].t&&(R=R.substr(1),i[0].v="-"+i[0].v)),M=R.length-1;var Q=i.length;for(o=0;o<i.length;++o)if(null!=i[o]&&"t"!=i[o].t&&i[o].v.indexOf(".")>-1){Q=o;break}var J=i.length;if(Q===i.length&&-1===R.indexOf("E")){for(o=i.length-1;o>=0;--o)null==i[o]||-1==="n?".indexOf(i[o].t)||(M>=i[o].v.length-1?i[o].v=R.substr(1+(M-=i[o].v.length),i[o].v.length):M<0?i[o].v="":(i[o].v=R.substr(0,M+1),M=-1),i[o].t="t",J=o);M>=0&&J<i.length&&(i[J].v=R.substr(0,M+1)+i[J].v)}else if(Q!==i.length&&-1===R.indexOf("E")){for(M=R.indexOf(".")-1,o=Q;o>=0;--o)if(null!=i[o]&&-1!=="n?".indexOf(i[o].t)){for(u=i[o].v.indexOf(".")>-1&&o===Q?i[o].v.indexOf(".")-1:i[o].v.length-1,z=i[o].v.substr(u+1);u>=0;--u)M>=0&&("0"===i[o].v.charAt(u)||"#"===i[o].v.charAt(u))&&(z=R.charAt(M--)+z);i[o].v=z,i[o].t="t",J=o}for(M>=0&&J<i.length&&(i[J].v=R.substr(0,M+1)+i[J].v),M=R.indexOf(".")+1,o=Q;o<i.length;++o)if(null!=i[o]&&(-1!=="n?(".indexOf(i[o].t)||o===Q)){for(u=i[o].v.indexOf(".")>-1&&o===Q?i[o].v.indexOf(".")+1:0,z=i[o].v.substr(0,u);u<i[o].v.length;++u)M<R.length&&(z+=R.charAt(M++));i[o].v=z,i[o].t="t",J=o}}}for(o=0;o<i.length;++o)null!=i[o]&&"n?".indexOf(i[o].t)>-1&&(i[o].v=Wl(i[o].t,i[o].v,B=r>1&&e<0&&o>0&&"-"===i[o-1].v?-e:e),i[o].t="t");var ce="";for(o=0;o!==i.length;++o)null!=i[o]&&(ce+=i[o].v);return ce}(i[1],e,n,i[0])}function Gc(t,e){if("number"!=typeof e){e=+e||-1;for(var n=0;n<392;++n)if(null!=Vt[n]){if(Vt[n]==t){e=n;break}}else e<0&&(e=n);e<0&&(e=391)}return Vt[e]=t,e}function eg(){Vt=function rpe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',t}()}var Tpe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},pH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Spe=function(){var t={version:"1.2.0"},n=function e(){for(var R=0,Q=new Array(256),J=0;256!=J;++J)Q[J]=R=1&(R=1&(R=1&(R=1&(R=1&(R=1&(R=1&(R=1&(R=J)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1;return typeof Int32Array<"u"?new Int32Array(Q):Q}(),i=function r(R){var Q=0,J=0,ce=0,ve=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ce=0;256!=ce;++ce)ve[ce]=R[ce];for(ce=0;256!=ce;++ce)for(J=R[ce],Q=256+ce;Q<4096;Q+=256)J=ve[Q]=J>>>8^R[255&J];var ne=[];for(ce=1;16!=ce;++ce)ne[ce-1]=typeof Int32Array<"u"?ve.subarray(256*ce,256*ce+256):ve.slice(256*ce,256*ce+256);return ne}(n),s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],d=i[6],p=i[7],m=i[8],y=i[9],_=i[10],x=i[11],E=i[12],b=i[13],w=i[14];return t.table=n,t.bstr=function M(R,Q){for(var J=-1^Q,ce=0,ve=R.length;ce<ve;)J=J>>>8^n[255&(J^R.charCodeAt(ce++))];return~J},t.buf=function z(R,Q){for(var J=-1^Q,ce=R.length-15,ve=0;ve<ce;)J=w[R[ve++]^255&J]^b[R[ve++]^J>>8&255]^E[R[ve++]^J>>16&255]^x[R[ve++]^J>>>24]^_[R[ve++]]^y[R[ve++]]^m[R[ve++]]^p[R[ve++]]^d[R[ve++]]^u[R[ve++]]^l[R[ve++]]^c[R[ve++]]^a[R[ve++]]^o[R[ve++]]^s[R[ve++]]^n[R[ve++]];for(ce+=15;ve<ce;)J=J>>>8^n[255&(J^R[ve++])];return~J},t.str=function B(R,Q){for(var J=-1^Q,ce=0,ve=R.length,ne=0,Ke=0;ce<ve;)(ne=R.charCodeAt(ce++))<128?J=J>>>8^n[255&(J^ne)]:ne<2048?J=(J=J>>>8^n[255&(J^(192|ne>>6&31))])>>>8^n[255&(J^(128|63&ne))]:ne>=55296&&ne<57344?(ne=64+(1023&ne),Ke=1023&R.charCodeAt(ce++),J=(J=(J=(J=J>>>8^n[255&(J^(240|ne>>8&7))])>>>8^n[255&(J^(128|ne>>2&63))])>>>8^n[255&(J^(128|Ke>>6&15|(3&ne)<<4))])>>>8^n[255&(J^(128|63&Ke))]):J=(J=(J=J>>>8^n[255&(J^(224|ne>>12&15))])>>>8^n[255&(J^(128|ne>>6&63))])>>>8^n[255&(J^(128|63&ne))];return~J},t}(),Mt=function(){var c,e={};function r(S){if("/"==S.charAt(S.length-1))return-1===S.slice(0,-1).indexOf("/")?S:r(S.slice(0,-1));var N=S.lastIndexOf("/");return-1===N?S:S.slice(0,N+1)}function i(S){if("/"==S.charAt(S.length-1))return i(S.slice(0,-1));var N=S.lastIndexOf("/");return-1===N?S:S.slice(N+1)}function s(S,N){"string"==typeof N&&(N=new Date(N));var P=N.getHours();P=(P=P<<6|N.getMinutes())<<5|N.getSeconds()>>>1,S.write_shift(2,P);var O=N.getFullYear()-1980;O=(O=O<<4|N.getMonth()+1)<<5|N.getDate(),S.write_shift(2,O)}function a(S){Es(S,0);for(var N={},P=0;S.l<=S.length-4;){var O=S.read_shift(2),L=S.read_shift(2),V=S.l+L,ue={};21589===O&&(1&(P=S.read_shift(1))&&(ue.mtime=S.read_shift(4)),L>5&&(2&P&&(ue.atime=S.read_shift(4)),4&P&&(ue.ctime=S.read_shift(4))),ue.mtime&&(ue.mt=new Date(1e3*ue.mtime))),S.l=V,N[O]=ue}return N}function l(){return c||(c={})}function u(S,N){if(80==S[0]&&75==S[1])return VG(S,N);if(109==(32|S[0])&&105==(32|S[1]))return function lDe(S,N){if("mime-version:"!=Le(S.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var P=N&&N.root||"",O=(_n&&Buffer.isBuffer(S)?S.toString("binary"):Le(S)).split("\r\n"),L=0,V="";for(L=0;L<O.length;++L)if(/^Content-Location:/i.test(V=O[L])&&(V=V.slice(V.indexOf("file")),P||(P=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,P.length)!=P))for(;P.length>0&&(P=(P=P.slice(0,P.length-1)).slice(0,P.lastIndexOf("/")+1),V.slice(0,P.length)!=P););var ue=(O[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var Ie="--"+(ue[1]||""),_e={FileIndex:[],FullPaths:[]};R(_e);var Ze,rt=0;for(L=0;L<O.length;++L){var Tt=O[L];Tt!==Ie&&Tt!==Ie+"--"||(rt++&&cDe(_e,O.slice(Ze,L),P),Ze=L)}return _e}(S,N);if(S.length<512)throw new Error("CFB file size "+S.length+" < 512");var P,L,V,ue,Ie,he,O=512,de=[],_e=S.slice(0,512);Es(_e,0);var Ze=function d(S){if(80==S[S.l]&&75==S[S.l+1])return[0,0];S.chk(_t,"Header Signature: "),S.l+=16;var N=S.read_shift(2,"u");return[S.read_shift(2,"u"),N]}(_e);switch(P=Ze[0]){case 3:O=512;break;case 4:O=4096;break;case 0:if(0==Ze[1])return VG(S,N);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}512!==O&&Es(_e=S.slice(0,O),28);var rt=S.slice(0,O);!function p(S,N){var P;switch(S.l+=2,P=S.read_shift(2)){case 9:if(3!=N)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(4!=N)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}S.chk("0600","Mini Sector Shift: "),S.chk("000000000000","Reserved: ")}(_e,P);var Tt=_e.read_shift(4,"i");if(3===P&&0!==Tt)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);_e.l+=4,ue=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),Ie=_e.read_shift(4,"i"),L=_e.read_shift(4,"i"),he=_e.read_shift(4,"i"),V=_e.read_shift(4,"i");for(var it=-1,ut=0;ut<109&&!((it=_e.read_shift(4,"i"))<0);++ut)de[ut]=it;var tn=function m(S,N){for(var P=Math.ceil(S.length/N)-1,O=[],L=1;L<P;++L)O[L-1]=S.slice(L*N,(L+1)*N);return O[P-1]=S.slice(P*N),O}(S,O);x(he,V,tn,O,de);var Lr=function b(S,N,P,O){var L=S.length,V=[],ue=[],Ie=[],he=[],de=O-1,_e=0,Ze=0,rt=0,Tt=0;for(_e=0;_e<L;++_e)if(Ie=[],(rt=_e+N)>=L&&(rt-=L),!ue[rt]){he=[];var it=[];for(Ze=rt;Ze>=0;){it[Ze]=!0,ue[Ze]=!0,Ie[Ie.length]=Ze,he.push(S[Ze]);var ut=P[Math.floor(4*Ze/O)];if(O<4+(Tt=4*Ze&de))throw new Error("FAT boundary crossed: "+Ze+" 4 "+O);if(!S[ut]||it[Ze=zf(S[ut],Tt)])break}V[rt]={nodes:Ie,data:LH([he])}}return V}(tn,ue,de,O);Lr[ue].name="!Directory",L>0&&Ie!==Ke&&(Lr[Ie].name="!MiniFAT"),Lr[de[0]].name="!FAT",Lr.fat_addrs=de,Lr.ssz=O;var Oi=[],ra=[],qy=[];(function w(S,N,P,O,L,V,ue,Ie){for(var Tt,he=0,de=O.length?2:0,_e=N[S].data,Ze=0,rt=0;Ze<_e.length;Ze+=128){var it=_e.slice(Ze,Ze+128);Es(it,64),rt=it.read_shift(2),Tt=FE(it,0,rt-de),O.push(Tt);var ut={name:Tt,type:it.read_shift(1),color:it.read_shift(1),L:it.read_shift(4,"i"),R:it.read_shift(4,"i"),C:it.read_shift(4,"i"),clsid:it.read_shift(16),state:it.read_shift(4,"i"),start:0,size:0};0!==it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2)&&(ut.ct=M(it,it.l-8)),0!==it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2)&&(ut.mt=M(it,it.l-8)),ut.start=it.read_shift(4,"i"),ut.size=it.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=Ke,ut.name=""),5===ut.type?(he=ut.start,L>0&&he!==Ke&&(N[he].name="!StreamData")):ut.size>=4096?(ut.storage="fat",void 0===N[ut.start]&&(N[ut.start]=E(P,ut.start,N.fat_addrs,N.ssz)),N[ut.start].name=ut.name,ut.content=N[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:he!==Ke&&ut.start!==Ke&&N[he]&&(ut.content=_(ut,N[he].data,(N[Ie]||{}).data))),ut.content&&Es(ut.content,0),V[Tt]=ut,ue.push(ut)}})(ue,Lr,tn,Oi,L,{},ra,Ie),function y(S,N,P){for(var O=0,L=0,V=0,ue=0,Ie=0,he=P.length,de=[],_e=[];O<he;++O)de[O]=_e[O]=O,N[O]=P[O];for(;Ie<_e.length;++Ie)L=S[O=_e[Ie]].L,V=S[O].R,ue=S[O].C,de[O]===O&&(-1!==L&&de[L]!==L&&(de[O]=de[L]),-1!==V&&de[V]!==V&&(de[O]=de[V])),-1!==ue&&(de[ue]=O),-1!==L&&O!=de[O]&&(de[L]=de[O],_e.lastIndexOf(L)<Ie&&_e.push(L)),-1!==V&&O!=de[O]&&(de[V]=de[O],_e.lastIndexOf(V)<Ie&&_e.push(V));for(O=1;O<he;++O)de[O]===O&&(-1!==V&&de[V]!==V?de[O]=de[V]:-1!==L&&de[L]!==L&&(de[O]=de[L]));for(O=1;O<he;++O)if(0!==S[O].type){if((Ie=O)!=de[Ie])do{N[O]=N[Ie=de[Ie]]+"/"+N[O]}while(0!==Ie&&-1!==de[Ie]&&Ie!=de[Ie]);de[O]=-1}for(N[0]+="/",O=1;O<he;++O)2!==S[O].type&&(N[O]+="/")}(ra,qy,Oi),Oi.shift();var Ky={FileIndex:ra,FullPaths:qy};return N&&N.raw&&(Ky.raw={header:rt,sectors:tn}),Ky}function _(S,N,P){for(var L=S.size,V=[],ue=S.start;P&&L>0&&ue>=0;)V.push(N.slice(ue*ne,ue*ne+ne)),L-=ne,ue=zf(P,4*ue);return 0===V.length?Te(0):cs(V).slice(0,S.size)}function x(S,N,P,O,L){var V=Ke;if(S===Ke){if(0!==N)throw new Error("DIFAT chain shorter than expected")}else if(-1!==S){var ue=P[S],Ie=(O>>>2)-1;if(!ue)return;for(var he=0;he<Ie&&(V=zf(ue,4*he))!==Ke;++he)L.push(V);x(zf(ue,O-4),N-1,P,O,L)}}function E(S,N,P,O,L){var V=[],ue=[];L||(L=[]);var Ie=O-1,he=0,de=0;for(he=N;he>=0;){L[he]=!0,V[V.length]=he,ue.push(S[he]);var _e=P[Math.floor(4*he/O)];if(O<4+(de=4*he&Ie))throw new Error("FAT boundary crossed: "+he+" 4 "+O);if(!S[_e])break;he=zf(S[_e],de)}return{nodes:V,data:LH([ue])}}function M(S,N){return new Date(1e3*(ls(S,N+4)/1e7*Math.pow(2,32)+ls(S,N)/1e7-11644473600))}function R(S,N){var P=N||{},O=P.root||"Root Entry";if(S.FullPaths||(S.FullPaths=[]),S.FileIndex||(S.FileIndex=[]),S.FullPaths.length!==S.FileIndex.length)throw new Error("inconsistent CFB structure");0===S.FullPaths.length&&(S.FullPaths[0]=O+"/",S.FileIndex[0]={name:O,type:5}),P.CLSID&&(S.FileIndex[0].clsid=P.CLSID),function Q(S){var N="\x01Sh33tJ5";if(!Mt.find(S,"/"+N)){var P=Te(4);P[0]=55,P[1]=P[3]=50,P[2]=54,S.FileIndex.push({name:N,type:2,content:P,size:4,L:69,R:69,C:69}),S.FullPaths.push(S.FullPaths[0]+N),J(S)}}(S)}function J(S,N){R(S);for(var P=!1,O=!1,L=S.FullPaths.length-1;L>=0;--L){var V=S.FileIndex[L];switch(V.type){case 0:O?P=!0:(S.FileIndex.pop(),S.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(V.R*V.L*V.C)&&(P=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(P=!0);break;default:P=!0}}if(P||N){var ue=new Date(1987,1,19),Ie=0,he=Object.create?Object.create(null):{},de=[];for(L=0;L<S.FullPaths.length;++L)he[S.FullPaths[L]]=!0,0!==S.FileIndex[L].type&&de.push([S.FullPaths[L],S.FileIndex[L]]);for(L=0;L<de.length;++L){var _e=r(de[L][0]);(O=he[_e])||(de.push([_e,{name:i(_e).replace("/",""),type:1,clsid:De,ct:ue,mt:ue,content:null}]),he[_e]=!0)}for(de.sort(function(Tt,it){return function n(S,N){for(var P=S.split("/"),O=N.split("/"),L=0,V=0,ue=Math.min(P.length,O.length);L<ue;++L){if(V=P[L].length-O[L].length)return V;if(P[L]!=O[L])return P[L]<O[L]?-1:1}return P.length-O.length}(Tt[0],it[0])}),S.FullPaths=[],S.FileIndex=[],L=0;L<de.length;++L)S.FullPaths[L]=de[L][0],S.FileIndex[L]=de[L][1];for(L=0;L<de.length;++L){var Ze=S.FileIndex[L],rt=S.FullPaths[L];if(Ze.name=i(rt).replace("/",""),Ze.L=Ze.R=Ze.C=-(Ze.color=1),Ze.size=Ze.content?Ze.content.length:0,Ze.start=0,Ze.clsid=Ze.clsid||De,0===L)Ze.C=de.length>1?1:-1,Ze.size=0,Ze.type=5;else if("/"==rt.slice(-1)){for(Ie=L+1;Ie<de.length&&r(S.FullPaths[Ie])!=rt;++Ie);for(Ze.C=Ie>=de.length?-1:Ie,Ie=L+1;Ie<de.length&&r(S.FullPaths[Ie])!=r(rt);++Ie);Ze.R=Ie>=de.length?-1:Ie,Ze.type=1}else r(S.FullPaths[L+1]||"")==r(rt)&&(Ze.R=L+1),Ze.type=2}}}function ce(S,N){var P=N||{};if("mad"==P.fileType)return function uDe(S,N){for(var P=N||{},O=P.boundary||"SheetJS",L=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(O="------="+O).slice(2)+'"',"","",""],V=S.FullPaths[0],ue=V,Ie=S.FileIndex[0],he=1;he<S.FullPaths.length;++he)if(ue=S.FullPaths[he].slice(V.length),(Ie=S.FileIndex[he]).size&&Ie.content&&"\x01Sh33tJ5"!=ue){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(tn){return"_x"+tn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(tn){return"_u"+tn.charCodeAt(0).toString(16)+"_"});for(var de=Ie.content,_e=_n&&Buffer.isBuffer(de)?de.toString("binary"):Le(de),Ze=0,rt=Math.min(1024,_e.length),Tt=0,it=0;it<=rt;++it)(Tt=_e.charCodeAt(it))>=32&&Tt<128&&++Ze;var ut=Ze>=4*rt/5;L.push(O),L.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+ue),L.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),L.push("Content-Type: "+iDe(Ie,ue)),L.push(""),L.push(ut?oDe(_e):sDe(_e))}return L.push(O+"--\r\n"),L.join("\r\n")}(S,P);if("zip"===(J(S),P.fileType))return function rDe(S,N){var P=N||{},O=[],L=[],V=Te(1),ue=P.compression?8:0,Ie=0,de=0,_e=0,Ze=0,rt=0,Tt=S.FullPaths[0],it=Tt,ut=S.FileIndex[0],tn=[],Lr=0;for(de=1;de<S.FullPaths.length;++de)if(it=S.FullPaths[de].slice(Tt.length),(ut=S.FileIndex[de]).size&&ut.content&&"\x01Sh33tJ5"!=it){var ko=Ze,Oi=Te(it.length);for(_e=0;_e<it.length;++_e)Oi.write_shift(1,127&it.charCodeAt(_e));Oi=Oi.slice(0,Oi.l),tn[rt]=Spe.buf(ut.content,0);var ra=ut.content;8==ue&&(ra=W(ra)),(V=Te(30)).write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,Ie),V.write_shift(2,ue),ut.mt?s(V,ut.mt):V.write_shift(4,0),V.write_shift(-4,8&Ie?0:tn[rt]),V.write_shift(4,8&Ie?0:ra.length),V.write_shift(4,8&Ie?0:ut.content.length),V.write_shift(2,Oi.length),V.write_shift(2,0),Ze+=V.length,O.push(V),Ze+=Oi.length,O.push(Oi),Ze+=ra.length,O.push(ra),8&Ie&&((V=Te(12)).write_shift(-4,tn[rt]),V.write_shift(4,ra.length),V.write_shift(4,ut.content.length),Ze+=V.l,O.push(V)),(V=Te(46)).write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,Ie),V.write_shift(2,ue),V.write_shift(4,0),V.write_shift(-4,tn[rt]),V.write_shift(4,ra.length),V.write_shift(4,ut.content.length),V.write_shift(2,Oi.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,ko),Lr+=V.l,L.push(V),Lr+=Oi.length,L.push(Oi),++rt}return(V=Te(22)).write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,rt),V.write_shift(2,rt),V.write_shift(4,Lr),V.write_shift(4,Ze),V.write_shift(2,0),cs([cs(O),cs(L),V])}(S,P);var O=function(Tt){for(var it=0,ut=0,tn=0;tn<Tt.FileIndex.length;++tn){var Lr=Tt.FileIndex[tn];if(Lr.content){var ko=Lr.content.length;ko>0&&(ko<4096?it+=ko+63>>6:ut+=ko+511>>9)}}for(var Oi=Tt.FullPaths.length+3>>2,qy=it+127>>7,Ky=(it+7>>3)+ut+Oi+qy,mh=Ky+127>>7,UP=mh<=109?0:Math.ceil((mh-109)/127);Ky+mh+UP+127>>7>mh;)UP=++mh<=109?0:Math.ceil((mh-109)/127);var Jl=[1,UP,mh,qy,Oi,ut,it,0];return Tt.FileIndex[0].size=it<<6,Jl[7]=(Tt.FileIndex[0].start=Jl[0]+Jl[1]+Jl[2]+Jl[3]+Jl[4]+Jl[5])+(Jl[6]+7>>3),Jl}(S),L=Te(O[7]<<9),V=0,ue=0;for(V=0;V<8;++V)L.write_shift(1,Qe[V]);for(V=0;V<8;++V)L.write_shift(2,0);for(L.write_shift(2,62),L.write_shift(2,3),L.write_shift(2,65534),L.write_shift(2,9),L.write_shift(2,6),V=0;V<3;++V)L.write_shift(2,0);for(L.write_shift(4,0),L.write_shift(4,O[2]),L.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),L.write_shift(4,0),L.write_shift(4,4096),L.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:Ke),L.write_shift(4,O[3]),L.write_shift(-4,O[1]?O[0]-1:Ke),L.write_shift(4,O[1]),V=0;V<109;++V)L.write_shift(-4,V<O[2]?O[1]+V:-1);if(O[1])for(ue=0;ue<O[1];++ue){for(;V<236+127*ue;++V)L.write_shift(-4,V<O[2]?O[1]+V:-1);L.write_shift(-4,ue===O[1]-1?Ke:ue+1)}var Ie=function(Tt){for(ue+=Tt;V<ue-1;++V)L.write_shift(-4,V+1);Tt&&(++V,L.write_shift(-4,Ke))};for(ue=V=0,ue+=O[1];V<ue;++V)L.write_shift(-4,ke.DIFSECT);for(ue+=O[2];V<ue;++V)L.write_shift(-4,ke.FATSECT);Ie(O[3]),Ie(O[4]);for(var he=0,de=0,_e=S.FileIndex[0];he<S.FileIndex.length;++he)(_e=S.FileIndex[he]).content&&!((de=_e.content.length)<4096)&&(_e.start=ue,Ie(de+511>>9));for(Ie(O[6]+7>>3);511&L.l;)L.write_shift(-4,ke.ENDOFCHAIN);for(ue=V=0,he=0;he<S.FileIndex.length;++he)(_e=S.FileIndex[he]).content&&(de=_e.content.length)&&!(de>=4096)&&(_e.start=ue,Ie(de+63>>6));for(;511&L.l;)L.write_shift(-4,ke.ENDOFCHAIN);for(V=0;V<O[4]<<2;++V){var Ze=S.FullPaths[V];if(Ze&&0!==Ze.length){_e=S.FileIndex[V],0===V&&(_e.start=_e.size?_e.start-1:Ke);var rt=0===V&&P.root||_e.name;if(de=2*(rt.length+1),L.write_shift(64,rt,"utf16le"),L.write_shift(2,de),L.write_shift(1,_e.type),L.write_shift(1,_e.color),L.write_shift(-4,_e.L),L.write_shift(-4,_e.R),L.write_shift(-4,_e.C),_e.clsid)L.write_shift(16,_e.clsid,"hex");else for(he=0;he<4;++he)L.write_shift(4,0);L.write_shift(4,_e.state||0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,_e.start),L.write_shift(4,_e.size),L.write_shift(4,0)}else{for(he=0;he<17;++he)L.write_shift(4,0);for(he=0;he<3;++he)L.write_shift(4,-1);for(he=0;he<12;++he)L.write_shift(4,0)}}for(V=1;V<S.FileIndex.length;++V)if((_e=S.FileIndex[V]).size>=4096)if(L.l=_e.start+1<<9,_n&&Buffer.isBuffer(_e.content))_e.content.copy(L,L.l,0,_e.size),L.l+=_e.size+511&-512;else{for(he=0;he<_e.size;++he)L.write_shift(1,_e.content[he]);for(;511&he;++he)L.write_shift(1,0)}for(V=1;V<S.FileIndex.length;++V)if((_e=S.FileIndex[V]).size>0&&_e.size<4096)if(_n&&Buffer.isBuffer(_e.content))_e.content.copy(L,L.l,0,_e.size),L.l+=_e.size+63&-64;else{for(he=0;he<_e.size;++he)L.write_shift(1,_e.content[he]);for(;63&he;++he)L.write_shift(1,0)}if(_n)L.l=L.length;else for(;L.l<L.length;)L.write_shift(1,0);return L}e.version="1.2.1";var Se,ne=64,Ke=-2,_t="d0cf11e0a1b11ae1",Qe=[208,207,17,224,161,177,26,225],De="00000000000000000000000000000000",ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ke,FREESECT:-1,HEADER_SIGNATURE:_t,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:De,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Le(S){for(var N=new Array(S.length),P=0;P<S.length;++P)N[P]=String.fromCharCode(S[P]);return N.join("")}function W(S){return Se?Se.deflateRawSync(S):En(S)}for(var S,N,K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],We=typeof Uint8Array<"u",Fe=We?new Uint8Array(256):[],Xt=0;Xt<256;++Xt)Fe[Xt]=(void 0,255&((N=139536&((S=Xt)<<1|S<<11)|558144&(S<<5|S<<15))>>16|N>>8|N));function H(S,N){var P=Fe[255&S];return N<=8?P>>>8-N:(P=P<<8|Fe[S>>8&255],N<=16?P>>>16-N:(P=P<<8|Fe[S>>16&255])>>>24-N)}function ir(S,N){var P=7&N,O=N>>>3;return(S[O]|(P<=6?0:S[O+1]<<8))>>>P&3}function An(S,N){var P=7&N,O=N>>>3;return(S[O]|(P<=5?0:S[O+1]<<8))>>>P&7}function Dn(S,N){var P=7&N,O=N>>>3;return(S[O]|(P<=3?0:S[O+1]<<8))>>>P&31}function gt(S,N){var P=7&N,O=N>>>3;return(S[O]|(P<=1?0:S[O+1]<<8))>>>P&127}function Ei(S,N,P){var O=7&N,L=N>>>3,ue=S[L]>>>O;return P<8-O||(ue|=S[L+1]<<8-O,P<16-O)||(ue|=S[L+2]<<16-O,P<24-O)||(ue|=S[L+3]<<24-O),ue&(1<<P)-1}function ja(S,N,P){var O=7&N,L=N>>>3;return O<=5?S[L]|=(7&P)<<O:(S[L]|=P<<O&255,S[L+1]=(7&P)>>8-O),N+3}function nl(S,N,P){return S[N>>>3]|=P=(1&P)<<(7&N),N+1}function Xl(S,N,P){var L=N>>>3;return S[L]|=255&(P<<=7&N),S[L+1]=P>>>=8,N+8}function Wy(S,N,P){var L=N>>>3;return S[L]|=255&(P<<=7&N),S[L+1]=255&(P>>>=8),S[L+2]=P>>>8,N+16}function Id(S,N){var P=S.length,O=2*P>N?2*P:N+5,L=0;if(P>=N)return S;if(_n){var V=Y9(O);if(S.copy)S.copy(V);else for(;L<S.length;++L)V[L]=S[L];return V}if(We){var ue=new Uint8Array(O);if(ue.set)ue.set(S);else for(;L<P;++L)ue[L]=S[L];return ue}return S.length=O,S}function na(S){for(var N=new Array(S),P=0;P<S;++P)N[P]=0;return N}function Ql(S,N,P){var O=1,L=0,V=0,ue=0,Ie=0,he=S.length,de=We?new Uint16Array(32):na(32);for(V=0;V<32;++V)de[V]=0;for(V=he;V<P;++V)S[V]=0;he=S.length;var _e=We?new Uint16Array(he):na(he);for(V=0;V<he;++V)de[L=S[V]]++,O<L&&(O=L),_e[V]=0;for(de[0]=0,V=1;V<=O;++V)de[V+16]=Ie=Ie+de[V-1]<<1;for(V=0;V<he;++V)0!=(Ie=S[V])&&(_e[V]=de[Ie+16]++);var Ze=0;for(V=0;V<he;++V)if(0!=(Ze=S[V]))for(Ie=H(_e[V],O)>>O-Ze,ue=(1<<O+4-Ze)-1;ue>=0;--ue)N[Ie|ue<<Ze]=15&Ze|V<<4;return O}var Cd=We?new Uint16Array(512):na(512),Gy=We?new Uint16Array(32):na(32);if(!We){for(var go=0;go<512;++go)Cd[go]=0;for(go=0;go<32;++go)Gy[go]=0}!function(){for(var S=[],N=0;N<32;N++)S.push(5);Ql(S,Gy,32);var P=[];for(N=0;N<=143;N++)P.push(8);for(;N<=255;N++)P.push(9);for(;N<=279;N++)P.push(7);for(;N<=287;N++)P.push(8);Ql(P,Cd,288)}();var rl=function(){for(var N=We?new Uint8Array(32768):[],P=0,O=0;P<Ge.length-1;++P)for(;O<Ge[P+1];++O)N[O]=P;for(;O<32768;++O)N[O]=29;var L=We?new Uint8Array(259):[];for(P=0,O=0;P<Ae.length-1;++P)for(;O<Ae[P+1];++O)L[O]=P;return function(he,de){return he.length<8?function V(Ie,he){for(var de=0;de<Ie.length;){var _e=Math.min(65535,Ie.length-de);for(he.write_shift(1,+(de+_e==Ie.length)),he.write_shift(2,_e),he.write_shift(2,65535&~_e);_e-- >0;)he[he.l++]=Ie[de++]}return he.l}(he,de):function ue(Ie,he){for(var de=0,_e=0,Ze=We?new Uint16Array(32768):[];_e<Ie.length;){var rt=Math.min(65535,Ie.length-_e);if(rt<10){for(7&(de=ja(he,de,+(_e+rt==Ie.length)))&&(de+=8-(7&de)),he.l=de/8|0,he.write_shift(2,rt),he.write_shift(2,65535&~rt);rt-- >0;)he[he.l++]=Ie[_e++];de=8*he.l}else{de=ja(he,de,+(_e+rt==Ie.length)+2);for(var Tt=0;rt-- >0;){var it=Ie[_e],ut=-1,tn=0;if((ut=Ze[Tt=32767&(Tt<<5^it)])&&((ut|=-32768&_e)>_e&&(ut-=32768),ut<_e))for(;Ie[ut+tn]==Ie[_e+tn]&&tn<250;)++tn;if(tn>2){(it=L[tn])<=22?de=Xl(he,de,Fe[it+1]>>1)-1:(Xl(he,de,3),Xl(he,de+=5,Fe[it-23]>>5),de+=3);var Lr=it<8?0:it-4>>2;Lr>0&&(Wy(he,de,tn-Ae[it]),de+=Lr),de=Xl(he,de,Fe[it=N[_e-ut]]>>3),de-=3;var ko=it<4?0:it-2>>1;ko>0&&(Wy(he,de,_e-ut-Ge[it]),de+=ko);for(var Oi=0;Oi<tn;++Oi)Ze[Tt]=32767&_e,Tt=32767&(Tt<<5^Ie[_e]),++_e;rt-=tn-1}else it<=143?it+=48:de=nl(he,de,1),de=Xl(he,de,Fe[it]),Ze[Tt]=32767&_e,++_e}de=Xl(he,de,0)-1}}return he.l=(de+7)/8|0,he.l}(he,de)}}();function En(S){var N=Te(50+Math.floor(1.1*S.length)),P=rl(S,N);return N.slice(0,P)}var Ti=We?new Uint16Array(32768):na(32768),Ha=We?new Uint16Array(32768):na(32768),Zi=We?new Uint16Array(128):na(128),ph=1,OG=1;function eDe(S,N){var P=Dn(S,N)+257,O=Dn(S,N+=5)+1,L=function sr(S,N){var P=7&N,O=N>>>3;return(S[O]|(P<=4?0:S[O+1]<<8))>>>P&15}(S,N+=5)+4;N+=4;for(var V=0,ue=We?new Uint8Array(19):na(19),Ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,de=We?new Uint8Array(8):na(8),_e=We?new Uint8Array(8):na(8),Ze=ue.length,rt=0;rt<L;++rt)ue[K[rt]]=V=An(S,N),he<V&&(he=V),de[V]++,N+=3;var Tt=0;for(de[0]=0,rt=1;rt<=he;++rt)_e[rt]=Tt=Tt+de[rt-1]<<1;for(rt=0;rt<Ze;++rt)0!=(Tt=ue[rt])&&(Ie[rt]=_e[Tt]++);var it=0;for(rt=0;rt<Ze;++rt)if(0!=(it=ue[rt])){Tt=Fe[Ie[rt]]>>8-it;for(var ut=(1<<7-it)-1;ut>=0;--ut)Zi[Tt|ut<<it]=7&it|rt<<3}var tn=[];for(he=1;tn.length<P+O;)switch(Tt=Zi[gt(S,N)],N+=7&Tt,Tt>>>=3){case 16:for(V=3+ir(S,N),N+=2,Tt=tn[tn.length-1];V-- >0;)tn.push(Tt);break;case 17:for(V=3+An(S,N),N+=3;V-- >0;)tn.push(0);break;case 18:for(V=11+gt(S,N),N+=7;V-- >0;)tn.push(0);break;default:tn.push(Tt),he<Tt&&(he=Tt)}var Lr=tn.slice(0,P),ko=tn.slice(P);for(rt=P;rt<286;++rt)Lr[rt]=0;for(rt=O;rt<30;++rt)ko[rt]=0;return ph=Ql(Lr,Ti,286),OG=Ql(ko,Ha,30),N}function NG(S,N){var O=function tDe(S,N){if(3==S[0]&&!(3&S[1]))return[ad(N),2];for(var P=0,O=0,L=Y9(N||1<<18),V=0,ue=L.length>>>0,Ie=0,he=0;!(1&O);)if(O=An(S,P),P+=3,O>>>1)for(O>>1==1?(Ie=9,he=5):(P=eDe(S,P),Ie=ph,he=OG);;){!N&&ue<V+32767&&(ue=(L=Id(L,V+32767)).length);var _e=Ei(S,P,Ie),Ze=O>>>1==1?Cd[_e]:Ti[_e];if(P+=15&Ze,(Ze>>>=4)>>>8&255){if(256==Ze)break;var rt=(Ze-=257)<8?0:Ze-4>>2;rt>5&&(rt=0);var Tt=V+Ae[Ze];rt>0&&(Tt+=Ei(S,P,rt),P+=rt),_e=Ei(S,P,he),P+=15&(Ze=O>>>1==1?Gy[_e]:Ha[_e]);var it=(Ze>>>=4)<4?0:Ze-2>>1,ut=Ge[Ze];for(it>0&&(ut+=Ei(S,P,it),P+=it),!N&&ue<Tt&&(ue=(L=Id(L,Tt+100)).length);V<Tt;)L[V]=L[V-ut],++V}else L[V++]=Ze}else{7&P&&(P+=8-(7&P));var de=S[P>>>3]|S[1+(P>>>3)]<<8;if(P+=32,de>0)for(!N&&ue<V+de&&(ue=(L=Id(L,V+de)).length);de-- >0;)L[V++]=S[P>>>3],P+=8}return N?[L,P+7>>>3]:[L.slice(0,V),P+7>>>3]}(S.slice(S.l||0),N);return S.l+=O[1],O[0]}function LG(S,N){if(!S)throw new Error(N);typeof console<"u"&&console.error(N)}function VG(S,N){var P=S;Es(P,0);var V={FileIndex:[],FullPaths:[]};R(V,{root:N.root});for(var ue=P.length-4;(80!=P[ue]||75!=P[ue+1]||5!=P[ue+2]||6!=P[ue+3])&&ue>=0;)--ue;P.l=ue+4,P.l+=4;var Ie=P.read_shift(2);P.l+=6;var he=P.read_shift(4);for(P.l=he,ue=0;ue<Ie;++ue){P.l+=20;var de=P.read_shift(4),_e=P.read_shift(4),Ze=P.read_shift(2),rt=P.read_shift(2),Tt=P.read_shift(2);P.l+=8;var it=P.read_shift(4),ut=a(P.slice(P.l+Ze,P.l+Ze+rt));P.l+=Ze+rt+Tt;var tn=P.l;P.l=it+4,nDe(P,de,_e,V,ut),P.l=tn}return V}function nDe(S,N,P,O,L){S.l+=2;var V=S.read_shift(2),ue=S.read_shift(2),Ie=function o(S){var N=65535&S.read_shift(2),P=65535&S.read_shift(2),O=new Date,L=31&P,V=15&(P>>>=5);P>>>=4,O.setMilliseconds(0),O.setFullYear(P+1980),O.setMonth(V-1),O.setDate(L);var ue=31&N,Ie=63&(N>>>=5);return O.setHours(N>>>=6),O.setMinutes(Ie),O.setSeconds(ue<<1),O}(S);if(8257&V)throw new Error("Unsupported ZIP encryption");S.read_shift(4);for(var de=S.read_shift(4),_e=S.read_shift(4),Ze=S.read_shift(2),rt=S.read_shift(2),Tt="",it=0;it<Ze;++it)Tt+=String.fromCharCode(S[S.l++]);if(rt){var ut=a(S.slice(S.l,S.l+rt));(ut[21589]||{}).mt&&(Ie=ut[21589].mt),((L||{})[21589]||{}).mt&&(Ie=L[21589].mt)}S.l+=rt;var tn=S.slice(S.l,S.l+de);switch(ue){case 8:tn=function ae(S,N){if(!Se)return NG(S,N);var O=new(0,Se.InflateRaw),L=O._processChunk(S.slice(S.l),O._finishFlushFlag);return S.l+=O.bytesRead,L}(S,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var Lr=!1;8&V&&(134695760==S.read_shift(4)&&(S.read_shift(4),Lr=!0),de=S.read_shift(4),_e=S.read_shift(4)),de!=N&&LG(Lr,"Bad compressed size: "+N+" != "+de),_e!=P&&LG(Lr,"Bad uncompressed size: "+P+" != "+_e),BP(O,Tt,tn,{unsafe:!0,mt:Ie})}var LT={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function iDe(S,N){if(S.ctype)return S.ctype;var P=S.name||"",O=P.match(/\.([^\.]+)$/);return O&&LT[O[1]]||N&&(O=(P=N).match(/[\.\\]([^\.\\])+$/))&&LT[O[1]]?LT[O[1]]:"application/octet-stream"}function sDe(S){for(var N=Qv(S),P=[],O=0;O<N.length;O+=76)P.push(N.slice(O,O+76));return P.join("\r\n")+"\r\n"}function oDe(S){var N=S.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var _e=de.charCodeAt(0).toString(16).toUpperCase();return"="+(1==_e.length?"0"+_e:_e)});"\n"==(N=N.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(N="=0D"+N.slice(1));for(var P=[],O=(N=N.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),L=0;L<O.length;++L){var V=O[L];if(0!=V.length)for(var ue=0;ue<V.length;){var Ie=76,he=V.slice(ue,ue+Ie);"="==he.charAt(Ie-1)?Ie--:"="==he.charAt(Ie-2)?Ie-=2:"="==he.charAt(Ie-3)&&(Ie-=3),he=V.slice(ue,ue+Ie),(ue+=Ie)<V.length&&(he+="="),P.push(he)}else P.push("")}return P.join("\r\n")}function cDe(S,N,P){for(var ue,O="",L="",V="",Ie=0;Ie<10;++Ie){var he=N[Ie];if(!he||he.match(/^\s*$/))break;var de=he.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":O=de[2].trim();break;case"content-type":V=de[2].trim();break;case"content-transfer-encoding":L=de[2].trim()}}switch(++Ie,L.toLowerCase()){case"base64":ue=Zo(Ko(N.slice(Ie).join("")));break;case"quoted-printable":ue=function aDe(S){for(var N=[],P=0;P<S.length;++P){for(var O=S[P];P<=S.length&&"="==O.charAt(O.length-1);)O=O.slice(0,O.length-1)+S[++P];N.push(O)}for(var L=0;L<N.length;++L)N[L]=N[L].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return Zo(N.join("\r\n"))}(N.slice(Ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+L)}var _e=BP(S,O.slice(P.length),ue,{unsafe:!0});V&&(_e.ctype=V)}function BP(S,N,P,O){var L=O&&O.unsafe;L||R(S);var V=!L&&Mt.find(S,N);if(!V){var ue=S.FullPaths[0];N.slice(0,ue.length)==ue?ue=N:("/"!=ue.slice(-1)&&(ue+="/"),ue=(ue+N).replace("//","/")),V={name:i(N),type:2},S.FileIndex.push(V),S.FullPaths.push(ue),L||Mt.utils.cfb_gc(S)}return V.content=P,V.size=P?P.length:0,O&&(O.CLSID&&(V.clsid=O.CLSID),O.mt&&(V.mt=O.mt),O.ct&&(V.ct=O.ct)),V}return e.find=function ve(S,N){var P=S.FullPaths.map(function(he){return he.toUpperCase()}),O=P.map(function(he){var de=he.split("/");return de[de.length-("/"==he.slice(-1)?2:1)]}),L=!1;47===N.charCodeAt(0)?(L=!0,N=P[0].slice(0,-1)+N):L=-1!==N.indexOf("/");var V=N.toUpperCase(),ue=!0===L?P.indexOf(V):O.indexOf(V);if(-1!==ue)return S.FileIndex[ue];var Ie=!V.match(ey);for(V=V.replace(Fs,""),Ie&&(V=V.replace(ey,"!")),ue=0;ue<P.length;++ue)if((Ie?P[ue].replace(ey,"!"):P[ue]).replace(Fs,"")==V||(Ie?O[ue].replace(ey,"!"):O[ue]).replace(Fs,"")==V)return S.FileIndex[ue];return null},e.read=function B(S,N){var P=N&&N.type;switch(P||_n&&Buffer.isBuffer(S)&&(P="buffer"),P||"base64"){case"file":return function z(S,N){return l(),u(c.readFileSync(S),N)}(S,N);case"base64":return u(Zo(Ko(S)),N);case"binary":return u(Zo(S),N)}return u(S,N)},e.parse=u,e.write=function ot(S,N){var P=ce(S,N);switch(N&&N.type||"buffer"){case"file":return l(),c.writeFileSync(N.filename,P),P;case"binary":return"string"==typeof P?P:Le(P);case"base64":return Qv("string"==typeof P?P:Le(P));case"buffer":if(_n)return Buffer.isBuffer(P)?P:$l(P);case"array":return"string"==typeof P?Zo(P):P}return P},e.writeFile=function et(S,N,P){l();var O=ce(S,P);c.writeFileSync(N,O)},e.utils={cfb_new:function dDe(S){var N={};return R(N,S),N},cfb_add:BP,cfb_del:function fDe(S,N){R(S);var P=Mt.find(S,N);if(P)for(var O=0;O<S.FileIndex.length;++O)if(S.FileIndex[O]==P)return S.FileIndex.splice(O,1),S.FullPaths.splice(O,1),!0;return!1},cfb_mov:function hDe(S,N,P){R(S);var O=Mt.find(S,N);if(O)for(var L=0;L<S.FileIndex.length;++L)if(S.FileIndex[L]==O)return S.FileIndex[L].name=i(P),S.FullPaths[L]=P,!0;return!1},cfb_gc:function pDe(S){J(S,!0)},ReadShift:ay,CheckField:ZH,prep_blob:Es,bconcat:cs,use_zlib:function U(S){try{var P=new(0,S.InflateRaw);if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),!P.bytesRead)throw new Error("zlib does not expose bytesRead");Se=S}catch(O){console.error("cannot use native zlib: "+(O.message||O))}},_deflateRaw:En,_inflateRaw:NG,consts:ke},e}();function oi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function DE(t){for(var e=[],n=oi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var RE=new Date(1899,11,30,0,0,0);function Ki(t,e){var n=t.getTime();return e&&(n-=1263168e5),(n-(RE.getTime()+6e4*(t.getTimezoneOffset()-RE.getTimezoneOffset())))/864e5}var gH=new Date,Rpe=RE.getTime()+6e4*(gH.getTimezoneOffset()-RE.getTimezoneOffset()),_H=gH.getTimezoneOffset();function ME(t){var e=new Date;return e.setTime(24*t*60*60*1e3+Rpe),e.getTimezoneOffset()!==_H&&e.setTime(e.getTime()+6e4*(e.getTimezoneOffset()-_H)),e}function Mpe(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}e+=n*parseInt(i[s],10)}return e}var vH=new Date("2017-02-19T19:06:09.000Z"),yH=isNaN(vH.getFullYear())?new Date("2/19/17"):vH,Ppe=2017==yH.getFullYear();function Zr(t,e){var n=new Date(t);if(Ppe)return e>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):e<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(t instanceof Date)return t;if(1917==yH.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Hf(t,e){if(_n&&Buffer.isBuffer(t)){if(e){if(255==t[0]&&254==t[1])return Kc(t.slice(2).toString("utf16le"));if(254==t[1]&&255==t[2])return Kc(Z9(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(255==t[0]&&254==t[1])return Kc(new TextDecoder("utf-16le").decode(t.slice(2)));if(254==t[0]&&255==t[1])return Kc(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function hr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"!=typeof t||null==t)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=hr(t[n]));return e}function ai(t,e){for(var n="";n.length<e;)n+=t;return n}function sc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(e=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),isNaN(e=Number(r)))?e:e/n}var Fpe=["january","february","march","april","may","june","july","august","september","october","november","december"];function tg(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Fpe.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&101!=r?e:t.match(/[^-0-9:,\/\\]/)?n:e}var Ope=function(){var t=5=="abacaba".split(/(:?b)/i).length;return function(n,r,i){if(t||"string"==typeof r)return n.split(r);for(var s=n.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}}();function xH(t){return t?t.content&&t.type?Hf(t.content,!0):t.data?Xm(t.data):t.asNodeBuffer&&_n?Xm(t.asNodeBuffer().toString("binary")):t.asBinary?Xm(t.asBinary()):t._data&&t._data.getContent?Xm(Hf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function bH(t){if(!t)return null;if(t.data)return IE(t.data);if(t.asNodeBuffer&&_n)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return"string"==typeof e?IE(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Ma(t,e){for(var n=t.FullPaths||oi(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function T2(t,e){var n=Ma(t,e);if(null==n)throw new Error("Cannot find file "+e+" in zip");return n}function ki(t,e,n){if(!n)return function Npe(t){return t&&".bin"===t.name.slice(-4)?bH(t):xH(t)}(T2(t,e));if(!e)return null;try{return ki(t,e)}catch{return null}}function Xo(t,e,n){if(!n)return xH(T2(t,e));if(!e)return null;try{return Xo(t,e)}catch{return null}}function wH(t,e,n){if(!n)return bH(T2(t,e));if(!e)return null;try{return wH(t,e)}catch{return null}}function EH(t){for(var e=t.FullPaths||oi(t.files),n=[],r=0;r<e.length;++r)"/"!=e[r].slice(-1)&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function TH(t,e){switch(e.type){case"base64":return Mt.read(t,{type:"base64"});case"binary":return Mt.read(t,{type:"binary"});case"buffer":case"array":return Mt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function iy(t,e){if("/"==t.charAt(0))return t.slice(1);var n=e.split("/");"/"!=e.slice(-1)&&n.pop();for(var r=t.split("/");0!==r.length;){var i=r.shift();".."===i?n.pop():"."!==i&&n.push(i)}return n.join("/")}var Ri='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Lpe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,IH=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Os=Ri.match(IH)?IH:/<[^>]*>/g,Bpe=/<\w*:/,Upe=/<(\/?)\w+:/;function $t(t,e,n){for(var r={},i=0,s=0;i!==t.length&&32!==(s=t.charCodeAt(i))&&10!==s&&13!==s;++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(Lpe),a=0,c="",l=0,u="",d="",p=1;if(o)for(l=0;l!=o.length;++l){for(d=o[l],s=0;s!=d.length&&61!==d.charCodeAt(s);++s);for(u=d.slice(0,s).trim();32==d.charCodeAt(s+1);)++s;for(p=34==(i=d.charCodeAt(s+1))||39==i?1:0,c=d.slice(s+1+p,d.length-p),a=0;a!=u.length&&58!==u.charCodeAt(a);++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,n||(r[u.toLowerCase()]=c);else{var m=(5===a&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(a+1);if(r[m]&&"ext"==u.slice(a-3,a))continue;r[m]=c,n||(r[m.toLowerCase()]=c)}}return r}function qc(t){return t.replace(Upe,"<$1")}var CH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},C2=DE(CH),$n=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,e=/_x([\da-fA-F]{4})_/gi;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(-1==s)return i.replace(t,function(a,c){return CH[a]||String.fromCharCode(parseInt(c,a.indexOf("x")>-1?16:10))||a}).replace(e,function(a,c){return String.fromCharCode(parseInt(c,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),S2=/[&<>'"]/g,AH=/[\u0000-\u001f]/g;function A2(t){return(t+"").replace(S2,function(n){return C2[n]}).replace(/\n/g,"<br/>").replace(AH,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var DH=function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}}();function Or(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function D2(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0;n<t.length;)(r=t.charCodeAt(n++))<128?e+=String.fromCharCode(r):(i=t.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,e+=String.fromCharCode(o)):(s=t.charCodeAt(n++),r<240?e+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(a=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(o=t.charCodeAt(n++)))-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(1023&a)))));return e}function kH(t){var n,r,a,e=ad(2*t.length),i=1,s=0,o=0;for(r=0;r<t.length;r+=i)i=1,(a=t.charCodeAt(r))<128?n=a:a<224?(n=64*(31&a)+(63&t.charCodeAt(r+1)),i=2):a<240?(n=4096*(15&a)+64*(63&t.charCodeAt(r+1))+(63&t.charCodeAt(r+2)),i=3):(i=4,n=262144*(7&a)+4096*(63&t.charCodeAt(r+1))+64*(63&t.charCodeAt(r+2))+(63&t.charCodeAt(r+3)),o=55296+((n-=65536)>>>10&1023),n=56320+(1023&n)),0!==o&&(e[s++]=255&o,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function RH(t){return $l(t,"binary").toString("utf8")}var PE="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",ur=_n&&(RH(PE)==D2(PE)&&RH||kH(PE)==D2(PE)&&kH)||D2,Kc=_n?function(t){return $l(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(63&i)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(63&r)))}return e.join("")},sy=function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),MH=function(){var t=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),$pe=function(){var t={};return function(n){return void 0!==t[n]?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),Wpe=/<\/?(?:vt:)?variant>/g,Gpe=/<(?:vt:)([^>]*)>([\s\S]*)</;function PH(t,e){var n=$t(t),r=t.match($pe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(Wpe,"").match(Gpe);o&&i.push({v:ur(o[2]),t:o[1]})}),i}var FH=/(^\s|\s$|\n)/;function tt(t,e,n){return"<"+t+(null!=n?function OH(t){return oi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}(n):"")+(null!=e?(e.match(FH)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function R2(t){if(_n&&Buffer.isBuffer(t))return t.toString("utf8");if("string"==typeof t)return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ur(cd(x2(t)));throw new Error("Bad input format: expected Buffer or string")}var oy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,Mi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},fd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],NH=function(t){for(var e=[],r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=10240)e.push.apply(e,t[0][r].slice(i,i+10240));return e},LH=_n?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:$l(e)})):NH(t)}:NH,VH=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Gl(t,i)));return r.join("").replace(Fs,"")},FE=_n?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Fs,""):VH(t,e,n)}:VH,BH=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},UH=_n?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):BH(t,e,n)}:BH,jH=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(rg(t,i)));return r.join("")},ng=_n?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):jH(e,n,r)}:jH,HH=function(t,e){var n=ls(t,e);return n>0?ng(t,e+4,e+4+n-1):""},M2=HH,zH=function(t,e){var n=ls(t,e);return n>0?ng(t,e+4,e+4+n-1):""},P2=zH,$H=function(t,e){var n=2*ls(t,e);return n>0?ng(t,e+4,e+4+n-1):""},F2=$H,WH=function(e,n){var r=ls(e,n);return r>0?FE(e,n+4,n+4+r):""},O2=WH,GH=function(t,e){var n=ls(t,e);return n>0?ng(t,e+4,e+4+n):""},N2=GH,qH=function(t,e){return function Kpe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((127&t[e+7])<<4)+(t[e+6]>>>4&15),i=15&t[e+6],s=5;s>=0;--s)i=256*i+t[e+s];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(t,e)},OE=qH,L2=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};_n&&(M2=function(e,n){if(!Buffer.isBuffer(e))return HH(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},P2=function(e,n){if(!Buffer.isBuffer(e))return zH(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},F2=function(e,n){if(!Buffer.isBuffer(e))return $H(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},O2=function(e,n){if(!Buffer.isBuffer(e))return WH(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},N2=function(e,n){if(!Buffer.isBuffer(e))return GH(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},OE=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):qH(e,n)},L2=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array}),typeof jn<"u"&&function KH(){FE=function(t,e,n){return jn.utils.decode(1200,t.slice(e,n)).replace(Fs,"")},ng=function(t,e,n){return jn.utils.decode(65001,t.slice(e,n))},M2=function(t,e){var n=ls(t,e);return n>0?jn.utils.decode(Bf,t.slice(e+4,e+4+n-1)):""},P2=function(t,e){var n=ls(t,e);return n>0?jn.utils.decode(qo,t.slice(e+4,e+4+n-1)):""},F2=function(t,e){var n=2*ls(t,e);return n>0?jn.utils.decode(1200,t.slice(e+4,e+4+n-1)):""},O2=function(t,e){var n=ls(t,e);return n>0?jn.utils.decode(1200,t.slice(e+4,e+4+n)):""},N2=function(t,e){var n=ls(t,e);return n>0?jn.utils.decode(65001,t.slice(e+4,e+4+n)):""}}();var rg=function(t,e){return t[e]},Gl=function(t,e){return 256*t[e+1]+t[e]},Ype=function(t,e){var n=256*t[e+1]+t[e];return n<32768?n:-1*(65535-n+1)},ls=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},zf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Xpe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ay(t,e){var r,i,o,a,c,l,n="",s=[];switch(e){case"dbcs":if(l=this.l,_n&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode(Gl(this,l)),l+=2;t*=2;break;case"utf8":n=ng(this,this.l,this.l+t);break;case"utf16le":n=FE(this,this.l,this.l+(t*=2));break;case"wstr":if(!(typeof jn<"u"))return ay.call(this,t,"dbcs");n=jn.utils.decode(qo,this.slice(this.l,this.l+2*t)),t*=2;break;case"lpstr-ansi":n=M2(this,this.l),t=4+ls(this,this.l);break;case"lpstr-cp":n=P2(this,this.l),t=4+ls(this,this.l);break;case"lpwstr":n=F2(this,this.l),t=4+2*ls(this,this.l);break;case"lpp4":t=4+ls(this,this.l),n=O2(this,this.l),2&t&&(t+=2);break;case"8lpp4":t=4+ls(this,this.l),n=N2(this,this.l),3&t&&(t+=4-(3&t));break;case"cstr":for(t=0,n="";0!==(o=rg(this,this.l+t++));)s.push(Yv(o));n=s.join("");break;case"_wstr":for(t=0,n="";0!==(o=Gl(this,this.l+t));)s.push(Yv(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",l=this.l,c=0;c<t;++c){if(this.lens&&-1!==this.lens.indexOf(l))return o=rg(this,l),this.l=l+1,a=ay.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(Yv(Gl(this,l))),l+=2}n=s.join(""),t*=2;break;case"cpstr":if(typeof jn<"u"){n=jn.utils.decode(qo,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(n="",l=this.l,c=0;c!=t;++c){if(this.lens&&-1!==this.lens.indexOf(l))return o=rg(this,l),this.l=l+1,a=ay.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(Yv(rg(this,l))),l+=1}n=s.join("");break;default:switch(t){case 1:return r=rg(this,this.l),this.l++,r;case 2:return r=("i"===e?Ype:Gl)(this,this.l),this.l+=2,r;case 4:case-4:return"i"!==e&&128&this[this.l+3]?(i=ls(this,this.l),this.l+=4,i):(r=(t>0?zf:Xpe)(this,this.l),this.l+=4,r);case 8:case-8:if("f"===e)return i=8==t?OE(this,this.l):OE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=UH(this,this.l,t)}}return this.l+=t,n}var Qpe=function(t,e,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},Jpe=function(t,e,n){t[n]=255&e,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},eme=function(t,e,n){t[n]=255&e,t[n+1]=e>>>8&255};function tme(t,e,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=e.length;++i)eme(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if("sbcs"===n){if(typeof jn<"u"&&874==Bf)for(i=0;i!=e.length;++i){var s=jn.utils.encode(Bf,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=255&e.charCodeAt(i);r=e.length}else{if("hex"===n){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=255&a,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(t){case 1:r=1,this[this.l]=255&e;break;case 2:r=2,this[this.l]=255&e,this[this.l+1]=255&(e>>>=8);break;case 3:r=3,this[this.l]=255&e,this[this.l+1]=255&(e>>>=8),this[this.l+2]=255&(e>>>=8);break;case 4:r=4,Qpe(this,e,this.l);break;case 8:if(r=8,"f"===n){!function Zpe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)t[n+a]=255&s;t[n+6]=(15&i)<<4|15&s,t[n+7]=i>>4|r}(this,e,this.l);break}case 16:break;case-4:r=4,Jpe(this,e,this.l)}}return this.l+=r,this}function ZH(t,e){var n=UH(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Es(t,e){t.l=e,t.read_shift=ay,t.chk=ZH,t.write_shift=tme}function Ns(t,e){t.l+=e}function Te(t){var e=ad(t);return Es(e,0),e}function ql(t,e,n){if(t){var r,i,s;Es(t,t.l||0);for(var o=t.length,a=0,c=0;t.l<o;){128&(a=t.read_shift(1))&&(a=(127&a)+((127&t.read_shift(1))<<7));var l=Cy[a]||Cy[65535];for(s=127&(r=t.read_shift(1)),i=1;i<4&&128&r;++i)s+=(127&(r=t.read_shift(1)))<<7*i;c=t.l+s;var u=l.f&&l.f(t,s,n);if(t.l=c,e(u,l,a))return}}}function uo(){var t=[],e=_n?256:2048,n=function(l){var u=Te(l);return Es(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&t.push(r),r=null)},s=function(l){return r&&l<r.length-r.l?r:(i(),r=n(Math.max(l+1,e)))};return{next:s,push:function(l){i(),null==(r=l).l&&(r.l=r.length),s(e)},end:function(){return i(),cs(t)},_bufs:t}}function cy(t,e,n){var r=hr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function YH(t,e,n){var r=hr(t);return r.s=cy(r.s,e.s,n),r.e=cy(r.e,e.s,n),r}function ly(t,e){if(t.cRel&&t.c<0)for(t=hr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=hr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Wt(t);return!t.cRel&&null!=t.cRel&&(n=function ime(t){return t.replace(/^([A-Z])/,"$$$1")}(n)),!t.rRel&&null!=t.rRel&&(n=function nme(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function V2(t,e){return 0!=t.s.r||t.s.rRel||t.e.r!=(e.biff>=12?1048575:e.biff>=8?65536:16384)||t.e.rRel?0!=t.s.c||t.s.cRel||t.e.c!=(e.biff>=12?16383:255)||t.e.cRel?ly(t.s,e.biff)+":"+ly(t.e,e.biff):(t.s.rRel?"":"$")+ci(t.s.r)+":"+(t.e.rRel?"":"$")+ci(t.e.r):(t.s.cRel?"":"$")+Nr(t.s.c)+":"+(t.e.cRel?"":"$")+Nr(t.e.c)}function B2(t){return parseInt(function rme(t){return t.replace(/\$(\d+)$/,"$1")}(t),10)-1}function ci(t){return""+(t+1)}function U2(t){for(var e=function sme(t){return t.replace(/^\$([A-Z])/,"$1")}(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Nr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Yr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Wt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Jo(t){var e=t.indexOf(":");return-1==e?{s:Yr(t),e:Yr(t)}:{s:Yr(t.slice(0,e)),e:Yr(t.slice(e+1))}}function on(t,e){return typeof e>"u"||"number"==typeof e?on(t.s,t.e):("string"!=typeof t&&(t=Wt(t)),"string"!=typeof e&&(e=Wt(e)),t==e?t:t+":"+e)}function Fn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||10!=i)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function Zc(t,e,n){return null==t||null==t.t||"z"==t.t?"":void 0!==t.w?t.w:("d"==t.t&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),"e"==t.t?Kl[t.v]||t.v:function XH(t,e){var n="d"==t.t&&e instanceof Date;if(null!=t.z)try{return t.w=Yo(t.z,n?Ki(e):e)}catch{}try{return t.w=Yo((t.XF||{}).numFmtId||(n?14:0),n?Ki(e):e)}catch{return""+e}}(t,null==e?t.v:e))}function hd(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function QH(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense;null!=si&&null==i&&(i=si);var s=t||(i?[]:{}),o=0,a=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var c="string"==typeof r.origin?Yr(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Fn(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),-1==o&&(l.e.r=o=u.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[d].length;++p)if(!(typeof e[d][p]>"u")){var m={v:e[d][p]},y=o+d,_=a+p;if(l.s.r>y&&(l.s.r=y),l.s.c>_&&(l.s.c=_),l.e.r<y&&(l.e.r=y),l.e.c<_&&(l.e.c=_),!e[d][p]||"object"!=typeof e[d][p]||Array.isArray(e[d][p])||e[d][p]instanceof Date)if(Array.isArray(m.v)&&(m.f=e[d][p][1],m.v=m.v[0]),null===m.v)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else{if(!r.sheetStubs)continue;m.t="z"}else"number"==typeof m.v?m.t="n":"boolean"==typeof m.v?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Vt[14],r.cellDates?(m.t="d",m.w=Yo(m.z,Ki(m.v))):(m.t="n",m.v=Ki(m.v),m.w=Yo(m.z,m.v))):m.t="s";else m=e[d][p];if(i)s[y]||(s[y]=[]),s[y][_]&&s[y][_].z&&(m.z=s[y][_].z),s[y][_]=m;else{var x=Wt({c:_,r:y});s[x]&&s[x].z&&(m.z=s[x].z),s[x]=m}}}return l.s.c<1e7&&(s["!ref"]=on(l)),s}function ig(t,e){return QH(null,t,e)}function Ls(t){var e=t.read_shift(4);return 0===e?"":t.read_shift(e,"dbcs")}function cme(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function j2(t,e){var n=t.l,r=t.read_shift(1),i=Ls(t),s=[],o={t:i,h:i};if(1&r){for(var a=t.read_shift(4),c=0;c!=a;++c)s.push(cme(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var ume=j2;function Pa(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Wf(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var fme=Ls;function H2(t){var e=t.read_shift(4);return 0===e||4294967295===e?"":t.read_shift(e,"dbcs")}var hme=Ls,$2=H2;function G2(t){var e=t.slice(t.l,t.l+4),n=1&e[0],r=2&e[0];t.l+=4;var i=0===r?OE([0,0,0,0,252&e[0],e[1],e[2],e[3]],0):zf(e,0)>>2;return n?i/100:i}function tz(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var qf=tz;function Vs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function nz(t,e){var r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,1==e?"lpstr":"lpwstr")}var q2=2,Do=3,rz=12,iz=81,Eme=[80,iz],K2={1:{n:"CodePage",t:q2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:Do},5:{n:"LineCount",t:Do},6:{n:"ParagraphCount",t:Do},7:{n:"SlideCount",t:Do},8:{n:"NoteCount",t:Do},9:{n:"HiddenCount",t:Do},10:{n:"MultimediaClipCount",t:Do},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:Do},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:Do,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Z2={1:{n:"CodePage",t:q2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:Do},15:{n:"WordCount",t:Do},16:{n:"CharCount",t:Do},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:Do},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},sz={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Tme=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ime(t){return t.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var Zf=hr(Ime([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Kl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Y2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},an={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function uy(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function dy(t,e){var n={"!id":{}};if(!t)return n;"/"!==e.charAt(0)&&(e="/"+e);var r={};return(t.match(Os)||[]).forEach(function(i){var s=$t(i);if("<Relationship"===s[0]){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a="External"===s.TargetMode?s.Target:iy(s.Target,e);n[a]=o,r[s.Id]=o}}),n["!id"]=r,n}var Ame="application/vnd.oasis.opendocument.spreadsheet",Fa=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Fme=function(){for(var t=new Array(Fa.length),e=0;e<Fa.length;++e){var n=Fa[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t}();function lz(t){var e={};t=ur(t);for(var n=0;n<Fa.length;++n){var r=Fa[n],i=t.match(Fme[n]);null!=i&&i.length>0&&(e[r[1]]=$n(i[1])),"date"===r[2]&&e[r[1]]&&(e[r[1]]=Zr(e[r[1]]))}return e}var Yf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function fz(t,e,n,r){var i=[];if("string"==typeof t)i=PH(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var o="string"==typeof e?PH(e,r).map(function(u){return u.v}):e,a=0,c=0;if(o.length>0)for(var l=0;l!==i.length;l+=2){switch(c=+i[l+1].v,i[l].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=o.slice(a,a+c);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":n.NamedRanges=c,n.DefinedNames=o.slice(a,a+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=o.slice(a,a+c)}a+=c}}var eM,Nme=/<[^>]+>[^<]*/g,J2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Vme(t,e,n){eM||(eM=DE(J2)),t[e=eM[e]||e]=n}function tM(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+e/1e7-11644473600)).toISOString().replace(/\.000/,"")}function mz(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function gz(t,e,n){var r=t.read_shift(0,"lpwstr");return n&&(t.l+=4-(r.length+1&3)&3),r}function _z(t,e,n){return 31===e?gz(t):mz(t,0,n)}function nM(t,e,n){return _z(t,e,!1===n?0:4)}function Wme(t){var e=t.l,n=HE(t,iz);return 0==t[t.l]&&0==t[t.l+1]&&t.l-e&2&&(t.l+=2),[n,HE(t,Do)]}function vz(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,1200===e?"utf16le":"utf8").replace(Fs,"").replace(ey,"!"),1200===e&&o%2&&(t.l+=2)}return 3&t.l&&(t.l=t.l>>3<<2),r}function yz(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(3&e)>0&&(t.l+=4-(3&e)&3),n}function HE(t,e,n){var i,r=t.read_shift(2),s=n||{};if(t.l+=2,e!==rz&&r!==e&&-1===Eme.indexOf(e)&&(4126!=(65534&e)||4126!=(65534&r)))throw new Error("Expected type "+e+" saw "+r);switch(e===rz?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return t.read_shift(4,"i");case 11:return 0!==t.read_shift(4);case 19:return t.read_shift(4);case 30:return mz(t,0,4).replace(Fs,"");case 31:return gz(t);case 64:return tM(t);case 65:return yz(t);case 71:return function qme(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}(t);case 80:return nM(t,r,!s.raw).replace(Fs,"");case 81:return function Hme(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return _z(t,e,0)}(t,r).replace(Fs,"");case 4108:return function Gme(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(Wme(t));return n}(t);case 4126:case 4127:return 4127==r?function zme(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Fs,""),t.l-i&2&&(t.l+=2)}return n}(t):function $me(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Fs,"");return n}(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function bz(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,a=0,c=-1,l={};for(o=0;o!=i;++o){var u=t.read_shift(4),d=t.read_shift(4);s[o]=[u,d+n]}s.sort(function(b,w){return b[1]-w[1]});var p={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var m=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,m=!1);break;case 80:case 4108:t.l<=s[o][1]&&(t.l=s[o][1],m=!1)}if((!e||0==o)&&t.l<=s[o][1]&&(m=!1,t.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var y=e[s[o][0]];if(p[y.n]=HE(t,y.t,{raw:!0}),"version"===y.p&&(p[y.n]=String(p[y.n]>>16)+"."+("0000"+String(65535&p[y.n])).slice(-4)),"CodePage"==y.n)switch(p[y.n]){case 0:p[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ka(a=p[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[y.n])}}else if(1===s[o][0]){if(a=p.CodePage=HE(t,q2),ka(a),-1!==c){var _=t.l;t.l=s[c][1],l=vz(t,a),t.l=_}}else if(0===s[o][0]){if(0===a){c=o,t.l=s[o+1][1];continue}l=vz(t,a)}else{var E,x=l[s[o][0]];switch(t[t.l]){case 65:t.l+=4,E=yz(t);break;case 30:case 31:t.l+=4,E=nM(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,E=t.read_shift(4,"i");break;case 19:t.l+=4,E=t.read_shift(4);break;case 5:t.l+=4,E=t.read_shift(8,"f");break;case 11:t.l+=4,E=wi(t,4);break;case 64:t.l+=4,E=Zr(tM(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[x]=E}}return t.l=n+r,p}function Tz(t,e,n){var r=t.content;if(!r)return{};Es(r,0);var i,s,o,a,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var l=r.read_shift(4),u=r.read_shift(16);if(u!==Mt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(1!==(i=r.read_shift(4))&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),1===i&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);2===i&&(o=r.read_shift(16),c=r.read_shift(4));var y,d=bz(r,e),p={SystemIdentifier:l};for(var m in d)p[m]=d[m];if(p.FMTID=s,1===i)return p;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);try{y=bz(r,null)}catch{}for(m in y)p[m]=y[m];return p.FMTID=[s,o],p}function pd(t,e){return t.read_shift(e),null}function wi(t,e){return 1===t.read_shift(e)}function Pi(t){return t.read_shift(2,"u")}function Cz(t,e){return function Yme(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}(t,e,Pi)}function fy(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=qo;n&&n.biff>=8&&(qo=1200),n&&8!=n.biff?12==n.biff&&(i="wstr"):t.read_shift(1)&&(i="dbcs-cont"),n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return qo=s,a}function Qme(t){var e=qo;qo=1200;var c,n=t.read_shift(2),r=t.read_shift(1),i=4&r,s=8&r,o=1+(1&r),a=0,l={};s&&(a=t.read_shift(2)),i&&(c=t.read_shift(4));var d=0===n?"":t.read_shift(n,2==o?"dbcs-cont":"sbcs-cont");return s&&(t.l+=4*a),i&&(t.l+=c),l.t=d,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),qo=e,l}function Xf(t,e,n){if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return t.read_shift(e,0===i?"sbcs-cont":"dbcs-cont")}function hy(t,e,n){var r=t.read_shift(n&&2==n.biff?1:2);return 0===r?(t.l++,""):Xf(t,r,n)}function Qf(t,e,n){if(n.biff>5)return hy(t,0,n);var r=t.read_shift(1);return 0===r?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function zE(t){var e=t.read_shift(4);return e>0?t.read_shift(e,"utf16le").replace(Fs,""):""}function kz(t){return[t.read_shift(1),t.read_shift(1),t.read_shift(1),t.read_shift(1)]}function Rz(t,e){var n=kz(t);return n[3]=0,n}function Yc(t){return{r:t.read_shift(2),c:t.read_shift(2),ixfe:t.read_shift(2)}}function cge(t,e,n){var r=n.biff>8?4:2;return[t.read_shift(r),t.read_shift(r,"i"),t.read_shift(r,"i")]}function Mz(t){return[t.read_shift(2),G2(t)]}function $E(t){var e=t.read_shift(2),n=t.read_shift(2);return{s:{c:t.read_shift(2),r:e},e:{c:t.read_shift(2),r:n}}}function Fz(t){var e=t.read_shift(2),n=t.read_shift(2);return{s:{c:t.read_shift(1),r:e},e:{c:t.read_shift(1),r:n}}}var uge=Fz;function Oz(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function Bs(t){t.l+=2,t.l+=t.read_shift(2)}var hge={0:Bs,4:Bs,5:Bs,6:Bs,7:function fge(t){return t.l+=4,t.cf=t.read_shift(2),{}},8:Bs,9:Bs,10:Bs,11:Bs,12:Bs,13:function dge(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e},14:Bs,15:Bs,16:Bs,17:Bs,18:Bs,19:Bs,20:Bs,21:Oz};function WE(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),(e-=2)>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function Nz(t,e,n){var r=0;n&&2==n.biff||(r=t.read_shift(2));var i=t.read_shift(2);return n&&2==n.biff&&(r=1-(i>>15),i&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},i]}var Uge=Qf;function Lz(t,e,n){var r=t.l+e,i=8!=n.biff&&n.biff?2:4,s=t.read_shift(i),o=t.read_shift(i),a=t.read_shift(2),c=t.read_shift(2);return t.l=r,{s:{r:s,c:a},e:{r:o,c}}}function Bz(t,e,n){var r=Yc(t);(2==n.biff||9==e)&&++t.l;var i=function Xme(t){var e=t.read_shift(1);return 1===t.read_shift(1)?e:1===e}(t);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}var Uz=function age(t,e,n){return 0===e?"":Qf(t,0,n)};function jz(t,e,n){var i,r=t.read_shift(2),s={fBuiltIn:1&r,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return 14849===n.sbcch&&(i=function lge(t,e,n){t.l+=4;var r=t.l+(e-=4),i=fy(t,0,n),s=t.read_shift(2);if(s!==(r-=t.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}(t,e-2,n)),s.body=i||t.read_shift(e-2),"string"==typeof i&&(s.Name=i),s}var Jge=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Hz(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),a=t.read_shift(n&&2==n.biff?1:2),c=0;(!n||n.biff>=5)&&(5!=n.biff&&(t.l+=2),c=t.read_shift(2),5==n.biff&&(t.l+=2),t.l+=4);var l=Xf(t,o,n);32&i&&(l=Jge[l.charCodeAt(0)]);var u=r-t.l;n&&2==n.biff&&--u;var d=r!=t.l&&0!==a&&u>0?function pxe(t,e,n,r){var o,i=t.l+e,s=by(t,r,n);return i!==t.l&&(o=xy(t,i-t.l,s,n)),[s,o]}(t,u,n,a):[];return{chKey:s,Name:l,itab:c,rgce:d}}function zz(t,e,n){if(n.biff<8)return function e0e(t,e,n){3==t[t.l+1]&&t[t.l]++;var r=fy(t,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(t,0,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);0!=s--;)r.push(cge(t,0,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function $z(t,e,n){var r=uge(t,6);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,fxe(t,e,n)]}var l0e={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function Wz(t,e,n){if(!n.cellStyles)return Ns(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),a=t.read_shift(r),c=t.read_shift(2);2==r&&(t.l+=2);var l={s:i,e:s,w:o,ixfe:a,flags:c};return(n.biff>=5||!n.biff)&&(l.level=c>>8&7),l}var I0e=Yc,C0e=Cz,S0e=hy,L0e=[2,3,48,49,131,139,140,245],iM=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=DE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(a,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=ig(function n(a,c){var l=[],u=ad(1);switch(c.type){case"base64":u=Zo(Ko(a));break;case"binary":u=Zo(a);break;case"buffer":case"array":u=a}Es(u,0);var d=u.read_shift(1),p=!!(136&d),m=!1,y=!1;switch(d){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:m=!0,p=!0;break;case 140:y=!0;break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var _=0,x=521;2==d&&(_=u.read_shift(2)),u.l+=3,2!=d&&(_=u.read_shift(4)),_>1048576&&(_=1e6),2!=d&&(x=u.read_shift(2));var E=u.read_shift(2),b=c.codepage||1252;2!=d&&(u.l+=16,u.read_shift(1),0!==u[u.l]&&(b=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var w=[],M={},z=Math.min(u.length,2==d?521:x-10-(m?264:0)),B=y?32:11;u.l<z&&13!=u[u.l];)switch(M={},M.name=jn.utils.decode(b,u.slice(u.l,u.l+B)).replace(/[\u0000\r\n].*$/g,""),u.l+=B,M.type=String.fromCharCode(u.read_shift(1)),2!=d&&!y&&(M.offset=u.read_shift(4)),M.len=u.read_shift(1),2==d&&(M.offset=u.read_shift(2)),M.dec=u.read_shift(1),M.name.length&&w.push(M),2!=d&&(u.l+=y?13:14),M.type){case"B":(!m||8!=M.len)&&c.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(13!==u[u.l]&&(u.l=x-1),13!==u.read_shift(1))throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var R=0,Q=0;for(l[0]=[],Q=0;Q!=w.length;++Q)l[0][Q]=w[Q].name;for(;_-- >0;)if(42!==u[u.l])for(++u.l,l[++R]=[],Q=0,Q=0;Q!=w.length;++Q){var J=u.slice(u.l,u.l+w[Q].len);u.l+=w[Q].len,Es(J,0);var ce=jn.utils.decode(b,J);switch(w[Q].type){case"C":ce.trim().length&&(l[R][Q]=ce.replace(/\s+$/,""));break;case"D":l[R][Q]=8===ce.length?new Date(+ce.slice(0,4),+ce.slice(4,6)-1,+ce.slice(6,8)):ce;break;case"F":l[R][Q]=parseFloat(ce.trim());break;case"+":case"I":l[R][Q]=y?2147483648^J.read_shift(-4,"i"):J.read_shift(4,"i");break;case"L":switch(ce.trim().toUpperCase()){case"Y":case"T":l[R][Q]=!0;break;case"N":case"F":l[R][Q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ce+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));l[R][Q]="##MEMO##"+(y?parseInt(ce.trim(),10):J.read_shift(4));break;case"N":(ce=ce.replace(/\u0000/g,"").trim())&&"."!=ce&&(l[R][Q]=+ce||0);break;case"@":l[R][Q]=new Date(J.read_shift(-8,"f")-621356832e5);break;case"T":l[R][Q]=new Date(864e5*(J.read_shift(4)-2440588)+J.read_shift(4));break;case"Y":l[R][Q]=J.read_shift(4,"i")/1e4+J.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[R][Q]=-J.read_shift(-8,"f");break;case"B":if(m&&8==w[Q].len){l[R][Q]=J.read_shift(8,"f");break}case"G":case"P":J.l+=w[Q].len;break;case"0":if("_NullFlags"===w[Q].name)break;default:throw new Error("DBF Unsupported data type "+w[Q].type)}}else u.l+=E;if(2!=d&&u.l<u.length&&26!=u[u.l++])throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=w,l}(a,l),l);return u["!cols"]=l.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete l.DBF,u}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(a,c){try{return hd(r(a,c),c)}catch(l){if(c&&c.WTF)throw l}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function o(a,c){var l=c||{};if(+l.codepage>=0&&ka(+l.codepage),"string"==l.type)throw new Error("Cannot write DBF to JS string");var u=uo(),d=nT(a,{header:1,raw:!0,cellDates:!0}),p=d[0],m=d.slice(1),y=a["!cols"]||[],_=0,x=0,E=0,b=1;for(_=0;_<p.length;++_)if(((y[_]||{}).DBF||{}).name)p[_]=y[_].DBF.name,++E;else if(null!=p[_]){if(++E,"number"==typeof p[_]&&(p[_]=p[_].toString(10)),"string"!=typeof p[_])throw new Error("DBF Invalid column name "+p[_]+" |"+typeof p[_]+"|");if(p.indexOf(p[_])!==_)for(x=0;x<1024;++x)if(-1==p.indexOf(p[_]+"_"+x)){p[_]+="_"+x;break}}var w=Fn(a["!ref"]),M=[],z=[],B=[];for(_=0;_<=w.e.c-w.s.c;++_){var R="",Q="",J=0,ce=[];for(x=0;x<m.length;++x)null!=m[x][_]&&ce.push(m[x][_]);if(0!=ce.length&&null!=p[_]){for(x=0;x<ce.length;++x){switch(typeof ce[x]){case"number":Q="B";break;case"string":default:Q="C";break;case"boolean":Q="L";break;case"object":Q=ce[x]instanceof Date?"D":"C"}J=Math.max(J,String(ce[x]).length),R=R&&R!=Q?"C":Q}J>250&&(J=250),"C"==(Q=((y[_]||{}).DBF||{}).type)&&y[_].DBF.len>J&&(J=y[_].DBF.len),"B"==R&&"N"==Q&&(R="N",B[_]=y[_].DBF.dec,J=y[_].DBF.len),z[_]="C"==R||"N"==Q?J:s[R]||0,b+=z[_],M[_]=R}else M[_]="?"}var ve=u.next(32);for(ve.write_shift(4,318902576),ve.write_shift(4,m.length),ve.write_shift(2,296+32*E),ve.write_shift(2,b),_=0;_<4;++_)ve.write_shift(4,0);for(ve.write_shift(4,0|(+e[Bf]||3)<<8),_=0,x=0;_<p.length;++_)if(null!=p[_]){var ne=u.next(32),Ke=(p[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);ne.write_shift(1,Ke,"sbcs"),ne.write_shift(1,"?"==M[_]?"C":M[_],"sbcs"),ne.write_shift(4,x),ne.write_shift(1,z[_]||s[M[_]]||0),ne.write_shift(1,B[_]||0),ne.write_shift(1,2),ne.write_shift(4,0),ne.write_shift(1,0),ne.write_shift(4,0),ne.write_shift(4,0),x+=z[_]||s[M[_]]||0}var _t=u.next(264);for(_t.write_shift(4,13),_=0;_<65;++_)_t.write_shift(4,0);for(_=0;_<m.length;++_){var Qe=u.next(b);for(Qe.write_shift(1,0),x=0;x<p.length;++x)if(null!=p[x])switch(M[x]){case"L":Qe.write_shift(1,null==m[_][x]?63:m[_][x]?84:70);break;case"B":Qe.write_shift(8,m[_][x]||0,"f");break;case"N":var De="0";for("number"==typeof m[_][x]&&(De=m[_][x].toFixed(B[x]||0)),E=0;E<z[x]-De.length;++E)Qe.write_shift(1,32);Qe.write_shift(1,De,"sbcs");break;case"D":m[_][x]?(Qe.write_shift(4,("0000"+m[_][x].getFullYear()).slice(-4),"sbcs"),Qe.write_shift(2,("00"+(m[_][x].getMonth()+1)).slice(-2),"sbcs"),Qe.write_shift(2,("00"+m[_][x].getDate()).slice(-2),"sbcs")):Qe.write_shift(8,"00000000","sbcs");break;case"C":var ke=String(null!=m[_][x]?m[_][x]:"").slice(0,z[x]);for(Qe.write_shift(1,ke,"sbcs"),E=0;E<z[x]-ke.length;++E)Qe.write_shift(1,32)}}return u.next(1).write_shift(1,26),u.end()}}}(),Gz=function(){var t={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1bN("+oi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var y=t[m];return"number"==typeof y?y2(y):y},r=function(p,m,y){var _=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return 59==_?p:y2(_)};function s(p,m){var ve,y=p.split(/[\n\r]+/),_=-1,x=-1,E=0,b=0,w=[],M=[],z=null,B={},R=[],Q=[],J=[],ce=0;for(+m.codepage>=0&&ka(+m.codepage);E!==y.length;++E){ce=0;var Qe,ne=y[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),Ke=ne.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")});if(ne.length>0)switch(Ke[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Ke[1].charAt(0)&&M.push(ne.slice(3).replace(/;;/g,";"));break;case"C":var De=!1,ke=!1,et=!1,Le=!1,ot=-1,Se=-1;for(b=1;b<Ke.length;++b)switch(Ke[b].charAt(0)){case"A":case"G":break;case"X":x=parseInt(Ke[b].slice(1))-1,ke=!0;break;case"Y":for(_=parseInt(Ke[b].slice(1))-1,ke||(x=0),ve=w.length;ve<=_;++ve)w[ve]=[];break;case"K":'"'===(Qe=Ke[b].slice(1)).charAt(0)?Qe=Qe.slice(1,Qe.length-1):"TRUE"===Qe?Qe=!0:"FALSE"===Qe?Qe=!1:isNaN(sc(Qe))?isNaN(tg(Qe).getDate())||(Qe=Zr(Qe)):(Qe=sc(Qe),null!==z&&jf(z)&&(Qe=ME(Qe))),typeof jn<"u"&&"string"==typeof Qe&&"string"!=(m||{}).type&&(m||{}).codepage&&(Qe=jn.utils.decode(m.codepage,Qe)),De=!0;break;case"E":Le=!0;var U=lg(Ke[b].slice(1),{r:_,c:x});w[_][x]=[w[_][x],U];break;case"S":et=!0,w[_][x]=[w[_][x],"S5S"];break;case"R":ot=parseInt(Ke[b].slice(1))-1;break;case"C":Se=parseInt(Ke[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+ne)}if(De&&(w[_][x]&&2==w[_][x].length?w[_][x][0]=Qe:w[_][x]=Qe,z=null),et){if(Le)throw new Error("SYLK shared formula cannot have own formula");var ae=ot>-1&&w[ot][Se];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");w[_][x][1]=f$(ae[1],{r:_-ot,c:x-Se})}break;case"F":var W=0;for(b=1;b<Ke.length;++b)switch(Ke[b].charAt(0)){case"X":x=parseInt(Ke[b].slice(1))-1,++W;break;case"Y":for(_=parseInt(Ke[b].slice(1))-1,ve=w.length;ve<=_;++ve)w[ve]=[];break;case"M":ce=parseInt(Ke[b].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":z=M[parseInt(Ke[b].slice(1))];break;case"W":for(J=Ke[b].slice(1).split(" "),ve=parseInt(J[0],10);ve<=parseInt(J[1],10);++ve)ce=parseInt(J[2],10),Q[ve-1]=0===ce?{hidden:!0}:{wch:ce},th(Q[ve-1]);break;case"C":Q[x=parseInt(Ke[b].slice(1))-1]||(Q[x]={});break;case"R":R[_=parseInt(Ke[b].slice(1))-1]||(R[_]={}),ce>0?(R[_].hpt=ce,R[_].hpx=ag(ce)):0===ce&&(R[_].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+ne)}W<1&&(z=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+ne)}}return R.length>0&&(B["!rows"]=R),Q.length>0&&(B["!cols"]=Q),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,B]}function o(p,m){var y=function i(p,m){switch(m.type){case"base64":return s(Ko(p),m);case"binary":return s(p,m);case"buffer":return s(_n&&Buffer.isBuffer(p)?p.toString("binary"):cd(p),m);case"array":return s(Hf(p),m)}throw new Error("Unrecognized type "+m.type)}(p,m),x=y[1],E=ig(y[0],m);return oi(x).forEach(function(b){E[b]=x[b]}),E}function c(p,m,y,_){var x="C;Y"+(y+1)+";X"+(_+1)+";K";switch(p.t){case"n":x+=p.v||0,p.f&&!p.F&&(x+=";E"+fM(p.f,{r:y,c:_}));break;case"b":x+=p.v?"TRUE":"FALSE";break;case"e":x+=p.w||p.v;break;case"d":x+='"'+(p.w||p.v)+'"';break;case"s":x+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return x}return t["|"]=254,{to_workbook:function a(p,m){return hd(o(p,m),m)},to_sheet:o,from_sheet:function d(p,m){var E,y=["ID;PWXL;N;E"],_=[],x=Fn(p["!ref"]),b=Array.isArray(p),w="\r\n";y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&function l(p,m){m.forEach(function(y,_){var x="F;W"+(_+1)+" "+(_+1)+" ";y.hidden?x+="0":("number"==typeof y.width&&!y.wpx&&(y.wpx=my(y.width)),"number"==typeof y.wpx&&!y.wch&&(y.wch=gy(y.wpx)),"number"==typeof y.wch&&(x+=Math.round(y.wch)))," "!=x.charAt(x.length-1)&&p.push(x)})}(y,p["!cols"]),p["!rows"]&&function u(p,m){m.forEach(function(y,_){var x="F;";y.hidden?x+="M0;":y.hpt?x+="M"+20*y.hpt+";":y.hpx&&(x+="M"+20*_y(y.hpx)+";"),x.length>2&&p.push(x+"R"+(_+1))})}(y,p["!rows"]),y.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var M=x.s.r;M<=x.e.r;++M)for(var z=x.s.c;z<=x.e.c;++z){var B=Wt({r:M,c:z});(E=b?(p[M]||[])[z]:p[B])&&(null!=E.v||E.f&&!E.F)&&_.push(c(E,0,M,z))}return y.join(w)+w+_.join(w)+w+"E"+w}}}(),qz=function(){function e(s,o){for(var a=s.split("\n"),c=-1,l=-1,u=0,d=[];u!==a.length;++u)if("BOT"!==a[u].trim()){if(!(c<0)){for(var p=a[u].trim().split(","),m=p[0],y=p[1],_=a[++u]||"";1&(_.match(/["]/g)||[]).length&&u<a.length-1;)_+="\n"+a[++u];switch(_=_.trim(),+m){case-1:if("BOT"===_){d[++c]=[],l=0;continue}if("EOD"!==_)throw new Error("Unrecognized DIF special command "+_);break;case 0:d[c][l]="TRUE"===_||"FALSE"!==_&&(isNaN(sc(y))?isNaN(tg(y).getDate())?y:Zr(y):sc(y)),++l;break;case 1:(_=(_=_.slice(1,_.length-1)).replace(/""/g,'"'))&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),d[c][l++]=""!==_?_:null}if("EOD"===_)break}}else d[++c]=[],l=0;return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function n(s,o){return ig(function t(s,o){switch(o.type){case"base64":return e(Ko(s),o);case"binary":return e(s,o);case"buffer":return e(_n&&Buffer.isBuffer(s)?s.toString("binary"):cd(s),o);case"array":return e(Hf(s),o)}throw new Error("Unrecognized type "+o.type)}(s,o),o)}return{to_workbook:function r(s,o){return hd(n(s,o),o)},to_sheet:n,from_sheet:function(){var s=function(c,l,u,d,p){c.push(l),c.push(u+","+d),c.push('"'+p.replace(/"/g,'""')+'"')},o=function(c,l,u,d){c.push(l+","+u),c.push(1==l?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var d,l=[],u=Fn(c["!ref"]),p=Array.isArray(c);s(l,"TABLE",0,1,"sheetjs"),s(l,"VECTORS",0,u.e.r-u.s.r+1,""),s(l,"TUPLES",0,u.e.c-u.s.c+1,""),s(l,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){o(l,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var _=Wt({r:m,c:y});if(d=p?(c[m]||[])[y]:c[_])switch(d.t){case"n":var x=d.w;!x&&null!=d.v&&(x=d.v),null==x?o(l,1,0,d.f&&!d.F?"="+d.f:""):o(l,0,x,"V");break;case"b":o(l,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(l,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Yo(d.z||Vt[14],Ki(Zr(d.v)))),o(l,0,d.w,"V");break;default:o(l,1,0,"")}else o(l,1,0,"")}}return o(l,-1,0,"EOD"),l.join("\r\n")}}()}}(),Kz=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,p){return ig(function n(d,p){for(var m=d.split("\n"),y=-1,_=-1,x=0,E=[];x!==m.length;++x){var b=m[x].trim().split(":");if("cell"===b[0]){var w=Yr(b[1]);if(E.length<=w.r)for(y=E.length;y<=w.r;++y)E[y]||(E[y]=[]);switch(y=w.r,_=w.c,b[2]){case"t":E[y][_]=t(b[3]);break;case"v":E[y][_]=+b[3];break;case"vtf":var M=b[b.length-1];case"vtc":E[y][_]="nl"===b[3]?!!+b[4]:+b[4],"vtf"==b[2]&&(E[y][_]=[E[y][_],M])}}}return p&&p.sheetRows&&(E=E.slice(0,p.sheetRows)),E}(d,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),c="--SocialCalcSpreadsheetControlSave--";function l(d){if(!d||!d["!ref"])return"";for(var y,p=[],m=[],_="",x=Jo(d["!ref"]),E=Array.isArray(d),b=x.s.r;b<=x.e.r;++b)for(var w=x.s.c;w<=x.e.c;++w)if(_=Wt({r:b,c:w}),(y=E?(d[b]||[])[w]:d[_])&&null!=y.v&&"z"!==y.t){switch(m=["cell",_,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var M=Ki(Zr(y.v));m[2]="vtc",m[3]="nd",m[4]=""+M,m[5]=y.w||Yo(y.z||Vt[14],M);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join("\n")}return{to_workbook:function i(d,p){return hd(r(d,p),p)},to_sheet:r,from_sheet:function u(d){return[s,o,a,o,l(d),c].join("\n")}}}(),og=function(){function t(u,d,p,m,y){y.raw?d[p][m]=u:""===u||(d[p][m]="TRUE"===u||"FALSE"!==u&&(isNaN(sc(u))?isNaN(tg(u).getDate())?u:Zr(u):sc(u)))}var n={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var d={},p=!1,m=0,y=0;m<u.length;++m)34==(y=u.charCodeAt(m))?p=!p:!p&&y in n&&(d[y]=(d[y]||0)+1);for(m in y=[],d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m]);if(!y.length)for(m in d=r)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m]);return y.sort(function(_,x){return _[0]-x[0]||r[_[1]]-r[x[1]]}),n[y.pop()[1]]||44}function o(u,d){return!d||!d.PRN||d.FS||"sep="==u.slice(0,4)||u.indexOf("\t")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?function s(u,d){var p=d||{},m="";null!=si&&null==p.dense&&(p.dense=si);var y=p.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};"sep="==u.slice(0,4)?13==u.charCodeAt(5)&&10==u.charCodeAt(6)?(m=u.charAt(4),u=u.slice(7)):13==u.charCodeAt(5)||10==u.charCodeAt(5)?(m=u.charAt(4),u=u.slice(6)):m=i(u.slice(0,1024)):m=p&&p.FS?p.FS:i(u.slice(0,1024));var x=0,E=0,b=0,w=0,M=0,z=m.charCodeAt(0),B=!1,R=0,Q=u.charCodeAt(0);u=u.replace(/\r\n/gm,"\n");var J=null!=p.dateNF?function Ipe(t){var e="number"==typeof t?Vt[t]:t;return e=e.replace(pH,"(\\d+)"),new RegExp("^"+e+"$")}(p.dateNF):null;function ce(){var ve=u.slice(w,M),ne={};if('"'==ve.charAt(0)&&'"'==ve.charAt(ve.length-1)&&(ve=ve.slice(1,-1).replace(/""/g,'"')),0===ve.length)ne.t="z";else if(p.raw)ne.t="s",ne.v=ve;else if(0===ve.trim().length)ne.t="s",ne.v=ve;else if(61==ve.charCodeAt(0))34==ve.charCodeAt(1)&&34==ve.charCodeAt(ve.length-1)?(ne.t="s",ne.v=ve.slice(2,-1).replace(/""/g,'"')):function Qve(t){return 1!=t.length}(ve)?(ne.t="n",ne.f=ve.slice(1)):(ne.t="s",ne.v=ve);else if("TRUE"==ve)ne.t="b",ne.v=!0;else if("FALSE"==ve)ne.t="b",ne.v=!1;else if(isNaN(b=sc(ve)))if(!isNaN(tg(ve).getDate())||J&&ve.match(J)){ne.z=p.dateNF||Vt[14];var Ke=0;J&&ve.match(J)&&(ve=function Cpe(t,e,n){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(e.match(pH)||[]).forEach(function(d,p){var m=parseInt(n[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?a=m:i=m}}),c>=0&&-1==a&&i>=0&&(a=i,i=-1);var l=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==l.length&&(l="0"+l),8==l.length&&(l="20"+l);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return-1==o&&-1==a&&-1==c?l:-1==r&&-1==i&&-1==s?u:l+"T"+u}(0,p.dateNF,ve.match(J)||[]),Ke=1),p.cellDates?(ne.t="d",ne.v=Zr(ve,Ke)):(ne.t="n",ne.v=Ki(Zr(ve,Ke))),!1!==p.cellText&&(ne.w=Yo(ne.z,ne.v instanceof Date?Ki(ne.v):ne.v)),p.cellNF||delete ne.z}else ne.t="s",ne.v=ve;else ne.t="n",!1!==p.cellText&&(ne.w=ve),ne.v=b;if("z"==ne.t||(p.dense?(y[x]||(y[x]=[]),y[x][E]=ne):y[Wt({c:E,r:x})]=ne),Q=u.charCodeAt(w=M+1),_.e.c<E&&(_.e.c=E),_.e.r<x&&(_.e.r=x),R==z)++E;else if(E=0,++x,p.sheetRows&&p.sheetRows<=x)return!0}e:for(;M<u.length;++M)switch(R=u.charCodeAt(M)){case 34:34===Q&&(B=!B);break;case z:case 10:case 13:if(!B&&ce())break e}return M-w>0&&ce(),y["!ref"]=on(_),y}(u,d):ig(function e(u,d){var p=d||{},m=[];if(!u||0===u.length)return m;for(var y=u.split(/[\r\n]/),_=y.length-1;_>=0&&0===y[_].length;)--_;for(var x=10,E=0,b=0;b<=_;++b)-1==(E=y[b].indexOf(" "))?E=y[b].length:E++,x=Math.max(x,E);for(b=0;b<=_;++b){m[b]=[];var w=0;for(t(y[b].slice(0,x).trim(),m,b,w,p),w=1;w<=(y[b].length-x)/10+1;++w)t(y[b].slice(x+10*(w-1),x+10*w).trim(),m,b,w,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}(u,d),d)}function a(u,d){var p="",m="string"==d.type?[0,0,0,0]:DM(u,d);switch(d.type){case"base64":p=Ko(u);break;case"binary":case"string":p=u;break;case"buffer":p=65001==d.codepage?u.toString("utf8"):d.codepage&&typeof jn<"u"?jn.utils.decode(d.codepage,u):_n&&Buffer.isBuffer(u)?u.toString("binary"):cd(u);break;case"array":p=Hf(u);break;default:throw new Error("Unrecognized type "+d.type)}return 239==m[0]&&187==m[1]&&191==m[2]?p=ur(p.slice(3)):"string"!=d.type&&"buffer"!=d.type&&65001==d.codepage?p=ur(p):"binary"==d.type&&typeof jn<"u"&&d.codepage&&(p=jn.utils.decode(d.codepage,jn.utils.encode(28591,p))),"socialcalc:version:"==p.slice(0,19)?Kz.to_sheet("string"==d.type?p:ur(p),d):o(p,d)}return{to_workbook:function c(u,d){return hd(a(u,d),d)},to_sheet:a,from_sheet:function l(u){for(var m,d=[],p=Fn(u["!ref"]),y=Array.isArray(u),_=p.s.r;_<=p.e.r;++_){for(var x=[],E=p.s.c;E<=p.e.c;++E){var b=Wt({r:_,c:E});if((m=y?(u[_]||[])[E]:u[b])&&null!=m.v){for(var w=(m.w||(Zc(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(0===E?" ":""))}else x.push("          ")}d.push(x.join(""))}return d.join("\n")}}}(),eh=function(){function t(U,ae,W){if(U){Es(U,U.l||0);for(var K=W.Enum||ot;U.l<U.length;){var Ae=U.read_shift(2),Ge=K[Ae]||K[65535],qe=U.read_shift(2),We=U.l+qe,Fe=Ge.f&&Ge.f(U,qe,W);if(U.l=We,ae(Fe,Ge,Ae))return}}}function n(U,ae){if(!U)return U;var W=ae||{};null!=si&&null==W.dense&&(W.dense=si);var K=W.dense?[]:{},Ae="Sheet1",Ge="",qe=0,We={},Fe=[],Xt=[],H={s:{r:0,c:0},e:{r:0,c:0}},ir=W.sheetRows||0;if(0==U[2]&&(8==U[3]||9==U[3])&&U.length>=16&&5==U[14]&&108===U[15])throw new Error("Unsupported Works 3 for Mac file");if(2==U[2])W.Enum=ot,t(U,function(gt,Ei,ja){switch(ja){case 0:W.vers=gt,gt>=4096&&(W.qpro=!0);break;case 6:H=gt;break;case 204:gt&&(Ge=gt);break;case 222:Ge=gt;break;case 15:case 51:W.qpro||(gt[1].v=gt[1].v.slice(1));case 13:case 14:case 16:14==ja&&112==(112&gt[2])&&(15&gt[2])>1&&(15&gt[2])<15&&(gt[1].z=W.dateNF||Vt[14],W.cellDates&&(gt[1].t="d",gt[1].v=ME(gt[1].v))),W.qpro&&gt[3]>qe&&(K["!ref"]=on(H),We[Ae]=K,Fe.push(Ae),K=W.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},qe=gt[3],Ae=Ge||"Sheet"+(qe+1),Ge="");var nl=W.dense?(K[gt[0].r]||[])[gt[0].c]:K[Wt(gt[0])];if(nl){nl.t=gt[1].t,nl.v=gt[1].v,null!=gt[1].z&&(nl.z=gt[1].z),null!=gt[1].f&&(nl.f=gt[1].f);break}W.dense?(K[gt[0].r]||(K[gt[0].r]=[]),K[gt[0].r][gt[0].c]=gt[1]):K[Wt(gt[0])]=gt[1]}},W);else{if(26!=U[2]&&14!=U[2])throw new Error("Unrecognized LOTUS BOF "+U[2]);W.Enum=Se,14==U[2]&&(W.qpro=!0,U.l=0),t(U,function(gt,Ei,ja){switch(ja){case 204:Ae=gt;break;case 22:gt[1].v=gt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(gt[3]>qe&&(K["!ref"]=on(H),We[Ae]=K,Fe.push(Ae),K=W.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},Ae="Sheet"+((qe=gt[3])+1)),ir>0&&gt[0].r>=ir)break;W.dense?(K[gt[0].r]||(K[gt[0].r]=[]),K[gt[0].r][gt[0].c]=gt[1]):K[Wt(gt[0])]=gt[1],H.e.c<gt[0].c&&(H.e.c=gt[0].c),H.e.r<gt[0].r&&(H.e.r=gt[0].r);break;case 27:gt[14e3]&&(Xt[gt[14e3][0]]=gt[14e3][1]);break;case 1537:Xt[gt[0]]=gt[1],gt[0]==qe&&(Ae=gt[1])}},W)}if(K["!ref"]=on(H),We[Ge||Ae]=K,Fe.push(Ge||Ae),!Xt.length)return{SheetNames:Fe,Sheets:We};for(var An={},sr=[],Dn=0;Dn<Xt.length;++Dn)We[Fe[Dn]]?(sr.push(Xt[Dn]||Fe[Dn]),An[Xt[Dn]]=We[Xt[Dn]]||We[Fe[Dn]]):(sr.push(Xt[Dn]),An[Xt[Dn]]={"!ref":"A1"});return{SheetNames:sr,Sheets:An}}function l(U,ae,W){var K=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&20768!=W.vers?(K[0].c=U.read_shift(1),K[3]=U.read_shift(1),K[0].r=U.read_shift(2),U.l+=2):(K[2]=U.read_shift(1),K[0].c=U.read_shift(2),K[0].r=U.read_shift(2)),K}function u(U,ae,W){var K=U.l+ae,Ae=l(U,0,W);if(Ae[1].t="s",20768==W.vers){U.l++;var Ge=U.read_shift(1);return Ae[1].v=U.read_shift(Ge,"utf8"),Ae}return W.qpro&&U.l++,Ae[1].v=U.read_shift(K-U.l,"cstr"),Ae}function d(U,ae,W){var K=Te(7+W.length);K.write_shift(1,255),K.write_shift(2,ae),K.write_shift(2,U),K.write_shift(1,39);for(var Ae=0;Ae<K.length;++Ae){var Ge=W.charCodeAt(Ae);K.write_shift(1,Ge>=128?95:Ge)}return K.write_shift(1,0),K}function m(U,ae,W){var K=Te(7);return K.write_shift(1,255),K.write_shift(2,ae),K.write_shift(2,U),K.write_shift(2,W,"i"),K}function _(U,ae,W){var K=Te(13);return K.write_shift(1,255),K.write_shift(2,ae),K.write_shift(2,U),K.write_shift(8,W,"f"),K}function E(U,ae,W){var K=32768&ae;return ae=(K?U:0)+((ae&=-32769)>=8192?ae-16384:ae),(K?"":"$")+(W?Nr(ae):ci(ae))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(U){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=U.read_shift(2),ae[3]=U[U.l++],ae[0].c=U[U.l++],ae}function R(U,ae,W,K){var Ae=Te(6+K.length);Ae.write_shift(2,U),Ae.write_shift(1,W),Ae.write_shift(1,ae),Ae.write_shift(1,39);for(var Ge=0;Ge<K.length;++Ge){var qe=K.charCodeAt(Ge);Ae.write_shift(1,qe>=128?95:qe)}return Ae.write_shift(1,0),Ae}function J(U,ae){var W=z(U),K=U.read_shift(4),Ae=U.read_shift(4),Ge=U.read_shift(2);if(65535==Ge)return 0===K&&3221225472===Ae?(W[1].t="e",W[1].v=15):0===K&&3489660928===Ae?(W[1].t="e",W[1].v=42):W[1].v=0,W;var qe=32768&Ge;return Ge=(32767&Ge)-16446,W[1].v=(1-2*qe)*(Ae*Math.pow(2,Ge+32)+K*Math.pow(2,Ge)),W}function ce(U,ae,W,K){var Ae=Te(14);if(Ae.write_shift(2,U),Ae.write_shift(1,W),Ae.write_shift(1,ae),0==K)return Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(2,65535),Ae;var Ge=0,qe=0,Fe=0;return K<0&&(Ge=1,K=-K),qe=0|Math.log2(K),2147483648&(Fe=(K/=Math.pow(2,qe-31))>>>0)||(++qe,Fe=(K/=2)>>>0),K-=Fe,Fe|=2147483648,Fe>>>=0,K*=Math.pow(2,32),Ae.write_shift(4,K>>>0),Ae.write_shift(4,Fe),Ae.write_shift(2,qe+=16383+(Ge?32768:0)),Ae}function Ke(U,ae){var W=z(U),K=U.read_shift(8,"f");return W[1].v=K,W}function Qe(U,ae){return 0==U[U.l+ae-1]?U.read_shift(ae,"cstr"):""}function Le(U,ae){var W=Te(5+U.length);W.write_shift(2,14e3),W.write_shift(2,ae);for(var K=0;K<U.length;++K){var Ae=U.charCodeAt(K);W[W.l++]=Ae>127?95:Ae}return W[W.l++]=0,W}var ot={0:{n:"BOF",f:Pi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function a(U,ae,W){var K={s:{c:0,r:0},e:{c:0,r:0}};return 8==ae&&W.qpro?(K.s.c=U.read_shift(1),U.l++,K.s.r=U.read_shift(2),K.e.c=U.read_shift(1),U.l++,K.e.r=U.read_shift(2),K):(K.s.c=U.read_shift(2),K.s.r=U.read_shift(2),12==ae&&W.qpro&&(U.l+=2),K.e.c=U.read_shift(2),K.e.r=U.read_shift(2),12==ae&&W.qpro&&(U.l+=2),65535==K.s.c&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function p(U,ae,W){var K=l(U,0,W);return K[1].v=U.read_shift(2,"i"),K}},14:{n:"NUMBER",f:function y(U,ae,W){var K=l(U,0,W);return K[1].v=U.read_shift(8,"f"),K}},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:function x(U,ae,W){var K=U.l+ae,Ae=l(U,0,W);if(Ae[1].v=U.read_shift(8,"f"),W.qpro)U.l=K;else{var Ge=U.read_shift(2);(function M(U,ae){Es(U,0);for(var W=[],K=0,Ae="",Ge="",qe="",We="";U.l<U.length;){var Fe=U[U.l++];switch(Fe){case 0:W.push(U.read_shift(8,"f"));break;case 1:Ge=E(ae[0].c,U.read_shift(2),!0),Ae=E(ae[0].r,U.read_shift(2),!1),W.push(Ge+Ae);break;case 2:var Xt=E(ae[0].c,U.read_shift(2),!0),H=E(ae[0].r,U.read_shift(2),!1);Ge=E(ae[0].c,U.read_shift(2),!0),Ae=E(ae[0].r,U.read_shift(2),!1),W.push(Xt+H+":"+Ge+Ae);break;case 3:if(U.l<U.length)return void console.error("WK1 premature formula end");break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(U.read_shift(2));break;case 6:for(var ir="";Fe=U[U.l++];)ir+=String.fromCharCode(Fe);W.push('"'+ir.replace(/"/g,'""')+'"');break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:We=W.pop(),qe=W.pop(),W.push(["AND","OR"][Fe-20]+"("+qe+","+We+")");break;default:if(Fe<32&&w[Fe])We=W.pop(),qe=W.pop(),W.push(qe+w[Fe]+We);else{if(!b[Fe])return Fe<=7?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=24?console.error("WK1 unsupported op "+Fe.toString(16)):Fe<=30?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=115?console.error("WK1 unsupported function opcode "+Fe.toString(16)):console.error("WK1 unrecognized opcode "+Fe.toString(16));if(69==(K=b[Fe][1])&&(K=U[U.l++]),K>W.length)return void console.error("WK1 bad formula parse 0x"+Fe.toString(16)+":|"+W.join("|")+"|");var An=W.slice(-K);W.length-=K,W.push(b[Fe][0]+"("+An.join(",")+")")}}}1==W.length?ae[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")})(U.slice(U.l,U.l+Ge),Ae),U.l+=Ge}return Ae}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Qe},222:{n:"SHEETNAMELP",f:function De(U,ae){var W=U[U.l++];W>ae-1&&(W=ae-1);for(var K="";K.length<W;)K+=String.fromCharCode(U[U.l++]);return K}},65535:{n:""}},Se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function B(U,ae){var W=z(U);return W[1].t="s",W[1].v=U.read_shift(ae-4,"cstr"),W}},23:{n:"NUMBER17",f:J},24:{n:"NUMBER18",f:function Q(U,ae){var W=z(U);W[1].v=U.read_shift(2);var K=W[1].v>>1;if(1&W[1].v)switch(7&K){case 0:K=5e3*(K>>3);break;case 1:K=500*(K>>3);break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64}return W[1].v=K,W}},25:{n:"FORMULA19",f:function ve(U,ae){var W=J(U);return U.l+=ae-14,W}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function et(U,ae){for(var W={},K=U.l+ae;U.l<K;){var Ae=U.read_shift(2);if(14e3==Ae){for(W[Ae]=[0,""],W[Ae][0]=U.read_shift(2);U[U.l];)W[Ae][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return W}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function ne(U,ae){var W=z(U),K=U.read_shift(4);return W[1].v=K>>6,W}},38:{n:"??"},39:{n:"NUMBER27",f:Ke},40:{n:"FORMULA28",f:function _t(U,ae){var W=Ke(U);return U.l+=ae-10,W}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Qe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function ke(U,ae,W){if(W.qpro&&!(ae<21)){var K=U.read_shift(1);return U.l+=17,U.l+=1,U.l+=2,[K,U.read_shift(ae-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(U,ae){var W=ae||{};if(+W.codepage>=0&&ka(+W.codepage),"string"==W.type)throw new Error("Cannot write WK1 to JS string");var K=uo(),Ae=Fn(U["!ref"]),Ge=Array.isArray(U),qe=[];nt(K,0,function s(U){var ae=Te(2);return ae.write_shift(2,U),ae}(1030)),nt(K,6,function c(U){var ae=Te(8);return ae.write_shift(2,U.s.c),ae.write_shift(2,U.s.r),ae.write_shift(2,U.e.c),ae.write_shift(2,U.e.r),ae}(Ae));for(var We=Math.min(Ae.e.r,8191),Fe=Ae.s.r;Fe<=We;++Fe)for(var Xt=ci(Fe),H=Ae.s.c;H<=Ae.e.c;++H){Fe===Ae.s.r&&(qe[H]=Nr(H));var An=Ge?(U[Fe]||[])[H]:U[qe[H]+Xt];An&&"z"!=An.t&&("n"==An.t?(0|An.v)==An.v&&An.v>=-32768&&An.v<=32767?nt(K,13,m(Fe,H,An.v)):nt(K,14,_(Fe,H,An.v)):nt(K,15,d(Fe,H,Zc(An).slice(0,239))))}return nt(K,1),K.end()},book_to_wk3:function i(U,ae){var W=ae||{};if(+W.codepage>=0&&ka(+W.codepage),"string"==W.type)throw new Error("Cannot write WK3 to JS string");var K=uo();nt(K,0,function o(U){var ae=Te(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var W=0,K=0,Ae=0,Ge=0;Ge<U.SheetNames.length;++Ge){var We=U.Sheets[U.SheetNames[Ge]];if(We&&We["!ref"]){++Ae;var Fe=Jo(We["!ref"]);W<Fe.e.r&&(W=Fe.e.r),K<Fe.e.c&&(K=Fe.e.c)}}return W>8191&&(W=8191),ae.write_shift(2,W),ae.write_shift(1,Ae),ae.write_shift(1,K),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}(U));for(var Ae=0,Ge=0;Ae<U.SheetNames.length;++Ae)(U.Sheets[U.SheetNames[Ae]]||{})["!ref"]&&nt(K,27,Le(U.SheetNames[Ae],Ge++));var qe=0;for(Ae=0;Ae<U.SheetNames.length;++Ae){var We=U.Sheets[U.SheetNames[Ae]];if(We&&We["!ref"]){for(var Fe=Fn(We["!ref"]),Xt=Array.isArray(We),H=[],ir=Math.min(Fe.e.r,8191),An=Fe.s.r;An<=ir;++An)for(var sr=ci(An),Dn=Fe.s.c;Dn<=Fe.e.c;++Dn){An===Fe.s.r&&(H[Dn]=Nr(Dn));var Ei=Xt?(We[An]||[])[Dn]:We[H[Dn]+sr];Ei&&"z"!=Ei.t&&("n"==Ei.t?nt(K,23,ce(An,Dn,qe,Ei.v)):nt(K,22,R(An,Dn,qe,Zc(Ei).slice(0,239))))}++qe}}return nt(K,1),K.end()},to_workbook:function e(U,ae){switch(ae.type){case"base64":return n(Zo(Ko(U)),ae);case"binary":return n(Zo(U),ae);case"buffer":case"array":return n(U,ae)}throw"Unsupported type "+ae.type}}}(),U0e=function(){var t=sy("t"),e=sy("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var a={t:"s",v:$n(o[1])},c=s.match(e);return c&&(a.s=function B0e(t){var e={},n=t.match(Os),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=$t(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;e.cp=v2[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting"}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==s[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}(c[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(a){return a.v})}}(),j0e=function(){var e=/(\r\n|\n)/g;function r(i){var s=[[],i.v,[]];return i.v?(i.s&&function n(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var c=i.valign||"";"superscript"==c||"super"==c?c="sup":"subscript"==c&&(c="sub"),""!=c&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>")}(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),H0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,z0e=/<(?:\w+:)?r>/,$0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function sM(t,e){var n=!e||e.cellHTML,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=$n(ur(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ur(t),n&&(r.h=A2(r.t))):t.match(z0e)&&(r.r=ur(t),r.t=$n(ur((t.replace($0e,"").match(H0e)||[]).join("").replace(Os,""))),n&&(r.h=j0e(U0e(r.r)))),r):{t:""}}var W0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,G0e=/<(?:\w+:)?(?:si|sstItem)>/g,q0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function Yz(t){if(typeof jn<"u")return jn.utils.encode(Bf,t);for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Zl(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function n_e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function Xz(t,e){var n=t.l+e,r={};r.Flags=63&t.read_shift(4),t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function Qz(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function c_e(t){if(36!=(63&t.read_shift(4)))throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4);return{t:"Std",h:Xz(t,n),v:Qz(t,t.length-t.l)}}function l_e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function u_e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Os,function(s){var o=$t(s);switch(qc(o[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":e.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=o.uri;break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}var Jz=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(o,a){return function(o){return 255&(o/2|128*o)}(o^a)};return function(o){for(var a=Yz(o),c=function(o){for(var a=e[o.length-1],c=104,l=o.length-1;l>=0;--l)for(var u=o[l],d=0;7!=d;++d)64&u&&(a^=n[c]),u*=2,--c;return a}(a),l=a.length,u=ad(16),d=0;16!=d;++d)u[d]=0;var y;for(1==(1&l)&&(u[l]=i(t[0],c>>8),u[--l]=i(a[a.length-1],255&c));l>0;)u[--l]=i(a[l],c>>8),u[--l]=i(a[l],255&c);for(l=15,y=15-a.length;y>0;)u[l]=i(t[y],c>>8),--y,u[--l]=i(a[l],255&c),--l,--y;return u}}();var e$=function(){function t(i,s){switch(s.type){case"base64":return e(Ko(i),s);case"binary":return e(i,s);case"buffer":return e(_n&&Buffer.isBuffer(i)?i.toString("binary"):cd(i),s);case"array":return e(Hf(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=(s||{}).dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var l={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,d){Array.isArray(a)&&(a[d]=[]);for(var y,p=/\\\w+\b/g,m=0,_=-1;y=p.exec(u);){if("\\cell"===y[0]){var x=u.slice(m,p.lastIndex-y[0].length);if(" "==x[0]&&(x=x.slice(1)),++_,x.length){var E={v:x,t:"s"};Array.isArray(a)?a[d][_]=E:a[Wt({r:d,c:_})]=E}}m=p.lastIndex}_>l.e.c&&(l.e.c=_)}),a["!ref"]=on(l),a}return{to_workbook:function n(i,s){return hd(t(i,s),s)},to_sheet:t,from_sheet:function r(i){for(var a,s=["{\\rtf1\\ansi"],o=Fn(i["!ref"]),c=Array.isArray(i),l=o.s.r;l<=o.e.r;++l){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var d=Wt({r:l,c:u});(a=c?(i[l]||[])[u]:i[d])&&(null!=a.v||a.f&&!a.F)&&(s.push(" "+(a.w||(Zc(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function py(t){for(var e=0,n=1;3!=e;++e)n=256*n+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function GE(t,e){if(0===e)return t;var n=function y_e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(0===o)return[0,0,e];var c,a=0,l=i+s;switch(c=o/(l>1?2-l:l),i){case e:a=((n-r)/o+6)%6;break;case n:a=(r-e)/o+2;break;case r:a=(e-n)/o+4}return[a/6,c,l/2]}(function v_e(t){var e=t.slice("#"===t[0]?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}(t));return n[2]=e<0?n[2]*(1+e):1-(1-n[2])*(1-e),py(function x_e(t){var c,n=t[1],r=t[2],i=2*n*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*t[0];if(0!==n)switch(0|a){case 0:case 6:c=i*a,o[0]+=i,o[1]+=c;break;case 1:o[0]+=c=i*(2-a),o[1]+=i;break;case 2:c=i*(a-2),o[1]+=i,o[2]+=c;break;case 3:o[1]+=c=i*(4-a),o[2]+=i;break;case 4:c=i*(a-4),o[2]+=i,o[0]+=c;break;case 5:o[2]+=c=i*(6-a),o[0]+=i}for(var l=0;3!=l;++l)o[l]=Math.round(255*o[l]);return o}(n))}var t$=6,b_e=15,w_e=1,Us=t$;function my(t){return Math.floor((t+Math.round(128/Us)/256)*Us)}function gy(t){return Math.floor((t-5)/Us*100+.5)/100}function qE(t){return Math.round((t*Us+5)/Us*256)/256}function aM(t){return qE(gy(my(t)))}function cM(t){var e=Math.abs(t-aM(t)),n=Us;if(e>.005)for(Us=w_e;Us<b_e;++Us)Math.abs(t-aM(t))<=e&&(e=Math.abs(t-aM(t)),n=Us);Us=n}function th(t){t.width?(t.wpx=my(t.width),t.wch=gy(t.wpx),t.MDW=Us):t.wpx?(t.wch=gy(t.wpx),t.width=qE(t.wch),t.MDW=Us):"number"==typeof t.wch&&(t.width=qE(t.wch),t.wpx=my(t.width),t.MDW=Us),t.customWidth&&delete t.customWidth}var n$=96;function _y(t){return 96*t/n$}function ag(t){return t*n$/96}var T_e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},KE=["numFmtId","fillId","fontId","borderId","xfId"],ZE=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],M_e=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,c,l){var d,u={};return a?((d=(a=a.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function A_e(t,e,n){e.NumberFmt=[];for(var r=oi(Vt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Vt[r[i]];var s=t[0].match(Os);if(s)for(i=0;i<s.length;++i){var o=$t(s[i]);switch(qc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var a=$n(ur(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=a,c>0){if(c>392){for(c=392;c>60&&null!=e.NumberFmt[c];--c);e.NumberFmt[c]=a}Gc(a,c)}break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}(d,u,l),(d=a.match(i))&&function S_e(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Os)||[]).forEach(function(o){var a=$t(o);switch(qc(a[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=ur(a.val));break;case"<b":i.bold=a.val?Or(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?Or(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?Or(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?Or(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?Or(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?Or(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?Or(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<charset":if("1"==a.val)break;a.codepage=v2[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=Or(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var c=Zf[i.color.index];81==i.color.index&&(c=Zf[1]),c||(c=Zf[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=GE(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}(d,u,c,l),(d=a.match(r))&&function C_e(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Os)||[]).forEach(function(o){var a=$t(o);switch(qc(a[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":e.Fills.push(i={});break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),null!=a.rgb&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}(d,u,0,l),(d=a.match(s))&&function I_e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Os)||[]).forEach(function(o){var a=$t(o);switch(qc(a[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=Or(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=Or(a.diagonalDown)),e.Borders.push(i);break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}(d,u,0,l),(d=a.match(n))&&function k_e(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Os)||[]).forEach(function(s){var o=$t(s),a=0;switch(qc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=o)[0],a=0;a<KE.length;++a)r[KE[a]]&&(r[KE[a]]=parseInt(r[KE[a]],10));for(a=0;a<ZE.length;++a)r[ZE[a]]&&(r[ZE[a]]=Or(r[ZE[a]]));if(e.NumberFmt&&r.numFmtId>392)for(a=392;a>60;--a)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[a]){r.numFmtId=a;break}e.CellXf.push(r);break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),null!=o.textRotation&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Or(o.wrapText)),r.alignment=c;break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}(d,u,l),u):u}}(),V_e=Ns,U_e=Ns,tve=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function nve(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Os)||[]).forEach(function(i){var s=$t(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===s[0].charAt(1)?(e.themeElements.clrScheme[tve.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function rve(){}function ive(){}var sve=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ove=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ave=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,lve=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function o$(t,e){(!t||0===t.length)&&(t=function uM(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&"string"==typeof t.raw)return t.raw;var n=[Ri];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}());var n,r={};if(!(n=t.match(lve)))throw new Error("themeElements not found in theme");return function cve(t,e,n){var r;e.themeElements={},[["clrScheme",sve,nve],["fontScheme",ove,rve],["fmtScheme",ave,ive]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}(n[0],r,e),r.raw=t,r}function mve(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=function fve(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:case 4:t.l+=4;break;case 1:e.xclrValue=function hve(t,e){return Ns(t,e)}(t,4);break;case 2:e.xclrValue=kz(t);break;case 3:e.xclrValue=function dve(t){return t.read_shift(4)}(t)}return t.l+=8,e}(t);break;case 6:r[1]=function pve(t,e){return Ns(t,e)}(t,n);break;case 14:case 15:r[1]=t.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function _ve(t,e){e.forEach(function(n){})}function l$(t,e,n,r){var s,i=Array.isArray(t);e.forEach(function(o){var a=Yr(o.ref);if(i?(t[a.r]||(t[a.r]=[]),s=t[a.r][a.c]):s=t[o.ref],!s){s={t:"z"},i?t[a.r][a.c]=s:t[o.ref]=s;var c=Fn(t["!ref"]||"BDWGO1000001:A1");c.s.r>a.r&&(c.s.r=a.r),c.e.r<a.r&&(c.e.r=a.r),c.s.c>a.c&&(c.s.c=a.c),c.e.c<a.c&&(c.e.c=a.c);var l=on(c);l!==t["!ref"]&&(t["!ref"]=l)}s.c||(s.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var d=s.c.length-1;d>=0;--d){if(!n&&s.c[d].T)return;n&&!s.c[d].T&&s.c.splice(d,1)}if(n&&r)for(d=0;d<r.length;++d)if(u.a==r[d].id){u.a=r[d].name||u.a;break}s.c.push(u)})}var Uve=Ls,$ve="application/vnd.ms-office.vbaProject",lg=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var a=!1,c=!1;0==s.length?c=!0:"["==s.charAt(0)&&(c=!0,s=s.slice(1,-1)),0==o.length?a=!0:"["==o.charAt(0)&&(a=!0,o=o.slice(1,-1));var l=s.length>0?0|parseInt(s,10):0,u=o.length>0?0|parseInt(o,10):0;return a?u+=e.c:--u,c?l+=e.r:--l,i+(a?"":"$")+Nr(u)+(c?"":"$")+ci(l)}return function(i,s){return e=s,i.replace(t,n)}}(),dM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,fM=function(){return function(e,n){return e.replace(dM,function(r,i,s,o,a,c){var l=U2(o)-(s?0:n.c),u=B2(c)-(a?0:n.r);return i+"R"+(0==u?"":a?u+1:"["+u+"]")+"C"+(0==l?"":s?l+1:"["+l+"]")})}}();function f$(t,e){return t.replace(dM,function(n,r,i,s,o,a){return r+("$"==i?i+s:Nr(U2(s)+e.c))+("$"==o?o+a:ci(B2(a)+e.r))})}function Xve(t,e,n){var i=Jo(e).s,s=Yr(n);return f$(t,{r:s.r-i.r,c:s.c-i.c})}function h$(t){return t.replace(/_xlfn\./g,"")}function Fi(t){t.l+=1}function md(t,e){var n=t.read_shift(1==e?1:2);return[16383&n,n>>14&1,n>>15&1]}function p$(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return m$(t);12==n.biff&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=md(t,2),a=md(t,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function m$(t){var e=md(t,2),n=md(t,2),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function g$(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return function eye(t){var e=md(t,2),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}(t);var r=t.read_shift(n&&12==n.biff?4:2),i=md(t,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function tye(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function _$(t){var e=1&t[t.l+1];return t.l+=4,[e,1]}function v$(t){return[t.read_shift(1),t.read_shift(1)]}function kye(t,e){var n=[t.read_shift(1)];if(12==e)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=wi(t,1)?"TRUE":"FALSE",12!=e&&(t.l+=7);break;case 37:case 16:n[1]=Kl[t[t.l]],t.l+=12==e?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Vs(t);break;case 2:n[1]=Qf(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Rye(t,e,n){for(var r=t.read_shift(12==n.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==n.biff?qf:$E)(t,8));return i}function Mye(t,e,n){var r=0,i=0;12==n.biff?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=kye(t,n.biff);return o}function yy(t,e,n){return t.l+=2,[tye(t)]}function hM(t){return t.l+=6,[]}function y$(t){return t.l+=2,[Pi(t),1&t.read_shift(2)]}var Qye=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],x$={1:{n:"PtgExp",f:function Tye(t,e,n){return t.l++,n&&12==n.biff?[t.read_shift(4,"i"),0]:[t.read_shift(2),t.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Ns},3:{n:"PtgAdd",f:Fi},4:{n:"PtgSub",f:Fi},5:{n:"PtgMul",f:Fi},6:{n:"PtgDiv",f:Fi},7:{n:"PtgPower",f:Fi},8:{n:"PtgConcat",f:Fi},9:{n:"PtgLt",f:Fi},10:{n:"PtgLe",f:Fi},11:{n:"PtgEq",f:Fi},12:{n:"PtgGe",f:Fi},13:{n:"PtgGt",f:Fi},14:{n:"PtgNe",f:Fi},15:{n:"PtgIsect",f:Fi},16:{n:"PtgUnion",f:Fi},17:{n:"PtgRange",f:Fi},18:{n:"PtgUplus",f:Fi},19:{n:"PtgUminus",f:Fi},20:{n:"PtgPercent",f:Fi},21:{n:"PtgParen",f:Fi},22:{n:"PtgMissArg",f:Fi},23:{n:"PtgStr",f:function Dye(t,e,n){return t.l++,fy(t,0,n)}},26:{n:"PtgSheet",f:function txe(t,e,n){return t.l+=5,t.l+=2,t.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function nxe(t,e,n){return t.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function Iye(t){return t.l++,Kl[t.read_shift(1)]}},29:{n:"PtgBool",f:function Sye(t){return t.l++,0!==t.read_shift(1)}},30:{n:"PtgInt",f:function Cye(t){return t.l++,t.read_shift(2)}},31:{n:"PtgNum",f:function Aye(t){return t.l++,Vs(t)}},32:{n:"PtgArray",f:function lye(t,e,n){var r=(96&t[t.l++])>>5;return t.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function xye(t,e,n){var r=(96&t[t.l])>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[Exe[i],E$[i],r]}},34:{n:"PtgFuncVar",f:function bye(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,t.read_shift(1)]:function wye(t){return[t[t.l+1]>>7,32767&t.read_shift(2)]}(t);return[i,(0===s[0]?E$:wxe)[s[1]]]}},35:{n:"PtgName",f:function Pye(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(!n||n.biff>=8?4:2);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function _ye(t,e,n){var r=(96&t[t.l])>>5;return t.l+=1,[r,g$(t,0,n)]}},37:{n:"PtgArea",f:function iye(t,e,n){return[(96&t[t.l++])>>5,p$(t,0,n)]}},38:{n:"PtgMemArea",f:function Nye(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=n&&2==n.biff?3:4,[r,t.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Ns},40:{n:"PtgMemNoMem",f:Ns},41:{n:"PtgMemFunc",f:function Lye(t,e,n){return[t.read_shift(1)>>>5&3,t.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function Vye(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,12==n.biff&&(t.l+=2),[r]}},43:{n:"PtgAreaErr",f:function oye(t,e,n){var r=(96&t[t.l++])>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function vye(t,e,n){var r=(96&t[t.l])>>5;t.l+=1;var i=function nye(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function rye(t){var e=t.read_shift(2),n=t.read_shift(1),r=(32768&e)>>15,i=(16384&e)>>14;return e&=16383,1==r&&e>=8192&&(e-=16384),1==i&&n>=128&&(n-=256),{r:e,c:n,cRel:i,rRel:r}}(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(16384&s)>>14,a=(32768&s)>>15;if(s&=16383,1==a)for(;i>524287;)i-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:o,rRel:a}}(t,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function cye(t,e,n){var r=(96&t[t.l++])>>5,i=function Jve(t,e,n){if(n.biff<8)return m$(t);var r=t.read_shift(12==n.biff?4:2),i=t.read_shift(12==n.biff?4:2),s=md(t,2),o=md(t,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(t,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function rxe(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function ixe(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},57:{n:"PtgNameX",f:function Fye(t,e,n){return 5==n.biff?function Oye(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}(t):[t.read_shift(1)>>>5&3,t.read_shift(2),t.read_shift(4)]}},58:{n:"PtgRef3d",f:function yye(t,e,n){var r=(96&t[t.l])>>5;t.l+=1;var i=t.read_shift(2);return n&&5==n.biff&&(t.l+=12),[r,i,g$(t,0,n)]}},59:{n:"PtgArea3d",f:function sye(t,e,n){var r=(96&t[t.l++])>>5,i=t.read_shift(2,"i");if(n&&5===n.biff)t.l+=12;return[r,i,p$(t,0,n)]}},60:{n:"PtgRefErr3d",f:function Bye(t,e,n){var r=(96&t[t.l++])>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return t.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function aye(t,e,n){var r=(96&t[t.l++])>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12}return t.l+=s,[r,i]}},255:{}},oxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},axe={1:{n:"PtgElfLel",f:y$},2:{n:"PtgElfRw",f:yy},3:{n:"PtgElfCol",f:yy},6:{n:"PtgElfRwV",f:yy},7:{n:"PtgElfColV",f:yy},10:{n:"PtgElfRadical",f:yy},11:{n:"PtgElfRadicalS",f:hM},13:{n:"PtgElfColS",f:hM},15:{n:"PtgElfColSV",f:hM},16:{n:"PtgElfRadicalLel",f:y$},25:{n:"PtgList",f:function Jye(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2);return{ixti:e,coltype:3&n,rt:Qye[n>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function exe(t){return t.l+=2,[t.read_shift(4)]}},255:{}},cxe={0:{n:"PtgAttrNoop",f:function sxe(t){return t.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function pye(t,e,n){var r=255&t[t.l+1]?1:0;return t.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function fye(t,e,n){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function uye(t,e,n){t.l+=2;for(var r=t.read_shift(n&&2==n.biff?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function dye(t,e,n){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function Eye(t,e,n){t.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:_$},33:{n:"PtgAttrBaxcel",f:_$},64:{n:"PtgAttrSpace",f:function mye(t){return t.read_shift(2),v$(t)}},65:{n:"PtgAttrSpaceSemi",f:function gye(t){return t.read_shift(2),v$(t)}},128:{n:"PtgAttrIfError",f:function hye(t){var e=255&t[t.l+1]?1:0;return t.l+=2,[e,t.read_shift(2)]}},255:{}};function xy(t,e,n,r){if(r.biff<8)return Ns(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Mye(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Rye(t,0,r),s.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!=(e=i-t.l)&&s.push(Ns(t,e)),s}function by(t,e,n){for(var i,s,r=t.l+e,o=[];r!=t.l;)e=r-t.l,i=x$[s=t[t.l]]||x$[oxe[s]],(24===s||25===s)&&(i=(24===s?axe:cxe)[t[t.l+1]]),i&&i.f?o.push([i.n,i.f(t,e,n)]):Ns(t,e);return o}function lxe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];i.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}e.push(i.join(","))}return e.join(";")}var uxe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function b$(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),0==e?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=-1==r[1]?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return null!=n.SID?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=-1==r[1]?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function w$(t,e,n){var r=b$(t,e,n);return"#REF"==r?r:function dxe(t,e){if(!(t||e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}(r,n)}function js(t,e,n,r,i){var c,l,u,m,s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],d=0,p=0,y="";if(!t[0]||!t[0][0])return"";for(var _=-1,x="",E=0,b=t[0].length;E<b;++E){var w=t[0][E];switch(w[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=a.pop(),l=a.pop(),_>=0){switch(t[0][_][1][0]){case 0:x=ai(" ",t[0][_][1][1]);break;case 1:x=ai("\r",t[0][_][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}l+=x,_=-1}a.push(l+uxe[w[0]]+c);break;case"PtgIsect":c=a.pop(),l=a.pop(),a.push(l+" "+c);break;case"PtgUnion":c=a.pop(),l=a.pop(),a.push(l+","+c);break;case"PtgRange":c=a.pop(),l=a.pop(),a.push(l+":"+c);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":u=cy(w[1][1],o,i),a.push(ly(u,s));break;case"PtgRefN":u=n?cy(w[1][1],n,i):w[1][1],a.push(ly(u,s));break;case"PtgRef3d":d=w[1][1],u=cy(w[1][2],o,i),y=w$(r,d,i),a.push(y+"!"+ly(u,s));break;case"PtgFunc":case"PtgFuncVar":var z=w[1][0],B=w[1][1];z||(z=0);var R=0==(z&=127)?[]:a.slice(-z);a.length-=z,"User"===B&&(B=R.shift()),a.push(B+"("+R.join(",")+")");break;case"PtgBool":a.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":a.push(w[1]);break;case"PtgNum":a.push(String(w[1]));break;case"PtgStr":a.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":m=YH(w[1][1],n?{s:n}:o,i),a.push(V2(m,i));break;case"PtgArea":m=YH(w[1][1],o,i),a.push(V2(m,i));break;case"PtgArea3d":m=w[1][2],y=w$(r,d=w[1][1],i),a.push(y+"!"+V2(m,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgName":var Q=(r.names||[])[(p=w[1][2])-1]||(r[0]||[])[p],J=Q?Q.Name:"SH33TJSNAME"+String(p);J&&"_xlfn."==J.slice(0,6)&&!i.xlfn&&(J=J.slice(6)),a.push(J);break;case"PtgNameX":var ve,ce=w[1][1];if(p=w[1][2],!(i.biff<=5)){var ne="";if(14849==((r[ce]||[])[0]||[])[0]||(1025==((r[ce]||[])[0]||[])[0]?r[ce][p]&&r[ce][p].itab>0&&(ne=r.SheetNames[r[ce][p].itab-1]+"!"):ne=r.SheetNames[p-1]+"!"),r[ce]&&r[ce][p])ne+=r[ce][p].Name;else if(r[0]&&r[0][p])ne+=r[0][p].Name;else{var Ke=(b$(r,ce,i)||"").split(";;");Ke[p-1]?ne=Ke[p-1]:ne+="SH33TJSERRX"}a.push(ne);break}ce<0&&(ce=-ce),r[ce]&&(ve=r[ce][p]),ve||(ve={Name:"SH33TJSERRY"}),a.push(ve.Name);break;case"PtgParen":var _t="(",Qe=")";if(_>=0){switch(x="",t[0][_][1][0]){case 2:_t=ai(" ",t[0][_][1][1])+_t;break;case 3:_t=ai("\r",t[0][_][1][1])+_t;break;case 4:Qe=ai(" ",t[0][_][1][1])+Qe;break;case 5:Qe=ai("\r",t[0][_][1][1])+Qe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}a.push(_t+a.pop()+Qe);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":a.push("#REF!");break;case"PtgExp":var De={c:n.c,r:n.r};if(r.sharedf[Wt(u={c:w[1][1],r:w[1][0]})]){var ke=r.sharedf[Wt(u)];a.push(js(ke,0,De,r,i))}else{var et=!1;for(c=0;c!=r.arrayf.length;++c)if(!(u.c<(l=r.arrayf[c])[0].s.c||u.c>l[0].e.c||u.r<l[0].s.r||u.r>l[0].e.r)){a.push(js(l[1],0,De,r,i)),et=!0;break}et||a.push(w[1])}break;case"PtgArray":a.push("{"+lxe(w[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=E;break;case"PtgMissArg":a.push("");break;case"PtgList":a.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(w))}if(3!=i.biff&&_>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(t[0][E][0])){var ot=!0;switch((w=t[0][_])[1][0]){case 4:ot=!1;case 0:x=ai(" ",w[1][1]);break;case 5:ot=!1;case 1:x=ai("\r",w[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}a.push((ot?x:"")+a.pop()+(ot?"":x)),_=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function fxe(t,e,n){var s,r=t.l+e,i=2==n.biff?1:2,o=t.read_shift(i);if(65535==o)return[[],Ns(t,e-2)];var a=by(t,o,n);return e!==o+i&&(s=xy(t,e-o-i,a,n)),t.l=r,[a,s]}function mxe(t,e,n){var i,r=t.l+e,s=t.read_shift(2),o=by(t,s,n);return 65535==s?[[],Ns(t,e-2)]:(e!==s+2&&(i=xy(t,r-s-2,o,n)),[o,i])}function pM(t,e,n){var r=t.l+e,i=Yc(t);2==n.biff&&++t.l;var s=function gxe(t){var e;if(65535!==Gl(t,t.l+6))return[Vs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=1===t[t.l+2],t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}(t),o=t.read_shift(1);2!=n.biff&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var a=function hxe(t,e,n){var s,r=t.l+e,i=2==n.biff?1:2,o=t.read_shift(i);if(65535==o)return[[],Ns(t,e-2)];var a=by(t,o,n);return e!==o+i&&(s=xy(t,e-o-i,a,n)),t.l=r,[a,s]}(t,r-t.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function YE(t,e,n){var r=t.read_shift(4),i=by(t,r,n),s=t.read_shift(4);return[i,s>0?xy(t,s,i,n):null]}var yxe=YE,XE=YE,xxe=YE,bxe=YE,wxe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},E$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Exe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function T$(t){return"of:"==t.slice(0,3)&&(t=t.slice(3)),61==t.charCodeAt(0)&&61==(t=t.slice(1)).charCodeAt(0)&&(t=t.slice(1)),(t=(t=(t=t.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function mM(t){var e=t.split(":");return[e[0].split(".")[0],e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var wy={},ug={};function nh(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];"xlml"==e&&(n=[1,1,1,1,.5,.5]),null==t.left&&(t.left=n[0]),null==t.right&&(t.right=n[1]),null==t.top&&(t.top=n[2]),null==t.bottom&&(t.bottom=n[3]),null==t.header&&(t.header=n[4]),null==t.footer&&(t.footer=n[5])}}function I$(t,e,n,r,i,s){try{r.cellNF&&(t.z=Vt[e])}catch(a){if(r.WTF)throw a}if("z"!==t.t||r.cellStyles){if("d"===t.t&&"string"==typeof t.v&&(t.v=Zr(t.v)),(!r||!1!==r.cellText)&&"z"!==t.t)try{if(null==Vt[e]&&Gc(Tpe[e]||"General",e),"e"===t.t)t.w=t.w||Kl[t.v];else if(0===e)if("n"===t.t)t.w=(0|t.v)===t.v?t.v.toString(10):ty(t.v);else if("d"===t.t){var o=Ki(t.v);t.w=(0|o)===o?o.toString(10):ty(o)}else{if(void 0===t.v)return"";t.w=Uf(t.v,ug)}else t.w=Yo(e,"d"===t.t?Ki(t.v):t.v,ug)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&null!=n)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=GE(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=GE(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}var Cxe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Sxe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Axe=/<(?:\w:)?hyperlink [^>]*>/gm,Dxe=/"(\w*:\w*)"/,kxe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Rxe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Mxe=/<(?:\w:)?pageMargins[^>]*\/>/g,C$=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Pxe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Fxe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function _M(t,e,n,r){var i=$t(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=$n(ur(i.codeName)))}var Zxe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,Jxe=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=sy("v"),o=sy("f");return function(c,l,u,d,p,m){for(var B,R,ce,ve,Qe,y=0,_="",x=[],E=[],b=0,w=0,M=0,z="",Q=0,J=0,ne=0,Ke=0,_t=Array.isArray(m.CellXf),De=[],ke=[],et=Array.isArray(l),Le=[],ot={},Se=!1,U=!!u.sheetStubs,ae=c.split(e),W=0,K=ae.length;W!=K;++W){var Ae=(_=ae[W].trim()).length;if(0!==Ae){var Ge=0;e:for(y=0;y<Ae;++y)switch(_[y]){case">":if("/"!=_[y-1]){++y;break e}if(u&&u.cellStyles){if(Q=null!=(R=$t(_.slice(Ge,y),!0)).r?parseInt(R.r,10):Q+1,J=-1,u.sheetRows&&u.sheetRows<Q)continue;ot={},Se=!1,R.ht&&(Se=!0,ot.hpt=parseFloat(R.ht),ot.hpx=ag(ot.hpt)),"1"==R.hidden&&(Se=!0,ot.hidden=!0),null!=R.outlineLevel&&(Se=!0,ot.level=+R.outlineLevel),Se&&(Le[Q-1]=ot)}break;case"<":Ge=y}if(Ge>=y)break;if(Q=null!=(R=$t(_.slice(Ge,y),!0)).r?parseInt(R.r,10):Q+1,J=-1,!(u.sheetRows&&u.sheetRows<Q)){d.s.r>Q-1&&(d.s.r=Q-1),d.e.r<Q-1&&(d.e.r=Q-1),u&&u.cellStyles&&(ot={},Se=!1,R.ht&&(Se=!0,ot.hpt=parseFloat(R.ht),ot.hpx=ag(ot.hpt)),"1"==R.hidden&&(Se=!0,ot.hidden=!0),null!=R.outlineLevel&&(Se=!0,ot.level=+R.outlineLevel),Se&&(Le[Q-1]=ot)),x=_.slice(y).split(t);for(var qe=0;qe!=x.length&&"<"==x[qe].trim().charAt(0);++qe);for(x=x.slice(qe),y=0;y!=x.length;++y)if(0!==(_=x[y].trim()).length){if(E=_.match(n),b=y,w=0,M=0,_="<c "+("<"==_.slice(0,1)?">":"")+_,null!=E&&2===E.length){for(b=0,z=E[1],w=0;w!=z.length&&!((M=z.charCodeAt(w)-64)<1||M>26);++w)b=26*b+M;J=--b}else++J;for(w=0;w!=_.length&&62!==_.charCodeAt(w);++w);if(++w,(R=$t(_.slice(0,w),!0)).r||(R.r=Wt({r:Q-1,c:J})),B={t:""},null!=(E=(z=_.slice(w)).match(s))&&""!==E[1]&&(B.v=$n(E[1])),u.cellFormula){if(null!=(E=z.match(o))&&""!==E[1]){if(B.f=$n(ur(E[1])).replace(/\r\n/g,"\n"),u.xlfn||(B.f=h$(B.f)),E[0].indexOf('t="array"')>-1)B.F=(z.match(i)||[])[1],B.F.indexOf(":")>-1&&De.push([Fn(B.F),B.F]);else if(E[0].indexOf('t="shared"')>-1){ve=$t(E[0]);var We=$n(ur(E[1]));u.xlfn||(We=h$(We)),ke[parseInt(ve.si,10)]=[ve,We,R.r]}}else(E=z.match(/<f[^>]*\/>/))&&ke[(ve=$t(E[0])).si]&&(B.f=Xve(ke[ve.si][1],ke[ve.si][2],R.r));var Fe=Yr(R.r);for(w=0;w<De.length;++w)Fe.r>=De[w][0].s.r&&Fe.r<=De[w][0].e.r&&Fe.c>=De[w][0].s.c&&Fe.c<=De[w][0].e.c&&(B.F=De[w][1])}if(null==R.t&&void 0===B.v)if(B.f||B.F)B.v=0,B.t="n";else{if(!U)continue;B.t="z"}else B.t=R.t||"n";switch(d.s.c>J&&(d.s.c=J),d.e.c<J&&(d.e.c=J),B.t){case"n":if(""==B.v||null==B.v){if(!U)continue;B.t="z"}else B.v=parseFloat(B.v);break;case"s":if(typeof B.v>"u"){if(!U)continue;B.t="z"}else ce=wy[parseInt(B.v,10)],B.v=ce.t,B.r=ce.r,u.cellHTML&&(B.h=ce.h);break;case"str":B.t="s",B.v=null!=B.v?ur(B.v):"",u.cellHTML&&(B.h=A2(B.v));break;case"inlineStr":E=z.match(r),B.t="s",null!=E&&(ce=sM(E[1]))?(B.v=ce.t,u.cellHTML&&(B.h=ce.h)):B.v="";break;case"b":B.v=Or(B.v);break;case"d":u.cellDates?B.v=Zr(B.v,1):(B.v=Ki(Zr(B.v,1)),B.t="n");break;case"e":(!u||!1!==u.cellText)&&(B.w=B.v),B.v=oz[B.v]}if(ne=Ke=0,Qe=null,_t&&void 0!==R.s&&null!=(Qe=m.CellXf[R.s])&&(null!=Qe.numFmtId&&(ne=Qe.numFmtId),u.cellStyles&&null!=Qe.fillId&&(Ke=Qe.fillId)),I$(B,ne,Ke,u,p,m),u.cellDates&&_t&&"n"==B.t&&jf(Vt[ne])&&(B.t="d",B.v=ME(B.v)),R.cm&&u.xlmeta){var Xt=(u.xlmeta.Cell||[])[+R.cm-1];Xt&&"XLDAPR"==Xt.type&&(B.D=!0)}if(et){var H=Yr(R.r);l[H.r]||(l[H.r]=[]),l[H.r][H.c]=B}else l[R.r]=B}}}}Le.length>0&&(l["!rows"]=Le)}}(),ibe=qf;function A$(t){return[Wf(t),Vs(t),"n"]}var jbe=qf,D$=["left","right","top","bottom","header","footer"];var vM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],E1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],T1e=[],I1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function k$(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(null==r[s[0]])r[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof r[s[0]]&&(r[s[0]]=Or(r[s[0]]));break;case"int":"string"==typeof r[s[0]]&&(r[s[0]]=parseInt(r[s[0]],10))}}}function R$(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(null==t[r[0]])t[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof t[r[0]]&&(t[r[0]]=Or(t[r[0]]));break;case"int":"string"==typeof t[r[0]]&&(t[r[0]]=parseInt(t[r[0]],10))}}}function M$(t){R$(t.WBProps,vM),R$(t.CalcPr,I1e),k$(t.WBView,E1e),k$(t.Sheets,T1e),ug.date1904=Or(t.WBProps.date1904)}var S1e="][*?/\\".split("");var D1e=/<\w+:workbook/;function O1e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function $1e(t,e,n,r,i,s,o,a){return".bin"===e.slice(-4)?function i1e(t,e,n,r,i,s,o){if(!t)return t;var a=e||{};r||(r={"!id":{}}),null!=si&&null==a.dense&&(a.dense=si);var l,y,_,x,E,b,w,M,z,B,c=a.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=[],p=!1,m=!1,R=[];a.biff=12,a["!row"]=0;var Q=0,J=!1,ce=[],ve={},ne=a.supbooks||i.supbooks||[[]];if(ne.sharedf=ve,ne.arrayf=ce,ne.SheetNames=i.SheetNames||i.Sheets.map(function(ot){return ot.name}),!a.supbooks&&(a.supbooks=ne,i.Names))for(var Ke=0;Ke<i.Names.length;++Ke)ne[0][Ke+1]=i.Names[Ke];var ke,et,_t=[],Qe=[],De=!1;if(Cy[16]={n:"BrtShortReal",f:A$},ql(t,function(Se,U,ae){if(!m)switch(ae){case 148:l=Se;break;case 0:y=Se,a.sheetRows&&a.sheetRows<=y.r&&(m=!0),z=ci(E=y.r),a["!row"]=y.r,(Se.hidden||Se.hpt||null!=Se.level)&&(Se.hpt&&(Se.hpx=ag(Se.hpt)),Qe[Se.r]=Se);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:Se[2]},Se[2]){case"n":_.v=Se[1];break;case"s":_.v=(M=wy[Se[1]]).t,_.r=M.r;break;case"b":_.v=!!Se[1];break;case"e":_.v=Se[1],!1!==a.cellText&&(_.w=Kl[_.v]);break;case"str":_.t="s",_.v=Se[1];break;case"is":_.t="s",_.v=Se[1].t}if((x=o.CellXf[Se[0].iStyleRef])&&I$(_,x.numFmtId,null,a,s,o),b=-1==Se[0].c?b+1:Se[0].c,a.dense?(c[E]||(c[E]=[]),c[E][b]=_):c[Nr(b)+z]=_,a.cellFormula){for(J=!1,Q=0;Q<ce.length;++Q){var W=ce[Q];y.r>=W[0].s.r&&y.r<=W[0].e.r&&b>=W[0].s.c&&b<=W[0].e.c&&(_.F=on(W[0]),J=!0)}!J&&Se.length>3&&(_.f=Se[3])}if(u.s.r>y.r&&(u.s.r=y.r),u.s.c>b&&(u.s.c=b),u.e.r<y.r&&(u.e.r=y.r),u.e.c<b&&(u.e.c=b),a.cellDates&&x&&"n"==_.t&&jf(Vt[x.numFmtId])){var K=ld(_.v);K&&(_.t="d",_.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}ke&&("XLDAPR"==ke.type&&(_.D=!0),ke=void 0),et&&(et=void 0);break;case 1:case 12:if(!a.sheetStubs||p)break;_={t:"z",v:void 0},b=-1==Se[0].c?b+1:Se[0].c,a.dense?(c[E]||(c[E]=[]),c[E][b]=_):c[Nr(b)+z]=_,u.s.r>y.r&&(u.s.r=y.r),u.s.c>b&&(u.s.c=b),u.e.r<y.r&&(u.e.r=y.r),u.e.c<b&&(u.e.c=b),ke&&("XLDAPR"==ke.type&&(_.D=!0),ke=void 0),et&&(et=void 0);break;case 176:R.push(Se);break;case 49:ke=((a.xlmeta||{}).Cell||[])[Se-1];break;case 494:var Ae=r["!id"][Se.relId];for(Ae?(Se.Target=Ae.Target,Se.loc&&(Se.Target+="#"+Se.loc),Se.Rel=Ae):""==Se.relId&&(Se.Target="#"+Se.loc),E=Se.rfx.s.r;E<=Se.rfx.e.r;++E)for(b=Se.rfx.s.c;b<=Se.rfx.e.c;++b)a.dense?(c[E]||(c[E]=[]),c[E][b]||(c[E][b]={t:"z",v:void 0}),c[E][b].l=Se):(w=Wt({c:b,r:E}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=Se);break;case 426:if(!a.cellFormula)break;ce.push(Se),(B=a.dense?c[E][b]:c[Nr(b)+z]).f=js(Se[1],0,{r:y.r,c:b},ne,a),B.F=on(Se[0]);break;case 427:if(!a.cellFormula)break;ve[Wt(Se[0].s)]=Se[1],(B=a.dense?c[E][b]:c[Nr(b)+z]).f=js(Se[1],0,{r:y.r,c:b},ne,a);break;case 60:if(!a.cellStyles)break;for(;Se.e>=Se.s;)_t[Se.e--]={width:Se.w/256,hidden:!!(1&Se.flags),level:Se.level},De||(De=!0,cM(Se.w/256)),th(_t[Se.e+1]);break;case 161:c["!autofilter"]={ref:on(Se)};break;case 476:c["!margins"]=Se;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),Se.name&&(i.Sheets[n].CodeName=Se.name),(Se.above||Se.left)&&(c["!outline"]={above:Se.above,left:Se.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Se.RTL&&(i.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:d.push(ae),p=!0;break;case 38:d.pop(),p=!1;break;default:if(!U.T&&(!p||a.WTF))throw new Error("Unexpected record 0x"+ae.toString(16))}},a),delete a.supbooks,delete a["!row"],!c["!ref"]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=on(l||u)),a.sheetRows&&c["!ref"]){var Le=Fn(c["!ref"]);a.sheetRows<=+Le.e.r&&(Le.e.r=a.sheetRows-1,Le.e.r>u.e.r&&(Le.e.r=u.e.r),Le.e.r<Le.s.r&&(Le.s.r=Le.e.r),Le.e.c>u.e.c&&(Le.e.c=u.e.c),Le.e.c<Le.s.c&&(Le.s.c=Le.e.c),c["!fullref"]=c["!ref"],c["!ref"]=on(Le))}return R.length>0&&(c["!merges"]=R),_t.length>0&&(c["!cols"]=_t),Qe.length>0&&(c["!rows"]=Qe),c}(t,r,n,i,s,o,a):function Oxe(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}}),null!=si&&null==e.dense&&(e.dense=si);var a=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",d=t.match(Sxe);d?(l=t.slice(0,d.index),u=t.slice(d.index+d[0].length)):l=u=t;var p=l.match(C$);p?_M(p[0],0,i,n):(p=l.match(Pxe))&&function Lxe(t,e,n,r,i){_M(t.slice(0,t.indexOf(">")),0,r,i)}(p[0],0,0,i,n);var m=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=l.slice(m,m+50).match(Dxe);y&&function Ixe(t,e){var n=Fn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=on(n))}(a,y[1])}var _=l.match(Fxe);_&&_[1]&&function Yxe(t,e){e.Views||(e.Views=[{}]),(t.match(Zxe)||[]).forEach(function(n,r){var i=$t(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Or(i.rightToLeft)&&(e.Views[r].RTL=!0)})}(_[1],i);var x=[];if(e.cellStyles){var E=l.match(kxe);E&&function Wxe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=$t(e[r],!0);i.hidden&&(i.hidden=Or(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,cM(i.width)),th(i);s<=o;)t[s++]=hr(i)}}(x,E)}d&&Jxe(d[1],a,e,c,s,o);var b=u.match(Rxe);b&&(a["!autofilter"]=function qxe(t){return{ref:(t.match(/ref="([^"]*)"/)||[])[1]}}(b[0]));var w=[],M=u.match(Cxe);if(M)for(m=0;m!=M.length;++m)w[m]=Fn(M[m].slice(M[m].indexOf('"')+1));var z=u.match(Axe);z&&function Hxe(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=$t(ur(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+$n(s.location))):(s.Target="#"+$n(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=Fn(s.ref),c=a.s.r;c<=a.e.r;++c)for(var l=a.s.c;l<=a.e.c;++l){var u=Wt({c:l,r:c});r?(t[c]||(t[c]=[]),t[c][l]||(t[c][l]={t:"z",v:void 0}),t[c][l].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}(a,z,r);var B=u.match(Mxe);if(B&&(a["!margins"]=function zxe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}($t(B[0]))),!a["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(a["!ref"]=on(c)),e.sheetRows>0&&a["!ref"]){var R=Fn(a["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>c.e.r&&(R.e.r=c.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>c.e.c&&(R.e.c=c.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),a["!fullref"]=a["!ref"],a["!ref"]=on(R))}return x.length>0&&(a["!cols"]=x),w.length>0&&(a["!merges"]=w),a}(t,r,n,i,s,o,a)}var Ty,N$=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,L$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ac(t,e){var n=t.split(/\s+/),r=[];if(e||(r[0]=n[0]),1===n.length)return r;var s,o,c,i=t.match(N$);if(i)for(c=0;c!=i.length;++c)-1===(o=(s=i[c].match(L$))[1].indexOf(":"))?r[s[1]]=s[2].slice(1,s[2].length-1):r["xmlns:"===s[1].slice(0,6)?"xmlns"+s[1].slice(6):s[1].slice(o+1)]=s[2].slice(1,s[2].length-1);return r}function awe(t){var n={};if(1===t.split(/\s+/).length)return n;var i,s,a,r=t.match(N$);if(r)for(a=0;a!=r.length;++a)-1===(s=(i=r[a].match(L$))[1].indexOf(":"))?n[i[1]]=i[2].slice(1,i[2].length-1):n["xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(s+1)]=i[2].slice(1,i[2].length-1);return n}function lwe(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Or(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Zr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[$n(e)]=i}function dwe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=T_e[r.Pattern]||r.Pattern)}t[e.ID]=e}function fwe(t,e,n,r,i,s,o,a,c,l){var u="General",d=r.StyleID,p={};l=l||{};var m=[],y=0;for(void 0===d&&a&&(d=a.StyleID),void 0===d&&o&&(d=o.StyleID);void 0!==s[d]&&(s[d].nf&&(u=s[d].nf),s[d].Interior&&m.push(s[d].Interior),s[d].Parent);)d=s[d].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Or(t);break;case"String":r.t="s",r.r=DH($n(t)),r.v=t.indexOf("<")>-1?$n(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=t.slice(-1)&&(t+="Z"),r.v=(Zr(t)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!=r.v?r.v=$n(t):r.v<60&&(r.v=r.v-1),(!u||"General"==u)&&(u="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=oz[t],!1!==l.cellText&&(r.w=t);break;default:""==t&&""==e?r.t="z":(r.t="s",r.v=DH(e||t))}if(function uwe(t,e,n){if("z"!==t.t){if(!n||!1!==n.cellText)try{t.w="e"===t.t?t.w||Kl[t.v]:"General"===e?"n"===t.t?(0|t.v)===t.v?t.v.toString(10):ty(t.v):Uf(t.v):function cwe(t,e){var n=Ty[t]||$n(t);return"General"===n?Uf(e):Yo(n,e)}(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Ty[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&"n"==t.t&&jf(r)){var i=ld(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}(r,u,l),!1!==l.cellFormula)if(r.Formula){var _=$n(r.Formula);61==_.charCodeAt(0)&&(_=_.slice(1)),r.f=lg(_,i),delete r.Formula,"RC"==r.ArrayRange?r.F=lg("RC:RC",i):r.ArrayRange&&(r.F=lg(r.ArrayRange,i),c.push([Fn(r.F),r.F]))}else for(y=0;y<c.length;++y)i.r>=c[y][0].s.r&&i.r<=c[y][0].e.r&&i.c>=c[y][0].s.c&&i.c<=c[y][0].e.c&&(r.F=c[y][1]);l.cellStyles&&(m.forEach(function(x){!p.patternType&&x.patternType&&(p.patternType=x.patternType)}),r.s=p),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function hwe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.v=t.w=t.ixfe=void 0}function yM(t,e){var n=e||{};eg();var r=Xm(R2(t));("binary"==n.type||"array"==n.type||"base64"==n.type)&&(r=typeof jn<"u"?jn.utils.decode(65001,IE(r)):ur(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if((1023&(i=i.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&i.indexOf(","),1023&i.indexOf(";"))){var o=hr(n);return o.type="string",og.to_workbook(r,o)}if(-1==i.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(Ei){i.indexOf("<"+Ei)>=0&&(s=!0)}),s)return function Zwe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return hd(j$(n[0],e),e);var r={SheetNames:[],Sheets:{}};return n.forEach(function(i,s){OM(r,j$(i,e),"Sheet"+(s+1))}),r}(r,n);Ty={"General Number":"General","General Date":Vt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Vt[15],"Short Date":Vt[14],"Long Time":Vt[19],"Medium Time":Vt[18],"Short Time":Vt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Vt[2],Standard:Vt[4],Percent:Vt[10],Scientific:Vt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l,c=[];null!=si&&null==n.dense&&(n.dense=si);var ke,u={},d=[],p=n.dense?[]:{},m="",y={},_={},x=ac('<Data ss:Type="String">'),E=0,b=0,w=0,M={s:{r:2e6,c:2e6},e:{r:0,c:0}},z={},B={},R="",Q=0,J=[],ce={},ve={},ne=0,Ke=[],_t=[],Qe={},De=[],et=!1,Le=[],ot=[],Se={},U=0,ae=0,W={Sheets:[],WBProps:{date1904:!1}},K={};oy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var Ae="";a=oy.exec(r);)switch(a[3]=(Ae=a[3]).toLowerCase()){case"data":if("data"==Ae){if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;"/"===a[1]?fwe(r.slice(E,a.index),R,x,"comment"==c[c.length-1][0]?Qe:y,{c:b,r:w},z,De[b],_,Le,n):(R="",x=ac(a[0]),E=a.index+a[0].length);break;case"cell":if("/"===a[1])if(_t.length>0&&(y.c=_t),(!n.sheetRows||n.sheetRows>w)&&void 0!==y.v&&(n.dense?(p[w]||(p[w]=[]),p[w][b]=y):p[Nr(b)+ci(w)]=y),y.HRef&&(y.l={Target:$n(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(U=b+(0|parseInt(y.MergeAcross,10)),ae=w+(0|parseInt(y.MergeDown,10)),J.push({s:{c:b,r:w},e:{c:U,r:ae}})),n.sheetStubs)if(y.MergeAcross||y.MergeDown){for(var Ge=b;Ge<=U;++Ge)for(var qe=w;qe<=ae;++qe)(Ge>b||qe>w)&&(n.dense?(p[qe]||(p[qe]=[]),p[qe][Ge]={t:"z"}):p[Nr(Ge)+ci(qe)]={t:"z"});b=U+1}else++b;else y.MergeAcross?b=U+1:++b;else(y=awe(a[0])).Index&&(b=+y.Index-1),b<M.s.c&&(M.s.c=b),b>M.e.c&&(M.e.c=b),"/>"===a[0].slice(-2)&&++b,_t=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(w<M.s.r&&(M.s.r=w),w>M.e.r&&(M.e.r=w),"/>"===a[0].slice(-2)&&(_=ac(a[0])).Index&&(w=+_.Index-1),b=0,++w):((_=ac(a[0])).Index&&(w=+_.Index-1),Se={},("0"==_.AutoFitHeight||_.Height)&&(Se.hpx=parseInt(_.Height,10),Se.hpt=_y(Se.hpx),ot[w]=Se),"1"==_.Hidden&&(Se.hidden=!0,ot[w]=Se));break;case"worksheet":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));d.push(m),M.s.r<=M.e.r&&M.s.c<=M.e.c&&(p["!ref"]=on(M),n.sheetRows&&n.sheetRows<=M.e.r&&(p["!fullref"]=p["!ref"],M.e.r=n.sheetRows-1,p["!ref"]=on(M))),J.length&&(p["!merges"]=J),De.length>0&&(p["!cols"]=De),ot.length>0&&(p["!rows"]=ot),u[m]=p}else M={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,c.push([a[3],!1]),l=ac(a[0]),m=$n(l.Name),p=n.dense?[]:{},J=[],Le=[],ot=[],W.Sheets.push(K={name:m,Hidden:0});break;case"table":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;c.push([a[3],!1]),De=[],et=!1}break;case"style":"/"===a[1]?dwe(z,B,n):B=ac(a[0]);break;case"numberformat":B.nf=$n(ac(a[0]).Format||"General"),Ty[B.nf]&&(B.nf=Ty[B.nf]);for(var We=0;392!=We&&Vt[We]!=B.nf;++We);if(392==We)for(We=57;392!=We;++We)if(null==Vt[We]){Gc(B.nf,We);break}break;case"column":if("table"!==c[c.length-1][0])break;if((ke=ac(a[0])).Hidden&&(ke.hidden=!0,delete ke.Hidden),ke.Width&&(ke.wpx=parseInt(ke.Width,10)),!et&&ke.wpx>10){et=!0,Us=t$;for(var Fe=0;Fe<De.length;++Fe)De[Fe]&&th(De[Fe])}et&&th(ke),De[ke.Index-1||De.length]=ke;for(var Xt=0;Xt<+ke.Span;++Xt)De[De.length]=hr(ke);break;case"namedrange":if("/"===a[1])break;W.Names||(W.Names=[]);var H=$t(a[0]),ir={Name:H.Name,Ref:lg(H.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(ir.Sheet=W.Sheets.length-1),W.Names.push(ir);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?R+=r.slice(Q,a.index):Q=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;B.Interior=ac(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?Vme(ce,Ae,r.slice(ne,a.index)):ne=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));hwe(Qe),_t.push(Qe)}else c.push([a[3],!1]),Qe={a:(l=ac(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var An=ac(a[0]);p["!autofilter"]={ref:lg(An.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;default:if(0==c.length&&"document"==a[3]||0==c.length&&"uof"==a[3])return J$(r,n);var sr=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:sr=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:sr=!1}break;case"excelworkbook":switch(a[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:sr=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:sr=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"!==a[0].slice(-2))if("/"===a[1])switch(r.slice(ne,a.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2}else ne=a.index+a[0].length;break;case"header":p["!margins"]||nh(p["!margins"]={},"xlml"),isNaN(+$t(a[0]).Margin)||(p["!margins"].header=+$t(a[0]).Margin);break;case"footer":p["!margins"]||nh(p["!margins"]={},"xlml"),isNaN(+$t(a[0]).Margin)||(p["!margins"].footer=+$t(a[0]).Margin);break;case"pagemargins":var Dn=$t(a[0]);p["!margins"]||nh(p["!margins"]={},"xlml"),isNaN(+Dn.Top)||(p["!margins"].top=+Dn.Top),isNaN(+Dn.Left)||(p["!margins"].left=+Dn.Left),isNaN(+Dn.Right)||(p["!margins"].right=+Dn.Right),isNaN(+Dn.Bottom)||(p["!margins"].bottom=+Dn.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;default:sr=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:sr=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:sr=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:sr=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:sr=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:sr=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:sr=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:sr=!1}break;case"smarttags":break;default:sr=!1}if(sr||a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?lwe(ve,Ae,Ke,r.slice(ne,a.index)):(Ke=a,ne=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var gt={};return!n.bookSheets&&!n.bookProps&&(gt.Sheets=u),gt.SheetNames=d,gt.Workbook=W,gt.SSF=hr(Vt),gt.Props=ce,gt.Custprops=ve,gt}function xM(t,e){switch(SM(e=e||{}),e.type||"base64"){case"base64":return yM(Ko(t),e);case"binary":case"buffer":case"file":return yM(t,e);case"array":return yM(cd(t),e)}}var Swe=[60,1084,2066,2165,2175];function Awe(t,e,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var c=Gl(n,n.l),l=bM[c],u=0;null!=l&&Swe.indexOf(c)>-1;)s=Gl(n,n.l+2),u=n.l+4,2066==c?u+=4:(2165==c||2175==c)&&(u+=12),a=n.slice(u,n.l+4+s),o.push(a),n.l+=4+s,l=bM[c=Gl(n,n.l)];var d=cs(o);Es(d,0);var p=0;d.lens=[];for(var m=0;m<o.length;++m)d.lens.push(p),p+=o[m].length;if(d.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+d.length+" < "+r;return e.f(d,d.length,i)}function Xc(t,e,n){if("z"!==t.t&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Vt[r])}catch(s){if(e.WTF)throw s}if(!e||!1!==e.cellText)try{t.w="e"===t.t?t.w||Kl[t.v]:0===r||"General"==r?"n"===t.t?(0|t.v)===t.v?t.v.toString(10):ty(t.v):Uf(t.v):Yo(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&"n"==t.t&&jf(Vt[r]||String(r))){var i=ld(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function JE(t,e,n){return{v:t,ixfe:e,t:n}}var Iy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function B$(t,e){var n,r,i,s;if(e||(e={}),SM(e),TE(),e.codepage&&EE(e.codepage),t.FullPaths){if(Mt.find(t,"/encryption"))throw new Error("File is password-protected");n=Mt.find(t,"!CompObj"),r=Mt.find(t,"/Workbook")||Mt.find(t,"/Book")}else{switch(e.type){case"base64":t=Zo(Ko(t));break;case"binary":t=Zo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t))}Es(t,0),r={content:t}}if(n&&function Cwe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=function _me(t){return nz(t,1)}(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(0==r||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||1907505652!==(r=n.read_shift(4))||(e.UnicodeClipboardFormat=function vme(t){return nz(t,2)}(n),0==(r=n.read_shift(4))||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}(n),e.bookProps&&!e.bookSheets)i={};else{var o=_n?"buffer":"array";if(r&&r.content)i=function Dwe(t,e){var n={opts:{}},r={};null!=si&&null==e.dense&&(e.dense=si);var d,m,_,x,w,M,i=e.dense?[]:{},s={},o={},a=null,c=[],l="",u={},p="",E={},b=[],z=[],B=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Q={},J=function(En){return En<8?Zf[En]:En<64&&B[En-8]||Zf[En]},ve=function(En,Ti,Ha){if(!(Se>1||Ha.sheetRows&&En.r>=Ha.sheetRows)){if(Ha.cellStyles&&Ti.XF&&Ti.XF.data&&function(En,Ti,Ha){var ph,Zi=Ti.XF.data;Zi&&Zi.patternType&&Ha&&Ha.cellStyles&&(Ti.s={},Ti.s.patternType=Zi.patternType,(ph=py(J(Zi.icvFore)))&&(Ti.s.fgColor={rgb:ph}),(ph=py(J(Zi.icvBack)))&&(Ti.s.bgColor={rgb:ph}))}(0,Ti,Ha),delete Ti.ixfe,delete Ti.XF,d=En,p=Wt(En),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),En.r<o.s.r&&(o.s.r=En.r),En.c<o.s.c&&(o.s.c=En.c),En.r+1>o.e.r&&(o.e.r=En.r+1),En.c+1>o.e.c&&(o.e.c=En.c+1),Ha.cellFormula&&Ti.f)for(var Zi=0;Zi<b.length;++Zi)if(!(b[Zi][0].s.c>En.c||b[Zi][0].s.r>En.r||b[Zi][0].e.c<En.c||b[Zi][0].e.r<En.r)){Ti.F=on(b[Zi][0]),(b[Zi][0].s.c!=En.c||b[Zi][0].s.r!=En.r)&&delete Ti.f,Ti.f&&(Ti.f=""+js(b[Zi][1],0,En,Le,ne));break}Ha.dense?(i[En.r]||(i[En.r]=[]),i[En.r][En.c]=Ti):i[p]=Ti}},ne={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(ne.password=e.password);var Ke,_t=[],Qe=[],De=[],ke=[],et=!1,Le=[];Le.SheetNames=ne.snames,Le.sharedf=ne.sharedf,Le.arrayf=ne.arrayf,Le.names=[],Le.XTI=[];var K,ot=0,Se=0,U=0,ae=[],W=[];ne.codepage=1200,ka(1200);for(var Ae=!1;t.l<t.length-1;){var Ge=t.l,qe=t.read_shift(2);if(0===qe&&10===ot)break;var We=t.l===t.length?0:t.read_shift(2),Fe=bM[qe];if(Fe&&Fe.f){if(e.bookSheets&&133===ot&&133!==qe)break;if(ot=qe,2===Fe.r||12==Fe.r){var Xt=t.read_shift(2);if(We-=2,!ne.enc&&Xt!==qe&&((255&Xt)<<8|Xt>>8)!==qe)throw new Error("rt mismatch: "+Xt+"!="+qe);12==Fe.r&&(t.l+=10,We-=10)}var H={};if(H=10===qe?Fe.f(t,We,ne):Awe(qe,Fe,t,We,ne),0==Se&&-1===[9,521,1033,2057].indexOf(ot))continue;switch(qe){case 34:n.opts.Date1904=R.WBProps.date1904=H;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(ne.enc||(t.l=0),ne.enc=H,!e.password)throw new Error("File is password-protected");if(null==H.valid)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:ne.lastuser=H;break;case 66:var ir=Number(H);switch(ir){case 21010:ir=1200;break;case 32768:ir=1e4;break;case 32769:ir=1252}ka(ne.codepage=ir),Ae=!0;break;case 317:ne.rrtabid=H;break;case 25:ne.winlocked=H;break;case 439:n.opts.RefreshAll=H;break;case 12:n.opts.CalcCount=H;break;case 16:n.opts.CalcDelta=H;break;case 17:n.opts.CalcIter=H;break;case 13:n.opts.CalcMode=H;break;case 14:n.opts.CalcPrecision=H;break;case 95:n.opts.CalcSaveRecalc=H;break;case 15:ne.CalcRefMode=H;break;case 2211:n.opts.FullCalc=H;break;case 129:H.fDialog&&(i["!type"]="dialog"),H.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),H.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:z.push(H);break;case 430:Le.push([H]),Le[Le.length-1].XTI=[];break;case 35:case 547:Le[Le.length-1].push(H);break;case 24:case 536:K={Name:H.Name,Ref:js(H.rgce,0,null,Le,ne)},H.itab>0&&(K.Sheet=H.itab-1),Le.names.push(K),Le[0]||(Le[0]=[],Le[0].XTI=[]),Le[Le.length-1].push(H),"_xlnm._FilterDatabase"==H.Name&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&"PtgArea3d"==H.rgce[0][0][0]&&(W[H.itab-1]={ref:on(H.rgce[0][0][1][2])});break;case 22:ne.ExternCount=H;break;case 23:0==Le.length&&(Le[0]=[],Le[0].XTI=[]),Le[Le.length-1].XTI=Le[Le.length-1].XTI.concat(H),Le.XTI=Le.XTI.concat(H);break;case 2196:if(ne.biff<8)break;null!=K&&(K.Comment=H[1]);break;case 18:i["!protect"]=H;break;case 19:0!==H&&ne.WTF&&console.error("Password verifier: "+H);break;case 133:s[H.pos]=H,ne.snames.push(H.name);break;case 10:if(--Se)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=on(o),e.sheetRows&&e.sheetRows<=o.e.r){var An=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=on(o),o.e.r=An}o.e.r++,o.e.c++}_t.length>0&&(i["!merges"]=_t),Qe.length>0&&(i["!objects"]=Qe),De.length>0&&(i["!cols"]=De),ke.length>0&&(i["!rows"]=ke),R.Sheets.push(Q)}""===l?u=i:r[l]=i,i=e.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===ne.biff&&(ne.biff={9:2,521:3,1033:4}[qe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),ne.biffguess=0==H.BIFFVer,0==H.BIFFVer&&4096==H.dt&&(ne.biff=5,Ae=!0,ka(ne.codepage=28591)),8==ne.biff&&0==H.BIFFVer&&16==H.dt&&(ne.biff=2),Se++)break;if(i=e.dense?[]:{},ne.biff<8&&!Ae&&(Ae=!0,ka(ne.codepage=e.codepage||1252)),ne.biff<5||0==H.BIFFVer&&4096==H.dt){""===l&&(l="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var sr={pos:t.l-We,name:l};s[sr.pos]=sr,ne.snames.push(l)}else l=(s[Ge]||{name:""}).name;32==H.dt&&(i["!type"]="chart"),64==H.dt&&(i["!type"]="macro"),_t=[],Qe=[],ne.arrayf=b=[],De=[],ke=[],et=!1,Q={Hidden:(s[Ge]||{hs:0}).hs,name:l};break;case 515:case 3:case 2:"chart"==i["!type"]&&(e.dense?(i[H.r]||[])[H.c]:i[Wt({c:H.c,r:H.r})])&&++H.c,w={ixfe:H.ixfe,XF:z[H.ixfe]||{},v:H.val,t:"n"},U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:H.c,r:H.r},w,e);break;case 5:case 517:w={ixfe:H.ixfe,XF:z[H.ixfe],v:H.val,t:H.t},U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:H.c,r:H.r},w,e);break;case 638:w={ixfe:H.ixfe,XF:z[H.ixfe],v:H.rknum,t:"n"},U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:H.c,r:H.r},w,e);break;case 189:for(var Dn=H.c;Dn<=H.C;++Dn){var gt=H.rkrec[Dn-H.c][0];w={ixfe:gt,XF:z[gt],v:H.rkrec[Dn-H.c][1],t:"n"},U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:Dn,r:H.r},w,e)}break;case 6:case 518:case 1030:if("String"==H.val){a=H;break}if((w=JE(H.val,H.cell.ixfe,H.tt)).XF=z[w.ixfe],e.cellFormula){var Ei=H.formula;if(Ei&&Ei[0]&&Ei[0][0]&&"PtgExp"==Ei[0][0][0]){var ja=Ei[0][0][1][0],nl=Ei[0][0][1][1],Xl=Wt({r:ja,c:nl});E[Xl]?w.f=""+js(H.formula,0,H.cell,Le,ne):w.F=((e.dense?(i[ja]||[])[nl]:i[Xl])||{}).F}else w.f=""+js(H.formula,0,H.cell,Le,ne)}U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve(H.cell,w,e),a=H;break;case 7:case 519:if(!a)throw new Error("String record expects Formula");a.val=H,(w=JE(H,a.cell.ixfe,"s")).XF=z[w.ixfe],e.cellFormula&&(w.f=""+js(a.formula,0,a.cell,Le,ne)),U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve(a.cell,w,e),a=null;break;case 33:case 545:b.push(H);var Wy=Wt(H[0].s);if(m=e.dense?(i[H[0].s.r]||[])[H[0].s.c]:i[Wy],e.cellFormula&&m){if(!a||!Wy||!m)break;m.f=""+js(H[1],0,H[0],Le,ne),m.F=on(H[0])}break;case 1212:if(!e.cellFormula)break;if(p){if(!a)break;E[Wt(a.cell)]=H[0],((m=e.dense?(i[a.cell.r]||[])[a.cell.c]:i[Wt(a.cell)])||{}).f=""+js(H[0],0,d,Le,ne)}break;case 253:w=JE(c[H.isst].t,H.ixfe,"s"),c[H.isst].h&&(w.h=c[H.isst].h),w.XF=z[w.ixfe],U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:H.c,r:H.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:H.ixfe,XF:z[H.ixfe],t:"z"},U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:H.c,r:H.r},w,e));break;case 190:if(e.sheetStubs)for(var Id=H.c;Id<=H.C;++Id){var na=H.ixfe[Id-H.c];w={ixfe:na,XF:z[na],t:"z"},U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:Id,r:H.r},w,e)}break;case 214:case 516:case 4:(w=JE(H.val,H.ixfe,"s")).XF=z[w.ixfe],U>0&&(w.z=ae[w.ixfe>>8&63]),Xc(w,e,n.opts.Date1904),ve({c:H.c,r:H.r},w,e);break;case 0:case 512:1===Se&&(o=H);break;case 252:c=H;break;case 1054:if(4==ne.biff){ae[U++]=H[1];for(var Ql=0;Ql<U+163&&Vt[Ql]!=H[1];++Ql);Ql>=163&&Gc(H[1],U+163)}else Gc(H[1],H[0]);break;case 30:ae[U++]=H;for(var Cd=0;Cd<U+163&&Vt[Cd]!=H;++Cd);Cd>=163&&Gc(H,U+163);break;case 229:_t=_t.concat(H);break;case 93:Qe[H.cmo[0]]=ne.lastobj=H;break;case 438:ne.lastobj.TxO=H;break;case 127:ne.lastobj.ImData=H;break;case 440:for(x=H[0].s.r;x<=H[0].e.r;++x)for(_=H[0].s.c;_<=H[0].e.c;++_)(m=e.dense?(i[x]||[])[_]:i[Wt({c:_,r:x})])&&(m.l=H[1]);break;case 2048:for(x=H[0].s.r;x<=H[0].e.r;++x)for(_=H[0].s.c;_<=H[0].e.c;++_)(m=e.dense?(i[x]||[])[_]:i[Wt({c:_,r:x})])&&m.l&&(m.l.Tooltip=H[1]);break;case 28:if(ne.biff<=5&&ne.biff>=2)break;m=e.dense?(i[H[0].r]||[])[H[0].c]:i[Wt(H[0])];var Gy=Qe[H[2]];m||(e.dense?(i[H[0].r]||(i[H[0].r]=[]),m=i[H[0].r][H[0].c]={t:"z"}):m=i[Wt(H[0])]={t:"z"},o.e.r=Math.max(o.e.r,H[0].r),o.s.r=Math.min(o.s.r,H[0].r),o.e.c=Math.max(o.e.c,H[0].c),o.s.c=Math.min(o.s.c,H[0].c)),m.c||(m.c=[]),m.c.push({a:H[1],t:Gy.TxO.t});break;case 2173:_ve(0,H.ext);break;case 125:if(!ne.cellStyles)break;for(;H.e>=H.s;)De[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(1&H.flags)},et||(et=!0,cM(H.w/256)),th(De[H.e+1]);break;case 520:var go={};null!=H.level&&(ke[H.r]=go,go.level=H.level),H.hidden&&(ke[H.r]=go,go.hidden=!0),H.hpt&&(ke[H.r]=go,go.hpt=H.hpt,go.hpx=ag(H.hpt));break;case 38:case 39:case 40:case 41:i["!margins"]||nh(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[qe]]=H;break;case 161:i["!margins"]||nh(i["!margins"]={}),i["!margins"].header=H.header,i["!margins"].footer=H.footer;break;case 574:H.RTL&&(R.Views[0].RTL=!0);break;case 146:B=H;break;case 2198:Ke=H;break;case 140:M=H;break;case 442:l?Q.CodeName=H||Q.name:R.WBProps.CodeName=H||"ThisWorkbook"}}else Fe||console.error("Missing Info for XLS Record 0x"+qe.toString(16)),t.l+=We}return n.SheetNames=oi(s).sort(function(rl,En){return Number(rl)-Number(En)}).map(function(rl){return s[rl].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&W.forEach(function(rl,En){n.Sheets[n.SheetNames[En]]["!autofilter"]=rl}),n.Strings=c,n.SSF=hr(Vt),ne.enc&&(n.Encryption=ne.enc),Ke&&(n.Themes=Ke),n.Metadata={},void 0!==M&&(n.Metadata.Country=M),Le.names.length>0&&(R.Names=Le.names),n.Workbook=R,n}(r.content,e);else if((s=Mt.find(t,"PerfectOffice_MAIN"))&&s.content)i=eh.to_workbook(s.content,(e.type=o,e));else{if(!(s=Mt.find(t,"NativeContent_MAIN"))||!s.content)throw(s=Mt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=eh.to_workbook(s.content,(e.type=o,e))}e.bookVBA&&t.FullPaths&&Mt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=function Wve(t){var e=Mt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Mt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Mt.write(e)}(t))}var a={};return t.FullPaths&&function kwe(t,e,n){var r=Mt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Tz(r,K2,Iy.DSI);for(var s in i)e[s]=i[s]}catch(l){if(n.WTF)throw l}var o=Mt.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var a=Tz(o,Z2,Iy.SI);for(var c in a)null==e[c]&&(e[c]=a[c])}catch(l){if(n.WTF)throw l}e.HeadingPairs&&e.TitlesOfParts&&(fz(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}(t,a,e),i.Props=i.Custprops=a,e.bookFiles&&(i.cfb=t),i}var Cy={0:{f:function tbe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=i/20),n}},1:{f:function lbe(t){return[Pa(t)]}},2:{f:function Abe(t){return[Pa(t),G2(t),"n"]}},3:{f:function _be(t){return[Pa(t),t.read_shift(1),"e"]}},4:{f:function hbe(t){return[Pa(t),t.read_shift(1),"b"]}},5:{f:function Ibe(t){return[Pa(t),Vs(t),"n"]}},6:{f:function Pbe(t){return[Pa(t),Ls(t),"str"]}},7:{f:function bbe(t){return[Pa(t),t.read_shift(4),"s"]}},8:{f:function Ube(t,e,n){var r=t.l+e,i=Pa(t);i.r=n["!row"];var o=[i,Ls(t),"str"];if(n.cellFormula){t.l+=2;var a=XE(t,r-t.l,n);o[3]=js(a,0,i,n.supbooks,n)}else t.l=r;return o}},9:{f:function Bbe(t,e,n){var r=t.l+e,i=Pa(t);i.r=n["!row"];var o=[i,Vs(t),"n"];if(n.cellFormula){t.l+=2;var a=XE(t,r-t.l,n);o[3]=js(a,0,i,n.supbooks,n)}else t.l=r;return o}},10:{f:function Lbe(t,e,n){var r=t.l+e,i=Pa(t);i.r=n["!row"];var o=[i,t.read_shift(1),"b"];if(n.cellFormula){t.l+=2;var a=XE(t,r-t.l,n);o[3]=js(a,0,i,n.supbooks,n)}else t.l=r;return o}},11:{f:function Vbe(t,e,n){var r=t.l+e,i=Pa(t);i.r=n["!row"];var o=[i,t.read_shift(1),"e"];if(n.cellFormula){t.l+=2;var a=XE(t,r-t.l,n);o[3]=js(a,0,i,n.supbooks,n)}else t.l=r;return o}},12:{f:function dbe(t){return[Wf(t)]}},13:{f:function kbe(t){return[Wf(t),G2(t),"n"]}},14:{f:function ybe(t){return[Wf(t),t.read_shift(1),"e"]}},15:{f:function mbe(t){return[Wf(t),t.read_shift(1),"b"]}},16:{f:A$},17:{f:function Obe(t){return[Wf(t),Ls(t),"str"]}},18:{f:function Ebe(t){return[Wf(t),t.read_shift(4),"s"]}},19:{f:j2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function N1e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=hme(t),o=xxe(t,0,n),a=H2(t);t.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}},40:{},42:{},43:{f:function O_e(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=function mme(t){var e=t.read_shift(1);return t.l++,{fBold:1&e,fItalic:2&e,fUnderline:4&e,fStrikeout:8&e,fOutline:16&e,fShadow:32&e,fCondense:64&e,fExtend:128&e}}(t);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===t.read_shift(2)&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=t.read_shift(1);0!=o&&(r.underline=o);var a=t.read_shift(1);a>0&&(r.family=a);var c=t.read_shift(1);switch(c>0&&(r.charset=c),t.l++,r.color=function pme(t){var e={},r=t.read_shift(1)>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),a=t.read_shift(1),c=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var l=Zf[i];l&&(e.rgb=py(l));break;case 2:e.rgb=py([o,a,c]);break;case 3:e.theme=i}return 0!=s&&(e.tint=s>0?s/32767:s/32768),e}(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Ls(t),r}},44:{f:function P_e(t,e){return[t.read_shift(2),Ls(t)]}},45:{f:V_e},46:{f:U_e},47:{f:function B_e(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function ame(t){return t.read_shift(4,"i")}},50:{},51:{f:function xve(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Wz},62:{f:function Mbe(t){return[Pa(t),j2(t),"is"]}},63:{f:function Dve(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Wt(n);var r=t.read_shift(1);return 2&r&&(e.l="1"),8&r&&(e.a="1"),e}},64:{f:function n1e(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ns,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function Qbe(t){var e=t.read_shift(2);return t.l+=28,{RTL:32&e}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function abe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(64&r),n.left=!(128&r),t.l+=18,n.name=fme(t,e-19),n}},148:{f:ibe,p:16},151:{f:function Gbe(){}},152:{},153:{f:function P1e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Ls(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function R1e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=$2(t,e-8),n.name=Ls(t),n}},157:{},158:{},159:{T:1,f:function Y0e(t){return[t.read_shift(4),t.read_shift(4)]}},160:{T:-1},161:{T:1,f:qf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jbe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function vve(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ls(t)}}},336:{T:-1},337:{f:function Eve(t){return t.l+=4,0!=t.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function qbe(t,e,n){var r=t.l+e,i=tz(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=yxe(t,r-t.l,n);o[1]=a}else t.l=r;return o}},427:{f:function Kbe(t,e,n){var r=t.l+e,s=[qf(t,16)];if(n.cellFormula){var o=bxe(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function Ybe(t){var e={};return D$.forEach(function(n){e[n]=Vs(t)}),e}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function obe(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function $be(t,e){var n=t.l+e,r=qf(t,16),i=H2(t),s=Ls(t),o=Ls(t),a=Ls(t);t.l=n;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Uve},633:{T:1},634:{T:-1},635:{T:1,f:function Vve(t){var e={};e.iauthor=t.read_shift(4);var n=qf(t,16);return e.rfx=n.s,e.ref=Wt(n.s),t.l+=16,e}},636:{T:-1},637:{f:ume},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function x1e(t,e){return t.l+=10,{name:Ls(t)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function r1e(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},bM={6:{f:pM},10:{f:pd},12:{f:Pi},13:{f:Pi},14:{f:wi},15:{f:wi},16:{f:Vs},17:{f:wi},18:{f:wi},19:{f:Pi},20:{f:Uz},21:{f:Uz},23:{f:zz},24:{f:Hz},25:{f:wi},26:{},27:{},28:{f:function s0e(t,e,n){return function i0e(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),a=Qf(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},a,o,s]}}(t,0,n)}},29:{},34:{f:wi},35:{f:jz},38:{f:Vs},39:{f:Vs},40:{f:Vs},41:{f:Vs},42:{f:wi},43:{f:wi},47:{f:function __e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?function g_e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Data=1===r.Info?function f_e(t){var e={},n=e.EncryptionVersionInfo=Zl(t,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}(t):function d_e(t,e){var n={},r=n.EncryptionVersionInfo=Zl(t,4);if(e-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=Xz(t,i),n.EncryptionVerifier=Qz(t,e-=i),n}(t,e),r}(t,e-2,r):function m_e(t,e,n,r){var i={key:Pi(t),verificationBytes:Pi(t)};n.password&&(i.verifier=function oM(t){var n,s,e=0,r=Yz(t),i=r.length+1;for((n=ad(i))[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)e=((16384&e?1:0)|e<<1&32767)^n[s];return 52811^e}(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=function(t){var e=0,n=Jz(t);return function(r){var i=function(t,e,n,r,i){var s,o;for(i||(i=e),r||(r=Jz("")),s=0;s!=e.length;++s)o=e[s],i[s]=o=255&((o^=r[n])>>5|o<<3),++n;return[i,n,r]}(0,r,e,n);return e=i[1],i[0]}}(n.password))}(t,0,n,r),r}},49:{f:function Mge(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10}return r.name=fy(t,0,n),r}},51:{f:Pi},60:{},61:{f:function Sge(t){return{Pos:[t.read_shift(2),t.read_shift(2)],Dim:[t.read_shift(2),t.read_shift(2)],Flags:t.read_shift(2),CurTab:t.read_shift(2),FirstTab:t.read_shift(2),Selected:t.read_shift(2),TabRatio:t.read_shift(2)}}},64:{f:wi},65:{f:function Rge(){}},66:{f:Pi},77:{},80:{},81:{},82:{},85:{f:Pi},89:{},90:{},91:{},92:{f:function gge(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Qf(t,0,n);return t.read_shift(e+r-t.l),i}},93:{f:function c0e(t,e,n){if(n&&n.biff<8)return function u0e(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6;var o=[];return o.push((l0e[r]||Ns)(t,e-=36,n)),{cmo:[i,r,s],ft:o}}(t,e,n);var r=Oz(t),i=function pge(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(hge[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}(t,e-22);return{cmo:r,ft:i}}},94:{},95:{f:wi},96:{},97:{},99:{f:wi},125:{f:Wz},128:{f:function qge(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(0!==e[0]&&e[0]--,0!==e[1]&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}},129:{f:function vge(t,e,n){var r=n&&8==n.biff||2==e?t.read_shift(2):(t.l+=e,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:Pi},131:{f:wi},132:{f:wi},133:{f:function yge(t,e,n){var r=t.read_shift(4),i=3&t.read_shift(1),s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var o=fy(t,0,n);return 0===o.length&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}},134:{},140:{f:function g0e(t){var n,e=[0,0];return n=t.read_shift(2),e[0]=sz[n]||n,n=t.read_shift(2),e[1]=sz[n]||n,e}},141:{f:Pi},144:{},146:{f:function y0e(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Rz(t));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:Pi},157:{},158:{},160:{f:C0e},161:{f:function w0e(t,e){var n={};return e<32||(t.l+=16,n.header=Vs(t),n.footer=Vs(t),t.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function zge(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(Mz(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}},190:{f:function $ge(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}},193:{f:pd},197:{},198:{},199:{},200:{},201:{},202:{f:wi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Pi},220:{},221:{f:wi},222:{},224:{f:function Gge(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,r.data=function Wge(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),a=t.read_shift(4),c=t.read_shift(2);return i.patternType=Tme[a>>26],r.cellStyles&&(i.alc=7&s,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=15&o,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=127&a,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=127&c,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}(t,0,0,n),r}},225:{f:function mge(t,e){return 0===e||t.read_shift(2),1200}},226:{f:pd},227:{},229:{f:function o0e(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push($E(t));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function bge(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(Qme(t));return s.Count=r,s.Unique=i,s}},253:{f:function Fge(t){var e=Yc(t);return e.isst=t.read_shift(4),e}},255:{f:function Ege(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Cz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:wi},353:{f:pd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function Qge(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,1025==s||14849==s)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Xf(t,s),a=[];r>t.l;)a.push(hy(t));return[s,i,o,a]}},431:{f:wi},432:{},433:{},434:{},437:{},438:{f:function d0e(t,e,n){var r=t.l,i="";try{t.l+=4,-1==[0,5,7,11,12,14].indexOf((n.lastobj||{cmo:[0,0]}).cmo[1])?t.l+=6:function ege(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);t.l+=2}(t);var a=t.read_shift(2);t.read_shift(2),Pi(t);var c=t.read_shift(2);t.l+=c;for(var l=1;l<t.lens.length-1;++l){if(t.l-r!=t.lens[l])throw new Error("TxO: bad continue record");var u=t[t.l];if((i+=Xf(t,t.lens[l+1]-t.lens[l]-1)).length>=(u?a:2*a))break}if(i.length!==a&&i.length!==2*a)throw new Error("cchText: "+a+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}},439:{f:wi},440:{f:function f0e(t,e){var n=$E(t);t.l+=16;var r=function ige(t,e){var n=t.l+e,r=t.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,a,c,u,d,l="";16&i&&(s=zE(t)),128&i&&(o=zE(t)),257==(257&i)&&(a=zE(t)),1==(257&i)&&(c=function rge(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return function tge(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,"795881f43b1d7f48af2c825dc4852763"===t.read_shift(16)&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Fs,"");return r&&(t.l+=24),i}(t);case"0303000000000000c000000000000046":return function nge(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,57005!=t.read_shift(2))throw new Error("Bad FileMoniker");if(0===t.read_shift(4))return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(3!=t.read_shift(2))throw new Error("Bad FileMoniker");return n+t.read_shift(s>>1,"utf16le").replace(Fs,"")}(t);default:throw new Error("Unsupported Moniker "+n)}}(t)),8&i&&(l=zE(t)),32&i&&(u=t.read_shift(16)),64&i&&(d=tM(t)),t.l=n;var p=o||a||c||"";p&&l&&(p+="#"+l),p||(p="#"+l),2&i&&"/"==p.charAt(0)&&"/"!=p.charAt(1)&&(p="file://"+p);var m={Target:p};return u&&(m.guid=u),d&&(m.time=d),s&&(m.Tooltip=s),m}(t,e-24);return[n,r]}},441:{},442:{f:hy},443:{},444:{f:Pi},445:{},446:{},448:{f:pd},449:{f:function Cge(t){return t.read_shift(2),t.read_shift(4)},r:2},450:{f:pd},512:{f:Lz},513:{f:I0e},515:{f:function Yge(t,e,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=Yc(t),i=Vs(t);return r.val=i,r}},516:{f:function Nge(t,e,n){n.biffguess&&2==n.biff&&(n.biff=5);var i=Yc(t);2==n.biff&&t.l++;var s=hy(t,0,n);return i.val=s,i}},517:{f:Bz},519:{f:S0e},520:{f:function Tge(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,7&r&&(e.level=7&r),32&r&&(e.hidden=!0),64&r&&(e.hpt=n/20),e}},523:{},545:{f:$z},549:{f:Nz},566:{},574:{f:function Dge(t,e,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&t.read_shift(2)}}},638:{f:function Hge(t){var e=t.read_shift(2),n=t.read_shift(2),r=Mz(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function Vge(t,e,n){return[t.read_shift(2),Qf(t,0,n)]}},1084:{},1212:{f:function n0e(t,e,n){var r=Fz(t);t.l++;var i=t.read_shift(1);return[mxe(t,e-=8,n),i,r]}},2048:{f:function p0e(t,e){t.read_shift(2);var n=$E(t),r=t.read_shift((e-10)/2,"dbcs-cont");return[n,r=r.replace(Fs,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:WE},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:pd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function x0e(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e},r:12},2173:{f:function gve(t,e){t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(mve(t));return{ixfe:r,ext:s}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:wi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function t0e(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2);return[Xf(t,r,n),Xf(t,i,n)]}t.l+=e},r:12},2197:{},2198:{f:function uve(t,e,n){var r=t.l+e;if(124226!==t.read_shift(4)){if(!n.cellStyles)return void(t.l=r);var o,s=t.slice(t.l);t.l=r;try{o=TH(s,{type:"array"})}catch{return}var a=Xo(o,"theme/theme/theme1.xml",!0);if(a)return o$(a,n)}},r:12},2199:{},2200:{},2201:{},2202:{f:function r0e(t){return[0!==t.read_shift(4),0!==t.read_shift(4),t.read_shift(4)]},r:12},2203:{f:pd},2204:{},2205:{},2206:{},2207:{},2211:{f:function Ige(t){var e=function oge(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}(t);if(2211!=e.type)throw new Error("Invalid Future Record "+e.type);return 0!==t.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Pi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function E0e(t,e,n){var r={area:!1};if(5!=n.biff)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,16&i&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function v0e(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Rz(t));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Lz},1:{},2:{f:function M0e(t){var e=Yc(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}},3:{f:function k0e(t){var e=Yc(t);++t.l;var n=Vs(t);return e.t="n",e.val=n,e}},4:{f:function D0e(t,e,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=Yc(t);++t.l;var i=Qf(t,0,n);return r.t="str",r.val=i,r}},5:{f:Bz},7:{f:function F0e(t){var e=t.read_shift(1);return 0===e?(t.l++,""):t.read_shift(e,"sbcs-cont")}},8:{},9:{f:WE},11:{},22:{f:Pi},30:{f:Uge},31:{},32:{},33:{f:$z},36:{},37:{f:Nz},50:{f:function O0e(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}},62:{},52:{},67:{},68:{f:Pi},69:{},86:{},126:{},127:{f:function A0e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function N0e(t,e,n){var r=t.l+e,i=Yc(t),s=t.read_shift(2),o=Xf(t,s,n);return t.l=r,i.t="str",i.val=o,i}},223:{},234:{},354:{},421:{},518:{f:pM},521:{f:WE},536:{f:Hz},547:{f:jz},561:{},579:{},1030:{f:pM},1033:{f:WE},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function nt(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&L2(n)&&t.push(n)}}function j$(t,e){var n=e||{};null!=si&&null==n.dense&&(n.dense=si);var r=n.dense?[]:{},i=(t=t.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,a=s&&s.index||t.length,c=Ope(t.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,u=0,d=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var _=c[o].trim(),x=_.slice(0,3).toLowerCase();if("<tr"!=x){if("<td"==x||"<th"==x){var E=_.split(/<\/t[dh]>/i);for(a=0;a<E.length;++a){var b=E[a].trim();if(b.match(/<t[dh]/i)){for(var w=b,M=0;"<"==w.charAt(0)&&(M=w.indexOf(">"))>-1;)w=w.slice(M+1);for(var z=0;z<y.length;++z){var B=y[z];B.s.c==u&&B.s.r<l&&l<=B.e.r&&(u=B.e.c+1,z=-1)}var R=$t(b.slice(0,b.indexOf(">")));p=R.colspan?+R.colspan:1,((d=+R.rowspan)>1||p>1)&&y.push({s:{r:l,c:u},e:{r:l+(d||1)-1,c:u+p-1}});var Q=R.t||R["data-t"]||"";if(!w.length){u+=p;continue}if(w=MH(w),m.s.r>l&&(m.s.r=l),m.e.r<l&&(m.e.r=l),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!w.length){u+=p;continue}var J={t:"s",v:w};n.raw||!w.trim().length||"s"==Q||("TRUE"===w?J={t:"b",v:!0}:"FALSE"===w?J={t:"b",v:!1}:isNaN(sc(w))?isNaN(tg(w).getDate())||(J={t:"d",v:Zr(w)},n.cellDates||(J={t:"n",v:Ki(J.v)}),J.z=n.dateNF||Vt[14]):J={t:"n",v:sc(w)}),n.dense?(r[l]||(r[l]=[]),r[l][u]=J):r[Wt({r:l,c:u})]=J,u+=p}}}}else{if(++l,n.sheetRows&&n.sheetRows<=l){--l;break}u=0}}return r["!ref"]=on(m),y.length&&(r["!merges"]=y),r}function H$(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>n||i[l].s.c>o||i[l].e.r<n||i[l].e.c<o)){if(i[l].s.r<n||i[l].s.c<o){a=-1;break}a=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(a<0)){var u=Wt({r:n,c:o}),d=r.dense?(t[n]||[])[o]:t[u],p=d&&null!=d.v&&(d.h||A2(d.w||(Zc(d),d.w)||""))||"",m={};a>1&&(m.rowspan=a),c>1&&(m.colspan=c),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(m["data-t"]=d&&d.t||"z",null!=d.v&&(m["data-v"]=d.v),null!=d.z&&(m["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+u,s.push(tt("td",p,m))}}return"<tr>"+s.join("")+"</tr>"}function q$(t,e,n){var r=n||{};null!=si&&(r.dense=si);var i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?Yr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=Jo(t["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),-1==i&&(l.e.r=i=u.e.r+1)}var d=[],p=0,m=t["!rows"]||(t["!rows"]=[]),y=0,_=0,x=0,E=0,b=0,w=0;for(t["!cols"]||(t["!cols"]=[]);y<a.length&&_<c;++y){var M=a[y];if(Z$(M)){if(r.display)continue;m[_]={hidden:!0}}var z=M.children;for(x=E=0;x<z.length;++x){var B=z[x];if(!r.display||!Z$(B)){var R=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):MH(B.innerHTML),Q=B.getAttribute("data-z")||B.getAttribute("z");for(p=0;p<d.length;++p){var J=d[p];J.s.c==E+s&&J.s.r<_+i&&_+i<=J.e.r&&(E=J.e.c+1-s,p=-1)}w=+B.getAttribute("colspan")||1,((b=+B.getAttribute("rowspan")||1)>1||w>1)&&d.push({s:{r:_+i,c:E+s},e:{r:_+i+(b||1)-1,c:E+s+(w||1)-1}});var ce={t:"s",v:R},ve=B.getAttribute("data-t")||B.getAttribute("t")||"";null!=R&&(0==R.length?ce.t=ve||"z":r.raw||0==R.trim().length||"s"==ve||("TRUE"===R?ce={t:"b",v:!0}:"FALSE"===R?ce={t:"b",v:!1}:isNaN(sc(R))?isNaN(tg(R).getDate())||(ce={t:"d",v:Zr(R)},r.cellDates||(ce={t:"n",v:Ki(ce.v)}),ce.z=r.dateNF||Vt[14]):ce={t:"n",v:sc(R)})),void 0===ce.z&&null!=Q&&(ce.z=Q);var ne="",Ke=B.getElementsByTagName("A");if(Ke&&Ke.length)for(var _t=0;_t<Ke.length&&(!Ke[_t].hasAttribute("href")||"#"==(ne=Ke[_t].getAttribute("href")).charAt(0));++_t);ne&&"#"!=ne.charAt(0)&&(ce.l={Target:ne}),r.dense?(t[_+i]||(t[_+i]=[]),t[_+i][E+s]=ce):t[Wt({c:E+s,r:_+i})]=ce,l.e.c<E+s&&(l.e.c=E+s),E+=w}}++_}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),l.e.r=Math.max(l.e.r,_-1+i),t["!ref"]=on(l),_>=c&&(t["!fullref"]=on((l.e.r=a.length-y+_-1+i,l))),t}function K$(t,e){return q$((e||{}).dense?[]:{},t,e)}function Z$(t){var e="",n=function Xwe(t){return t.ownerDocument.defaultView&&"function"==typeof t.ownerDocument.defaultView.getComputedStyle?t.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),"none"===e}function Qwe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[$n(e.replace(/<[^>]*>/g,""))]}var Y$={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function X$(t,e){var n=e||{};null!=si&&null==n.dense&&(n.dense=si);var s,o,u,d,_,x,r=R2(t),i=[],a={name:""},c="",l=0,p={},m=[],y=n.dense?[]:{},E={value:""},b="",w=0,z=[],B=-1,R=-1,Q={s:{r:1e6,c:1e7},e:{r:0,c:0}},J=0,ce={},ve=[],ne={},Ke=0,_t=0,Qe=[],De=1,ke=1,et=[],Le={Names:[]},ot={},Se=["",""],U=[],ae={},W="",K=0,Ae=!1,Ge=!1,qe=0;for(oy.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");_=oy.exec(r);)switch(_[3]=_[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===_[1]?(y["!ref"]=Q.e.c>=Q.s.c&&Q.e.r>=Q.s.r?on(Q):"A1:A1",n.sheetRows>0&&n.sheetRows<=Q.e.r&&(y["!fullref"]=y["!ref"],Q.e.r=n.sheetRows-1,y["!ref"]=on(Q)),ve.length&&(y["!merges"]=ve),Qe.length&&(y["!rows"]=Qe),u.name=u.\u540d\u79f0||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),p[u.name]=y,Ge=!1):"/"!==_[0].charAt(_[0].length-2)&&(u=$t(_[0],!1),B=R=-1,Q.s.r=Q.s.c=1e7,Q.e.r=Q.e.c=0,y=n.dense?[]:{},ve=[],Qe=[],Ge=!0);break;case"table-row-group":"/"===_[1]?--J:++J;break;case"table-row":case"\u884c":if("/"===_[1]){B+=De,De=1;break}if((d=$t(_[0],!1)).\u884c\u53f7?B=d.\u884c\u53f7-1:-1==B&&(B=0),(De=+d["number-rows-repeated"]||1)<10)for(qe=0;qe<De;++qe)J>0&&(Qe[B+qe]={level:J});R=-1;break;case"covered-table-cell":"/"!==_[1]&&++R,n.sheetStubs&&(n.dense?(y[B]||(y[B]=[]),y[B][R]={t:"z"}):y[Wt({r:B,c:R})]={t:"z"}),b="",z=[];break;case"table-cell":case"\u6570\u636e":if("/"===_[0].charAt(_[0].length-2))++R,E=$t(_[0],!1),ke=parseInt(E["number-columns-repeated"]||"1",10),x={t:"z",v:null},E.formula&&0!=n.cellFormula&&(x.f=T$($n(E.formula))),"string"==(E.\u6570\u636e\u7c7b\u578b||E["value-type"])&&(x.t="s",x.v=$n(E["string-value"]||""),n.dense?(y[B]||(y[B]=[]),y[B][R]=x):y[Wt({r:B,c:R})]=x),R+=ke-1;else if("/"!==_[1]){b="",w=0,z=[],ke=1;var We=De?B+De-1:B;if(++R>Q.e.c&&(Q.e.c=R),R<Q.s.c&&(Q.s.c=R),B<Q.s.r&&(Q.s.r=B),We>Q.e.r&&(Q.e.r=We),U=[],ae={},x={t:(E=$t(_[0],!1)).\u6570\u636e\u7c7b\u578b||E["value-type"],v:null},n.cellFormula)if(E.formula&&(E.formula=$n(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(Ke=parseInt(E["number-matrix-rows-spanned"],10)||0,_t=parseInt(E["number-matrix-columns-spanned"],10)||0,x.F=on(ne={s:{r:B,c:R},e:{r:B+Ke-1,c:R+_t-1}}),et.push([ne,x.F])),E.formula)x.f=T$(E.formula);else for(qe=0;qe<et.length;++qe)B>=et[qe][0].s.r&&B<=et[qe][0].e.r&&R>=et[qe][0].s.c&&R<=et[qe][0].e.c&&(x.F=et[qe][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(Ke=parseInt(E["number-rows-spanned"],10)||0,_t=parseInt(E["number-columns-spanned"],10)||0,ve.push(ne={s:{r:B,c:R},e:{r:B+Ke-1,c:R+_t-1}})),E["number-columns-repeated"]&&(ke=parseInt(E["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Or(E["boolean-value"]);break;case"float":case"percentage":case"currency":x.t="n",x.v=parseFloat(E.value);break;case"date":x.t="d",x.v=Zr(E["date-value"]),n.cellDates||(x.t="n",x.v=Ki(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=Mpe(E["time-value"])/86400,n.cellDates&&(x.t="d",x.v=ME(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(E.\u6570\u636e\u6570\u503c);break;default:if("string"!==x.t&&"text"!==x.t&&x.t)throw new Error("Unsupported value type "+x.t);x.t="s",null!=E["string-value"]&&(b=$n(E["string-value"]),z=[])}}else{if(Ae=!1,"s"===x.t&&(x.v=b||"",z.length&&(x.R=z),Ae=0==w),ot.Target&&(x.l=ot),U.length>0&&(x.c=U,U=[]),b&&!1!==n.cellText&&(x.w=b),Ae&&(x.t="z",delete x.v),(!Ae||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=B))for(var Fe=0;Fe<De;++Fe){if(ke=parseInt(E["number-columns-repeated"]||"1",10),n.dense)for(y[B+Fe]||(y[B+Fe]=[]),y[B+Fe][R]=0==Fe?x:hr(x);--ke>0;)y[B+Fe][R+ke]=hr(x);else for(y[Wt({r:B+Fe,c:R})]=x;--ke>0;)y[Wt({r:B+Fe,c:R+ke})]=hr(x);Q.e.c<=R&&(Q.e.c=R)}R+=(ke=parseInt(E["number-columns-repeated"]||"1",10))-1,ke=0,x={},b="",z=[]}ot={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===_[1]){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s}else"/"!==_[0].charAt(_[0].length-2)&&i.push([_[3],!0]);break;case"annotation":if("/"===_[1]){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s;ae.t=b,z.length&&(ae.R=z),ae.a=W,U.push(ae)}else"/"!==_[0].charAt(_[0].length-2)&&i.push([_[3],!1]);W="",K=0,b="",w=0,z=[];break;case"creator":"/"===_[1]?W=r.slice(K,_.index):K=_.index+_[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===_[1]){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s}else"/"!==_[0].charAt(_[0].length-2)&&i.push([_[3],!1]);b="",w=0,z=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===_[1]){if(ce[a.name]=c,(s=i.pop())[0]!==_[3])throw"Bad state: "+s}else"/"!==_[0].charAt(_[0].length-2)&&(c="",a=$t(_[0],!1),i.push([_[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=$t(_[0],!1),c+=Y$[_[3]]["long"===o.style?1:0]}break;case"text":if("/>"===_[0].slice(-2))break;if("/"===_[1])switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(l,_.index)}else l=_.index+_[0].length;break;case"named-range":Se=mM((o=$t(_[0],!1))["cell-range-address"]);var Xt={Name:o.name,Ref:Se[0]+"!"+Se[1]};Ge&&(Xt.Sheet=m.length),Le.Names.push(Xt);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if("/"!==_[1]||E&&E["string-value"])$t(_[0],!1),w=_.index+_[0].length;else{var H=Qwe(r.slice(w,_.index));b=(b.length>0?b+"\n":"")+H[0]}break;case"database-range":if("/"===_[1])break;try{p[(Se=mM($t(_[0])["target-range-address"]))[0]]["!autofilter"]={ref:Se[1]}}catch{}break;case"a":if("/"!==_[1]){if(!(ot=$t(_[0],!1)).href)break;ot.Target=$n(ot.href),delete ot.href,"#"==ot.Target.charAt(0)&&ot.Target.indexOf(".")>-1?(Se=mM(ot.Target.slice(1)),ot.Target="#"+Se[0]+"!"+Se[1]):ot.Target.match(/^\.\.[\\\/]/)&&(ot.Target=ot.Target.slice(3))}break;default:switch(_[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(n.WTF)throw new Error(_)}}var ir={Sheets:p,SheetNames:m,Workbook:Le};return n.bookSheets&&delete ir.Sheets,ir}function J$(t,e){return X$(t,e)}function rh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wM(t){return typeof TextDecoder<"u"?(new TextDecoder).decode(t):ur(cd(t))}function _d(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function n7(t){return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>>24}function Ay(t,e){var n=e?e[0]:0,r=127&t[n];e:if(t[n++]>=128&&(r|=(127&t[n])<<7,t[n++]<128||(r|=(127&t[n])<<14,t[n++]<128)||(r|=(127&t[n])<<21,t[n++]<128)||(r+=(127&t[n])*Math.pow(2,28),++n,t[n++]<128)||(r+=(127&t[n])*Math.pow(2,35),++n,t[n++]<128)||(r+=(127&t[n])*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function li(t){var e=0,n=127&t[e];e:if(t[e++]>=128){if(n|=(127&t[e])<<7,t[e++]<128||(n|=(127&t[e])<<14,t[e++]<128)||(n|=(127&t[e])<<21,t[e++]<128))break e;n|=(127&t[e])<<28}return n}function Gn(t){for(var e=[],n=[0];n[0]<t.length;){var a,r=n[0],i=Ay(t,n),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var c=n[0];t[n[0]++]>=128;);a=t.slice(c,n[0]);break;case 5:a=t.slice(n[0],n[0]+(o=4)),n[0]+=o;break;case 1:a=t.slice(n[0],n[0]+(o=8)),n[0]+=o;break;case 2:o=Ay(t,n),a=t.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var l={data:a,type:s};null==e[i]?e[i]=[l]:e[i].push(l)}return e}function EM(t,e){return t?.map(function(n){return e(n.data)})||[]}function iEe(t,e){if(0!=t)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Ay(e,n),i=[];n[0]<e.length;){var s=3&e[n[0]];if(0!=s){var c=0,l=0;if(1==s?(l=4+(e[n[0]]>>2&7),c=(224&e[n[0]++])<<3,c|=e[n[0]++]):(l=1+(e[n[0]++]>>2),2==s?(c=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(c=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[_d(i)],0==c)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(l>=c)for(i.push(i[0].slice(-c)),l-=c;l>=i[i.length-1].length;)i.push(i[i.length-1]),l-=i[i.length-1].length;i.push(i[0].slice(-c,-c+l))}else{var o=e[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[n[0]],a>1&&(o|=e[n[0]+1]<<8),a>2&&(o|=e[n[0]+2]<<16),a>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(e.slice(n[0],n[0]+o)),n[0]+=o}}var u=_d(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function aEe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return function sEe(t,e,n,r){var d,i=rh(t),s=i.getUint32(4,!0),o=(r>1?12:8)+4*n7(s&(r>1?3470:398)),a=-1,c=-1,l=NaN,u=new Date(2001,0,1);switch(512&s&&(a=i.getUint32(o,!0),o+=4),o+=4*n7(s&(r>1?12288:4096)),16&s&&(c=i.getUint32(o,!0),o+=4),32&s&&(l=i.getFloat64(o,!0),o+=8),64&s&&(u.setTime(u.getTime()+1e3*i.getFloat64(o,!0)),o+=8),t[2]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:e[c]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:l>0};break;case 7:d={t:"n",v:l/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:n[a]};else if(c>-1)d={t:"s",v:e[c]};else{if(isNaN(l))throw new Error("Unsupported cell type ".concat(t.slice(0,4)));d={t:"n",v:l}}break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return d}(t,e,n,t[0]);case 5:return function oEe(t,e,n){var d,r=rh(t),i=r.getUint32(8,!0),s=12,o=-1,a=-1,c=NaN,l=NaN,u=new Date(2001,0,1);switch(1&i&&(c=function nEe(t,e){for(var n=(127&t[e+15])<<7|t[e+14]>>1,r=1&t[e+14],i=e+13;i>=e;--i)r=256*r+t[i];return(128&t[e+15]?-r:r)*Math.pow(10,n-6176)}(t,s),s+=16),2&i&&(l=r.getFloat64(s,!0),s+=8),4&i&&(u.setTime(u.getTime()+1e3*r.getFloat64(s,!0)),s+=8),8&i&&(a=r.getUint32(s,!0),s+=4),16&i&&(o=r.getUint32(s,!0),s+=4),t[1]){case 0:break;case 2:case 10:d={t:"n",v:c};break;case 3:d={t:"s",v:e[a]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:l>0};break;case 7:d={t:"n",v:l/86400};break;case 8:d={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(31&i," : ").concat(t.slice(0,4)));d={t:"s",v:n[o]};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(31&i," : ").concat(t.slice(0,4)))}return d}(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Hs(t){return Ay(Gn(t)[1][0].data)}function r7(t,e){var n=Gn(e.data),r=li(n[1][0].data),s=[];return(n[3]||[]).forEach(function(o){var a=Gn(o.data),c=li(a[1][0].data)>>>0;switch(r){case 1:s[c]=wM(a[3][0].data);break;case 8:var u=Gn(t[Hs(a[9][0].data)][0].data),d=t[Hs(u[1][0].data)][0],p=li(d.meta[1][0].data);if(2001!=p)throw new Error("2000 unexpected reference to ".concat(p));var m=Gn(d.data);s[c]=m[3].map(function(y){return wM(y.data)}).join("")}}),s}function dEe(t,e){var r={"!ref":"A1"},i=t[Hs(Gn(e.data)[2][0].data)],s=li(i[0].meta[1][0].data);if(6001!=s)throw new Error("6000 unexpected reference to ".concat(s));return function uEe(t,e,n){var r,i=Gn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(li(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(li(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=on(s);var o=Gn(i[4][0].data),a=r7(t,t[Hs(o[4][0].data)][0]),c=null!=(r=o[17])&&r[0]?r7(t,t[Hs(o[17][0].data)][0]):[],l=Gn(o[3][0].data),u=0;l[1].forEach(function(d){var p=Gn(d.data),m=t[Hs(p[2][0].data)][0],y=li(m.meta[1][0].data);if(6002!=y)throw new Error("6001 unexpected reference to ".concat(y));var _=function lEe(t,e){var n,r=Gn(e.data),i=null!=(n=r?.[7])&&n[0]?li(r[7][0].data)>>>0>0?1:0:-1,s=EM(r[5],function(o){return function cEe(t,e){var n,r,i,s,o,a,c,l,u,d,p,m,y,_,M,z,x=Gn(t),E=li(x[1][0].data)>>>0,b=li(x[2][0].data)>>>0,w=(null==(r=null==(n=x[8])?void 0:n[0])?void 0:r.data)&&li(x[8][0].data)>0||!1;if(null!=(s=null==(i=x[7])?void 0:i[0])&&s.data&&0!=e)M=null==(a=null==(o=x[7])?void 0:o[0])?void 0:a.data,z=null==(l=null==(c=x[6])?void 0:c[0])?void 0:l.data;else{if(null==(d=null==(u=x[4])?void 0:u[0])||!d.data||1==e)throw"NUMBERS Tile missing ".concat(e," cell storage");M=null==(m=null==(p=x[4])?void 0:p[0])?void 0:m.data,z=null==(_=null==(y=x[3])?void 0:y[0])?void 0:_.data}for(var B=w?4:1,R=rh(M),Q=[],J=0;J<M.length/2;++J){var ce=R.getUint16(2*J,!0);ce<65535&&Q.push([J,ce])}if(Q.length!=b)throw"Expected ".concat(b," cells, found ").concat(Q.length);var ve=[];for(J=0;J<Q.length-1;++J)ve[Q[J][0]]=z.subarray(Q[J][1]*B,Q[J+1][1]*B);return Q.length>=1&&(ve[Q[Q.length-1][0]]=z.subarray(Q[Q.length-1][1]*B)),{R:E,cells:ve}}(o,i)});return{nrows:li(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(c,l){if(o[a.R][l])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(l));o[a.R][l]=c}),o},[])}}(0,m);_.data.forEach(function(x,E){x.forEach(function(b,w){var M=Wt({r:u+E,c:w}),z=aEe(b,a,c);z&&(n[M]=z)})}),u+=_.nrows})}(t,i[0],r),r}function CM(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var l,u;try{l=function La(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;e.push(iEe(r,t.slice(n+=3,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return _d(e)}(c.content)}catch(d){return console.log("?? "+c.content.length+" "+(d.message||d))}try{u=function Na(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Ay(t,r),s=Gn(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:li(s[1][0].data),messages:[]};s[2].forEach(function(a){var c=Gn(a.data),l=li(c[3][0].data);o.messages.push({meta:c,data:t.slice(r[0],r[0]+l)}),r[0]+=l}),null!=(e=s[3])&&e[0]&&(o.merge=li(s[3][0].data)>>>0>0),n.push(o)}return n}(l)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){s[d.id]=d.messages,o.push(d.id)})}}),!o.length)throw new Error("File has no messages");var a=(null==(i=null==(r=null==(n=null==(e=s?.[1])?void 0:e[0])?void 0:n.meta)?void 0:r[1])?void 0:i[0].data)&&1==li(s[1][0].meta[1][0].data)&&s[1][0];if(a||o.forEach(function(c){s[c].forEach(function(l){if(1==li(l.meta[1][0].data)>>>0){if(a)throw new Error("Document has multiple roots");a=l}})}),!a)throw new Error("Cannot find Document root");return function hEe(t,e){var n={SheetNames:[],Sheets:{}};if(EM(Gn(e.data)[1],Hs).forEach(function(s){t[s].forEach(function(o){if(2==li(o.meta[1][0].data)){var c=function fEe(t,e){var n,r=Gn(e.data),i={name:null!=(n=r[1])&&n[0]?wM(r[1][0].data):"",sheets:[]};return EM(r[2],Hs).forEach(function(o){t[o].forEach(function(a){6e3==li(a.meta[1][0].data)&&i.sheets.push(dEe(t,a))})}),i}(t,o);c.sheets.forEach(function(l,u){OM(n,l,0==u?c.name:c.name+"_"+u,!0)})}})}),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}(s,a)}function SM(t){!function i7(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];void 0===n[i[0]]&&(n[i[0]]=i[1]),"n"===i[2]&&(n[i[0]]=Number(n[i[0]]))}}}([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function gEe(t){return an.WS.indexOf(t)>-1?"sheet":an.CS&&t==an.CS?"chart":an.DS&&t==an.DS?"dialog":an.MS&&t==an.MS?"macro":t&&t.length?t:"sheet"}function vEe(t,e,n,r,i,s,o,a,c,l,u,d){try{s[r]=dy(Xo(t,n,!0),e);var m,p=ki(t,e);switch(a){case"sheet":m=$1e(p,e,i,c,s[r],l,u,d);break;case"chart":if(!(m=function W1e(t,e,n,r,i,s,o,a){return".bin"===e.slice(-4)?function b1e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=[],a=!1;return ql(t,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:o.push(d);break;case 38:o.pop();break;default:if(u.T>0)o.push(d);else if(u.T<0)o.pop();else if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(t,r,n,i,s):function v1e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var o,s={"!type":"chart","!drawel":null,"!rel":""},a=t.match(C$);return a&&_M(a[0],0,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(t,0,n,i,s)}(p,e,i,c,s[r],l))||!m["!drawel"])break;var y=iy(m["!drawel"].Target,e),_=uy(y),x=function Mve(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}(Xo(t,y,!0),dy(Xo(t,_,!0),y)),E=iy(x,y),b=uy(E);m=function _1e(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var a=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var p=function g1e(t){var r,e=[],n=t.match(/^<c:numCache>/);(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=$n((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}(d);u.s.r=u.s.c=0,u.e.c=a,l=Nr(a),p[0].forEach(function(m,y){o[l+ci(y)]={t:"n",v:m,z:p[1]},c=y}),u.e.r<c&&(u.e.r=c),++a}),a>0&&(o["!ref"]=on(u)),o}(Xo(t,E,!0),0,0,dy(Xo(t,b,!0),E),0,m);break;case"macro":m=function G1e(t,e,n,r,i,s,o,a){return e.slice(-4),{"!type":"macro"}}(0,e);break;case"dialog":m=function q1e(t,e,n,r,i,s,o,a){return e.slice(-4),{"!type":"dialog"}}(0,e);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=m;var w=[];s&&s[r]&&oi(s[r]).forEach(function(M){var z="";if(s[r][M].Type==an.CMNT){z=iy(s[r][M].Target,e);var B=function X1e(t,e,n){return".bin"===e.slice(-4)?function Hve(t,e){var n=[],r=[],i={},s=!1;return ql(t,function(a,c,l){switch(l){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T&&(!s||e.WTF))throw new Error("Unexpected record 0x"+l.toString(16))}}),n}(t,n):function Pve(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(""!==o&&""!==o.trim()){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(""!==o&&""!==o.trim()){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var c=$t(a[0]),l={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Yr(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var d=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!d&&!!d[1]&&sM(d[1])||{r:"",t:"",h:""};l.r=p.r,"<t></t>"==p.r&&(p.t=p.h=""),l.t=(p.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.cellHTML&&(l.h=p.h),r.push(l)}}}}),r}(t,n)}(ki(t,z,!0),z,c);if(!B||!B.length)return;l$(m,B,!1)}s[r][M].Type==an.TCMNT&&(z=iy(s[r][M].Target,e),w=w.concat(function Fve(t,e){var n=[],r=!1,i={},s=0;return t.replace(Os,function(a,c){var l=$t(a);switch(qc(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=i.t&&n.push(i);break;case"<text>":case"<text":s=c+a.length;break;case"</text>":i.t=t.slice(s,c).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),n}(ki(t,z,!0),c)))}),w&&w.length&&l$(m,w,!0,c.people||[])}catch(M){if(c.WTF)throw M}}function Va(t){return"/"==t.charAt(0)?t.slice(1):t}function yEe(t,e){if(eg(),SM(e=e||{}),Ma(t,"META-INF/manifest.xml")||Ma(t,"objectdata.xml"))return function Q$(t,e){e=e||{},Ma(t,"META-INF/manifest.xml")&&function Dme(t,e){for(var r,i,n=R2(t);r=oy.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(i=$t(r[0],!1)).path&&i.type!==Ame)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}(ki(t,"META-INF/manifest.xml"),e);var n=Xo(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=X$(ur(n),e);return Ma(t,"meta.xml")&&(r.Props=lz(ki(t,"meta.xml"))),r}(t,e);if(Ma(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(t.FileIndex)return CM(t);var n=Mt.utils.cfb_new();return EH(t).forEach(function(_t){!function dn(t,e,n){if(t.FullPaths){var r;if("string"==typeof n)return r=_n?$l(n):function epe(t){for(var e=[],n=0,r=t.length+250,i=ad(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var a=1023&t.charCodeAt(++s);i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(3&o)<<4,i[n++]=128|63&a}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|63&o;n>r&&(e.push(i.slice(0,n)),n=0,i=ad(65535),r=65530)}return e.push(i.slice(0,n)),cs(e)}(n),Mt.utils.cfb_add(t,e,r);Mt.utils.cfb_add(t,e,n)}else t.file(e,n)}(n,_t,wH(t,_t))}),CM(n)}if(!Ma(t,"[Content_Types].xml"))throw Ma(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ma(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var o,a,r=EH(t),i=function Sme(t){var e={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!t||!t.match)return e;var n={};if((t.match(Os)||[]).forEach(function(r){var i=$t(r);switch(i[0].replace(Bpe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":void 0!==e[Y2[i.ContentType]]&&e[Y2[i.ContentType]].push(i.PartName)}}),e.xmlns!==Mi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}(Xo(t,"[Content_Types].xml")),s=!1;if(0===i.workbooks.length&&ki(t,a="xl/workbook.xml",!0)&&i.workbooks.push(a),0===i.workbooks.length){if(!ki(t,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}"bin"==i.workbooks[0].slice(-3)&&(s=!0);var c={},l={};if(!e.bookSheets&&!e.bookProps){if(wy=[],i.sst)try{wy=function Y1e(t,e,n){return".bin"===e.slice(-4)?function X0e(t,e){var n=[],r=!1;return ql(t,function(s,o,a){switch(a){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(!r||e.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}(t,n):function K0e(t,e){var n=[],r="";if(!t)return n;var i=t.match(W0e);if(i){r=i[2].replace(G0e,"").split(q0e);for(var s=0;s!=r.length;++s){var o=sM(r[s].trim(),e);null!=o&&(n[n.length]=o)}i=$t(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}(t,n)}(ki(t,Va(i.sst)),i.sst,e)}catch(_t){if(e.WTF)throw _t}e.cellStyles&&i.themes.length&&(c=function Z1e(t,e,n){return o$(t,n)}(Xo(t,i.themes[0].replace(/^\//,""),!0)||"",0,e)),i.style&&(l=function K1e(t,e,n,r){return".bin"===e.slice(-4)?function $_e(t,e,n){var r={NumberFmt:[]};for(var i in Vt)r.NumberFmt[i]=Vt[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return ql(t,function(c,l,u){switch(u){case 44:r.NumberFmt[c[0]]=c[1],Gc(c[1],c[0]);break;case 43:r.Fonts.push(c),null!=c.color.theme&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=GE(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&r.CellXf.push(c);break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(u),o=!0;break;case 38:s.pop(),o=!1;break;default:if(l.T>0)s.push(u);else if(l.T<0)s.pop();else if(!o||n.WTF&&37!=s[s.length-1])throw new Error("Unexpected record 0x"+u.toString(16))}}),r}(t,n,r):M_e(t,n,r)}(ki(t,Va(i.style)),i.style,c,e))}i.links.map(function(_t){try{return dy(Xo(t,uy(Va(_t))),_t),function J1e(t,e,n,r){return".bin"===n.slice(-4)?function Rve(t,e,n,r){if(!t)return t;var i=r||{},s=!1;ql(t,function(c,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T&&(!s||i.WTF))throw new Error("Unexpected record 0x"+u.toString(16))}},i)}(t,0,0,r):void 0}(ki(t,Va(_t)),0,_t,e)}catch{}});var u=function z1e(t,e,n){return".bin"===e.slice(-4)?function L1e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Cy[16]={n:"BrtFRTArchID$",f:O1e},ql(t,function(c,l,u){switch(u){case 156:o.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:null!=c.Sheet&&(e.SID=c.Sheet),c.Ref=js(c.Ptg,0,null,o,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:0===o.length&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 35:case 37:r.push(u),i=!0;break;case 36:case 38:r.pop(),i=!1;break;default:if(!l.T&&(!i||e.WTF&&37!=r[r.length-1]&&35!=r[r.length-1]))throw new Error("Unexpected record 0x"+u.toString(16))}},e),M$(n),n.Names=s,n.supbooks=o,n}(t,n):function k1e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Os,function(c,l){var u=$t(c);switch(qc(u[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":c.match(D1e)&&(i="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<workbookPr":case"<workbookPr/>":vM.forEach(function(d){if(null!=u[d[0]])switch(d[2]){case"bool":n.WBProps[d[0]]=Or(u[d[0]]);break;case"int":n.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:n.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(n.WBProps.CodeName=ur(u.codeName));break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=$n(ur(u.name)),delete u[0],n.Sheets.push(u);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(s={}).Name=ur(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Or(u.hidden||"0")&&(s.Hidden=!0),o=l+c.length;break;case"</definedName>":s.Ref=$n(ur(t.slice(o,l))),n.Names.push(s);break;case"<calcPr":case"<calcPr/>":delete u[0],n.CalcPr=u;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),-1===fd.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return M$(n),n}(t,n)}(ki(t,Va(i.workbooks[0])),i.workbooks[0],e),d={},p="";i.coreprops.length&&((p=ki(t,Va(i.coreprops[0]),!0))&&(d=lz(p)),0!==i.extprops.length&&(p=ki(t,Va(i.extprops[0]),!0))&&function Ome(t,e,n){var r={};e||(e={}),t=ur(t),Yf.forEach(function(i){var s=(t.match(sy(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=$n(s));break;case"bool":e[i[1]]="true"===s;break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1])}}),r.HeadingPairs&&r.TitlesOfParts&&fz(r.HeadingPairs,r.TitlesOfParts,e,n)}(p,d,e));var m={};(!e.bookSheets||e.bookProps)&&0!==i.custprops.length&&(p=Xo(t,Va(i.custprops[0]),!0))&&(m=function Lme(t,e){var n={},r="",i=t.match(Nme);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=$t(o);switch(a[0]){case"<?xml":case"<Properties":break;case"<property":r=$n(a.name);break;case"</property>":r=null;break;default:if(0===o.indexOf("<vt:")){var c=o.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=$n(u);break;case"bool":n[r]=Or(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Zr(u);break;default:if("/"==l.slice(-1))break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,l,c)}}else if("</"!==o.slice(0,2)&&e.WTF)throw new Error(o)}}return n}(p,e));var y={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(Qe){return Qe.name}):d.Worksheets&&d.SheetNames.length>0&&(o=d.SheetNames),e.bookProps&&(y.Props=d,y.Custprops=m),e.bookSheets&&typeof o<"u"&&(y.SheetNames=o),e.bookSheets?y.SheetNames:e.bookProps))return y;o={};var _={};e.bookDeps&&i.calcchain&&(_=function Q1e(t,e,n){return".bin"===e.slice(-4)?function kve(t,e,n){var r=[];return ql(t,function(o,a,c){if(63===c)r.push(o);else if(!a.T)throw new Error("Unexpected record 0x"+c.toString(16))}),r}(t):function Ave(t){var e=[];if(!t)return e;var n=1;return(t.match(Os)||[]).forEach(function(r){var i=$t(r);switch(i[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i)}}),e}(t)}(ki(t,Va(i.calcchain)),i.calcchain));var b,w,x=0,E={},M=u.Sheets;d.Worksheets=M.length,d.SheetNames=[];for(var z=0;z!=M.length;++z)d.SheetNames[z]=M[z].name;var B=s?"bin":"xml",R=i.workbooks[0].lastIndexOf("/"),Q=(i.workbooks[0].slice(0,R+1)+"_rels/"+i.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Ma(t,Q)||(Q="xl/_rels/workbook."+B+".rels");var J=dy(Xo(t,Q,!0),Q.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=function ewe(t,e,n){return".bin"===e.slice(-4)?function Ive(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return ql(t,function(c,l,u){switch(u){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(d){1==a?r.Cell.push({type:r.Types[d[0]-1].name,index:d[1]}):0==a&&r.Value.push({type:r.Types[d[0]-1].name,index:d[1]})});break;case 337:a=c?1:0;break;case 338:a=2;break;case 35:s.push(u),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!l.T&&(!o||i.WTF&&35!=s[s.length-1]))throw new Error("Unexpected record 0x"+u.toString(16))}}),r}(t,0,n):function Sve(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var o,i=!1,s=2;return t.replace(Os,function(a){var c=$t(a);switch(qc(c[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:c.name});break;case"<futureMetadata":for(var l=0;l<r.Types.length;++l)r.Types[l].name==c.name&&(o=r.Types[l]);break;case"<rc":1==s?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):0==s&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"<cellMetadata":s=1;break;case"</cellMetadata>":case"</valueMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return a}),r}(t,0,n)}(ki(t,Va(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=function Nve(t,e){var n=[],r=!1;return t.replace(Os,function(s){var o=$t(s);switch(qc(o[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}(ki(t,Va(i.people[0])),e)),J&&(J=function _Ee(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,gEe(t["!id"][r.id].Type)]})}catch{return null}return t&&0!==t.length?t:null}(J,u.Sheets));var ce=ki(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=d.Worksheets;++x){var ve="sheet";if(J&&J[x]?(b="xl/"+J[x][1].replace(/[\/]?xl\//,""),Ma(t,b)||(b=J[x][1]),Ma(t,b)||(b=Q.replace(/_rels\/.*$/,"")+J[x][1]),ve=J[x][2]):b=(b="xl/worksheets/sheet"+(x+1-ce)+"."+B).replace(/sheet0\./,"sheet."),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&null!=e.sheets)switch(typeof e.sheets){case"number":if(x!=e.sheets)continue e;break;case"string":if(d.SheetNames[x].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var ne=!1,Ke=0;Ke!=e.sheets.length;++Ke)"number"==typeof e.sheets[Ke]&&e.sheets[Ke]==x&&(ne=1),"string"==typeof e.sheets[Ke]&&e.sheets[Ke].toLowerCase()==d.SheetNames[x].toLowerCase()&&(ne=1);if(!ne)continue e}}vEe(t,b,w,d.SheetNames[x],x,E,o,ve,e,u,c,l)}return y={Directory:i,Workbook:u,Props:d,Custprops:m,Deps:_,Sheets:o,SheetNames:d.SheetNames,Strings:wy,Styles:l,Themes:c,SSF:hr(Vt)},e&&e.bookFiles&&(t.files?(y.keys=r,y.files=t.files):(y.keys=[],y.files={},t.FullPaths.forEach(function(_t,Qe){_t=_t.replace(/^Root Entry[\/]/,""),y.keys.push(_t),y.files[_t]=t.FileIndex[Qe]}))),e&&e.bookVBA&&(i.vba.length>0?y.vbaraw=ki(t,Va(i.vba[0]),!0):i.defaults&&i.defaults.bin===$ve&&(y.vbaraw=ki(t,"xl/vbaProject.bin",!0))),y}function xEe(t,e){var n=e||{},r="Workbook",i=Mt.find(t,r);try{if(!(i=Mt.find(t,r="/!DataSpaces/Version"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function t_e(t){var e={};e.id=t.read_shift(0,"lpp4"),e.R=Zl(t,4),e.U=Zl(t,4),e.W=Zl(t,4)}(i.content),!(i=Mt.find(t,r="/!DataSpaces/DataSpaceMap"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function r_e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(n_e(t));return e}(i.content);if(1!==s.length||1!==s[0].comps.length||0!==s[0].comps[0].t||"StrongEncryptionDataSpace"!==s[0].name||"EncryptedPackage"!==s[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(!(i=Mt.find(t,r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function i_e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}(i.content);if(1!=o.length||"StrongEncryptionTransform"!=o[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(!(i=Mt.find(t,r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);!function o_e(t){var e=function s_e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Zl(t,4),e.U=Zl(t,4),e.W=Zl(t,4),e}(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),4!=t.read_shift(4))throw new Error("Bad !Primary record");return e}(i.content)}catch{}if(!(i=Mt.find(t,r="/EncryptionInfo"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=function a_e(t){var e=Zl(t);switch(e.Minor){case 2:return[e.Minor,c_e(t)];case 3:return[e.Minor,l_e()];case 4:return[e.Minor,u_e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}(i.content);if(!(i=Mt.find(t,r="/EncryptedPackage"))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==a[0]&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,n.password||"",n);if(2==a[0]&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function DM(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ko(t.slice(0,12));break;case"binary":n=t;break;default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function o7(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return xM(t.slice(n),e);default:break e}return og.to_workbook(t,e)}function kM(t,e,n,r){return r?(n.type="string",og.to_workbook(t,n)):og.to_workbook(e,n)}function eT(t,e){TE();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return eT(new Uint8Array(t),((n=hr(n)).type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var i,r=t,s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),ug={},n.dateNF&&(ug.dateNF=n.dateNF),n.type||(n.type=_n&&Buffer.isBuffer(t)?"buffer":"base64"),"file"==n.type&&(n.type=_n?"buffer":"binary",r=function Dpe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}(t),typeof Uint8Array<"u"&&!_n&&(n.type="array")),"string"==n.type&&(s=!0,n.type="binary",n.codepage=65001,r=function SEe(t){return t.match(/[^\x00-\x7F]/)?Kc(t):t}(t)),"array"==n.type&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return(n=hr(n)).type="array",eT(x2(r),n)}switch((i=DM(r,n))[0]){case 208:if(207===i[1]&&17===i[2]&&224===i[3]&&161===i[4]&&177===i[5]&&26===i[6]&&225===i[7])return function EEe(t,e){return Mt.find(t,"EncryptedPackage")?xEe(t,e):B$(t,e)}(Mt.read(r,n),n);break;case 9:if(i[1]<=8)return B$(r,n);break;case 60:return xM(r,n);case 73:if(73===i[1]&&42===i[2]&&0===i[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===i[1])return function V0e(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=Gz.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return og.to_workbook(t,e)}}(r,n);break;case 84:if(65===i[1]&&66===i[2]&&76===i[3])return qz.to_workbook(r,n);break;case 80:return 75===i[1]&&i[2]<9&&i[3]<9?function TEe(t,e){var r=t,i=e||{};return i.type||(i.type=_n&&Buffer.isBuffer(t)?"buffer":"base64"),yEe(TH(r,i),i)}(r,n):kM(t,r,n,s);case 239:return 60===i[3]?xM(r,n):kM(t,r,n,s);case 255:if(254===i[1])return function CEe(t,e){var n=t;return"base64"==e.type&&(n=Ko(n)),n=jn.utils.decode(1200,n.slice(2),"str"),e.type="binary",o7(n,e)}(r,n);if(0===i[1]&&2===i[2]&&0===i[3])return eh.to_workbook(r,n);break;case 0:if(0===i[1]&&(i[2]>=2&&0===i[3]||0===i[2]&&(8===i[3]||9===i[3])))return eh.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return iM.to_workbook(r,n);case 123:if(92===i[1]&&114===i[2]&&116===i[3])return e$.to_workbook(r,n);break;case 10:case 13:case 32:return function IEe(t,e){var n="",r=DM(t,e);switch(e.type){case"base64":n=Ko(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Hf(t);break;default:throw new Error("Unrecognized type "+e.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=ur(n)),e.type="binary",o7(n,e)}(r,n);case 137:if(80===i[1]&&78===i[2]&&71===i[3])throw new Error("PNG Image File is not a spreadsheet")}return L0e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?iM.to_workbook(r,n):kM(t,r,n,s)}function u7(t,e,n,r,i,s,o,a){var c=ci(n),l=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),d=!0,p=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var m=e.s.c;m<=e.e.c;++m){var y=o?t[n][m]:t[r[m]+c];if(void 0!==y&&void 0!==y.t){var _=y.v;switch(y.t){case"z":if(null==_)break;continue;case"e":_=0==_?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(null!=s[m]){if(null==_)if("e"==y.t&&null===_)p[s[m]]=null;else if(void 0!==l)p[s[m]]=l;else{if(!u||null!==_)continue;p[s[m]]=null}else p[s[m]]=u&&("n"!==y.t||"n"===y.t&&!1!==a.rawNumbers)?_:Zc(y,_,a);null!=_&&(d=!1)}}else{if(void 0===l)continue;null!=s[m]&&(p[s[m]]=l)}}return{row:p,isempty:d}}function nT(t,e){if(null==t||null==t["!ref"])return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},u=null!=l.range?l.range:t["!ref"];switch(1===l.header?r=1:"A"===l.header?r=2:Array.isArray(l.header)?r=3:null==l.header&&(r=0),typeof u){case"string":c=Fn(u);break;case"number":(c=Fn(t["!ref"])).s.r=u;break;default:c=u}r>0&&(i=0);var d=ci(c.s.r),p=[],m=[],y=0,_=0,x=Array.isArray(t),E=c.s.r,b=0,w={};x&&!t[E]&&(t[E]=[]);var M=l.skipHidden&&t["!cols"]||[],z=l.skipHidden&&t["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(M[b]||{}).hidden)switch(p[b]=Nr(b),n=x?t[E][b]:t[p[b]+d],r){case 1:s[b]=b-c.s.c;break;case 2:s[b]=p[b];break;case 3:s[b]=l.header[b-c.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),a=o=Zc(n,null,l),_=w[o]||0){do{a=o+"_"+_++}while(w[a]);w[o]=_,w[a]=1}else w[o]=1;s[b]=a}for(E=c.s.r+i;E<=c.e.r;++E)if(!(z[E]||{}).hidden){var B=u7(t,c,E,p,r,s,x,l);(!1===B.isempty||(1===r?!1!==l.blankrows:l.blankrows))&&(m[y++]=B.row)}return m.length=y,m}var d7=/"/g;function f7(t,e,n,r,i,s,o,a){for(var c=!0,l=[],u="",d=ci(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var m=a.dense?(t[n]||[])[p]:t[r[p]+d];if(null==m)u="";else if(null!=m.v){c=!1,u=""+(a.rawNumbers&&"n"==m.t?m.v:Zc(m,null,a));for(var y=0,_=0;y!==u.length;++y)if((_=u.charCodeAt(y))===i||_===s||34===_||a.forceQuotes){u='"'+u.replace(d7,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==m.f||m.F?u="":(c=!1,(u="="+m.f).indexOf(",")>=0&&(u='"'+u.replace(d7,'""')+'"'));l.push(u)}return!1===a.blankrows&&c?null:l.join(o)}function PM(t,e){var n=[],r=e??{};if(null==t||null==t["!ref"])return"";var i=Fn(t["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),a=void 0!==r.RS?r.RS:"\n",c=a.charCodeAt(0),l=new RegExp(("|"==s?"\\|":s)+"+$"),u="",d=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],m=r.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(d[y]=Nr(y));for(var _=0,x=i.s.r;x<=i.e.r;++x)(m[x]||{}).hidden||null!=(u=f7(t,i,x,d,o,c,s,r))&&(r.strip&&(u=u.replace(l,"")),(u||!1!==r.blankrows)&&n.push((_++?a:"")+u));return delete r.dense,n.join("")}function p7(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,a=0;if(s&&null!=r.origin)if("number"==typeof r.origin)o=r.origin;else{var c="string"==typeof r.origin?Yr(r.origin):r.origin;o=c.r,a=c.c}var l,u={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var d=Fn(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==o&&(u.e.r=(o=d.e.r+1)+e.length-1+i)}else-1==o&&(o=0,u.e.r=e.length-1+i);var p=r.header||[],m=0;e.forEach(function(_,x){oi(_).forEach(function(E){-1==(m=p.indexOf(E))&&(p[m=p.length]=E);var b=_[E],w="z",M="",z=Wt({c:a+m,r:o+x+i});l=Dy(s,z),!b||"object"!=typeof b||b instanceof Date?("number"==typeof b?w="n":"boolean"==typeof b?w="b":"string"==typeof b?w="s":b instanceof Date?(w="d",r.cellDates||(w="n",b=Ki(b)),M=r.dateNF||Vt[14]):null===b&&r.nullError&&(w="e",b=0),l?(l.t=w,l.v=b,delete l.w,delete l.R,M&&(l.z=M)):s[z]=l={t:w,v:b},M&&(l.z=M)):s[z]=b})}),u.e.c=Math.max(u.e.c,a+p.length-1);var y=ci(o);if(i)for(m=0;m<p.length;++m)s[Nr(m+a)+y]={t:"s",v:p[m]};return s["!ref"]=on(u),s}function Dy(t,e,n){if("string"==typeof e){if(Array.isArray(t)){var r=Yr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return Dy(t,Wt("number"!=typeof e?e:{r:e,c:n||0}))}function OM(t,e,n,r){var i=1;if(!n)for(;i<=65535&&-1!=t.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&-1!=t.SheetNames.indexOf(n=o+i);++i);}if(function P$(t,e){if(t.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return S1e.forEach(function(r){if(-1!=t.indexOf(r)){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function m7(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}var UEe={encode_col:Nr,encode_row:ci,encode_cell:Wt,encode_range:on,decode_col:U2,decode_row:B2,split_cell:function ome(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Yr,decode_range:Jo,format_cell:Zc,sheet_add_aoa:QH,sheet_add_json:p7,sheet_add_dom:q$,aoa_to_sheet:ig,json_to_sheet:function PEe(t,e){return p7(null,t,e)},table_to_sheet:K$,table_to_book:function Ywe(t,e){return hd(K$(t,e),e)},sheet_to_csv:PM,sheet_to_txt:function h7(t,e){e||(e={}),e.FS="\t",e.RS="\n";var n=PM(t,e);if(typeof jn>"u"||"string"==e.type)return n;var r=jn.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r},sheet_to_json:nT,sheet_to_html:function G$(t,e){var n=e||{},i=null!=n.footer?n.footer:"</body></html>",s=[null!=n.header?n.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],o=Jo(t["!ref"]);n.dense=Array.isArray(t),s.push(function W$(t,e,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(H$(t,o,a,n));return s.push("</table>"+i),s.join("")},sheet_to_formulae:function MEe(t){var n,e="",r="";if(null==t||null==t["!ref"])return[];var a,i=Fn(t["!ref"]),s="",o=[],c=[],l=Array.isArray(t);for(a=i.s.c;a<=i.e.c;++a)o[a]=Nr(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=ci(u),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,r="",void 0!==(n=l?(t[u]||[])[a]:t[e])){if(null!=n.F){if(e=n.F,!n.f)continue;r=n.f,-1==e.indexOf(":")&&(e=e+":"+e)}if(null!=n.f)r=n.f;else{if("z"==n.t)continue;if("n"==n.t&&null!=n.v)r=""+n.v;else if("b"==n.t)r=n.v?"TRUE":"FALSE";else if(void 0!==n.w)r="'"+n.w;else{if(void 0===n.v)continue;r="s"==n.t?"'"+n.v:""+n.v}}c[c.length]=e+"="+r}return c},sheet_to_row_object_array:nT,sheet_get_cell:Dy,book_new:function FM(){return{SheetNames:[],Sheets:{}}},book_append_sheet:OM,book_set_sheet_visibility:function OEe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=function FEe(t,e){if("number"==typeof e){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}if("string"==typeof e){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}throw new Error("Cannot find sheet |"+e+"|")}(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function NEe(t,e){return t.z=e,t},cell_set_hyperlink:m7,cell_set_internal_link:function LEe(t,e,n){return m7(t,"#"+e,n)},cell_add_comment:function VEe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})},sheet_set_array_formula:function BEe(t,e,n,r){for(var i="string"!=typeof e?e:Fn(e),s="string"==typeof e?e:on(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=Dy(t,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=n,r&&(c.D=!0))}return t},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};let NM=(()=>{class t{constructor(n){this.firestore=n}convertFirestoreTimestampToJSDate(n){const{seconds:r,nanoseconds:i}=n;return new Date(1e3*r+i/1e6)}getSavedTests(n){var r=this;return(0,Ce.Z)(function*(){try{const i=[],s=Da(r.firestore,"users"),o=Of(s,n),a=Da(o,"savedTests");(yield Gm(a)).forEach(u=>{const d=u.data(),m={id:d.id,finishedAt:r.convertFirestoreTimestampToJSDate(d.finishedAt),testName:d.testName+" vypracovan\xfd: "+d.finishedAt.toDate().toLocaleDateString("sk-SK",{day:"numeric",month:"long",year:"numeric"}),timeLeft:d.timeLeft,questions:d.questions.map(y=>"Zru\u0161en\xe1 ot\xe1zka"===y.text?null:{questionId:y.questionId,image:y.image,text:y.text,correctAnswer:y.correctAnswer,userAnswer:y.userAnswer,isCorrect:y.isCorrect,options:y.options}).filter(y=>null!==y)};i.push(m),console.log("Saved test:",m)});const l=i.sort((u,d)=>d.finishedAt.getTime()-u.finishedAt.getTime());return l.length>10&&r.removeOldestTest(n),l}catch(i){throw console.error("Error getting saved tests:",i),i}})()}removeOldestTest(n){var r=this;return(0,Ce.Z)(function*(){const i=Da(r.firestore,"users"),s=Of(i,n),o=Da(s,"savedTests"),a=yield Gm(o),c=[];a.docs.forEach(u=>{c.push({id:u.id,data:u.data()})});const l=c.sort((u,d)=>u.data.finishedAt.seconds-d.data.finishedAt.seconds);for(console.log("All tests:",c),console.log("Sorted tests:",l);l.length>10;){const u=l[0];console.log("Oldest test:",u);const d=u.id;console.log("Oldest test id:",d),yield qde(Of(o,d)),l.shift()}})()}static#e=this.\u0275fac=function(r){return new(r||t)(te(Wm))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LM(){return Me((t,e)=>{let n,r=!1;t.subscribe(st(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}function VM(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function g7(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function _7(){if(!function hce(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ky{constructor(e){this._delegate=e}static fromBase64String(e){return _7(),new ky(Hc.fromBase64String(e))}static fromUint8Array(e){return g7(),new ky(Hc.fromUint8Array(e))}toBase64(){return _7(),this._delegate.toBase64()}toUint8Array(){return g7(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BM(t){return function qEe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class KEe{enableIndexedDbPersistence(e,n){return function zue(t,e){_j(t=Sn(t,xr));const n=ii(t);if(n._uninitializedComponentsProvider)throw new Ve(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Um;return gj(n,i,new ER(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function $ue(t){_j(t=Sn(t,xr));const e=ii(t);if(e._uninitializedComponentsProvider)throw new Ve(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Co("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Um;return gj(e,r,new QU(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Wue(t){if(t._initialized&&!t._terminated)throw new Ve(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(n=(0,Ce.Z)(function*(i){if(!rc.D())return Promise.resolve();const s=i+"main";yield rc.delete(s)}),function r(i){return n.apply(this,arguments)})(mk(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class v7{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){hj(this._delegate,e,n,r)}enableNetwork(){return function que(t){return function Aue(t){return t.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield tj(t),n=yield nj(t);return e.setNetworkEnabled(!0),function(i){const s=at(i);return s.C_.delete(0),kv(s)}(n)}))}(ii(t=Sn(t,xr)))}(this._delegate)}disableNetwork(){return function Kue(t){return function Due(t){return t.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield tj(t),n=yield nj(t);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(s){const o=at(s);o.C_.add(0),yield Pm(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(n);var r}))}(ii(t=Sn(t,xr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,cj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gue(t){return function(n){const r=new Gi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function due(t,e){return aR.apply(this,arguments)}(yield kR(n),r)})),r.promise}(ii(t=Sn(t,xr)))}(this._delegate)}onSnapshotsInSync(e){return function wde(t,e){return function Mue(t,e){const n=new Qw(e);return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Hm(t),s=n,at(i).q_.add(s),void s.next();var i,s})),()=>{n.Na(),t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Hm(t),s=n,void at(i).q_.delete(s);var i,s}))}}(ii(t=Sn(t,xr)),OR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hg(this,PR(this._delegate,e))}catch(n){throw ho(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ba(this,Fv(this._delegate,e))}catch(n){throw ho(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new po(this,function Vue(t,e){if(t=Sn(t,Pv),MR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bs(t,null,(r=e,new Nl(Bn.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ho(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Pde(t,e,n){t=Sn(t,xr);const r=Object.assign(Object.assign({},Rde),n);return function(s){if(s.maxAttempts<1)throw new Ve(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new Gi;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const l=yield function rj(t){return eE(t).then(e=>e.datastore)}(s);new Cue(s.asyncQueue,l,a,o,c).run()})),c.promise}(ii(t),i=>e(new Mde(t,i)),r)}(this._delegate,n=>e(new y7(this,n)))}batch(){return ii(this._delegate),new x7(new Lj(this._delegate,e=>$m(this._delegate,e)))}loadBundle(e){return function Zue(t,e){const n=ii(t=Sn(t,xr)),r=new Uue;return function Pue(t,e,n,r){const i=function(o,a){let c;return c="string"==typeof o?C5().encode(o):o,u=function(u,d){if(u instanceof Uint8Array)return JU(u,d);if(u instanceof ArrayBuffer)return JU(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Tue(u,a);var u}(n,Dv(e));t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function wue(t,e,n){const r=at(t);var i;(i=(0,Ce.Z)(function*(o,a,c){try{const l=yield a.getMetadata();if(yield function(y,_){const x=at(y),E=bi(_.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",b=>x.Kr.getBundleMetadata(b,_.id)).then(b=>!!b&&b.createTime.compareTo(E)>=0)}(o.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(y=l).totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}),Promise.resolve(new Set);c._updateProgress(zU(l));const u=new tue(l,o.localStore,a.serializer);let d=yield a.Ma();for(;d;){const m=yield u.ea(d);m&&c._updateProgress(m),d=yield a.Ma()}const p=yield u.complete();return yield Ul(o,p.ra,void 0),yield function(y,_){const x=at(y);return x.persistence.runTransaction("Save bundle","readwrite",E=>x.Kr.saveBundleMetadata(E,_))}(o.localStore,l),c._completeWith(p.progress),Promise.resolve(p.na)}catch(l){return Co("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var y}),function s(o,a,c){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield kR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Yue(t,e){return function Fue(t,e){return t.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(r,i){const s=at(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield jm(t),e)}))}(ii(t=Sn(t,xr)),e).then(n=>n?new bs(t,null,n.query):null)}(this._delegate,e).then(n=>n?new po(this,n):null)}}class iT extends HR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ky(new Hc(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ba.forKey(n,this.firestore,null)}}class y7{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new iT(e)}get(e){const n=sh(e);return this._delegate.get(n).then(r=>new Ry(this._firestore,new Hl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=sh(e);return r?(VM("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=sh(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=sh(e);return this._delegate.delete(n),this}}class x7{constructor(e){this._delegate=e}set(e,n,r){const i=sh(e);return r?(VM("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=sh(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=sh(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ih{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new jv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new My(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ih.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ih(e,new iT(e),n),i.set(n,s)),s}}ih.INSTANCES=new WeakMap;class Ba{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new iT(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ba(n,new Fr(n._delegate,r,new ct(e)))}static forKey(e,n,r){return new Ba(n,new Fr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new hg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hg(this.firestore,PR(this._delegate,e))}catch(n){throw ho(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cr.m9)(e))instanceof Fr&&pj(this._delegate,e)}set(e,n){n=VM("DocumentReference.set",n);try{return n?zR(this._delegate,e,n):zR(this._delegate,e)}catch(r){throw ho(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?Fj(this._delegate,e):Fj(this._delegate,e,n,...r)}catch(i){throw ho(i,"updateDoc()","DocumentReference.update()")}}delete(){return Oj(this._delegate)}onSnapshot(...e){const n=b7(e),r=w7(e,i=>new Ry(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Nj(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function _de(t){t=Sn(t,Fr);const e=Sn(t.firestore,xr),n=ii(e),r=new nd(e);return function kue(t,e){const n=new Gi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(s,o,a){try{const c=yield function(u,d){const p=at(u);return p.persistence.runTransaction("read document","readonly",m=>p.localDocuments.getDocument(m,d))}(s,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new Ve(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Nm(c,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield jm(t),e,n);var r})),n.promise}(n,t._key).then(i=>new Hl(e,r,t._key,i,new Ff(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function vde(t){t=Sn(t,Fr);const e=Sn(t.firestore,xr);return ij(ii(e),t._key,{source:"server"}).then(n=>$R(e,t,n))}(this._delegate):Mj(this._delegate),n.then(r=>new Ry(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?ih.getInstance(this.firestore,e):null))}}function ho(t,e,n){return t.message=t.message.replace(e,n),t}function b7(t){for(const e of t)if("object"==typeof e&&!BM(e))return e;return{}}function w7(t,e){var n,r;let i;return i=BM(t[0])?t[0]:BM(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ry{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Rj(this._delegate,e._delegate)}}class My extends Ry{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Fae(t,e){t||bt()}(void 0!==n),n}}class po{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new iT(e)}where(e,n,r){try{return new po(this.firestore,ed(this._delegate,function ode(t,e,n){const r=e,i=aE("where",t);return Uv._create(i,r,n)}(e,n,r)))}catch(i){throw ho(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new po(this.firestore,ed(this._delegate,function ade(t,e="asc"){const n=e,r=aE("orderBy",t);return jR._create(r,n)}(e,n)))}catch(r){throw ho(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new po(this.firestore,ed(this._delegate,function cde(t){return dj("limit",t),cE._create("limit",t,"F")}(e)))}catch(n){throw ho(n,"limit()","Query.limit()")}}limitToLast(e){try{return new po(this.firestore,ed(this._delegate,function lde(t){return dj("limitToLast",t),cE._create("limitToLast",t,"L")}(e)))}catch(n){throw ho(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new po(this.firestore,ed(this._delegate,function ude(...t){return lE._create("startAt",t,!0)}(...e)))}catch(n){throw ho(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new po(this.firestore,ed(this._delegate,function dde(...t){return lE._create("startAfter",t,!1)}(...e)))}catch(n){throw ho(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new po(this.firestore,ed(this._delegate,function fde(...t){return uE._create("endBefore",t,!1)}(...e)))}catch(n){throw ho(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new po(this.firestore,ed(this._delegate,function hde(...t){return uE._create("endAt",t,!0)}(...e)))}catch(n){throw ho(n,"endAt()","Query.endAt()")}}isEqual(e){return FR(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function yde(t){t=Sn(t,bs);const e=Sn(t.firestore,xr),n=ii(e),r=new nd(e);return function Rue(t,e){const n=new Gi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(s,o,a){try{const c=yield Ww(s,o,!0),l=new GU(o,c.ls),u=l.ca(c.documents),d=l.applyChanges(u,!1);a.resolve(d.snapshot)}catch(c){const l=Nm(c,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield jm(t),e,n);var r})),n.promise}(n,t._query).then(i=>new td(e,r,t,i))}(this._delegate):"server"===e?.source?function xde(t){t=Sn(t,bs);const e=Sn(t.firestore,xr),n=ii(e),r=new nd(e);return sj(n,t._query,{source:"server"}).then(i=>new td(e,r,t,i))}(this._delegate):Pj(this._delegate),n.then(r=>new UM(this.firestore,new td(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=b7(e),r=w7(e,i=>new UM(this.firestore,new td(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Nj(this._delegate,n,r)}withConverter(e){return new po(this.firestore,this._delegate.withConverter(e?ih.getInstance(this.firestore,e):null))}}class YEe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new My(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UM{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new My(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new YEe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new My(this._firestore,r))})}isEqual(e){return Rj(this._delegate,e._delegate)}}class hg extends po{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ba(this.firestore,e):null}doc(e){try{return new Ba(this.firestore,void 0===e?Fv(this._delegate):Fv(this._delegate,e))}catch(n){throw ho(n,"doc()","CollectionReference.doc()")}}add(e){return function bde(t,e){const n=Sn(t.firestore,xr),r=Fv(t),i=dE(t.converter,e);return $m(n,[iE(Mf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Ba(this.firestore,n))}isEqual(e){return pj(this._delegate,e._delegate)}withConverter(e){return new hg(this.firestore,this._delegate.withConverter(e?ih.getInstance(this.firestore,e):null))}}function sh(t){return Sn(t,Fr)}class jM{constructor(...e){this._delegate=new jl(...e)}static documentId(){return new jM(Mr.keyField().canonicalString())}isEqual(e){return(e=(0,cr.m9)(e))instanceof jl&&this._delegate._internalPath.isEqual(e._internalPath)}}class oh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ode(){return new NR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new oh(e)}static delete(){const e=function Fde(){return new Nv("deleteField")}();return e._methodName="FieldValue.delete",new oh(e)}static arrayUnion(...e){const n=function Nde(...t){return new tde("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new oh(n)}static arrayRemove(...e){const n=function Lde(...t){return new nde("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new oh(n)}static increment(e){const n=function Vde(t){return new rde("increment",t)}(e);return n._methodName="FieldValue.increment",new oh(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const XEe={Firestore:v7,GeoPoint:nE,Timestamp:Hr,Blob:ky,Transaction:y7,WriteBatch:x7,DocumentReference:Ba,DocumentSnapshot:Ry,Query:po,QueryDocumentSnapshot:My,QuerySnapshot:UM,CollectionReference:hg,FieldPath:jM,FieldValue:oh,setLogLevel:function ZEe(t){!function Pae(t){Vu.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function E7(t,e){return function eTe(t,e=k_){return new jt(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function HM(t,e){return E7(t,e).pipe(lt(n=>({payload:n,type:"query"})))}!function JEe(t){(function QEe(t,e){t.INTERNAL.registerComponent(new FB.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},XEe)))})(t,(e,n)=>new v7(e,n,new KEe)),t.registerVersion("@firebase/firestore-compat","0.3.23")}(Rl.Z);class T7{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:s}=A7(r,n);return new S7(i,s,this.afs)}snapshotChanges(){return function tTe(t,e){return E7(t,e).pipe(sf(void 0),LM(),lt(n=>{const[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zo)}valueChanges(e={}){return this.snapshotChanges().pipe(lt(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return C(this.ref.get(e)).pipe(zo)}}function sT(t,e){return HM(t,e).pipe(sf(void 0),LM(),lt(n=>{const[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=s.find(d=>d.doc.ref.isEqual(a.ref)),u=r?.payload.docs.find(d=>d.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function I7(t,e,n){return sT(t,n).pipe(w1((r,i)=>function nTe(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function rTe(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return zM(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return zM(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zM(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(s=>s.payload),e),[]),Ot(),lt(r=>r.map(i=>({type:i.type,payload:i}))))}function zM(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function C7(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class S7{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=sT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(lt(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(sf(void 0),LM(),Wi(([r,i])=>i.length>0||!r),lt(([,r])=>r),zo)}auditTrail(e){return this.stateChanges(e).pipe(w1((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=C7(e);return I7(this.query,n,this.afs.schedulers.outsideAngular).pipe(zo)}valueChanges(e={}){return HM(this.query,this.afs.schedulers.outsideAngular).pipe(lt(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),zo)}get(e){return C(this.query.get(e)).pipe(zo)}add(e){return this.ref.add(e)}doc(e){return new T7(this.ref.doc(e),this.afs)}}class iTe{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?sT(this.query,this.afs.schedulers.outsideAngular).pipe(lt(n=>n.filter(r=>e.indexOf(r.type)>-1)),Wi(n=>n.length>0),zo):sT(this.query,this.afs.schedulers.outsideAngular).pipe(zo)}auditTrail(e){return this.stateChanges(e).pipe(w1((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=C7(e);return I7(this.query,n,this.afs.schedulers.outsideAngular).pipe(zo)}valueChanges(e={}){return HM(this.query,this.afs.schedulers.outsideAngular).pipe(lt(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),zo)}get(e){return C(this.query.get(e)).pipe(zo)}}const sTe=new Pe("angularfire2.enableFirestorePersistence"),oTe=new Pe("angularfire2.firestore.persistenceSettings"),aTe=new Pe("angularfire2.firestore.settings"),cTe=new Pe("angularfire2.firestore.use-emulator");function A7(t,e=(n=>n)){return{query:e(t),ref:t}}let lTe=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,c,l,u,d,p,m,y,_,x,E,b){this.schedulers=c;const w=jA(n,a,r),M=u;d&&KB(w,a,p,y,_,x,m,E),[this.firestore,this.persistenceEnabled$]=VB(`${w.name}.firestore`,"AngularFirestore",w.name,()=>{const z=a.runOutsideAngular(()=>w.firestore());if(s&&z.settings(s),M&&z.useEmulator(...M),i&&!h1(o)){const B=()=>{try{return C(z.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(R){return typeof console<"u"&&console.warn(R),G(!1)}};return[z,a.runOutsideAngular(B)]}return[z,G(!1)]},[s,M,i])}collection(n,r){let i;i="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:o}=A7(i,r),a=this.schedulers.ngZone.run(()=>s);return new S7(a,o,this)}collectionGroup(n,r){const i=r||(o=>o),s=this.firestore.collectionGroup(n);return new iTe(i(s),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const i=this.schedulers.ngZone.run(()=>r);return new T7(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(te($1),te(W1,8),te(sTe,8),te(aTe,8),te(xa),te(Kt),te(z1),te(oTe,8),te(cTe,8),te(G1,8),te(HB,8),te(zB,8),te($B,8),te(WB,8),te(GB,8),te(qB,8),te(UA,8))};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),$M=(()=>{class t{constructor(n,r){this.savedTestService=n,this.firestore=r,this.savedQuestionsSubject=new I([]),this.savedQuestions$=this.savedQuestionsSubject.asObservable(),this.localStorageKey="savedQuestions",this.loadSavedQuestionsFromLocalStorage()}saveQuestion(n){n.isSaved=!0,this.savedQuestionsSubject.next([...this.savedQuestionsSubject.value,n]),this.saveQuestionsToLocalStorage(this.savedQuestionsSubject.value)}removeQuestion(n){n.isSaved=!1;const r=this.savedQuestionsSubject.value.filter(i=>i.id!==n.id);this.savedQuestionsSubject.next(r),this.saveQuestionsToLocalStorage(r)}saveQuestionsToLocalStorage(n){localStorage.setItem(this.localStorageKey,JSON.stringify(n))}loadSavedQuestionsFromLocalStorage(){const n=localStorage.getItem(this.localStorageKey);if(n){const r=JSON.parse(n);this.savedQuestionsSubject.next(r)}}getAvailableIcons(){return["assets/user_icons/boy.png","assets/user_icons/girl.png","assets/user_icons/default.png"]}getSelectedIcon(){return this.selectedIcon||"assets/user_icons/default.png"}getSavedTests(){const n=localStorage.getItem("uid");return null!==n?C(this.savedTestService.getSavedTests(n)):G([])}sendData(n){var r=this;return(0,Ce.Z)(function*(){const i=new FileReader;i.readAsBinaryString(n),i.onload=s=>{if(s&&s.target){const a=eT(s.target.result,{type:"binary"}),u=UEe.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:1});r.uploadData(u)}else console.error("Event or event.target is null.")}})()}uploadData(n){var r=this;return(0,Ce.Z)(function*(){const i=r.firestore.firestore.batch(),s=r.firestore.collection("highschoolDB");n.forEach(o=>{const a=o[1];if(!a)return void console.error("Skipping document without valid ID");const c=s.doc(a.toString()),l={};[8,9,10].forEach((d,p)=>{void 0!==o[d]&&(l[`field${p+8}`]=o[d])}),i.set(c.ref,l)}),yield i.commit()})()}static#e=this.\u0275fac=function(r){return new(r||t)(te(NM),te(lTe))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),D7=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(se(bl),se(_i))};static#t=this.\u0275dir=Ft({type:t})}return t})(),ah=(()=>{class t extends D7{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=gi(t)))(i||t)}}();static#t=this.\u0275dir=Ft({type:t,features:[zn]})}return t})();const Jc=new Pe("NgValueAccessor"),uTe={provide:Jc,useExisting:oe(()=>WM),multi:!0};let WM=(()=>{class t extends ah{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=gi(t)))(i||t)}}();static#t=this.\u0275dir=Ft({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Lt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[jr([uTe]),zn]})}return t})();const dTe={provide:Jc,useExisting:oe(()=>ch),multi:!0},hTe=new Pe("CompositionEventMode");let ch=(()=>{class t extends D7{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fTe(){const t=Ru()?Ru().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(se(bl),se(_i),se(hTe,8))};static#t=this.\u0275dir=Ft({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Lt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[jr([dTe]),zn]})}return t})();const zs=new Pe("NgValidators"),yd=new Pe("NgAsyncValidators");function P7(t){return function vd(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function oT(t){return null}function B7(t){return null!=t}function U7(t){return G0(t)?C(t):t}function j7(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function H7(t,e){return e.map(n=>n(t))}function z7(t){return t.map(e=>function mTe(t){return!t.validate}(e)?e:n=>e.validate(n))}function GM(t){return null!=t?function $7(t){if(!t)return null;const e=t.filter(B7);return 0==e.length?null:function(n){return j7(H7(n,e))}}(z7(t)):null}function qM(t){return null!=t?function W7(t){if(!t)return null;const e=t.filter(B7);return 0==e.length?null:function(n){return ZB(H7(n,e).map(U7)).pipe(lt(j7))}}(z7(t)):null}function G7(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KM(t){return t?Array.isArray(t)?t:[t]:[]}function aT(t,e){return Array.isArray(t)?t.includes(e):t===e}function Z7(t,e){const n=KM(e);return KM(t).forEach(i=>{aT(n,i)||n.push(i)}),n}function Y7(t,e){return KM(e).filter(n=>!aT(t,n))}class X7{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class mo extends X7{get formDirective(){return null}get path(){return null}}class xd extends X7{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Q7{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Py=(()=>{class t extends Q7{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(se(xd,2))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Su("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[zn]})}return t})();const Fy="VALID",lT="INVALID",pg="PENDING",Oy="DISABLED";function uT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class nW{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fy}get invalid(){return this.status===lT}get pending(){return this.status==pg}get disabled(){return this.status===Oy}get enabled(){return this.status!==Oy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Z7(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Z7(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y7(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y7(e,this._rawAsyncValidators))}hasValidator(e){return aT(this._rawValidators,e)}hasAsyncValidator(e){return aT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Oy,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fy,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fy||this.status===pg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oy:Fy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pg,this._hasOwnPendingAsyncValidator=!0;const n=U7(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kr,this.statusChanges=new kr}_calculateStatus(){return this._allControlsDisabled()?Oy:this.errors?lT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pg)?pg:this._anyControlsHaveStatus(lT)?lT:Fy}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function xTe(t){return Array.isArray(t)?GM(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bTe(t){return Array.isArray(t)?qM(t):t||null}(this._rawAsyncValidators)}}const mg=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>dT}),dT="always";function Ny(t,e,n=dT){(function eP(t,e){const n=function q7(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(G7(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function K7(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(G7(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();pT(e._rawValidators,i),pT(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function TTe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rW(t,e)})}(t,e),function CTe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ITe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rW(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function ETe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function pT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function aW(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const cW=class extends nW{constructor(e=null,n,r){super(function XM(t){return(uT(t)?t.validators:t)||null}(n),function QM(t,e){return(uT(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uT(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=aW(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},FTe={provide:xd,useExisting:oe(()=>gg)},dW=(()=>Promise.resolve())();let gg=(()=>{class t extends xd{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new cW,this._registered=!1,this.name="",this.update=new kr,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rP(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ch?n=s:function DTe(t){return Object.getPrototypeOf(t.constructor)===ah}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function nP(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ny(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){dW.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Hp(r);dW.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function fT(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(se(mo,9),se(zs,10),se(yd,10),se(Jc,10),se(Xb,8),se(mg,8))};static#t=this.\u0275dir=Ft({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jr([FTe]),zn,yo]})}return t})();const LTe={provide:Jc,useExisting:oe(()=>sP),multi:!0};let hW=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})(),VTe=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n)return void this._accessors.splice(r,1)}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return!!n[0].control&&n[0]._parent===r._control._parent&&n[1].name===r.name}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:hW})}return t})(),sP=(()=>{class t extends ah{constructor(n,r,i,s){super(n,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=ht(mg,{optional:!0})??dT}ngOnInit(){this._control=this._injector.get(xd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(r){return new(r||t)(se(bl),se(_i),se(VTe),se(vi))};static#t=this.\u0275dir=Ft({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&Lt("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[jr([LTe]),zn]})}return t})(),lh=(()=>{class t{constructor(){this._validator=oT}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):oT,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ft({type:t,features:[yo]})}return t})();const JTe={provide:zs,useExisting:oe(()=>Vy),multi:!0};let Vy=(()=>{class t extends lh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Hp,this.createValidator=n=>P7}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=gi(t)))(i||t)}}();static#t=this.\u0275dir=Ft({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&wa("required",i._enabled?"":null)},inputs:{required:"required"},features:[jr([JTe]),zn]})}return t})(),sIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[hW]})}return t})(),aIe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:mg,useValue:n.callSetDisabledState??dT}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[sIe]})}return t})();function cIe(t,e){1&t&&gn(0,"p",29),2&t&&Je("innerHTML",Zt(2).$implicit.text,Za)}function lIe(t,e){if(1&t){const n=wo();xe(0,"p",30),Lt("click",function(){ei(n);const i=Zt(2).$implicit;return Ur(Zt(3).toggleStar(i))}),be()}2&t&&Je("innerHTML",Zt(2).$implicit.isStarFilled?"\u2605":"\u2606",Za)}function uIe(t,e){1&t&&gn(0,"img",31),2&t&&Je("src",Zt(2).$implicit.image,bc)}function dIe(t,e){1&t&&KC(0)}function fIe(t,e){if(1&t){const n=wo();Fp(0),xe(1,"input",32),Lt("ngModelChange",function(i){return ei(n),Ur(Zt(2).$implicit.userAnswer=i)}),be(),Op()}if(2&t){const n=Zt(2).$implicit;Xe(1),Je("ngModel",n.userAnswer)}}function hIe(t,e){if(1&t){const n=wo();xe(0,"div",34)(1,"input",35),Lt("ngModelChange",function(i){return ei(n),Ur(Zt(3).$implicit.userAnswer=i)}),be(),gn(2,"label",36),be()}if(2&t){const n=e.$implicit,r=Zt(3).$implicit;Xe(1),Je("name",r.id)("value",n)("id",n)("ngModel",r.userAnswer),Xe(1),Je("for",n)("innerHTML",n,Za)}}function pIe(t,e){1&t&&Bt(0,hIe,3,6,"div",33),2&t&&Je("ngForOf",Zt(2).$implicit.options)}function mIe(t,e){if(1&t&&(xe(0,"div",17)(1,"div",18)(2,"p",19),dt(3),be(),xe(4,"div",20)(5,"div",21),Bt(6,cIe,1,1,"p",22),Bt(7,lIe,1,1,"p",23),be(),xe(8,"div",24),Bt(9,uIe,1,1,"img",25),be()()(),Bt(10,dIe,1,0,"ng-container",26),Bt(11,fIe,2,1,"ng-container",27),Bt(12,pIe,1,1,"ng-template",null,28,N4),be()),2&t){const n=function ON(t){return pu(function d0(){return Ut.lFrame.contextLView}(),mn+t)}(13),r=Zt().$implicit,i=Zt(3);Xe(3),Ea("",r.id,"."),Xe(3),Je("ngIf",r.text),Xe(1),Je("ngIf",i.authService.isLoggedIn),Xe(2),Je("ngIf",r.image),Xe(1),Je("ngIf","Zru\u0161en\xe1 ot\xe1zka"===r.text),Xe(1),Je("ngIf",i.isTextInput(r)&&"Zru\u0161en\xe1 ot\xe1zka"!==r.text)("ngIfElse",n)}}function gIe(t,e){if(1&t&&(xe(0,"div",15),Bt(1,mIe,14,7,"div",16),be()),2&t){const n=e.$implicit;Xe(1),Je("ngIf",n.text||n.image)}}function _Ie(t,e){if(1&t&&(xe(0,"div",11)(1,"div",12),gn(2,"img",13),be(),Bt(3,gIe,2,1,"div",14),be()),2&t){const n=e.$implicit;Xe(2),Je("src",n.article.url,bc),Xe(1),Je("ngForOf",n.questions)}}function vIe(t,e){if(1&t){const n=wo();xe(0,"div",1),Bt(1,_Ie,4,2,"div",2),xe(2,"button",3),Lt("click",function(){return ei(n),Ur(Zt().showDialog())}),dt(3," Vyhodnotenie "),be(),xe(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1"),dt(8,"Vyhodnotenie"),be(),xe(9,"p"),dt(10,"V teste ste dosiahli:"),be(),gn(11,"p",7),be(),xe(12,"div",8)(13,"button",9),dt(14," Domovsk\xe1 str\xe1nka "),be(),xe(15,"button",10),dt(16," Detaily testu "),be()()()()()}if(2&t){const n=Zt();Xe(1),Je("ngForOf",n.articleWithQuestions),Xe(10),Je("innerText",n.formattedPercentage)}}let gT=(()=>{class t{ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}ngOnDestroy(){this.pauseTimer()}constructor(n,r,i,s,o,a,c,l){this.route=n,this.router=r,this.testService=i,this.dialog=s,this.authService=o,this.darkModeService=a,this.userAccountService=c,this.timerService=l,this.isStarFilled=!1,this.isDarkMode=!1,this.score=0,this.total=0,this.timeLeft=6e3,this.timerIsOn=!1,this.route.params.subscribe(u=>{u&&u.subCat&&u.year?(this.subCat=u.subCat,this.year=u.year,this.startTimer(),this.fetchTest().then(d=>{d.subscribe(p=>{this.test=p,this.articleWithQuestions=this.getTestObject(),console.log(this.articleWithQuestions),this.fillStarsForSavedQuestions()})})):console.error("subCat and year are required")})}toggleStar(n){n.isStarFilled=!n.isStarFilled,n.isStarFilled?this.userAccountService.saveQuestion(n):this.userAccountService.removeQuestion(n)}startTimer(){console.log("timer started"),this.timerService.setTimeLeft(6e3),this.timerIsOn=!0,this.timerIsOn&&(this.timerService.setTimerIsOn(this.timerIsOn),console.log("startTimer"),this.interval=setInterval(()=>{this.timerService.setTimeLeft(this.timeLeft),this.timeLeft>0?this.timeLeft--:0==this.timeLeft?this.showDialog():this.timeLeft=6e3},1e3))}pauseTimer(){clearInterval(this.interval),this.timerIsOn=!1,this.timerService.setTimerIsOn(this.timerIsOn)}fillStarsForSavedQuestions(){if(this.articleWithQuestions)for(const n of this.articleWithQuestions)for(const r of n.questions)r.isStarFilled=!!this.userAccountService.savedQuestionsSubject.value.find(s=>s.id===r.id)}isTextInput(n){return!n.options||n.options.every(r=>!r)}fetchTest(){var n=this;return(0,Ce.Z)(function*(){return n.testService.getTest(n.subCat,n.year)})()}getTestObject(){const n=[];return this.test?.articles.forEach(r=>{const i=[];this.test?.questions.forEach(s=>{s.articleId===parseInt(r.id)&&(s.isStarFilled=!1,i.push(s))}),n.push({article:r,questions:i})}),n}checkAnswers(){const n={};"sk"===this.subCat?n.testName="Sloven\u010dina "+this.year+" ":"aj"===this.subCat?n.testName="Angli\u010dtina "+this.year+" ":"mat"===this.subCat&&(n.testName="Matematika "+this.year+" "),n.id=this.year+"-"+this.subCat,n.questions=[],n.finishedAt=new Date;const r=[];for(const i of this.articleWithQuestions||[])for(const s of i.questions){const o={questionId:s.id,text:s.text,image:s.image,isCorrect:!1,correctAnswer:s.correctAnswer,userAnswer:s.userAnswer,options:s.options};if(void 0===o.image&&(o.image=""),void 0===o.correctAnswer&&(o.correctAnswer="Zru\u0161ena otazka"),void 0===o.text&&""===o.image?o.text="Zru\u0161en\xe1 ot\xe1zka":void 0===o.text&&(o.text="Rie\u0161enie ot\xe1zky s obr\xe1zkom"),void 0===o.options&&(o.options=[]),(void 0===o.userAnswer||""===o.userAnswer)&&(o.userAnswer="Nevyplnene"),"Zru\u0161en\xe1 ot\xe1zka"===s.text)o.isCorrect=!0;else if(s.correctAnswer instanceof Array){for(const a of s.correctAnswer)if(s.userAnswer===a){o.isCorrect=!0;break}}else s.userAnswer===s.correctAnswer&&(o.isCorrect=!0);n.questions.push(o),r.push(o)}return this.calculateScore(r),n}calculateScore(n){let r=0,i=n.length;for(const s of n)s.isCorrect&&r++;this.score=r,this.total=i,console.log(`Score: ${r}/${i}`)}scrollTop(){window.scrollTo({top:0,behavior:"instant"})}showDialog(){let n=document.getElementById("dialog");n?.classList.remove("hidden"),n?.classList.add("opacity-1"),n?.classList.add("flex"),this.checkAnswers(),this.pauseTimer()}get formattedPercentage(){return` ${(this.score/this.total*100).toFixed(2)}%`}static#e=this.\u0275fac=function(r){return new(r||t)(se(Ou),se(ns),se(zj),se(q9),se(nm),se(Ml),se($M),se(qR))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-test-page"]],decls:1,vars:1,consts:[["id","main_page_container",4,"ngIf"],["id","main_page_container"],["class","test",4,"ngFor","ngForOf"],[1,"border-2","border-ang-border_main","mt-2","py-2","px-6","bg-ang-main_btn","text-ang-text_white","rounded-lg","hover:opacity-85","transition",3,"click"],["id","dialog",1,"fixed","left-0","top-0","w-screen","h-screen","bg-opacity-40","bg-black","justify-center","items-center","hidden"],[1,"bg-ang-main_bg","border","border-ang-border_main","p-8","w-4/6","rounded-lg","max-w-[32rem]"],[1,"flex","justify-center","items-center","flex-col","gap-4","text-sm","md:text-base"],[3,"innerText"],[1,"flex","justify-around","text-xs","md:text-base","gap-2","pt-4"],["routerLink","/",1,"text-sm","border","border-ang-border_main","py-1","px-2","rounded-lg","bg-ang-main_btn","text-ang-text_white","hover:opacity-85"],["routerLink","/saved-tests-page",1,"border","border-ang-border_main","py-1","px-2","rounded-lg","bg-ang-main_btn","text-ang-text_white","hover:opacity-85"],[1,"test"],[1,"article"],[3,"src"],["class","question",4,"ngFor","ngForOf"],[1,"question"],["class","questions",4,"ngIf"],[1,"questions"],[1,"test_question"],[1,"question_id"],[1,"question_content"],[1,"queston_with_star"],["class","question_text",3,"innerHTML",4,"ngIf"],["class","star",3,"innerHTML","click",4,"ngIf"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["radioOptions",""],[1,"question_text",3,"innerHTML"],[1,"star",3,"innerHTML","click"],[1,"question_image",3,"src"],["type","text","placeholder","Sem nap\xed\u0161te svoju odpove\u010f",1,"input_text",3,"ngModel","ngModelChange"],["class","radio_options",4,"ngFor","ngForOf"],[1,"radio_options"],["type","radio",3,"name","value","id","ngModel","ngModelChange"],[3,"for","innerHTML"]],template:function(r,i){1&r&&Bt(0,vIe,17,2,"div",0),2&r&&Je("ngIf",i.articleWithQuestions)},dependencies:[rf,Dc,ch,sP,Py,gg,Mc],styles:["#main_page_container[_ngcontent-%COMP%]{display:flex;flex-flow:column;border-radius:10px;width:100%;padding:2% 20%;box-shadow:0 0 10px var(--box-shadow-color-light);border:1px solid var(--border-color-light)}#main_page_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}#main_page_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.test[_ngcontent-%COMP%]{border:2px solid var(--test-border-color-light);background-color:var(--main-bg-color-light)}.test.dark[_ngcontent-%COMP%]{background-color:#ccc}.article[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid var(--test-border-color-light)}.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:31rem}.question[_ngcontent-%COMP%]{padding:0 15% 1.5rem;margin:1.5rem 0;border-bottom:1px solid gray}.question[_ngcontent-%COMP%]:last-child{border:none}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.2rem}.input_text[_ngcontent-%COMP%]{width:100%;padding:5px}.radio_options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.3rem}.test_question[_ngcontent-%COMP%]{display:flex;width:100%;align-items:flex-start;gap:.5rem}.question_id[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.question_content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}.question_image_container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;margin-bottom:1rem}.question_image[_ngcontent-%COMP%]{max-width:20rem}.queston_with_star[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.star[_ngcontent-%COMP%]{font-size:170%;color:#3369f3;font-weight:600;cursor:pointer;transition:all .5s ease-in-out}.star[_ngcontent-%COMP%]:focus, .star[_ngcontent-%COMP%]:hover{transform:scale(1.3)}@media (max-width: 830px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .question_image[_ngcontent-%COMP%]{width:25rem}}@media (max-width: 670px){#main_page_container[_ngcontent-%COMP%]{padding:0}.test[_ngcontent-%COMP%]{border-radius:10px}}@media (max-width: 405px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:18rem}.question_image[_ngcontent-%COMP%]{width:13rem}}"]})}return t})();const yIe=function(t,e){return{displayed:t,hidden:e}};let xIe=(()=>{class t{constructor(n,r){this.router=n,this.darkModeService=r,this.displayed=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}changeSubCat(){this.displayed=!this.displayed}addSubCat(n){console.log(n),this.router.navigate(["/years-page/"+n])}static#e=this.\u0275fac=function(r){return new(r||t)(se(ns),se(Ml))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-navbar"]],decls:21,vars:4,consts:[["id","nav_menu",1,"bg-ang-main_bg","border","dark:bg-zinc-850","dark:text-ang-text_white","border-ang-border_main","rounded-b-lg","border-t-0","w-[17rem]","sm:w-80"],["id","nav_menu_home","routerLink","/"],["src","assets/icons/home.png","alt","","width","28px","height","28px"],["id","nav_menu_tests",1,"expandable_ul",3,"click"],["src","assets/icons/tests.png","alt","","width","28px","height","28px"],[3,"ngClass"],[1,"text-sm","h-8",3,"click"],["id","nav_menu_scripts","routerLink","/education-materials"],["src","assets/icons/notes.png","alt","","width","28px","height","28px"],["id","nav_menu_savedtests","routerLink","/saved-tests-page",1,"border-0","hover:rounded-b-lg"],["src","assets/icons/saved.png","alt","","width","28px","height","28px"]],template:function(r,i){1&r&&(xe(0,"nav",0)(1,"ul")(2,"li",1),gn(3,"img",2),dt(4,"Domov "),be(),xe(5,"ul",3),Lt("click",function(){return i.changeSubCat()}),gn(6,"img",4),dt(7,"Maturitn\xe9 testy "),be(),xe(8,"div",5)(9,"li",6),Lt("click",function(){return i.addSubCat("sk")}),dt(10," Slovensk\xfd jazyk a literat\xfara "),be(),xe(11,"li",6),Lt("click",function(){return i.addSubCat("aj")}),dt(12,"Anglick\xfd jazyk"),be(),xe(13,"li",6),Lt("click",function(){return i.addSubCat("mat")}),dt(14,"Matematika"),be()(),xe(15,"li",7),gn(16,"img",8),dt(17,"U\u010debn\xe9 materi\xe1ly "),be(),xe(18,"li",9),gn(19,"img",10),dt(20," Hist\xf3ria testov "),be()()()),2&r&&(Xe(8),Je("ngClass",Au(1,yIe,i.displayed,!i.displayed)))},dependencies:[l_,Mc],styles:[".hidden[_ngcontent-%COMP%]{display:none}.displayed[_ngcontent-%COMP%]{display:block}"]})}return t})(),kW=(()=>{class t{transform(n){return`${Math.floor(n/60)}m ${Math.floor(n%60).toString().padStart(2,"0")}s`}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Vi({name:"timeFormat",type:t,pure:!0})}return t})();function bIe(t,e){1&t&&(xe(0,"div",8)(1,"button",9)(2,"p",10),dt(3,"\xda\u010det"),be()()())}function wIe(t,e){if(1&t){const n=wo();xe(0,"div",11)(1,"p",12),gn(2,"img",13),be(),xe(3,"p",14),Lt("click",function(){return ei(n),Ur(Zt().onLogout())}),gn(4,"img",15),be()()}}function EIe(t,e){if(1&t&&(xe(0,"div",16)(1,"button"),dt(2),e_(3,"timeFormat"),be()()),2&t){const n=Zt();Xe(2),Ea("\u010cas: ",t_(3,1,n.timeLeft),"")}}let TIe=(()=>{class t{constructor(n,r,i,s,o,a){this.el=r,this.router=i,this.darkModeService=s,this.timerService=a,this.buttonExpanded=!1,this.isDarkMode=!1,this.timerIsOn=!1,this.timeLeft=0,this.authService=n,this.testPage=o,this.router.events.subscribe(c=>{c instanceof Al&&this.closeNavbar()})}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n}),this.timerService.getTimerIsOn().subscribe(n=>this.timerIsOn=n),this.timerService.getTimeLeft().subscribe(n=>this.timeLeft=n)}closeNavbar(){document.getElementById("navbar").style.display="none",this.buttonExpanded=!1}onToggleNav(){const n=document.getElementById("navbar"),r=document.getElementById("main_header"),i=window.innerWidth;"flex"===n.style.display?(n.style.display="none",r.style.borderRadius="8px",this.buttonExpanded=!this.buttonExpanded):(n.style.display="flex",i<=320?(r.style.borderBottomLeftRadius="0",r.style.borderBottomRightRadius="0"):(r.style.borderRadius="8px",r.style.borderBottomLeftRadius="0"),this.buttonExpanded=!this.buttonExpanded)}onLogout(){this.authService.logout(),localStorage.removeItem("rememberedUser")}onDocumentClick(n){this.el.nativeElement.contains(n.target)||(document.getElementById("navbar").style.display="none",this.buttonExpanded=!1),this.buttonExpanded||(document.getElementById("main_header").style.borderBottomLeftRadius="10px")}static#e=this.\u0275fac=function(r){return new(r||t)(se(nm),se(_i),se(ns),se(Ml),se(gT),se(qR))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-header"]],hostBindings:function(r,i){1&r&&Lt("click",function(o){return i.onDocumentClick(o)},0,SC)},decls:9,vars:5,consts:[["id","main_header",1,"h-24","relative","flex","justify-between","px-4","items-center","border","border-blue-500","rounded-lg","bg-ang-main_bg","dark:bg-zinc-850"],[1,"w-20","hover:cursor-pointer","h-[4rem]","flex","items-center","justify-center",3,"click"],[1,"transition-all","ease-in-out","delay-[180ms]","before:delay-[260ms]","after:delay-100","bg-ang-main_btn","w-11","h-1.5","rounded-lg","hover:cursor-pointer","block","relative","after:transition-all","after:bg-ang-main_btn","after:w-11","after:h-1.5","after:block","after:absolute","after:content-['']","after:left-0","after:top-3.5","after:rounded-lg","before:transition-all","before:bg-ang-main_btn","before:w-11","before:h-1.5","before:block","before:absolute","before:content-['']","before:left-0","before:-top-3.5","before:rounded-lg"],["src","assets/logo.png","alt","","width","100px","height","100px"],["id","but",4,"ngIf"],["class","flex gap-6",4,"ngIf"],["id","navbar",1,"absolute"],["class","time-display",4,"ngIf"],["id","but"],["id","header_reg_button","routerLink","/login",1,"w-20","px-12","flex","justify-center","py-2","border-2","bg-ang-main_btn","border-ang-border_main","rounded-lg","hover:cursor-pointer","overflow-hidden","hover:opacity-90","transition","shadow-md"],[1,"text-ang-text_white","font-medium"],[1,"flex","gap-6"],["routerLink","/user-account",1,"hover:cursor-pointer","hover:scale-110","transition","duration-250"],["src","assets/header_icons/userprofile.png","alt","user_profile_icon","width","38px","height","38px"],["routerLink","",1,"hover:cursor-pointer","hover:scale-110","transition","duration-250",3,"click"],["src","assets/header_icons/logout.png","alt","logout_icon","width","38px","height","38px"],[1,"time-display"]],template:function(r,i){1&r&&(xe(0,"header",0)(1,"div",1),Lt("click",function(){return i.onToggleNav()}),gn(2,"span",2),be(),xe(3,"div"),gn(4,"img",3),be(),Bt(5,bIe,4,0,"div",4),Bt(6,wIe,5,0,"div",5),be(),gn(7,"app-navbar",6),Bt(8,EIe,4,3,"div",7)),2&r&&(Xe(1),Su("expanded",i.buttonExpanded),Xe(4),Je("ngIf",!i.authService.isLoggedIn),Xe(1),Je("ngIf",i.authService.isLoggedIn),Xe(2),Je("ngIf",i.timerIsOn))},dependencies:[Dc,Mc,xIe,kW],styles:[".expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{border-radius:5px;width:6px}.time-display[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;position:absolute;margin-top:1rem}"]})}return t})(),IIe=(()=>{class t{title(n){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"flex","flex-col","gap-3","min-h-screen","p-6"],[1,"sticky","w-full","top-0","z-50"],[1,"flex-1","bg-ang-main_bg","rounded-lg","basis-1","h-fit"]],template:function(r,i){1&r&&(xe(0,"div",0),gn(1,"app-header",1),xe(2,"div",2),gn(3,"router-outlet"),be()())},dependencies:[DA,TIe]})}return t})(),_T=(()=>{class t{constructor(n){this.darkModeService=n,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}static#e=this.\u0275fac=function(r){return new(r||t)(se(Ml))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-landing-page"]],decls:26,vars:0,consts:[["id","main_page_container",1,"outer_container"],["id","main_page_inner_container",1,"inner_container","items-center","justify-evenly","flex-col"],[1,"p-8","text-2xl","text-ang-text_main","lg:text-3xl"],[1,"flex","items-center","justify-evenly","w-full","flex-wrap","px-4"],["id","main_first_card",1,"main_card_containers","bg-first_landing_page_card","bg-cover"],["id","main_first_card_icon","src","assets/test_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_first_card_textarea",1,"main_card_textareas"],["id","main_second_card",1,"main_card_containers","bg-second_landing_page_card","bg-cover"],["id","main_second_card_icon","src","assets/book_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_second_card_textarea",1,"main_card_textareas"],["id","main_third_card",1,"main_card_containers","bg-third_landing_page_card","bg-cover"],["id","main_third_card_icon","src","assets/community_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_third_card_textarea",1,"main_card_textareas"],["id","main_fourth_card",1,"main_card_containers","bg-fourth_landing_page_card","bg-cover"],["id","main_fourth_card_icon","src","assets/graduation_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_fourth_card_textarea",1,"main_card_textareas"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),dt(4," e-Maturity je inovat\xedvna a \u0161tudentom prisp\xf4soben\xe1 webov\xe1 aplik\xe1cia, ktor\xe1 pon\xfaka: "),be()(),xe(5,"section",3)(6,"div",4),gn(7,"img",5),xe(8,"div",6)(9,"p"),dt(10," Otestovanie sa a rie\u0161enie maturitn\xfdch testov online formou! Modern\xe1 doba toti\u017e vy\u017eaduje modern\xe9 rie\u0161enia, u\u017e \u017eiadne pero a papier. "),be()()(),xe(11,"div",7),gn(12,"img",8),xe(13,"div",9)(14,"p"),dt(15," R\xfdchly pr\xedstup k u\u010divu a preh\u013eadn\xe9 pozn\xe1mky s\xfa z\xe1rukou k \xfaspe\u0161nej maturite a pr\xe1ve o tieto pozn\xe1mky sa s vami podel\xedme. "),be()()(),xe(16,"div",10),gn(17,"img",11),xe(18,"div",12)(19,"p"),dt(20," Spojte sa s ostatn\xfdmi maturantmi, zdie\u013eajte medzi sebou sk\xfasenosti, ra\u010fte sa a podporujte navz\xe1jom. "),be()()(),xe(21,"div",13),gn(22,"img",14),xe(23,"div",15)(24,"p"),dt(25," Precvi\u010dujte sa s testami z minul\xfdch ro\u010dn\xedkov a pripravte sa na v\u0161etky aspekty maturity. Na\u0161e zdroje v\xe1m pom\xf4\u017eu zdokonali\u0165 va\u0161e vedomosti. "),be()()()()()())}})}return t})();const vT=function(t){return{"border-red-700":t}};function CIe(t,e){if(1&t){const n=wo();xe(0,"div",17)(1,"label",18),dt(2,"Prihlasovaci email"),be(),xe(3,"input",19),Lt("ngModelChange",function(){return ei(n),Ur(Zt().newInput())})("ngModelChange",function(i){return ei(n),Ur(Zt().name=i)}),be(),xe(4,"label",20),dt(5,"Heslo"),be(),xe(6,"input",21),Lt("ngModelChange",function(){return ei(n),Ur(Zt().newInput())})("ngModelChange",function(i){return ei(n),Ur(Zt().password=i)}),be()()}if(2&t){const n=Zt();Xe(3),Lp(Cc(6,vT,n.error)),Je("ngModel",n.name),Xe(3),Lp(Cc(8,vT,n.error)),Je("ngModel",n.password)}}function SIe(t,e){if(1&t){const n=wo();xe(0,"div",22)(1,"label",23),dt(2,"U\u010dite\u013esk\xe9 meno"),be(),xe(3,"input",24),Lt("ngModelChange",function(){return ei(n),Ur(Zt().newInput())})("ngModelChange",function(i){return ei(n),Ur(Zt().teacherName=i)}),be(),xe(4,"label",25),dt(5,"U\u010dite\u013esk\xe9 heslo"),be(),xe(6,"input",26),Lt("ngModelChange",function(){return ei(n),Ur(Zt().newInput())})("ngModelChange",function(i){return ei(n),Ur(Zt().teacherPassword=i)}),be()()}if(2&t){const n=Zt();Xe(3),Lp(Cc(6,vT,n.error)),Je("ngModel",n.teacherName),Xe(3),Lp(Cc(8,vT,n.error)),Je("ngModel",n.teacherPassword)}}function AIe(t,e){if(1&t){const n=wo();xe(0,"div")(1,"button",27),Lt("click",function(){return ei(n),Ur(Zt().signInWithGoogle())}),gn(2,"img",28),dt(3," Prihl\xe1si\u0165 sa cez google "),be()()}}function DIe(t,e){if(1&t){const n=wo();xe(0,"div",29)(1,"button",30),Lt("click",function(){return ei(n),Ur(Zt().login())}),dt(2," Prihl\xe1si\u0165 "),be(),xe(3,"button",31),dt(4," Registr\xe1cia "),be()()}}function kIe(t,e){if(1&t){const n=wo();xe(0,"div")(1,"button",30),Lt("click",function(){return ei(n),Ur(Zt().teacherLogin())}),dt(2," Prihl\xe1si\u0165 "),be()()}}const RW=function(t){return{"scale-125":t}},RIe=function(t,e){return{"text-red-600":t,"opacity-100":e}};let MW=(()=>{class t{constructor(n,r,i){this.router=n,this.service=r,this.darkModeService=i,this.submitted=!1,this.name="",this.password="",this.error=!1,this.rememberMe=!1,this.isDarkMode=!1,this.isStudent=!0,this.teacherName="",this.teacherPassword=""}submit(){this.submitted=!0}newInput(){this.error=!1}login(){this.service.login(this.name,this.password,this.rememberMe).then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}teacherLogin(){}signInWithGoogle(){this.service.googleSignIn().then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(r=>{this.isDarkMode=r});const n=localStorage.getItem("rememberMe");if(n){const r=JSON.parse(n);console.log(r),this.name=r.email,this.password=r.password}}changeToTeacher(){this.isStudent=!0}changeToStudent(){this.isStudent=!1}static#e=this.\u0275fac=function(r){return new(r||t)(se(ns),se(nm),se(Ml))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-login-page"]],decls:23,vars:17,consts:[[1,"outer_container"],[1,"inner_container","justify-center","items-center"],[1,"flex","md:h-[32rem]","flex-col","items-center","justify-between","border","gap-4","border-ang-border_main","py-4","m-2","rounded-lg","max-w-[30rem]","w-full","bg-gradient-to-t","from-ang-gradient_from","to-ang-gradient_to"],[1,"flex","justify-evenly","w-full","items-center"],[1,"w-20","h-20","border","border-ang-border_main","rounded-3xl","p-2","transition-all",3,"ngClass","click"],["src","/assets/login_icons/student.png","alt","student_login"],["src","/assets/login_icons/teacher.png","alt","teacher_login"],["class","flex flex-col text-center md:items-center gap-2 w-full px-2",4,"ngIf"],["class","flex flex-col gap-2",4,"ngIf"],[1,"flex","text-sm","justify-evenly","items-start","w-full","md:px-16","text-ang-text_white","font-semibold"],["routerLink","/forgot-password"],[1,"flex","items-center","gap-1"],["for","rememberMe",1,"hover:opacity-95","hover:cursor-pointer"],["type","checkbox","name","rememberMe","id","rememberMe",1,"mt-1",3,"ngModel","ngModelChange"],[1,"opacity-0","font-semibold","text-xl"],[4,"ngIf"],["class","flex justify-evenly items-center w-full",4,"ngIf"],[1,"flex","flex-col","text-center","md:items-center","gap-2","w-full","px-2"],["for","meno",1,"text-xl","font-semibold","text-ang-text_white"],["type","text","name","meno","id","meno","required","","placeholder","Zadaj svoj email",1,"py-1","px-2","rounded-md","border","border-ang-border_main","md:w-72",3,"ngModel","ngModelChange"],["for","heslo",1,"text-xl","font-semibold","text-ang-text_white"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"py-1","px-2","rounded-md","border","border-ang-border_main","md:w-72",3,"ngModel","ngModelChange"],[1,"flex","flex-col","gap-2"],["for","ucitel",1,"text-xl","font-semibold","text-ang-text_white"],["type","text","name","ucitel","id","ucitel","required","","placeholder","Zadaj svoje u\u010dite\u013esk\xe9 meno",1,"py-1","px-2","rounded-md","border","border-ang-border_main","md:w-72",3,"ngModel","ngModelChange"],["for","ucitel_heslo",1,"text-xl","font-semibold","text-ang-text_white"],["type","password","name","ucitel_heslo","id","ucitel_heslo","required","","placeholder","Zadaj svoje heslo",1,"py-1","px-2","rounded-md","border","border-ang-border_main","md:w-72",3,"ngModel","ngModelChange"],[1,"flex","items-center","gap-2","mx-1","px-3","py-2","rounded-lg","bg-ang-text_white","hover:opacity-95","border","border-ang-text_white",3,"click"],["src","assets/googleicon.png","alt","googleicon","width","32px","height","32px"],[1,"flex","justify-evenly","items-center","w-full"],["type","submit",1,"border","border-ang-border_main","px-3","py-1","text-ang-gradient_to","font-semibold","hover:opacity-85","rounded-lg","bg-ang-main_bg",3,"click"],["routerLink","/register",1,"border","border-ang-border_main","px-3","py-1","text-ang-gradient_to","font-semibold","hover:opacity-85","rounded-lg","bg-ang-main_bg"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Lt("click",function(){return i.changeToTeacher()}),gn(5,"img",5),be(),xe(6,"button",4),Lt("click",function(){return i.changeToStudent()}),gn(7,"img",6),be()(),Bt(8,CIe,7,10,"div",7),Bt(9,SIe,7,10,"div",8),xe(10,"div",9)(11,"button",10),dt(12,"Zabudnut\xe9 heslo"),be(),xe(13,"div",11)(14,"label",12),dt(15,"zapam\xe4taj si ma"),be(),xe(16,"input",13),Lt("ngModelChange",function(o){return i.rememberMe=o}),be()()(),xe(17,"div",14)(18,"p"),dt(19,"Nespr\xe1vne zadan\xe9 \xfadaje"),be()(),Bt(20,AIe,4,0,"div",15),Bt(21,DIe,5,0,"div",16),Bt(22,kIe,3,0,"div",15),be()()()),2&r&&(Xe(4),Je("ngClass",Cc(10,RW,i.isStudent)),Xe(2),Je("ngClass",Cc(12,RW,!i.isStudent)),Xe(2),Je("ngIf",i.isStudent),Xe(1),Je("ngIf",!i.isStudent),Xe(7),Je("ngModel",i.rememberMe),Xe(1),Lp(Au(14,RIe,i.error,i.error)),Xe(3),Je("ngIf",i.isStudent),Xe(1),Je("ngIf",i.isStudent),Xe(1),Je("ngIf",!i.isStudent))},dependencies:[l_,Dc,ch,WM,Py,Vy,gg,Mc]})}return t})();const dP=function(t){return{"border-red-600":t}},MIe=function(t,e){return{"text-red-600":t,"opacity-100":e}};let PW=(()=>{class t{constructor(n,r,i){this.router=n,this.service=r,this.darkModeService=i,this.errorMessage="",this.pswdError=!1,this.emailError=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}isValidEmail(n){return/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(n)}register(){if(this.email&&this.password&&this.passwordCheck&&this.fname&&this.lname){if(this.password.length<6)return this.errorMessage="Heslo mus\xed obsahova\u0165 aspo\u0148 6 znakov",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,this.password!==this.passwordCheck)return this.errorMessage="Hesla sa nezhoduj\xfa",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,!this.isValidEmail(this.email))return this.errorMessage="Neplatn\xe1 emailov\xe1 adresa",void(this.emailError=!0);this.emailError=!1,this.service.register(this.email,this.password,this.fname,this.lname).then(n=>{this.router.navigate([""])}).catch(n=>{"auth/email-already-in-use"===n.code&&(this.errorMessage="Tento email je u\u017e registrovan\xfd",this.emailError=!0)})}else this.errorMessage="Pros\xedm vypl\u0148 v\u0161etky pol\xed\u010dka"}static#e=this.\u0275fac=function(r){return new(r||t)(se(ns),se(nm),se(Ml))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-register-page"]],decls:33,vars:19,consts:[[1,"outer_container"],[1,"inner_container","items-center","justify-center"],[1,"bg-gradient-to-t","from-ang-gradient_from","to-ang-gradient_to","p-8","rounded-lg","text-white","font-semibold"],[1,"flex","py-2","gap-1"],[1,"flex","flex-col","w-full"],["for","krstne"],["type","text","name","krstne","id","krstne","required","","placeholder","J\xe1n",1,"w-full","p-1","border","border-ang-border_main","rounded-lg","text-black",3,"ngModel","ngModelChange"],["for","priezv"],["type","text","name","priezv","id","priezv","required","","placeholder","Nov\xe1k",1,"w-full","p-1","border","border-ang-border_main","rounded-lg","text-black",3,"ngModel","ngModelChange"],[1,"py-2"],["for","email"],["type","email","name","email","id","email","required","","placeholder","jan.novak@email.com",1,"w-full","p-1","border","border-ang-border_main","rounded-lg","text-black",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadajte heslo",1,"w-full","border","border-ang-border_main","rounded-lg","p-1","text-black",3,"ngModel","ngClass","ngModelChange"],["for","hesloKontrola"],["type","password","name","hesloKontrola","id","hesloKontrola","required","","placeholder","Zopakujte heslo",1,"w-full","border","border-ang-border_main","rounded-lg","p-1","text-black",3,"ngModel","ngClass","ngModelChange"],[1,"opacity-0","font-semibold","text-xl","flex","items-center","justify-center","pt-4",3,"ngClass"],[1,"flex","justify-between","pt-10"],["id","register_log_button","routerLink","/login",1,"border","border-ang-border_main","px-3","py-1","text-ang-gradient_to","font-semibold","hover:opacity-85","rounded-lg","bg-ang-main_bg"],[1,"border","border-ang-border_main","px-3","py-1","text-ang-gradient_to","font-semibold","hover:opacity-85","rounded-lg","bg-ang-main_bg"],[3,"click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),dt(6,"Meno"),be(),xe(7,"input",6),Lt("ngModelChange",function(o){return i.fname=o}),be()(),xe(8,"div",4)(9,"label",7),dt(10,"Priezvisko"),be(),xe(11,"input",8),Lt("ngModelChange",function(o){return i.lname=o}),be()()(),xe(12,"div",9)(13,"label",10),dt(14,"E-mail"),be(),xe(15,"input",11),Lt("ngModelChange",function(o){return i.email=o}),be()(),xe(16,"div",9)(17,"label",12),dt(18,"Heslo"),be(),xe(19,"input",13),Lt("ngModelChange",function(o){return i.password=o}),be()(),xe(20,"div",9)(21,"label",14),dt(22,"Kontrola hesla"),be(),xe(23,"input",15),Lt("ngModelChange",function(o){return i.passwordCheck=o}),be()(),xe(24,"div",16),dt(25),be(),xe(26,"div",17)(27,"button",18)(28,"p"),dt(29,"Sp\xe4\u0165 na prihl\xe1senie"),be()(),xe(30,"button",19)(31,"p",20),Lt("click",function(){return i.register()}),dt(32,"Zalo\u017e \xfa\u010det"),be()()()()()()),2&r&&(Xe(7),Je("ngModel",i.fname),Xe(4),Je("ngModel",i.lname),Xe(4),Je("ngModel",i.email)("ngClass",Cc(10,dP,i.emailError)),Xe(4),Je("ngModel",i.password)("ngClass",Cc(12,dP,i.pswdError)),Xe(4),Je("ngModel",i.passwordCheck)("ngClass",Cc(14,dP,i.pswdError)),Xe(1),Je("ngClass",Au(16,MIe,!i.pswdError||!i.emailError,!i.pswdError||!i.emailError)),Xe(1),Ea(" ",i.errorMessage," "))},dependencies:[l_,ch,Py,Vy,gg,Mc]})}return t})();function PIe(t,e){1&t&&(xe(0,"div")(1,"h1",5),dt(2," Matematika "),be(),xe(3,"ul")(4,"li"),dt(5,"Test obsahuje 30 \xfaloh."),be(),xe(6,"li"),dt(7," Na vypracovanie testu m\xe1te 100 min\xfat. (\u010das sa spust\xed po kliknut\xed na test) "),be(),xe(8,"li"),dt(9," Pri rie\u0161enie \xfaloh za\u0161krtnete pol\xed\u010dko alebo nap\xed\u0161ete odpove\u010f. (popros\xedm p\xed\u0161te desatinn\xe9 \u010d\xedsla s \u010diarkou a z\xe1porne hodnoty spolu[4,5 ; -5]) "),be(),xe(10,"li"),dt(11,"Zru\u0161en\xe9 ot\xe1zky sa V\xe1m pripo\u010d\xedtavaj\xfa za bod automaticky"),be()()())}function FIe(t,e){1&t&&(xe(0,"div")(1,"h1",5),dt(2," Slovensk\xfd jazyk a literat\xfara "),be(),xe(3,"ul")(4,"li"),dt(5,"Test obsahuje 64 \xfaloh."),be(),xe(6,"li"),dt(7," Na vypracovanie testu m\xe1te 100 min\xfat. (\u010das sa spust\xed po kliknut\xed na test) "),be(),xe(8,"li"),dt(9," Pri rie\u0161enie \xfaloh za\u0161krtnete pol\xed\u010dko alebo nap\xed\u0161ete odpove\u010f. (popros\xedm p\xed\u0161te s diakritikou) "),be(),xe(10,"li"),dt(11,"Zru\u0161en\xe9 ot\xe1zky sa V\xe1m pripo\u010d\xedtavaj\xfa za bod automaticky"),be()()())}function OIe(t,e){1&t&&(xe(0,"div")(1,"h1",5),dt(2," Anglick\xfd jazyk "),be(),xe(3,"ul")(4,"li"),dt(5,"Testy pre anglick\xfd jazyk sa pripravuj\xfa"),be()()())}const NIe=function(t,e){return["/test-page",t,e]};function LIe(t,e){if(1&t&&(xe(0,"a",8),dt(1),be()),2&t){const n=e.$implicit,r=Zt(2);Je("routerLink",Au(2,NIe,r.subCat,n)),Xe(1),Ea(" ",n," ")}}function VIe(t,e){if(1&t&&(xe(0,"div",6),Bt(1,LIe,2,5,"a",7),be()),2&t){const n=Zt();Xe(1),Je("ngForOf",n.years)}}function BIe(t,e){1&t&&(xe(0,"div")(1,"p"),dt(2,"no years"),be()())}function UIe(t,e){1&t&&(xe(0,"div")(1,"p"),dt(2,"loading"),be()())}let FW=(()=>{class t{constructor(n,r,i){this.route=n,this.testService=r,this.darkModeService=i,this.isDarkMode=!1,this.loading=!0,this.route.params.subscribe(s=>{s&&(this.subCat=s.subCat,this.fetchTestYears().subscribe(o=>{this.years=o,console.log(this.years),this.loading=!1},o=>{console.error("Error fetching tests:",o)}))})}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}fetchTestYears(){return this.subCat?this.testService.getTestsYears(this.subCat):new jt(n=>{n.next([]),n.complete()})}titleBySubcat(n){return"mat"===n?"Matematika":"sk"===n?"Sloven\u010dina":"aj"===n?"Angli\u010dtina":"Unknown"}static#e=this.\u0275fac=function(r){return new(r||t)(se(Ou),se(zj),se(Ml))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-years-page"]],decls:9,vars:6,consts:[[1,"outer_container"],[1,"inner_container","flex-col","justify-evenly","items-center","py-4"],[1,"text-center"],[4,"ngIf"],["class","flex gap-4 flex-wrap items-center justify-center px-2",4,"ngIf"],[1,"text-2xl","sm:text-3xl","font-bold","text-ang-text_main"],[1,"flex","gap-4","flex-wrap","items-center","justify-center","px-2"],["class","border border-ang-border_main py-2 px-8 rounded-lg bg-ang-main_btn text-ang-text_white hover:opacity-85 transition-all",3,"routerLink",4,"ngFor","ngForOf"],[1,"border","border-ang-border_main","py-2","px-8","rounded-lg","bg-ang-main_btn","text-ang-text_white","hover:opacity-85","transition-all",3,"routerLink"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),Bt(3,PIe,12,0,"div",3),Bt(4,FIe,12,0,"div",3),Bt(5,OIe,6,0,"div",3),be(),Bt(6,VIe,2,1,"div",4),Bt(7,BIe,3,0,"div",3),Bt(8,UIe,3,0,"div",3),be()()),2&r&&(Xe(3),Je("ngIf","mat"===i.subCat),Xe(1),Je("ngIf","sk"===i.subCat),Xe(1),Je("ngIf","aj"===i.subCat),Xe(1),Je("ngIf",i.years),Xe(1),Je("ngIf",!(i.years&&0!=i.years.length||i.loading)),Xe(1),Je("ngIf",i.loading))},dependencies:[rf,Dc,Mc]})}return t})();function jIe(t,e){if(1&t&&(xe(0,"div",8)(1,"p"),dt(2),be()()),2&t){const n=Zt();Xe(2),Bb(n.errorMessage)}}let OW=(()=>{class t{constructor(n,r){this.router=n,this.darkModeService=r,this.email="",this.isError=!1,this.errorMessage="Nespr\xe1vny form\xe1t emailu.",this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}isValidEmail(){this.isError=!/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(this.email)}sendPasswordResetEmail(){const n=(0,uf.o)();if(this.isValidEmail(),!this.isError)try{(0,uf.a5)(n,this.email),this.isError=!1,this.router.navigate([""])}catch(r){console.error(`Error sending password reset email: ${r.code} - ${r.message}`)}}static#e=this.\u0275fac=function(r){return new(r||t)(se(ns),se(Ml))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-forgot-password"]],decls:13,vars:2,consts:[[1,"outer_container"],[1,"inner_container","items-center","justify-center","p-2"],[1,"border","border-ang-border_main","rounded-lg","flex","flex-col","justify-around","h-2/3","px-2","md:px-4","bg-ang-border_main","text-ang-text_white"],[1,"text-xl","font-bold"],["class","text-center text-red-600 font-bold",4,"ngIf"],[1,"flex","flex-col","gap-4","justify-center","items-center"],["type","email","placeholder","Zadaj svoj email",1,"rounded-sm","w-3/4","py-1",3,"ngModel","ngModelChange"],[1,"border","border-ang-main_bg","px-4","py-1","rounded-lg","hover:opacity-85","mb-2","sm:mb-0","bg-ang-main_bg","text-ang-text_main",3,"click"],[1,"text-center","text-red-600","font-bold"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),dt(5,"Resetovanie zabudnut\xe9ho hesla"),be(),xe(6,"p"),dt(7,"zadaj svoj email a pr\xedde ti link na mail na resetovanie hesla"),be()(),Bt(8,jIe,3,1,"div",4),xe(9,"div",5)(10,"input",6),Lt("ngModelChange",function(o){return i.email=o}),be(),xe(11,"button",7),Lt("click",function(){return i.sendPasswordResetEmail()}),dt(12," Odo\u0161li "),be()()()()()),2&r&&(Xe(8),Je("ngIf",i.isError),Xe(2),Je("ngModel",i.email))},dependencies:[Dc,ch,Py,gg]})}return t})();function HIe(t,e){if(1&t){const n=wo();xe(0,"div")(1,"img",5),Lt("click",function(){const s=ei(n).$implicit;return Ur(Zt(2).selectIcon(s))}),be()()}if(2&t){const n=e.$implicit,r=Zt(2);Xe(1),Su("selected",n===r.userServ.selectedIcon),Je("src",n,bc)}}function zIe(t,e){if(1&t&&(xe(0,"div",3),Bt(1,HIe,2,3,"div",4),be()),2&t){const n=Zt();Xe(1),Je("ngForOf",n.availableIcons)}}let $Ie=(()=>{class t{constructor(n,r){this.userServ=n,this.er=r,this.showIconSelection=!1}handleClick(n){this.er.nativeElement.contains(n.target)||(this.showIconSelection=!1)}ngOnInit(){this.defaultIcon="assets/user_icons/default.png",this.availableIcons=this.userServ.getAvailableIcons()}toggleIconSelection(){this.updateAvailableIcons(),this.showIconSelection=!this.showIconSelection}selectIcon(n){this.userServ.selectedIcon=n,this.showIconSelection=!1}getSelectedIcon(){return this.userServ.getSelectedIcon()}updateAvailableIcons(){this.availableIcons=this.userServ.getAvailableIcons().filter(n=>n!==this.userServ.selectedIcon),this.userServ.selectedIcon||(this.availableIcons=this.availableIcons.filter(n=>n!==this.defaultIcon))}static#e=this.\u0275fac=function(r){return new(r||t)(se($M),se(_i))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-icon-selector"]],hostBindings:function(r,i){1&r&&Lt("click",function(o){return i.handleClick(o)},0,SC)},decls:3,vars:2,consts:[[1,"relative","hover:cursor-pointer",3,"click"],["alt","Vyber ikonku",1,"w-20","h-20","hover:opacity-85",3,"src"],["class","icon_selection absolute bg-ang-main_bg border border-ang-border_main flex flex-wrap rounded-sm mt-4",4,"ngIf"],[1,"icon_selection","absolute","bg-ang-main_bg","border","border-ang-border_main","flex","flex-wrap","rounded-sm","mt-4"],[4,"ngFor","ngForOf"],["alt","Icon",1,"w-20","h-20","hover:opacity-85",3,"src","click"]],template:function(r,i){1&r&&(xe(0,"div",0),Lt("click",function(){return i.toggleIconSelection()}),gn(1,"img",1),Bt(2,zIe,2,1,"div",2),be()),2&r&&(Xe(1),Je("src",i.getSelectedIcon(),bc),Xe(1),Je("ngIf",i.showIconSelection))},dependencies:[rf,Dc]})}return t})();function WIe(t,e){if(1&t&&(xe(0,"div",17)(1,"p",18),dt(2),be()()),2&t){const n=e.$implicit;Xe(2),Ea(" ",n.testName," ")}}function GIe(t,e){if(1&t&&(xe(0,"div",15),Bt(1,WIe,3,1,"div",16),be()),2&t){const n=e.ngIf;Xe(1),Je("ngForOf",n)}}function qIe(t,e){1&t&&gn(0,"p",23),2&t&&Je("innerHTML",e.$implicit,Za)}function KIe(t,e){if(1&t){const n=wo();xe(0,"div",19)(1,"div"),gn(2,"p",20),Bt(3,qIe,1,1,"p",21),be(),xe(4,"div")(5,"p",22),Lt("click",function(){const s=ei(n).$implicit;return Ur(Zt().removeQuestion(s))}),dt(6," \u2715 "),be()()()}if(2&t){const n=e.$implicit;Xe(2),Je("innerHTML",n.text,Za),Xe(1),Je("ngForOf",n.options)}}let NW=(()=>{class t{constructor(n,r,i){this.authService=n,this.userAccountService=r,this.savedTestService=i,this.userName="",this.isDarkMode=!1,this.darkMode=!1,this.savedTests$=this.userAccountService.getSavedTests(),this.selectedFile=null,this.darkToggle=document.querySelector(".toggle_dark")}ngOnInit(){this.authService.userData.subscribe(n=>{n&&(this.userName=n.displayName||"")})}removeQuestion(n){this.userAccountService.removeQuestion(n)}getSelectedIcon(){return this.userAccountService.getSelectedIcon()}onFileSelected(n){this.selectedFile=n.target.files[0]}sendData(){this.selectedFile?this.userAccountService.sendData(this.selectedFile):console.error("No file selected.")}toggleDark(){this.darkMode=!this.darkMode,this.darkMode?document.documentElement.classList.toggle("dark"):document.documentElement.classList.remove("dark")}static#e=this.\u0275fac=function(r){return new(r||t)(se(nm),se($M),se(NM))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-user-account"]],decls:24,vars:7,consts:[[1,"outer_container"],[1,"inner_container","flex-col","p-2","text-ang-text_main"],[1,"flex","flex-col","items-center","gap-2","border-b","border-ang-border_main"],[1,"min-w-20","min-h-20"],[1,"flex","flex-col","text-center","pb-2"],[1,"font-bold"],[1,"font-semibold"],[1,"border","border-ang-border_main","toggle_dark",3,"click"],[1,"text-center","py-2","font-bold"],[1,"border-b","border-ang-border_main","pb-4"],["class","flex justify-around flex-col md:flex-row gap-2 items-center",4,"ngIf"],[1,"border-b","border-ang-border_main"],["class","flex justify-between items-center py-4 px-2",4,"ngFor","ngForOf"],["type","file",1,"w-80","h-8","border",3,"change"],[3,"click"],[1,"flex","justify-around","flex-col","md:flex-row","gap-2","items-center"],["routerLink","/saved-tests-page",4,"ngFor","ngForOf"],["routerLink","/saved-tests-page"],[1,"text-center","border","border-ang-border_main","rounded-lg","px-4","py-2","hover:cursor-pointer","hover:opacity-85","text-ang-text_white","hover:scale-105","bg-ang-border_main","transition-all"],[1,"flex","justify-between","items-center","py-4","px-2"],[1,"font-bold",3,"innerHTML"],[3,"innerHTML",4,"ngFor","ngForOf"],[1,"hover:scale-150","transition-all","text-xl","hover:cursor-pointer",3,"click"],[3,"innerHTML"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),gn(3,"app-icon-selector",3),xe(4,"div",4)(5,"h1",5),dt(6),be(),xe(7,"p",6),dt(8,"Ko\u0161ick\xe1 ak\xe1demia softv\xe9rov\xe9ho v\xfdvoja"),be(),xe(9,"button",7),Lt("click",function(){return i.toggleDark()}),dt(10," Dark mode "),be()()(),xe(11,"h2",8),dt(12,"Hist\xf3ria testov"),be(),xe(13,"div",9),Bt(14,GIe,2,1,"div",10),e_(15,"async"),be(),xe(16,"h2",8),dt(17,"Ulo\u017een\xe9 ot\xe1zky"),be(),xe(18,"div",11),Bt(19,KIe,7,2,"div",12),e_(20,"async"),be()()(),xe(21,"input",13),Lt("change",function(o){return i.onFileSelected(o)}),be(),xe(22,"button",14),Lt("click",function(){return i.sendData()}),dt(23,"Send data"),be()),2&r&&(Xe(6),Bb(i.userName),Xe(8),Je("ngIf",t_(15,3,i.savedTests$)),Xe(5),Je("ngForOf",t_(20,5,i.userAccountService.savedQuestions$)))},dependencies:[rf,Dc,Mc,$Ie,e3]})}return t})(),ZIe=(()=>{class t{constructor(n){this.firestore=n}getFile(n){const r=Da(this.firestore,"edu_materials"),i=Of(r,"Subjects"),s=Da(i,n);return C(Hj(i).then(o=>{if(o.exists())return o.id;throw new Error("Document not found")})),C(Gm(s).then(o=>o.docs.map(c=>({id:c.id,text:c.data().text,url:c.data().url})).sort((c,l)=>c.id.localeCompare(l.id))))}static#e=this.\u0275fac=function(r){return new(r||t)(te(Wm))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function YIe(t,e){if(1&t&&(xe(0,"div")(1,"a",7),gn(2,"img",8),xe(3,"p",9),dt(4),be()()()),2&t){const n=e.$implicit;Xe(1),Je("href",n.url,bc),Xe(3),Ea(" ",n.text," ")}}function XIe(t,e){if(1&t&&(xe(0,"div",5),Bt(1,YIe,5,2,"div",6),be()),2&t){const n=Zt();Xe(1),Je("ngForOf",n.sjlMaterials)}}function QIe(t,e){if(1&t&&(xe(0,"div")(1,"a",7),gn(2,"img",8),xe(3,"p",9),dt(4),be()()()),2&t){const n=e.$implicit;Xe(1),Je("href",n.url,bc),Xe(3),Ea(" ",n.text," ")}}function JIe(t,e){if(1&t&&(xe(0,"div",10),Bt(1,QIe,5,2,"div",6),be()),2&t){const n=Zt();Xe(1),Je("ngForOf",n.anjMaterials)}}function eCe(t,e){if(1&t&&(xe(0,"div")(1,"a",7),gn(2,"img",8),xe(3,"p",9),dt(4),be()()()),2&t){const n=e.$implicit;Xe(1),Je("href",n.url,bc),Xe(3),Ea(" ",n.text," ")}}function tCe(t,e){if(1&t&&(xe(0,"div",10),Bt(1,eCe,5,2,"div",6),be()),2&t){const n=Zt();Xe(1),Je("ngForOf",n.matMaterials)}}let LW=(()=>{class t{constructor(n){this.eduService=n,this.sjlMaterials=[],this.anjMaterials=[],this.matMaterials=[],this.showSjlNotes=!1,this.showAnjNotes=!1,this.showMatNotes=!1,this.isDarkMode=!1}ngOnInit(){this.eduService.getFile("SJL").subscribe(n=>{this.sjlMaterials=n}),this.eduService.getFile("ANJ").subscribe(n=>{this.anjMaterials=n}),this.eduService.getFile("MAT").subscribe(n=>{this.matMaterials=n})}toggleShowSjlNotes(){this.showSjlNotes=!this.showSjlNotes}toggleShowAnjNotes(){this.showAnjNotes=!this.showAnjNotes}toggleShowMatNotes(){this.showMatNotes=!this.showMatNotes}static#e=this.\u0275fac=function(r){return new(r||t)(se(ZIe))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-education-materials"]],decls:14,vars:3,consts:[[1,"outer_container"],[1,"flex","flex-wrap","justify-around","sm:m-5","sm:p-4","sm:rounded-lg","sm:shadow-inner_sh","sm:w-full","gap-2"],[1,"border","border-ang-border_main","rounded-lg","mt-4","bg-ang-main_btn","text-ang-text_white","px-4","py-2","md:px-8","hover:opacity-85",3,"click"],["class","flex flex-col w-40",4,"ngIf"],["class","flex flex-col w-20",4,"ngIf"],[1,"flex","flex-col","w-40"],[4,"ngFor","ngForOf"],["target","_blank",1,"flex","items-center","text-xs","py-1","gap-2",3,"href"],["src","/assets/pdf_icon.png","alt","pdf_icon",1,"h-6","w-auto"],[1,"text-ang-text_main","font-semibold","hover:opacity-85"],[1,"flex","flex-col","w-20"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),Lt("click",function(){return i.toggleShowSjlNotes()}),dt(4," Slovensk\xfd jazyk "),be(),Bt(5,XIe,2,1,"div",3),be(),xe(6,"div")(7,"button",2),Lt("click",function(){return i.toggleShowAnjNotes()}),dt(8," Anglick\xfd jazyk "),be(),Bt(9,JIe,2,1,"div",4),be(),xe(10,"div")(11,"button",2),Lt("click",function(){return i.toggleShowMatNotes()}),dt(12," Matematika "),be(),Bt(13,tCe,2,1,"div",4),be()()()),2&r&&(Xe(5),Je("ngIf",i.showSjlNotes),Xe(4),Je("ngIf",i.showAnjNotes),Xe(4),Je("ngIf",i.showMatNotes))},dependencies:[rf,Dc]})}return t})();function nCe(t,e){1&t&&(xe(0,"div",6),gn(1,"div")(2,"div")(3,"div")(4,"div"),be())}function rCe(t,e){1&t&&(xe(0,"div",7)(1,"p"),dt(2,"\u017diadne ulo\u017een\xe9 testy"),be()())}function iCe(t,e){1&t&&gn(0,"img",21),2&t&&Je("src",Zt().$implicit.image,bc)}const sCe=function(t,e){return{"wrong-answer":t,"correct-answer":e}};function oCe(t,e){if(1&t&&(xe(0,"div")(1,"div",23),gn(2,"p",24),be()()),2&t){const n=e.$implicit,r=Zt(2).$implicit;Xe(1),Je("ngClass",Au(2,sCe,r.userAnswer===n&&r.correctAnswer!==r.userAnswer||"Nevyplnene"===r.userAnswer&&r.correctAnswer!==n,r.correctAnswer===n)),Xe(1),Je("innerHTML",n,Za)}}function aCe(t,e){if(1&t&&(Fp(0),Bt(1,oCe,3,5,"div",22),Op()),2&t){const n=Zt().$implicit;Xe(1),Je("ngForOf",n.options)}}const cCe=function(t,e){return{"correct-answer":t,"wrong-answer":e}};function lCe(t,e){if(1&t&&(Fp(0),xe(1,"div",25)(2,"span"),dt(3,"Spr\xe1vna odpove\u010f: "),gn(4,"p",26),be(),xe(5,"span"),dt(6,"Va\u0161a odpove\u010f: "),gn(7,"p",27),be()(),Op()),2&t){const n=Zt().$implicit;Xe(4),Je("innerHTML",n.correctAnswer,Za),Xe(3),Je("ngClass",Au(3,cCe,n.correctAnswer===n.userAnswer||n.correctAnswer.includes(n.userAnswer),!n.correctAnswer.includes(n.userAnswer)&&n.userAnswer!==n.correctAnswer))("innerHTML",n.userAnswer,Za)}}function uCe(t,e){if(1&t&&(xe(0,"div",13)(1,"div",14),gn(2,"p",15)(3,"p",16),xe(4,"div",17),Bt(5,iCe,1,1,"img",18),be()(),xe(6,"div",19),Bt(7,aCe,2,1,"ng-container",20),Bt(8,lCe,8,6,"ng-container",20),be()()),2&t){const n=e.$implicit;Xe(2),Je("innerHTML",n.questionId,Za),Xe(1),Je("innerHTML",n.text,Za),Xe(2),Je("ngIf",n.image),Xe(2),Je("ngIf",0!==(null==n.options?null:n.options.length)),Xe(1),Je("ngIf",0===(null==n.options?null:n.options.length))}}function dCe(t,e){if(1&t&&(xe(0,"div",11),Bt(1,uCe,9,5,"div",12),be()),2&t){const n=Zt(2);Xe(1),Je("ngForOf",n.selectedTest.questions)}}const fCe=function(t,e){return{"saved-test-container-open":t,"saved-test-container-closed":e}};function hCe(t,e){if(1&t){const n=wo();xe(0,"div",8),Lt("click",function(){const s=ei(n).$implicit;return Ur(Zt().revealDetails(s))}),xe(1,"p",9),dt(2),e_(3,"timeFormat"),be(),Bt(4,dCe,2,1,"div",10),be()}if(2&t){const n=e.$implicit,r=Zt();Su("selected",r.selectedTest===n),Je("ngClass",Au(7,fCe,r.selectedTest===n,r.selectedTest!==n)),Xe(2),Ea(" ",n.testName+" \u010cas: "+t_(3,5,n.timeLeft)," "),Xe(2),Je("ngIf",r.selectedTest===n)}}const pCe=[{path:"",component:_T},{path:"login",component:MW},{path:"register",component:PW},{path:"landing-page",component:_T},{path:"years-page/:subCat",component:FW},{path:"test-page/:subCat/:year",component:gT},{path:"forgot-password",component:OW},{path:"user-account",component:NW},{path:"education-materials",component:LW},{path:"saved-tests-page",component:(()=>{class t{constructor(n,r,i){this.savedTestService=n,this.darkModeService=r,this.savedTests=[],this.isSavedTestsEmpty=!0,this.selectedTest=null,this.isDarkMode=!1,this.isLoading=!0,this.authService=i}ngOnInit(){this.loadSavedTests().then(n=>this.isLoading=!1),this.darkModeService.isDarkMode$.subscribe(n=>{this.isDarkMode=n})}loadSavedTests(){var n=this;return(0,Ce.Z)(function*(){try{const r=localStorage.getItem("uid");if(!r)return void console.error("Uid is not set. User is not logged in.");n.savedTests=yield n.savedTestService.getSavedTests(r),n.savedTests.length>0?(n.isSavedTestsEmpty=!1,n.revealDetails(n.savedTests[0])):n.isSavedTestsEmpty=!0}catch(r){console.error("Error loading saved tests:",r)}})()}revealDetails(n){this.selectedTest=this.selectedTest!==n?n:null}static#e=this.\u0275fac=function(r){return new(r||t)(se(NM),se(Ml),se(nm))};static#t=this.\u0275cmp=Ci({type:t,selectors:[["app-saved-tests-page"]],decls:6,vars:3,consts:[[1,"saved-test-page-container"],[1,"inner-saved-test-page-container"],[1,"loading"],["class","lds-ellipsis",4,"ngIf"],["class","empty-saved-tests",4,"ngIf"],[3,"ngClass","selected","click",4,"ngFor","ngForOf"],[1,"lds-ellipsis"],[1,"empty-saved-tests"],[3,"ngClass","click"],[1,"test-name"],["class","test-questions-container",4,"ngIf"],[1,"test-questions-container"],["class","question-content",4,"ngFor","ngForOf"],[1,"question-content"],[1,"question-container"],[1,"question_number",3,"innerHTML"],[1,"text-container",3,"innerHTML"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[1,"answers-container"],[4,"ngIf"],[1,"question_image",3,"src"],[4,"ngFor","ngForOf"],[1,"answer-container",3,"ngClass"],[3,"innerHTML"],[1,"input-answer-container"],[1,"correct-answer",3,"innerHTML"],[3,"ngClass","innerHTML"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),Bt(3,nCe,5,0,"div",3),be(),Bt(4,rCe,3,0,"div",4),Bt(5,hCe,5,10,"div",5),be()()),2&r&&(Xe(3),Je("ngIf",i.isLoading),Xe(1),Je("ngIf",i.isSavedTestsEmpty&&!i.isLoading),Xe(1),Je("ngForOf",i.savedTests))},dependencies:[l_,rf,Dc,kW],styles:["[_nghost-%COMP%]{height:83.333333%;width:100%}.saved-test-page-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;border:1px solid var(--border-color-light);border-radius:10px;box-shadow:0 0 10px #00000080;min-height:100%;width:100%}.saved-test-page-container.light[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.163);background-color:var(--main-bg-color-light);color:var(--main-text-color-dark)}.saved-test-page-container.dark[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.163);background-color:var(--main-bg-color-dark);color:var(--main-text-color-dark)}.inner-saved-test-page-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;box-shadow:inset 0 0 12px #0d0d0d80;margin:1.5rem;max-height:100%;border-radius:10px}.saved-test-container-closed[_ngcontent-%COMP%]{border:.1rem var(--main-blue-color) solid;background-color:var(--account-button-color-light);height:3.5rem;width:60%;margin:1rem 0 1rem 1rem;border-radius:10px;transition:width .7s ease-in-out;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{transition:all .8s ease;font-size:1.5rem;font-weight:700}.saved-test-container-closed[_ngcontent-%COMP%] > .test-name.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.saved-test-container-open[_ngcontent-%COMP%]{border:.1rem rgb(104,135,240) solid;width:calc(100% - 2rem);margin:1rem;border-radius:10px;transition:all .3s ease;display:flex;flex:1;flex-direction:column;align-items:center;padding:0 1rem;cursor:pointer}.saved-test-container-open[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{transition:all .8s ease;font-size:1rem;font-weight:700;padding:1rem 0 0;color:var(--main-text-color-light)}.saved-test-container-open[_ngcontent-%COMP%] > .test-name.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.saved-test-container-closed[_ngcontent-%COMP%]:hover{width:calc(100% - 2rem);opacity:85%}.saved-test-container-closed[_ngcontent-%COMP%]:hover.light{background-color:var(--main-bg-color-light)}.saved-test-container-closed[_ngcontent-%COMP%]:hover.dark{background-color:var(--main-bg-color-dark)}.question-content.dark[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.288);color:var(--main-text-color-dark)}.test-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;padding:1rem}.question-content[_ngcontent-%COMP%]{color:#000;display:flex;border:1px solid black;width:100%;padding:1rem}.question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:60%;padding:0 1rem}.text-container[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0}.question_image[_ngcontent-%COMP%]{max-width:100%;padding:1rem 1rem 1rem 0;height:100%;object-fit:contain}.answers-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:40%}.answer-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%;padding-top:1rem}.input-answer-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap;width:100%;padding:1rem 0}.question_number[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.correct-answer[_ngcontent-%COMP%]{color:green}.wrong-answer[_ngcontent-%COMP%]{color:red}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:var(--main-blue-color);animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_lds-ellipsis3 .6s infinite}@keyframes _ngcontent-%COMP%_lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}@media (max-width: 1030px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.9rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2.3rem;margin:.5rem}}@media (max-width: 768px){.question-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.question-container[_ngcontent-%COMP%], .answers-container[_ngcontent-%COMP%]{width:100%}.saved-test-container-open[_ngcontent-%COMP%]{padding:0}.test-name[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 650px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.6rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2rem;margin:.5rem}}@media (max-width: 450px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.4rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2rem;margin:.5rem}}"]})}return t})()}];let mCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[MB.forRoot(pCe),MB]})}return t})();const VW_firebase={apiKey:"AIzaSyDrXz37bgp6zYCw-X9eKtQlg2Q6j4tjDMI",authDomain:"maturity-project.firebaseapp.com",databaseURL:"https://maturity-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"maturity-project",storageBucket:"maturity-project.appspot.com",messagingSenderId:"759368949191",appId:"1:759368949191:web:a326a11500d8e4c152cde2",measurementId:"G-CJJD6MK3D8"};class yT{}class xT{}class el{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof el?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new el;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof el?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class gCe{encodeKey(e){return BW(e)}encodeValue(e){return BW(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vCe=/%(\d[a-f0-9])/gi,yCe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BW(t){return encodeURIComponent(t).replace(vCe,(e,n)=>yCe[n]??e)}function bT(t){return`${t}`}class bd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gCe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _Ce(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(bT):[bT(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new bd({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(bT(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(bT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xCe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UW(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function jW(t){return typeof Blob<"u"&&t instanceof Blob}function HW(t){return typeof FormData<"u"&&t instanceof FormData}class By{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bCe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new el),this.context||(this.context=new xCe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new bd,this.urlWithParams=n}serializeBody(){return null===this.body?null:UW(this.body)||jW(this.body)||HW(this.body)||function wCe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HW(this.body)?null:jW(this.body)?this.body.type||null:UW(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,p)=>d.set(p,e.setHeaders[p]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,p)=>d.set(p,e.setParams[p]),l)),new By(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var _g=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_g||{});class fP{constructor(e,n=200,r="OK"){this.headers=e.headers||new el,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hP extends fP{constructor(e={}){super(e),this.type=_g.ResponseHeader}clone(e={}){return new hP({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vg extends fP{constructor(e={}){super(e),this.type=_g.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zW extends fP{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pP(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ECe=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof By)s=n;else{let c,l;c=i.headers instanceof el?i.headers:new el(i.headers),i.params&&(l=i.params instanceof bd?i.params:new bd({fromObject:i.params})),s=new By(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=G(s).pipe($p(c=>this.handler.handle(c)));if(n instanceof By||"events"===i.observe)return o;const a=o.pipe(Wi(c=>c instanceof vg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(lt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(lt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(lt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(lt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new bd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,pP(i,r))}post(n,r,i={}){return this.request("POST",n,pP(i,r))}put(n,r,i={}){return this.request("PUT",n,pP(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(te(yT))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();function GW(t,e){return e(t)}function ICe(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const SCe=new Pe(""),Uy=new Pe(""),qW=new Pe("");function ACe(){let t=null;return(e,n)=>{null===t&&(t=(ht(SCe,{optional:!0})??[]).reduceRight(ICe,GW));const r=ht(qb),i=r.add();return t(e,n).pipe(h_(()=>r.remove(i)))}}let KW=(()=>{class t extends yT{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=ht(qb)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Uy),...this.injector.get(qW,[])]));this.chain=i.reduceRight((s,o)=>function CCe(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),GW)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(h_(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(te(xT),te(Uo))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const MCe=/^\)\]\}',?\n/;let YW=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new re(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?C(r.\u0275loadImpl()):G(null)).pipe(wt(()=>new jt(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((_,x)=>o.setRequestHeader(_,x.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _=n.detectContentTypeHeader();null!==_&&o.setRequestHeader("Content-Type",_)}if(n.responseType){const _=n.responseType.toLowerCase();o.responseType="json"!==_?_:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const _=o.statusText||"OK",x=new el(o.getAllResponseHeaders()),E=function PCe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return c=new hP({headers:x,status:o.status,statusText:_,url:E}),c},u=()=>{let{headers:_,status:x,statusText:E,url:b}=l(),w=null;204!==x&&(w=typeof o.response>"u"?o.responseText:o.response),0===x&&(x=w?200:0);let M=x>=200&&x<300;if("json"===n.responseType&&"string"==typeof w){const z=w;w=w.replace(MCe,"");try{w=""!==w?JSON.parse(w):null}catch(B){w=z,M&&(M=!1,w={error:B,text:w})}}M?(s.next(new vg({body:w,headers:_,status:x,statusText:E,url:b||void 0})),s.complete()):s.error(new zW({error:w,headers:_,status:x,statusText:E,url:b||void 0}))},d=_=>{const{url:x}=l(),E=new zW({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:x||void 0});s.error(E)};let p=!1;const m=_=>{p||(s.next(l()),p=!0);let x={type:_g.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(x.total=_.total),"text"===n.responseType&&o.responseText&&(x.partialText=o.responseText),s.next(x)},y=_=>{let x={type:_g.UploadProgress,loaded:_.loaded};_.lengthComputable&&(x.total=_.total),s.next(x)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",m),null!==a&&o.upload&&o.upload.addEventListener("progress",y)),o.send(a),s.next({type:_g.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",m),null!==a&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(te(s3))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const mP=new Pe("XSRF_ENABLED"),XW=new Pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),QW=new Pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class JW{}let NCe=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=KV(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn),te(xa),te(XW))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();function LCe(t,e){const n=t.url.toLowerCase();if(!ht(mP)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=ht(JW).getToken(),i=ht(QW);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var wd=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(wd||{});function VCe(...t){const e=[ECe,YW,KW,{provide:yT,useExisting:KW},{provide:xT,useExisting:YW},{provide:Uy,useValue:LCe,multi:!0},{provide:mP,useValue:!0},{provide:JW,useClass:NCe}];for(const n of t)e.push(...n.\u0275providers);return function tC(t){return{\u0275providers:t}}(e)}const eG=new Pe("LEGACY_INTERCEPTOR_FN");function BCe(){return function uh(t,e){return{\u0275kind:t,\u0275providers:e}}(wd.LegacyInterceptors,[{provide:eG,useFactory:ACe},{provide:Uy,useExisting:eG,multi:!0}])}let UCe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:[VCe(BCe())]})}return t})();function tG(t){return new re(3e3,!1)}function Ed(t){switch(t.length){case 0:return new Kv;case 1:return t[0];default:return new j9(t)}}function nG(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((p,m)=>{let y=m,_=p;if("offset"!==m)switch(y=t.normalizePropertyName(y,i),_){case"!":_=n.get(m);break;case zl:_=r.get(m);break;default:_=t.normalizeStyleValue(m,y,_,i)}d.set(y,_)}),u||s.push(d),a=d,o=l}),i.length)throw function pSe(t){return new re(3502,!1)}();return s}function gP(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&_P(n,"start",t)));break;case"done":t.onDone(()=>r(n&&_P(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&_P(n,"destroy",t)))}}function _P(t,e,n){const s=vP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function vP(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ea(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function rG(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const CSe=(()=>typeof document>"u"?null:document.documentElement)();function yP(t){const e=t.parentNode||t.host||null;return e===CSe?null:e}let dh=null,iG=!1;function sG(t,e){for(;e;){if(e===t)return!0;e=yP(e)}return!1}function oG(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let aG=(()=>{class t{validateStyleProperty(n){return function ASe(t){dh||(dh=function DSe(){return typeof document<"u"?document.body:null}()||{},iG=!!dh.style&&"WebkitAppearance"in dh.style);let e=!0;return dh.style&&!function SSe(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in dh.style,!e&&iG&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in dh.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return sG(n,r)}getParentElement(n){return yP(n)}query(n,r,i){return oG(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],c){return new Kv(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})(),xP=(()=>{class t{static#e=this.NOOP=new aG}return t})();const kSe=1e3,bP="ng-enter",ET="ng-leave",TT="ng-trigger",IT=".ng-trigger",lG="ng-animating",wP=".ng-animating";function Yl(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:EP(parseFloat(e[1]),e[2])}function EP(t,e){return"s"===e?t*kSe:t}function CT(t,e,n){return t.hasOwnProperty("duration")?t:function MSe(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(tG()),{duration:0,delay:0,easing:""};i=EP(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=EP(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(function GCe(){return new re(3100,!1)}()),a=!0),s<0&&(e.push(function qCe(){return new re(3101,!1)}()),a=!0),a&&e.splice(c,0,tG())}return{duration:i,delay:s,easing:o}}(t,e,n)}function jy(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function uG(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Td(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function tl(t,e,n){e.forEach((r,i)=>{const s=IP(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function fh(t,e){e.forEach((n,r)=>{const i=IP(r);t.style[i]=""})}function Hy(t){return Array.isArray(t)?1==t.length?t[0]:V9(t):t}const TP=new RegExp("{{\\s*(.+?)\\s*}}","g");function fG(t){let e=[];if("string"==typeof t){let n;for(;n=TP.exec(t);)e.push(n[1]);TP.lastIndex=0}return e}function zy(t,e,n){const r=t.toString(),i=r.replace(TP,(s,o)=>{let a=e[o];return null==a&&(n.push(function ZCe(t){return new re(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function ST(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const OSe=/-+([a-z0-9])/g;function IP(t){return t.replace(OSe,(...e)=>e[1].toUpperCase())}function ta(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function YCe(t){return new re(3004,!1)}()}}function hG(t,e){return window.getComputedStyle(t)[e]}const AT="*";function VSe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function BSe(t,e,n){if(":"==t[0]){const c=function USe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function uSe(t){return new re(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof c)return void e.push(c);t=c}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function lSe(t){return new re(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(pG(i,o));"<"==s[0]&&!(i==AT&&o==AT)&&e.push(pG(o,i))}(r,n,e)):n.push(t),n}const DT=new Set(["true","1"]),kT=new Set(["false","0"]);function pG(t,e){const n=DT.has(t)||kT.has(t),r=DT.has(e)||kT.has(e);return(i,s)=>{let o=t==AT||t==i,a=e==AT||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?DT.has(t):kT.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?DT.has(e):kT.has(e)),o&&a}}const jSe=new RegExp("s*:selfs*,?","g");function CP(t,e,n,r){return new HSe(t).build(e,n,r)}class HSe{constructor(e){this._driver=e}build(e,n,r){const i=new WSe(n);return this._resetContextStyleTimingState(i),ta(this,Hy(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function QCe(){return new re(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,n))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,o.push(c)}else n.errors.push(function JCe(){return new re(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{fG(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(ST(s.values()),n.errors.push(function eSe(t,e){return new re(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=ta(this,Hy(e.animation),n);return{type:1,matchers:VSe(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:hh(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>ta(this,r,n)),options:hh(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=ta(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:hh(e.options)}}visitAnimate(e,n){const r=function qSe(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return SP(CT(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=SP(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=CT(n,e);return SP(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:sd({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=sd(l)}n.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===zl?r.push(a):n.errors.push(new re(3002,!1)):r.push(uG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(function nSe(t,e,n,r,i){return new re(3010,!1)}()),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:i}),n.options&&function FSe(t,e,n){const r=e.params||{},i=fG(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function KCe(t){return new re(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function rSe(){return new re(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const u=e.steps.map(E=>{const b=this._makeStyleAst(E,n);let w=null!=b.offset?b.offset:function GSe(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(b.styles),M=0;return null!=w&&(s++,M=b.offset=w),c=c||M<0||M>1,a=a||M<l,l=M,o.push(M),b});c&&n.errors.push(function iSe(){return new re(3012,!1)}()),a&&n.errors.push(function sSe(){return new re(3200,!1)}());const d=e.steps.length;let p=0;s>0&&s<d?n.errors.push(function oSe(){return new re(3202,!1)}()):0==s&&(p=1/(d-1));const m=d-1,y=n.currentTime,_=n.currentAnimateTimings,x=_.duration;return u.forEach((E,b)=>{const w=p>0?b==m?1:p*b:o[b],M=w*x;n.currentTime=y+_.delay+M,_.duration=M,this._validateStyleAst(E,n),E.offset=w,r.styles.push(E)}),r}visitReference(e,n){return{type:8,animation:ta(this,Hy(e.animation),n),options:hh(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:hh(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:hh(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function zSe(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(jSe,"")),t=t.replace(/@\*/g,IT).replace(/@\w+/g,n=>IT+"-"+n.slice(1)).replace(/:animating/g,wP),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,ea(n.collectedStyles,n.currentQuerySelector,new Map);const a=ta(this,Hy(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:hh(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function aSe(){return new re(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:CT(e.timings,n.errors,!0);return{type:12,animation:ta(this,Hy(e.animation),n),timings:r,options:null}}}class WSe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hh(t){return t?(t=jy(t)).params&&(t.params=function $Se(t){return t?jy(t):null}(t.params)):t={},t}function SP(t,e,n){return{duration:t,delay:e,easing:n}}function AP(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class RT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const YSe=new RegExp(":enter","g"),QSe=new RegExp(":leave","g");function DP(t,e,n,r,i,s=new Map,o=new Map,a,c,l=[]){return(new JSe).buildKeyframes(t,e,n,r,i,s,o,a,c,l)}class JSe{buildKeyframes(e,n,r,i,s,o,a,c,l,u=[]){l=l||new RT;const d=new kP(e,n,l,i,s,u,[]);d.options=c;const p=c.delay?Yl(c.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([o],null,d.errors,c),ta(this,r,d);const m=d.timelines.filter(y=>y.containsAnimation());if(m.length&&a.size){let y;for(let _=m.length-1;_>=0;_--){const x=m[_];if(x.element===n){y=x;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return m.length?m.map(y=>y.buildKeyframes()):[AP(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Yl(zy(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Yl(r.duration):null,a=null!=r.delay?Yl(r.delay):null;return 0!==o&&e.forEach(c=>{const l=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),ta(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=MT);const o=Yl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ta(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Yl(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),ta(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return CT(n.params?zy(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Yl(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=MT);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(e.options,l);s&&d.delayNextStep(s),l===n.element&&(c=d.currentTimeline),ta(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=n.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;ta(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const MT={};class kP{constructor(e,n,r,i,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new PT(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Yl(r.duration)),null!=r.delay&&(i.delay=Yl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=zy(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new kP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=MT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new eAe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(YSe,"."+this._enterClassName)).replace(QSe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function cSe(t){return new re(3014,!1)}()),a}}class PT{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new PT(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||zl),this._currentKeyframe.set(n,zl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function tAe(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,zl)}else Td(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=zy(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zl),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=Td(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?e.add(d):u===zl&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?ST(e.values()):[],o=n.size?ST(n.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return AP(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class eAe extends PT{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,c=Td(e[0]);c.set("offset",0),s.push(c);const l=Td(e[0]);l.set("offset",_G(a)),s.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let p=Td(e[d]);const m=p.get("offset");p.set("offset",_G((n+m*r)/o)),s.push(p)}r=o,n=0,i="",e=s}return AP(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function _G(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class RP{}const nAe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class rAe extends RP{normalizePropertyName(e,n){return IP(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(nAe.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function XCe(t,e){return new re(3005,!1)}())}return o+s}}function vG(t,e,n,r,i,s,o,a,c,l,u,d,p){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:p}}const MP={};class yG{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function iAe(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,c,l,u){const d=[],p=this.ast.options&&this.ast.options.params||MP,y=this.buildStyles(r,a&&a.params||MP,d),_=c&&c.params||MP,x=this.buildStyles(i,_,d),E=new Set,b=new Map,w=new Map,M="void"===i,z={params:sAe(_,p),delay:this.ast.options?.delay},B=u?[]:DP(e,n,this.ast.animation,s,o,y,x,z,l,d);let R=0;if(B.forEach(J=>{R=Math.max(J.duration+J.delay,R)}),d.length)return vG(n,this._triggerName,r,i,M,y,x,[],[],b,w,R,d);B.forEach(J=>{const ce=J.element,ve=ea(b,ce,new Set);J.preStyleProps.forEach(Ke=>ve.add(Ke));const ne=ea(w,ce,new Set);J.postStyleProps.forEach(Ke=>ne.add(Ke)),ce!==n&&E.add(ce)});const Q=ST(E.values());return vG(n,this._triggerName,r,i,M,y,x,B,Q,b,w,R)}}function sAe(t,e){const n=jy(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class oAe{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=jy(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=zy(o,i,n));const c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),r.set(a,o)})}),r}}class cAe{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new oAe(i.style,i.options&&i.options.params||{},r))}),xG(this.states,"true","1"),xG(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new yG(e,i,this.states))}),this.fallbackTransition=function lAe(t,e,n){return new yG(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function xG(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const uAe=new RT;class dAe{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=CP(this._driver,n,r,[]);if(r.length)throw function mSe(t){return new re(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=nG(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=DP(this._driver,n,s,bP,ET,new Map,new Map,r,uAe,i),o.forEach(u=>{const d=ea(a,u.element,new Map);u.postStyleProps.forEach(p=>d.set(p,null))})):(i.push(function gSe(){return new re(3300,!1)}()),o=[]),i.length)throw function _Se(t){return new re(3504,!1)}();a.forEach((u,d)=>{u.forEach((p,m)=>{u.set(m,this._driver.computeStyle(d,m,zl))})});const l=Ed(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function vSe(t){return new re(3301,!1)}();return n}listen(e,n,r,i){const s=vP(n,"","","");return gP(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const bG="ng-animate-queued",PP="ng-animate-disabled",gAe=[],wG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_Ae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cc="__ng_removed";class FP{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function bAe(t){return t??null}(r?e.value:e),r){const s=jy(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const $y="void",OP=new FP($y);class vAe{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ua(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function ySe(t,e){return new re(3302,!1)}();if(null==r||0==r.length)throw function xSe(t){return new re(3303,!1)}();if(!function wAe(t){return"start"==t||"done"==t}(r))throw function bSe(t,e){return new re(3400,!1)}();const s=ea(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=ea(this._engine.statesByElement,e,new Map);return a.has(n)||(Ua(e,TT),Ua(e,TT+"-"+n),a.set(n,OP)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function wSe(t){return new re(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new NP(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Ua(e,TT),Ua(e,TT+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n);const l=new FP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=OP),l.value!==$y&&c.value===l.value){if(!function IAe(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(c.params,l.params)){const _=[],x=s.matchStyles(c.value,c.params,_),E=s.matchStyles(l.value,l.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{fh(e,x),tl(e,E)})}return}const p=ea(this._engine.playersByElement,e,[]);p.forEach(_=>{_.namespaceId==this.id&&_.triggerName==n&&_.queued&&_.destroy()});let m=s.matchTransition(c.value,l.value,e,l.params),y=!1;if(!m){if(!i)return;m=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:m,fromState:c,toState:l,player:o,isFallbackTransition:y}),y||(Ua(e,bG),o.onStart(()=>{yg(e,bG)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const x=this._engine.playersByElement.get(e);if(x){let E=x.indexOf(o);E>=0&&x.splice(E,1)}}),this.players.push(o),p.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,IT,!0);r.forEach(i=>{if(i[cc])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,$y,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Ed(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||OP,u=new FP($y),d=new NP(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[cc];(!s||s===wG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ua(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=vP(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,gP(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class yAe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new vAe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(FT(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!FT(n))return;const s=n[cc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ua(e,PP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),yg(e,PP))}removeNode(e,n,r){if(FT(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[cc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return FT(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,IT,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,wP,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ed(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[cc];if(n&&n.setForRemoval){if(e[cc]=wG,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(PP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ua(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ed(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ESe(t){return new re(3402,!1)}()}_flushAnimations(e,n){const r=new RT,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(De=>{u.add(De);const ke=this.driver.query(De,".ng-animate-queued",!0);for(let et=0;et<ke.length;et++)u.add(ke[et])});const d=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=IG(p,this.collectedEnterElements),y=new Map;let _=0;m.forEach((De,ke)=>{const et=bP+_++;y.set(ke,et),De.forEach(Le=>Ua(Le,et))});const x=[],E=new Set,b=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const ke=this.collectedLeaveElements[De],et=ke[cc];et&&et.setForRemoval&&(x.push(ke),E.add(ke),et.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(Le=>E.add(Le)):b.add(ke))}const w=new Map,M=IG(p,Array.from(E));M.forEach((De,ke)=>{const et=ET+_++;w.set(ke,et),De.forEach(Le=>Ua(Le,et))}),e.push(()=>{m.forEach((De,ke)=>{const et=y.get(ke);De.forEach(Le=>yg(Le,et))}),M.forEach((De,ke)=>{const et=w.get(ke);De.forEach(Le=>yg(Le,et))}),x.forEach(De=>{this.processLeaveNode(De)})});const z=[],B=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(n).forEach(et=>{const Le=et.player,ot=et.element;if(z.push(Le),this.collectedEnterElements.length){const Ge=ot[cc];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(et.triggerName)){const qe=Ge.previousTriggersValues.get(et.triggerName),We=this.statesByElement.get(et.element);if(We&&We.has(et.triggerName)){const Fe=We.get(et.triggerName);Fe.value=qe,We.set(et.triggerName,Fe)}}return void Le.destroy()}}const Se=!d||!this.driver.containsElement(d,ot),U=w.get(ot),ae=y.get(ot),W=this._buildInstruction(et,r,ae,U,Se);if(W.errors&&W.errors.length)return void B.push(W);if(Se)return Le.onStart(()=>fh(ot,W.fromStyles)),Le.onDestroy(()=>tl(ot,W.toStyles)),void i.push(Le);if(et.isFallbackTransition)return Le.onStart(()=>fh(ot,W.fromStyles)),Le.onDestroy(()=>tl(ot,W.toStyles)),void i.push(Le);const K=[];W.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||K.push(Ge)}),W.timelines=K,r.append(ot,W.timelines),o.push({instruction:W,player:Le,element:ot}),W.queriedElements.forEach(Ge=>ea(a,Ge,[]).push(Le)),W.preStyleProps.forEach((Ge,qe)=>{if(Ge.size){let We=c.get(qe);We||c.set(qe,We=new Set),Ge.forEach((Fe,Xt)=>We.add(Xt))}}),W.postStyleProps.forEach((Ge,qe)=>{let We=l.get(qe);We||l.set(qe,We=new Set),Ge.forEach((Fe,Xt)=>We.add(Xt))})});if(B.length){const De=[];B.forEach(ke=>{De.push(function TSe(t,e){return new re(3505,!1)}())}),z.forEach(ke=>ke.destroy()),this.reportError(De)}const R=new Map,Q=new Map;o.forEach(De=>{const ke=De.element;r.has(ke)&&(Q.set(ke,ke),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,R))}),i.forEach(De=>{const ke=De.element;this._getPreviousPlayers(ke,!1,De.namespaceId,De.triggerName,null).forEach(Le=>{ea(R,ke,[]).push(Le),Le.destroy()})});const J=x.filter(De=>SG(De,c,l)),ce=new Map;TG(ce,this.driver,b,l,zl).forEach(De=>{SG(De,c,l)&&J.push(De)});const ne=new Map;m.forEach((De,ke)=>{TG(ne,this.driver,new Set(De),c,"!")}),J.forEach(De=>{const ke=ce.get(De),et=ne.get(De);ce.set(De,new Map([...ke?.entries()??[],...et?.entries()??[]]))});const Ke=[],_t=[],Qe={};o.forEach(De=>{const{element:ke,player:et,instruction:Le}=De;if(r.has(ke)){if(u.has(ke))return et.onDestroy(()=>tl(ke,Le.toStyles)),et.disabled=!0,et.overrideTotalTime(Le.totalTime),void i.push(et);let ot=Qe;if(Q.size>1){let U=ke;const ae=[];for(;U=U.parentNode;){const W=Q.get(U);if(W){ot=W;break}ae.push(U)}ae.forEach(W=>Q.set(W,ot))}const Se=this._buildAnimation(et.namespaceId,Le,R,s,ne,ce);if(et.setRealPlayer(Se),ot===Qe)Ke.push(et);else{const U=this.playersByElement.get(ot);U&&U.length&&(et.parentPlayer=Ed(U)),i.push(et)}}else fh(ke,Le.fromStyles),et.onDestroy(()=>tl(ke,Le.toStyles)),_t.push(et),u.has(ke)&&i.push(et)}),_t.forEach(De=>{const ke=s.get(De.element);if(ke&&ke.length){const et=Ed(ke);De.setRealPlayer(et)}}),i.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<x.length;De++){const ke=x[De],et=ke[cc];if(yg(ke,ET),et&&et.hasAnimation)continue;let Le=[];if(a.size){let Se=a.get(ke);Se&&Se.length&&Le.push(...Se);let U=this.driver.query(ke,wP,!0);for(let ae=0;ae<U.length;ae++){let W=a.get(U[ae]);W&&W.length&&Le.push(...W)}}const ot=Le.filter(Se=>!Se.destroyed);ot.length?EAe(this,ke,ot):this.processLeaveNode(ke)}return x.length=0,Ke.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const ke=this.players.indexOf(De);this.players.splice(ke,1)}),De.play()}),Ke}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==$y;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const c of n.timelines){const l=c.element,u=l!==s,d=ea(r,l,[]);this._getPreviousPlayers(l,u,o,a,n.toState).forEach(m=>{const y=m.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),m.destroy(),d.push(m)})}fh(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,p=n.timelines.map(y=>{const _=y.element;u.add(_);const x=_[cc];if(x&&x.removedBeforeQueried)return new Kv(y.duration,y.delay);const E=_!==c,b=function TAe(t){const e=[];return CG(t,e),e}((r.get(_)||gAe).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===_),w=s.get(_),M=o.get(_),z=nG(this._normalizer,y.keyframes,w,M),B=this._buildPlayer(y,z,b);if(y.subTimeline&&i&&d.add(_),E){const R=new NP(e,a,_);R.setRealPlayer(B),l.push(R)}return B});l.forEach(y=>{ea(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function xAe(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Ua(y,lG));const m=Ed(p);return m.onDestroy(()=>{u.forEach(y=>yg(y,lG)),tl(c,n.toStyles)}),d.forEach(y=>{ea(i,y,[]).push(m)}),m}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Kv(e.duration,e.delay)}}class NP{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Kv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>gP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){ea(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function FT(t){return t&&1===t.nodeType}function EG(t,e){const n=t.style.display;return t.style.display=e??"none",n}function TG(t,e,n,r,i){const s=[];n.forEach(c=>s.push(EG(c)));const o=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const p=e.computeStyle(l,d,i);u.set(d,p),(!p||0==p.length)&&(l[cc]=_Ae,o.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>EG(c,s[a++])),o}function IG(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=n.has(l)?l:i.has(l)?1:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&n.get(c).push(a)}),n}function Ua(t,e){t.classList?.add(e)}function yg(t,e){t.classList?.remove(e)}function EAe(t,e,n){Ed(n).onDone(()=>t.processLeaveNode(e))}function CG(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof j9?CG(r.players,e):e.push(r)}}function SG(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class OT{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new yAe(e,n,r),this._timelineEngine=new dAe(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],u=CP(this._driver,s,c,[]);if(c.length)throw function hSe(t,e){return new re(3404,!1)}();a=function aAe(t,e,n){return new cAe(t,e,n)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=rG(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=rG(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let SAe=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&tl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tl(this._element,this._initialStyles),this._endStyles&&(tl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(fh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fh(this._element,this._endStyles),this._endStyles=null),tl(this._element,this._initialStyles),this._state=3)}}return t})();function LP(t){let e=null;return t.forEach((n,r)=>{(function AAe(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class AG{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:hG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class DAe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return sG(e,n)}getParentElement(e){return yP(e)}query(e,n,r){return oG(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,u=o.filter(m=>m instanceof AG);(function NSe(t,e){return 0===t||0===e})(r,i)&&u.forEach(m=>{m.currentSnapshot.forEach((y,_)=>l.set(_,y))});let d=function PSe(t){return t.length?t[0]instanceof Map?t:t.map(e=>uG(e)):[]}(n).map(m=>Td(m));d=function LSe(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,hG(t,a)))}}return e}(e,d,l);const p=function CAe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=LP(e[0]),e.length>1&&(r=LP(e[e.length-1]))):e instanceof Map&&(n=LP(e)),n||r?new SAe(t,n,r):null}(e,d);return new AG(e,d,c,p)}}let kAe=(()=>{class t extends O9{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:_o.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?V9(n):n;return DG(this._renderer,null,r,"register",[i]),new RAe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(te(N0),te(Vn))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();class RAe extends Ohe{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new MAe(this._id,e,n||{},this._renderer)}}class MAe{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return DG(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function DG(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const kG="@.disabled";let PAe=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new RG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(o,a,n,u.name,u)};return r.data.animation.forEach(c),new FAe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(te(N0),te(OT),te(Kt))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();class RG{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==kG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class FAe extends RG{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==kG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function OAe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function NAe(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let LAe=(()=>{class t extends OT{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(te(Vn),te(xP),te(RP),te(ku))};static#t=this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();const MG=[{provide:O9,useClass:kAe},{provide:RP,useFactory:function VAe(){return new rAe}},{provide:OT,useClass:LAe},{provide:N0,useFactory:function BAe(t,e,n){return new PAe(t,e,n)},deps:[uA,OT,Kt]}],VP=[{provide:xP,useFactory:()=>new DAe},{provide:P0,useValue:"BrowserAnimations"},...MG],PG=[{provide:xP,useClass:aG},{provide:P0,useValue:"NoopAnimations"},...MG];let UAe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?PG:VP}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({providers:VP,imports:[w3]})}return t})(),jAe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({})}return t})(),FG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[$c,n3,f9,$c]})}return t})(),KAe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[$c,FG,FG,jAe,$c]})}return t})(),XAe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t});static#n=this.\u0275inj=Nn({imports:[$c,Fhe,$c]})}return t})();var QAe=Rl.Z.initializeApp;let JAe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Cn({type:t,bootstrap:[IIe]});static#n=this.\u0275inj=Nn({providers:[gT],imports:[w3,aIe,Eoe(()=>QAe(VW_firebase)),Gde(()=>Kde()),foe.initializeApp(VW_firebase),_oe,mCe,UCe,UAe,Zhe,KAe,XAe]})}return t})();ure().bootstrapModule(JAe).catch(t=>console.error(t))},106:(ia,ui,Pt)=>{Pt.d(ui,{Z:()=>di});var F=Pt(58),we=Pt(537),ee=Pt(534),Ct=Pt(879);class vn{constructor(Ht,zt){this._delegate=Ht,this.firebase=zt,(0,ee._addComponent)(Ht,new we.wA("app-compat",()=>this,"PUBLIC")),this.container=Ht.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ht){this._delegate.automaticDataCollectionEnabled=Ht}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ht=>{this._delegate.checkDestroyed(),Ht()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Ht,zt=ee._DEFAULT_ENTRY_NAME){var fi;this._delegate.checkDestroyed();const Er=this._delegate.container.getProvider(Ht);return!Er.isInitialized()&&"EXPLICIT"===(null===(fi=Er.getComponent())||void 0===fi?void 0:fi.instantiationMode)&&Er.initialize(),Er.getImmediate({identifier:zt})}_removeServiceInstance(Ht,zt=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ht).clearInstance(zt)}_addComponent(Ht){(0,ee._addComponent)(this._delegate,Ht)}_addOrOverwriteComponent(Ht){(0,ee._addOrOverwriteComponent)(this._delegate,Ht)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $r=new F.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Re=function kn(){const yn=function or(yn){const Ht={},zt={__esModule:!0,initializeApp:function hn(nn,He={}){const Tn=ee.initializeApp(nn,He);if((0,F.r3)(Ht,Tn.name))return Ht[Tn.name];const dr=new yn(Tn,zt);return Ht[Tn.name]=dr,dr},app:Er,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function $s(nn){const He=nn.name,Tn=He.replace("-compat","");if(ee._registerComponent(nn)&&"PUBLIC"===nn.type){const dr=(Vr=Er())=>{if("function"!=typeof Vr[Tn])throw $r.create("invalid-app-argument",{appName:He});return Vr[Tn]()};void 0!==nn.serviceProps&&(0,F.ZB)(dr,nn.serviceProps),zt[Tn]=dr,yn.prototype[Tn]=function(...Vr){return this._getService.bind(this,He).apply(this,nn.multipleInstances?Vr:[])}}return"PUBLIC"===nn.type?zt[Tn]:null},removeApp:function fi(nn){delete Ht[nn]},useAsService:function Xr(nn,He){return"serverAuth"===He?null:He},modularAPIs:ee}};function Er(nn){if(!(0,F.r3)(Ht,nn=nn||ee._DEFAULT_ENTRY_NAME))throw $r.create("no-app",{appName:nn});return Ht[nn]}return zt.default=zt,Object.defineProperty(zt,"apps",{get:function qn(){return Object.keys(Ht).map(nn=>Ht[nn])}}),Er.App=yn,zt}(vn);return yn.INTERNAL=Object.assign(Object.assign({},yn.INTERNAL),{createFirebaseNamespace:kn,extendNamespace:function Ht(zt){(0,F.ZB)(yn,zt)},createSubscribe:F.ne,ErrorFactory:F.LL,deepExtend:F.ZB}),yn}(),$e=new Ct.Yd("@firebase/app-compat");if((0,F.jU)()&&void 0!==self.firebase){$e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yn=self.firebase.SDK_VERSION;yn&&yn.indexOf("LITE")>=0&&$e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const di=Re;!function On(yn){(0,ee.registerVersion)("@firebase/app-compat","0.2.25",yn)}()},534:(ia,ui,Pt)=>{Pt.r(ui),Pt.d(ui,{FirebaseError:()=>Ct.ZR,SDK_VERSION:()=>la,_DEFAULT_ENTRY_NAME:()=>Fo,_addComponent:()=>qs,_addOrOverwriteComponent:()=>Ks,_apps:()=>Yi,_clearComponents:()=>Gr,_components:()=>Gs,_getProvider:()=>Wn,_registerComponent:()=>Li,_removeServiceInstance:()=>Zs,deleteApp:()=>Qr,getApp:()=>No,getApps:()=>mi,initializeApp:()=>ua,onLog:()=>eu,registerVersion:()=>Ys,setLogLevel:()=>lc});var F=Pt(861),we=Pt(537),ee=Pt(879),Ct=Pt(58);const vn=(oe,Y)=>Y.some(je=>oe instanceof je);let wr,$r;const Re=new WeakMap,$e=new WeakMap,It=new WeakMap,Qt=new WeakMap,On=new WeakMap;let Ht={get(oe,Y,je){if(oe instanceof IDBTransaction){if("done"===Y)return $e.get(oe);if("objectStoreNames"===Y)return oe.objectStoreNames||It.get(oe);if("store"===Y)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return hn(oe[Y])},set:(oe,Y,je)=>(oe[Y]=je,!0),has:(oe,Y)=>oe instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in oe};function Er(oe){return"function"==typeof oe?function fi(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kn(){return $r||($r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...Y){return oe.apply(qn(this),Y),hn(Re.get(this))}:function(...Y){return hn(oe.apply(qn(this),Y))}:function(Y,...je){const vt=oe.call(qn(this),Y,...je);return It.set(vt,Y.sort?Y.sort():[Y]),hn(vt)}}(oe):(oe instanceof IDBTransaction&&function yn(oe){if($e.has(oe))return;const Y=new Promise((je,vt)=>{const cn=()=>{oe.removeEventListener("complete",pn),oe.removeEventListener("error",re),oe.removeEventListener("abort",re)},pn=()=>{je(),cn()},re=()=>{vt(oe.error||new DOMException("AbortError","AbortError")),cn()};oe.addEventListener("complete",pn),oe.addEventListener("error",re),oe.addEventListener("abort",re)});$e.set(oe,Y)}(oe),vn(oe,function or(){return wr||(wr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Ht):oe)}function hn(oe){if(oe instanceof IDBRequest)return function di(oe){const Y=new Promise((je,vt)=>{const cn=()=>{oe.removeEventListener("success",pn),oe.removeEventListener("error",re)},pn=()=>{je(hn(oe.result)),cn()},re=()=>{vt(oe.error),cn()};oe.addEventListener("success",pn),oe.addEventListener("error",re)});return Y.then(je=>{je instanceof IDBCursor&&Re.set(je,oe)}).catch(()=>{}),On.set(Y,oe),Y}(oe);if(Qt.has(oe))return Qt.get(oe);const Y=Er(oe);return Y!==oe&&(Qt.set(oe,Y),On.set(Y,oe)),Y}const qn=oe=>On.get(oe),nn=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],Tn=new Map;function dr(oe,Y){if(!(oe instanceof IDBDatabase)||Y in oe||"string"!=typeof Y)return;if(Tn.get(Y))return Tn.get(Y);const je=Y.replace(/FromIndex$/,""),vt=Y!==je,cn=He.includes(je);if(!(je in(vt?IDBIndex:IDBObjectStore).prototype)||!cn&&!nn.includes(je))return;const pn=function(){var re=(0,F.Z)(function*(Cr,...Et){const ln=this.transaction(Cr,cn?"readwrite":"readonly");let Ad=ln.store;return vt&&(Ad=Ad.index(Et.shift())),(yield Promise.all([Ad[je](...Et),cn&&ln.done]))[0]});return function(Et){return re.apply(this,arguments)}}();return Tn.set(Y,pn),pn}!function zt(oe){Ht=oe(Ht)}(oe=>({...oe,get:(Y,je,vt)=>dr(Y,je)||oe.get(Y,je,vt),has:(Y,je)=>!!dr(Y,je)||oe.has(Y,je)}));class Vr{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function Wr(oe){const Y=oe.getComponent();return"VERSION"===Y?.type}(je)){const vt=je.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(je=>je).join(" ")}}const Ro="@firebase/app",jt=new ee.Yd("@firebase/app"),Fo="[DEFAULT]",Oo={[Ro]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yi=new Map,Gs=new Map;function qs(oe,Y){try{oe.container.addComponent(Y)}catch(je){jt.debug(`Component ${Y.name} failed to register with FirebaseApp ${oe.name}`,je)}}function Ks(oe,Y){oe.container.addOrOverwriteComponent(Y)}function Li(oe){const Y=oe.name;if(Gs.has(Y))return jt.debug(`There were multiple attempts to register component ${Y}.`),!1;Gs.set(Y,oe);for(const je of Yi.values())qs(je,oe);return!0}function Wn(oe,Y){const je=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),oe.container.getProvider(Y)}function Zs(oe,Y,je=Fo){Wn(oe,Y).clearInstance(je)}function Gr(){Gs.clear()}const Ir=new Ct.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Br{constructor(Y,je,vt){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new we.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const la="10.7.1";function ua(oe,Y={}){let je=oe;"object"!=typeof Y&&(Y={name:Y});const vt=Object.assign({name:Fo,automaticDataCollectionEnabled:!1},Y),cn=vt.name;if("string"!=typeof cn||!cn)throw Ir.create("bad-app-name",{appName:String(cn)});if(je||(je=(0,Ct.aH)()),!je)throw Ir.create("no-options");const pn=Yi.get(cn);if(pn){if((0,Ct.vZ)(je,pn.options)&&(0,Ct.vZ)(vt,pn.config))return pn;throw Ir.create("duplicate-app",{appName:cn})}const re=new we.H0(cn);for(const Et of Gs.values())re.addComponent(Et);const Cr=new Br(je,vt,re);return Yi.set(cn,Cr),Cr}function No(oe=Fo){const Y=Yi.get(oe);if(!Y&&oe===Fo&&(0,Ct.aH)())return ua();if(!Y)throw Ir.create("no-app",{appName:oe});return Y}function mi(){return Array.from(Yi.values())}function Qr(oe){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,F.Z)(function*(oe){const Y=oe.name;Yi.has(Y)&&(Yi.delete(Y),yield Promise.all(oe.container.getProviders().map(je=>je.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function Ys(oe,Y,je){var vt;let cn=null!==(vt=Oo[oe])&&void 0!==vt?vt:oe;je&&(cn+=`-${je}`);const pn=cn.match(/\s|\//),re=Y.match(/\s|\//);if(pn||re){const Cr=[`Unable to register library "${cn}" with version "${Y}":`];return pn&&Cr.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),pn&&re&&Cr.push("and"),re&&Cr.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void jt.warn(Cr.join(" "))}Li(new we.wA(`${cn}-version`,()=>({library:cn,version:Y}),"VERSION"))}function eu(oe,Y){if(null!==oe&&"function"!=typeof oe)throw Ir.create("invalid-log-argument");(0,ee.Am)(oe,Y)}function lc(oe){(0,ee.Ub)(oe)}const il="firebase-heartbeat-database",da=1,q="firebase-heartbeat-store";let j=null;function C(){return j||(j=function $s(oe,Y,{blocked:je,upgrade:vt,blocking:cn,terminated:pn}={}){const re=indexedDB.open(oe,Y),Cr=hn(re);return vt&&re.addEventListener("upgradeneeded",Et=>{vt(hn(re.result),Et.oldVersion,Et.newVersion,hn(re.transaction),Et)}),je&&re.addEventListener("blocked",Et=>je(Et.oldVersion,Et.newVersion,Et)),Cr.then(Et=>{pn&&Et.addEventListener("close",()=>pn()),cn&&Et.addEventListener("versionchange",ln=>cn(ln.oldVersion,ln.newVersion,ln))}).catch(()=>{}),Cr}(il,da,{upgrade:(oe,Y)=>{0===Y&&oe.createObjectStore(q)}}).catch(oe=>{throw Ir.create("idb-open",{originalErrorMessage:oe.message})})),j}function I(){return(I=(0,F.Z)(function*(oe){try{return yield(yield C()).transaction(q).objectStore(q).get(xt(oe))}catch(Y){if(Y instanceof Ct.ZR)jt.warn(Y.message);else{const je=Ir.create("idb-get",{originalErrorMessage:Y?.message});jt.warn(je.message)}}})).apply(this,arguments)}function G(oe,Y){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,F.Z)(function*(oe,Y){try{const vt=(yield C()).transaction(q,"readwrite");yield vt.objectStore(q).put(Y,xt(oe)),yield vt.done}catch(je){if(je instanceof Ct.ZR)jt.warn(je.message);else{const vt=Ir.create("idb-set",{originalErrorMessage:je?.message});jt.warn(vt.message)}}})).apply(this,arguments)}function xt(oe){return`${oe.name}!${oe.options.appId}`}class Rn{constructor(Y){this.container=Y,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new St(je),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Y=this;return(0,F.Z)(function*(){var je,vt;const pn=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),re=ft();if((null!=(null===(je=Y._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||(Y._heartbeatsCache=yield Y._heartbeatsCachePromise,null!=(null===(vt=Y._heartbeatsCache)||void 0===vt?void 0:vt.heartbeats)))&&Y._heartbeatsCache.lastSentHeartbeatDate!==re&&!Y._heartbeatsCache.heartbeats.some(Cr=>Cr.date===re))return Y._heartbeatsCache.heartbeats.push({date:re,agent:pn}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Cr=>{const Et=new Date(Cr.date).valueOf();return Date.now()-Et<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,F.Z)(function*(){var je;if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null==(null===(je=Y._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||0===Y._heartbeatsCache.heartbeats.length)return"";const vt=ft(),{heartbeatsToSend:cn,unsentEntries:pn}=function Yn(oe,Y=1024){const je=[];let vt=oe.slice();for(const cn of oe){const pn=je.find(re=>re.agent===cn.agent);if(pn){if(pn.dates.push(cn.date),Ii(je)>Y){pn.dates.pop();break}}else if(je.push({agent:cn.agent,dates:[cn.date]}),Ii(je)>Y){je.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:je,unsentEntries:vt}}(Y._heartbeatsCache.heartbeats),re=(0,Ct.L)(JSON.stringify({version:2,heartbeats:cn}));return Y._heartbeatsCache.lastSentHeartbeatDate=vt,pn.length>0?(Y._heartbeatsCache.heartbeats=pn,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),re})()}}function ft(){return(new Date).toISOString().substring(0,10)}class St{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,F.Z)(function*(){return!!(0,Ct.hl)()&&(0,Ct.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,F.Z)(function*(){if(yield Y._canUseIndexedDBPromise){const vt=yield function k(oe){return I.apply(this,arguments)}(Y.app);return vt?.heartbeats?vt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Y){var je=this;return(0,F.Z)(function*(){var vt;if(yield je._canUseIndexedDBPromise){const pn=yield je.read();return G(je.app,{lastSentHeartbeatDate:null!==(vt=Y.lastSentHeartbeatDate)&&void 0!==vt?vt:pn.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var je=this;return(0,F.Z)(function*(){var vt;if(yield je._canUseIndexedDBPromise){const pn=yield je.read();return G(je.app,{lastSentHeartbeatDate:null!==(vt=Y.lastSentHeartbeatDate)&&void 0!==vt?vt:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...Y.heartbeats]})}})()}}function Ii(oe){return(0,Ct.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function sl(oe){Li(new we.wA("platform-logger",Y=>new Vr(Y),"PRIVATE")),Li(new we.wA("heartbeat",Y=>new Rn(Y),"PRIVATE")),Ys(Ro,"0.9.25",oe),Ys(Ro,"0.9.25","esm2017"),Ys("fire-js","")}("")},537:(ia,ui,Pt)=>{Pt.d(ui,{H0:()=>or,wA:()=>ee});var F=Pt(861),we=Pt(58);class ee{constructor(Re,$e,It){this.name=Re,this.instanceFactory=$e,this.type=It,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Re){return this.instantiationMode=Re,this}setMultipleInstances(Re){return this.multipleInstances=Re,this}setServiceProps(Re){return this.serviceProps=Re,this}setInstanceCreatedCallback(Re){return this.onInstanceCreated=Re,this}}const Ct="[DEFAULT]";class vn{constructor(Re,$e){this.name=Re,this.container=$e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Re){const $e=this.normalizeInstanceIdentifier(Re);if(!this.instancesDeferred.has($e)){const It=new we.BH;if(this.instancesDeferred.set($e,It),this.isInitialized($e)||this.shouldAutoInitialize())try{const Qt=this.getOrInitializeService({instanceIdentifier:$e});Qt&&It.resolve(Qt)}catch{}}return this.instancesDeferred.get($e).promise}getImmediate(Re){var $e;const It=this.normalizeInstanceIdentifier(Re?.identifier),Qt=null!==($e=Re?.optional)&&void 0!==$e&&$e;if(!this.isInitialized(It)&&!this.shouldAutoInitialize()){if(Qt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:It})}catch(On){if(Qt)return null;throw On}}getComponent(){return this.component}setComponent(Re){if(Re.name!==this.name)throw Error(`Mismatching Component ${Re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Re,this.shouldAutoInitialize()){if(function $r(kn){return"EAGER"===kn.instantiationMode}(Re))try{this.getOrInitializeService({instanceIdentifier:Ct})}catch{}for(const[$e,It]of this.instancesDeferred.entries()){const Qt=this.normalizeInstanceIdentifier($e);try{const On=this.getOrInitializeService({instanceIdentifier:Qt});It.resolve(On)}catch{}}}}clearInstance(Re=Ct){this.instancesDeferred.delete(Re),this.instancesOptions.delete(Re),this.instances.delete(Re)}delete(){var Re=this;return(0,F.Z)(function*(){const $e=Array.from(Re.instances.values());yield Promise.all([...$e.filter(It=>"INTERNAL"in It).map(It=>It.INTERNAL.delete()),...$e.filter(It=>"_delete"in It).map(It=>It._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Re=Ct){return this.instances.has(Re)}getOptions(Re=Ct){return this.instancesOptions.get(Re)||{}}initialize(Re={}){const{options:$e={}}=Re,It=this.normalizeInstanceIdentifier(Re.instanceIdentifier);if(this.isInitialized(It))throw Error(`${this.name}(${It}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qt=this.getOrInitializeService({instanceIdentifier:It,options:$e});for(const[On,di]of this.instancesDeferred.entries())It===this.normalizeInstanceIdentifier(On)&&di.resolve(Qt);return Qt}onInit(Re,$e){var It;const Qt=this.normalizeInstanceIdentifier($e),On=null!==(It=this.onInitCallbacks.get(Qt))&&void 0!==It?It:new Set;On.add(Re),this.onInitCallbacks.set(Qt,On);const di=this.instances.get(Qt);return di&&Re(di,Qt),()=>{On.delete(Re)}}invokeOnInitCallbacks(Re,$e){const It=this.onInitCallbacks.get($e);if(It)for(const Qt of It)try{Qt(Re,$e)}catch{}}getOrInitializeService({instanceIdentifier:Re,options:$e={}}){let It=this.instances.get(Re);if(!It&&this.component&&(It=this.component.instanceFactory(this.container,{instanceIdentifier:(kn=Re,kn===Ct?void 0:kn),options:$e}),this.instances.set(Re,It),this.instancesOptions.set(Re,$e),this.invokeOnInitCallbacks(It,Re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Re,It)}catch{}var kn;return It||null}normalizeInstanceIdentifier(Re=Ct){return this.component?this.component.multipleInstances?Re:Ct:Re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class or{constructor(Re){this.name=Re,this.providers=new Map}addComponent(Re){const $e=this.getProvider(Re.name);if($e.isComponentSet())throw new Error(`Component ${Re.name} has already been registered with ${this.name}`);$e.setComponent(Re)}addOrOverwriteComponent(Re){this.getProvider(Re.name).isComponentSet()&&this.providers.delete(Re.name),this.addComponent(Re)}getProvider(Re){if(this.providers.has(Re))return this.providers.get(Re);const $e=new vn(Re,this);return this.providers.set(Re,$e),$e}getProviders(){return Array.from(this.providers.values())}}},879:(ia,ui,Pt)=>{Pt.d(ui,{Am:()=>kn,Ub:()=>or,Yd:()=>$r,in:()=>we});const F=[];var we=function(Re){return Re[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",Re}(we||{});const ee={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Ct=we.INFO,vn={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},wr=(Re,$e,...It)=>{if($e<Re.logLevel)return;const Qt=(new Date).toISOString(),On=vn[$e];if(!On)throw new Error(`Attempted to log a message with an invalid logType (value: ${$e})`);console[On](`[${Qt}]  ${Re.name}:`,...It)};class $r{constructor($e){this.name=$e,this._logLevel=Ct,this._logHandler=wr,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel($e){if(!($e in we))throw new TypeError(`Invalid value "${$e}" assigned to \`logLevel\``);this._logLevel=$e}setLogLevel($e){this._logLevel="string"==typeof $e?ee[$e]:$e}get logHandler(){return this._logHandler}set logHandler($e){if("function"!=typeof $e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$e}get userLogHandler(){return this._userLogHandler}set userLogHandler($e){this._userLogHandler=$e}debug(...$e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...$e),this._logHandler(this,we.DEBUG,...$e)}log(...$e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...$e),this._logHandler(this,we.VERBOSE,...$e)}info(...$e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...$e),this._logHandler(this,we.INFO,...$e)}warn(...$e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...$e),this._logHandler(this,we.WARN,...$e)}error(...$e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...$e),this._logHandler(this,we.ERROR,...$e)}}function or(Re){F.forEach($e=>{$e.setLogLevel(Re)})}function kn(Re,$e){for(const It of F){let Qt=null;$e&&$e.level&&(Qt=ee[$e.level]),It.userLogHandler=null===Re?null:(On,di,...yn)=>{const Ht=yn.map(zt=>{if(null==zt)return null;if("string"==typeof zt)return zt;if("number"==typeof zt||"boolean"==typeof zt)return zt.toString();if(zt instanceof Error)return zt.message;try{return JSON.stringify(zt)}catch{return null}}).filter(zt=>zt).join(" ");di>=(Qt??On.logLevel)&&Re({level:we[di].toLowerCase(),message:Ht,args:yn,type:On.name})}}}},365:(ia,ui,Pt)=>{Pt.r(ui);var F=Pt(861),we=Pt(106),ee=Pt(217),Ct=Pt(58),$r=(Pt(534),Pt(879),Pt(537));function or(){return window}function $e(){return $e=(0,F.Z)(function*(C,k,I){var G;const{BuildInfo:Ee}=or();(0,ee.au)(k.sessionId,"AuthEvent did not contain a session ID");const xt=yield function zt(C){return fi.apply(this,arguments)}(k.sessionId),wt={};return(0,ee.av)()?wt.ibi=Ee.packageName:(0,ee.aw)()?wt.apn=Ee.packageName:(0,ee.ax)(C,"operation-not-supported-in-this-environment"),Ee.displayName&&(wt.appDisplayName=Ee.displayName),wt.sessionId=xt,(0,ee.ay)(C,I,k.type,void 0,null!==(G=k.eventId)&&void 0!==G?G:void 0,wt)}),$e.apply(this,arguments)}function Qt(){return(Qt=(0,F.Z)(function*(C){const{BuildInfo:k}=or(),I={};(0,ee.av)()?I.iosBundleId=k.packageName:(0,ee.aw)()?I.androidPackageName=k.packageName:(0,ee.ax)(C,"operation-not-supported-in-this-environment"),yield(0,ee.az)(C,I)})).apply(this,arguments)}function yn(){return(yn=(0,F.Z)(function*(C,k,I){const{cordova:G}=or();let Ee=()=>{};try{yield new Promise((xt,wt)=>{let Ot=null;function Rn(){var St;xt();const Ii=null===(St=G.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof Ii&&Ii(),"function"==typeof I?.close&&I.close()}function ft(){Ot||(Ot=window.setTimeout(()=>{wt((0,ee.aB)(C,"redirect-cancelled-by-user"))},2e3))}function Yn(){"visible"===document?.visibilityState&&ft()}k.addPassiveListener(Rn),document.addEventListener("resume",ft,!1),(0,ee.aw)()&&document.addEventListener("visibilitychange",Yn,!1),Ee=()=>{k.removePassiveListener(Rn),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",Yn,!1),Ot&&window.clearTimeout(Ot)}})}finally{Ee()}})).apply(this,arguments)}function fi(){return(fi=(0,F.Z)(function*(C){const k=function Er(C){if((0,ee.au)(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const k=new ArrayBuffer(C.length),I=new Uint8Array(k);for(let G=0;G<C.length;G++)I[G]=C.charCodeAt(G);return I}(C),I=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(I)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qn extends ee.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(I=>I(k)),super.onEvent(k)}initialized(){var k=this;return(0,F.Z)(function*(){yield k.initPromise})()}}function nn(C){return He.apply(this,arguments)}function He(){return(He=(0,F.Z)(function*(C){const k=yield Vr()._get(Wr(C));return k&&(yield Vr()._remove(Wr(C))),k})).apply(this,arguments)}function dr(){const C=[];for(let I=0;I<20;I++){const G=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(G))}return C.join("")}function Vr(){return(0,ee.aE)(ee.b)}function Wr(C){return(0,ee.aF)("authEvent",C.config.apiKey,C.name)}function jt(C){if(!C?.includes("?"))return{};const[k,...I]=C.split("?");return(0,Ct.zd)(I.join("?"))}const me=class sa{constructor(){this._redirectPersistence=ee.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ee.aG,this._overrideRedirectResult=ee.aH}_initialize(k){var I=this;return(0,F.Z)(function*(){const G=k._key();let Ee=I.eventManagers.get(G);return Ee||(Ee=new qn(k),I.eventManagers.set(G,Ee),I.attachCallbackListeners(k,Ee)),Ee})()}_openPopup(k){(0,ee.ax)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,I,G,Ee){var xt=this;return(0,F.Z)(function*(){!function Ht(C){var k,I,G,Ee,xt,wt,Ot,Rn,ft,Yn;const St=or();(0,ee.aC)("function"==typeof(null===(k=St?.universalLinks)||void 0===k?void 0:k.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ee.aC)(typeof(null===(I=St?.BuildInfo)||void 0===I?void 0:I.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ee.aC)("function"==typeof(null===(xt=null===(Ee=null===(G=St?.cordova)||void 0===G?void 0:G.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===xt?void 0:xt.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.aC)("function"==typeof(null===(Rn=null===(Ot=null===(wt=St?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===Rn?void 0:Rn.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.aC)("function"==typeof(null===(Yn=null===(ft=St?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===Yn?void 0:Yn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const wt=yield xt._initialize(k);yield wt.initialized(),wt.resetRedirect(),(0,ee.aI)(),yield xt._originValidation(k);const Ot=function $s(C,k,I=null){return{type:k,eventId:I,urlResponse:null,sessionId:dr(),postBody:null,tenantId:C.tenantId,error:(0,ee.aB)(C,"no-auth-event")}}(k,G,Ee);yield function Xr(C,k){return Vr()._set(Wr(C),k)}(k,Ot);const Rn=yield function Re(C,k,I){return $e.apply(this,arguments)}(k,Ot,I),ft=yield function On(C){const{cordova:k}=or();return new Promise(I=>{k.plugins.browsertab.isAvailable(G=>{let Ee=null;G?k.plugins.browsertab.openUrl(C):Ee=k.InAppBrowser.open(C,(0,ee.aA)()?"_blank":"_system","location=yes"),I(Ee)})})}(Rn);return function di(C,k,I){return yn.apply(this,arguments)}(k,wt,ft)})()}_isIframeWebStorageSupported(k,I){throw new Error("Method not implemented.")}_originValidation(k){const I=k._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function It(C){return Qt.apply(this,arguments)}(k)),this.originValidationPromises[I]}attachCallbackListeners(k,I){const{universalLinks:G,handleOpenURL:Ee,BuildInfo:xt}=or(),wt=setTimeout((0,F.Z)(function*(){yield nn(k),I.onEvent(ye())}),500),Ot=function(){var Yn=(0,F.Z)(function*(St){clearTimeout(wt);const Ii=yield nn(k);let sl=null;Ii&&St?.url&&(sl=function Tn(C,k){var I,G;const Ee=function Mo(C){const k=jt(C),I=k.link?decodeURIComponent(k.link):void 0,G=jt(I).link,Ee=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return jt(Ee).link||Ee||G||I||C}(k);if(Ee.includes("/__/auth/callback")){const xt=jt(Ee),wt=xt.firebaseError?function Ro(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(xt.firebaseError)):null,Ot=null===(G=null===(I=wt?.code)||void 0===I?void 0:I.split("auth/"))||void 0===G?void 0:G[1],Rn=Ot?(0,ee.aB)(Ot):null;return Rn?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Rn,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:Ee,postBody:null}}return null}(Ii,St.url)),I.onEvent(sl||ye())});return function(Ii){return Yn.apply(this,arguments)}}();typeof G<"u"&&"function"==typeof G.subscribe&&G.subscribe(null,Ot);const Rn=Ee,ft=`${xt.packageName.toLowerCase()}://`;or().handleOpenURL=function(){var Yn=(0,F.Z)(function*(St){if(St.toLowerCase().startsWith(ft)&&Ot({url:St}),"function"==typeof Rn)try{Rn(St)}catch(Ii){console.error(Ii)}});return function(St){return Yn.apply(this,arguments)}}()}};function ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ee.aB)("no-auth-event")}}function st(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function lt(C=(0,Ct.z$)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){try{const C=self.localStorage,k=ee.aN();if(C)return C.setItem(k,"1"),C.removeItem(k),!function er(C=(0,Ct.z$)()){return function In(){return(0,Ct.w1)()&&11===document?.documentMode}()||function pr(C=(0,Ct.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,Ct.hl)()}catch{return hi()&&(0,Ct.hl)()}return!1}function hi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pi(){return(function fn(){return"http:"===st()||"https:"===st()}()||(0,Ct.ru)()||lt())&&!function kt(){return(0,Ct.b$)()||(0,Ct.UG)()}()&&Tr()&&!hi()}function Ni(){return lt()&&typeof document<"u"}function Po(){return(Po=(0,F.Z)(function*(){return!!Ni()&&new Promise(C=>{const k=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),C(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},aa=ee.aC,ca="persistence";function Oo(C){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,F.Z)(function*(C){yield C._initializationPromise;const k=qs(),I=ee.aF(ca,C.config.apiKey,C.name);k&&k.setItem(I,C._getPersistence())})).apply(this,arguments)}function qs(){var C;try{return(null===(C=function oa(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const Ks=ee.aC;class Li{constructor(){this.browserResolver=ee.aE(ee.k),this.cordovaResolver=ee.aE(me),this.underlyingResolver=null,this._redirectPersistence=ee.a,this._completeRedirectFn=ee.aG,this._overrideRedirectResult=ee.aH}_initialize(k){var I=this;return(0,F.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,I,G,Ee){var xt=this;return(0,F.Z)(function*(){return yield xt.selectUnderlyingResolver(),xt.assertedUnderlyingResolver._openPopup(k,I,G,Ee)})()}_openRedirect(k,I,G,Ee){var xt=this;return(0,F.Z)(function*(){return yield xt.selectUnderlyingResolver(),xt.assertedUnderlyingResolver._openRedirect(k,I,G,Ee)})()}_isIframeWebStorageSupported(k,I){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,I)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Ni()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ks(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,F.Z)(function*(){if(k.underlyingResolver)return;const I=yield function Is(){return Po.apply(this,arguments)}();k.underlyingResolver=I?k.cordovaResolver:k.browserResolver})()}}function Wn(C){return C.unwrap()}function Gr(C){return Ir(C)}function Ir(C){const{_tokenResponse:k}=C instanceof Ct.ZR?C.customData:C;if(!k)return null;if(!(C instanceof Ct.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return ee.P.credentialFromResult(C);const I=k.providerId;if(!I||I===ee.p.PASSWORD)return null;let G;switch(I){case ee.p.GOOGLE:G=ee.X;break;case ee.p.FACEBOOK:G=ee.W;break;case ee.p.GITHUB:G=ee.Y;break;case ee.p.TWITTER:G=ee.$;break;default:const{oauthIdToken:Ee,oauthAccessToken:xt,oauthTokenSecret:wt,pendingToken:Ot,nonce:Rn}=k;return xt||wt||Ee||Ot?Ot?I.startsWith("saml.")?ee.aQ._create(I,Ot):ee.N._fromParams({providerId:I,signInMethod:I,pendingToken:Ot,idToken:Ee,accessToken:xt}):new ee.Z(I).credential({idToken:Ee,accessToken:xt,rawNonce:Rn}):null}return C instanceof Ct.ZR?G.credentialFromError(C):G.credentialFromResult(C)}function Br(C,k){return k.catch(I=>{throw I instanceof Ct.ZR&&function Sd(C,k){var I;const G=null===(I=k.customData)||void 0===I?void 0:I._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new No(C,ee.as(C,k));else if(G){const Ee=Ir(k),xt=k;Ee&&(xt.credential=Ee,xt.tenantId=G.tenantId||void 0,xt.email=G.email||void 0,xt.phoneNumber=G.phoneNumber||void 0)}}(C,I),I}).then(I=>{const Ee=I.user;return{operationType:I.operationType,credential:Gr(I),additionalUserInfo:ee.aq(I),user:mi.getOrCreate(Ee)}})}function la(C,k){return ua.apply(this,arguments)}function ua(){return(ua=(0,F.Z)(function*(C,k){const I=yield k;return{verificationId:I.verificationId,confirm:G=>Br(C,I.confirm(G))}})).apply(this,arguments)}class No{constructor(k,I){this.resolver=I,this.auth=function Zs(C){return C.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Br(Wn(this.auth),this.resolver.resolveSignIn(k))}}class mi{constructor(k){this._delegate=k,this.multiFactor=ee.at(k)}static getOrCreate(k){return mi.USER_MAP.has(k)||mi.USER_MAP.set(k,new mi(k)),mi.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var I=this;return(0,F.Z)(function*(){return Br(I.auth,ee.a2(I._delegate,k))})()}linkWithPhoneNumber(k,I){var G=this;return(0,F.Z)(function*(){return la(G.auth,ee.l(G._delegate,k,I))})()}linkWithPopup(k){var I=this;return(0,F.Z)(function*(){return Br(I.auth,ee.d(I._delegate,k,Li))})()}linkWithRedirect(k){var I=this;return(0,F.Z)(function*(){return yield Oo(ee.aJ(I.auth)),ee.g(I._delegate,k,Li)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var I=this;return(0,F.Z)(function*(){return Br(I.auth,ee.a3(I._delegate,k))})()}reauthenticateWithPhoneNumber(k,I){return la(this.auth,ee.r(this._delegate,k,I))}reauthenticateWithPopup(k){return Br(this.auth,ee.e(this._delegate,k,Li))}reauthenticateWithRedirect(k){var I=this;return(0,F.Z)(function*(){return yield Oo(ee.aJ(I.auth)),ee.h(I._delegate,k,Li)})()}sendEmailVerification(k){return ee.ag(this._delegate,k)}unlink(k){var I=this;return(0,F.Z)(function*(){return yield ee.ap(I._delegate,k),I})()}updateEmail(k){return ee.al(this._delegate,k)}updatePassword(k){return ee.am(this._delegate,k)}updatePhoneNumber(k){return ee.u(this._delegate,k)}updateProfile(k){return ee.ak(this._delegate,k)}verifyBeforeUpdateEmail(k,I){return ee.ah(this._delegate,k,I)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mi.USER_MAP=new WeakMap;const Qr=ee.aC;let Xi=(()=>{class C{constructor(I,G){if(this.app=I,G.isInitialized())return this._delegate=G.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=I.options;Qr(Ee,"invalid-api-key",{appName:I.name}),Qr(Ee,"invalid-api-key",{appName:I.name});const xt=typeof window<"u"?Li:void 0;this._delegate=G.initialize({options:{persistence:eu(Ee,I.name),popupRedirectResolver:xt}}),this._delegate._updateErrorMap(ee.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(I){this._delegate.languageCode=I}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(I){this._delegate.tenantId=I}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(I,G){ee.K(this._delegate,I,G)}applyActionCode(I){return ee.a7(this._delegate,I)}checkActionCode(I){return ee.a8(this._delegate,I)}confirmPasswordReset(I,G){return ee.a6(this._delegate,I,G)}createUserWithEmailAndPassword(I,G){var Ee=this;return(0,F.Z)(function*(){return Br(Ee._delegate,ee.aa(Ee._delegate,I,G))})()}fetchProvidersForEmail(I){return this.fetchSignInMethodsForEmail(I)}fetchSignInMethodsForEmail(I){return ee.af(this._delegate,I)}isSignInWithEmailLink(I){return ee.ad(this._delegate,I)}getRedirectResult(){var I=this;return(0,F.Z)(function*(){Qr(pi(),I._delegate,"operation-not-supported-in-this-environment");const G=yield ee.j(I._delegate,Li);return G?Br(I._delegate,Promise.resolve(G)):{credential:null,user:null}})()}addFrameworkForLogging(I){!function le(C,k){(0,ee.aJ)(C)._logFramework(k)}(this._delegate,I)}onAuthStateChanged(I,G,Ee){const{next:xt,error:wt,complete:Ot}=Ys(I,G,Ee);return this._delegate.onAuthStateChanged(xt,wt,Ot)}onIdTokenChanged(I,G,Ee){const{next:xt,error:wt,complete:Ot}=Ys(I,G,Ee);return this._delegate.onIdTokenChanged(xt,wt,Ot)}sendSignInLinkToEmail(I,G){return ee.ac(this._delegate,I,G)}sendPasswordResetEmail(I,G){return ee.a5(this._delegate,I,G||void 0)}setPersistence(I){var G=this;return(0,F.Z)(function*(){let Ee;switch(function Fo(C,k){aa(Object.values(xn).includes(k),C,"invalid-persistence-type"),(0,Ct.b$)()?aa(k!==xn.SESSION,C,"unsupported-persistence-type"):(0,Ct.UG)()?aa(k===xn.NONE,C,"unsupported-persistence-type"):hi()?aa(k===xn.NONE||k===xn.LOCAL&&(0,Ct.hl)(),C,"unsupported-persistence-type"):aa(k===xn.NONE||Tr(),C,"unsupported-persistence-type")}(G._delegate,I),I){case xn.SESSION:Ee=ee.a;break;case xn.LOCAL:Ee=(yield ee.aE(ee.i)._isAvailable())?ee.i:ee.b;break;case xn.NONE:Ee=ee.U;break;default:return ee.ax("argument-error",{appName:G._delegate.name})}return G._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(I){return this.signInWithCredential(I)}signInAnonymously(){return Br(this._delegate,ee.a0(this._delegate))}signInWithCredential(I){return Br(this._delegate,ee.a1(this._delegate,I))}signInWithCustomToken(I){return Br(this._delegate,ee.a4(this._delegate,I))}signInWithEmailAndPassword(I,G){return Br(this._delegate,ee.ab(this._delegate,I,G))}signInWithEmailLink(I,G){return Br(this._delegate,ee.ae(this._delegate,I,G))}signInWithPhoneNumber(I,G){return la(this._delegate,ee.s(this._delegate,I,G))}signInWithPopup(I){var G=this;return(0,F.Z)(function*(){return Qr(pi(),G._delegate,"operation-not-supported-in-this-environment"),Br(G._delegate,ee.c(G._delegate,I,Li))})()}signInWithRedirect(I){var G=this;return(0,F.Z)(function*(){return Qr(pi(),G._delegate,"operation-not-supported-in-this-environment"),yield Oo(G._delegate),ee.f(G._delegate,I,Li)})()}updateCurrentUser(I){return this._delegate.updateCurrentUser(I)}verifyPasswordResetCode(I){return ee.a9(this._delegate,I)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=xn,C})();function Ys(C,k,I){let G=C;"function"!=typeof C&&({next:G,error:k,complete:I}=C);const Ee=G;return{next:wt=>Ee(wt&&mi.getOrCreate(wt)),error:k,complete:I}}function eu(C,k){const I=function Gs(C,k){const I=qs();if(!I)return[];const G=ee.aF(ca,C,k);switch(I.getItem(G)){case xn.NONE:return[ee.U];case xn.LOCAL:return[ee.i,ee.a];case xn.SESSION:return[ee.a];default:return[]}}(C,k);if(typeof self<"u"&&!I.includes(ee.i)&&I.push(ee.i),typeof window<"u")for(const G of[ee.b,ee.a])I.includes(G)||I.push(G);return I.includes(ee.U)||I.push(ee.U),I}class lc{constructor(){this.providerId="phone",this._delegate=new ee.P(Wn(we.Z.auth()))}static credential(k,I){return ee.P.credential(k,I)}verifyPhoneNumber(k,I){return this._delegate.verifyPhoneNumber(k,I)}unwrap(){return this._delegate}}lc.PHONE_SIGN_IN_METHOD=ee.P.PHONE_SIGN_IN_METHOD,lc.PROVIDER_ID=ee.P.PROVIDER_ID;const il=ee.aC;class da{constructor(k,I,G=we.Z.app()){var Ee;il(null===(Ee=G.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:G.name}),this._delegate=new ee.R(G.auth(),k,I),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(C){C.INTERNAL.registerComponent(new $r.wA("auth-compat",k=>{const I=k.getProvider("app-compat").getImmediate(),G=k.getProvider("auth");return new Xi(I,G)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ee.A.EMAIL_SIGNIN,PASSWORD_RESET:ee.A.PASSWORD_RESET,RECOVER_EMAIL:ee.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ee.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ee.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ee.A.VERIFY_EMAIL}},EmailAuthProvider:ee.V,FacebookAuthProvider:ee.W,GithubAuthProvider:ee.Y,GoogleAuthProvider:ee.X,OAuthProvider:ee.Z,SAMLAuthProvider:ee._,PhoneAuthProvider:lc,PhoneMultiFactorGenerator:ee.m,RecaptchaVerifier:da,TwitterAuthProvider:ee.$,Auth:Xi,AuthCredential:ee.L,Error:Ct.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.5.1")}(we.Z)},861:(ia,ui,Pt)=>{function F(ee,Ct,vn,wr,$r,or,kn){try{var Re=ee[or](kn),$e=Re.value}catch(It){return void vn(It)}Re.done?Ct($e):Promise.resolve($e).then(wr,$r)}function we(ee){return function(){var Ct=this,vn=arguments;return new Promise(function(wr,$r){var or=ee.apply(Ct,vn);function kn($e){F(or,wr,$r,kn,Re,"next",$e)}function Re($e){F(or,wr,$r,kn,Re,"throw",$e)}kn(void 0)})}}Pt.d(ui,{Z:()=>we})},582:(ia,ui,Pt)=>{function Ct(me,ye){var le={};for(var fe in me)Object.prototype.hasOwnProperty.call(me,fe)&&ye.indexOf(fe)<0&&(le[fe]=me[fe]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(fe=Object.getOwnPropertySymbols(me);Oe<fe.length;Oe++)ye.indexOf(fe[Oe])<0&&Object.prototype.propertyIsEnumerable.call(me,fe[Oe])&&(le[fe[Oe]]=me[fe[Oe]])}return le}function It(me,ye,le,fe){return new(le||(le=Promise))(function(Me,st){function fn(In){try{kt(fe.next(In))}catch(pr){st(pr)}}function lt(In){try{kt(fe.throw(In))}catch(pr){st(pr)}}function kt(In){In.done?Me(In.value):function Oe(Me){return Me instanceof le?Me:new le(function(st){st(Me)})}(In.value).then(fn,lt)}kt((fe=fe.apply(me,ye||[])).next())})}function hn(me){return this instanceof hn?(this.v=me,this):new hn(me)}function qn(me,ye,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,fe=le.apply(me,ye||[]),Me=[];return Oe={},st("next"),st("throw"),st("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function st(er){fe[er]&&(Oe[er]=function(Tr){return new Promise(function(hi,pi){Me.push([er,Tr,hi,pi])>1||fn(er,Tr)})})}function fn(er,Tr){try{!function lt(er){er.value instanceof hn?Promise.resolve(er.value.v).then(kt,In):pr(Me[0][2],er)}(fe[er](Tr))}catch(hi){pr(Me[0][3],hi)}}function kt(er){fn("next",er)}function In(er){fn("throw",er)}function pr(er,Tr){er(Tr),Me.shift(),Me.length&&fn(Me[0][0],Me[0][1])}}function Xr(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ye=me[Symbol.asyncIterator];return ye?ye.call(me):(me=function yn(me){var ye="function"==typeof Symbol&&Symbol.iterator,le=ye&&me[ye],fe=0;if(le)return le.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&fe>=me.length&&(me=void 0),{value:me&&me[fe++],done:!me}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),le={},fe("next"),fe("throw"),fe("return"),le[Symbol.asyncIterator]=function(){return this},le);function fe(Me){le[Me]=me[Me]&&function(st){return new Promise(function(fn,lt){!function Oe(Me,st,fn,lt){Promise.resolve(lt).then(function(kt){Me({value:kt,done:fn})},st)}(fn,lt,(st=me[Me](st)).done,st.value)})}}}Pt.d(ui,{FC:()=>qn,KL:()=>Xr,_T:()=>Ct,mG:()=>It,qq:()=>hn}),"function"==typeof SuppressedError&&SuppressedError}},ia=>{ia(ia.s=511)}]);