"use strict";(self.webpackChunkangular_school_project=self.webpackChunkangular_school_project||[]).push([[179],{217:(Zr,Bn,Ue)=>{Ue.d(Bn,{$:()=>Eg,A:()=>ue,C:()=>T0,G:()=>Mt,K:()=>v0,L:()=>da,N:()=>rr,P:()=>hu,R:()=>qg,U:()=>De,V:()=>Uh,W:()=>Zc,X:()=>_r,Y:()=>to,Z:()=>or,_:()=>ma,a:()=>oo,a0:()=>$h,a1:()=>Jc,a2:()=>Kh,a3:()=>Cg,a4:()=>x0,a5:()=>ai,a6:()=>_a,a7:()=>Tg,a8:()=>Tl,a9:()=>C0,aA:()=>ct,aB:()=>jt,aC:()=>ae,aD:()=>ao,aE:()=>Q,aF:()=>He,aG:()=>Ll,aH:()=>Qg,aI:()=>Ta,aJ:()=>mn,aN:()=>Mn,aQ:()=>Io,aa:()=>be,ab:()=>on,ac:()=>kr,ad:()=>yi,ae:()=>ya,af:()=>Ye,ag:()=>Dg,ah:()=>Sn,ak:()=>Dl,al:()=>Go,am:()=>xo,ap:()=>wg,aq:()=>Sl,as:()=>JA,at:()=>rS,au:()=>en,av:()=>Ie,aw:()=>U,ax:()=>ft,ay:()=>Aa,az:()=>e_,b:()=>A0,c:()=>Ko,d:()=>Kg,e:()=>j0,f:()=>$0,g:()=>ui,h:()=>Dt,i:()=>cu,j:()=>so,k:()=>u_,l:()=>V0,m:()=>tE,o:()=>mS,p:()=>Yt,r:()=>B0,s:()=>Wg,u:()=>Xt});var C=Ue(861),K=Ue(58),k=Ue(534),Pe=Ue(879),gt=Ue(582),un=Ue(537);const Yt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Mt=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Un=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new Pe.Yd("@firebase/auth");function dn(f,...u){Ze.logLevel<=Pe.in.ERROR&&Ze.error(`Auth (${k.SDK_VERSION}): ${f}`,...u)}function ft(f,...u){throw st(f,...u)}function jt(f,...u){return st(f,...u)}function Qi(f,u,d){const m=Object.assign(Object.assign({},Un()),{[u]:d});return new K.LL("auth","Firebase",m).create(u,{appName:f.name})}function On(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&ft(f,"argument-error"),Qi(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(f,...u){if("string"!=typeof f){const d=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return _t.create(f,...u)}function ae(f,u,...d){if(!f)throw st(u,...d)}function Et(f){const u="INTERNAL ASSERTION FAILED: "+f;throw dn(u),new Error(u)}function en(f,u){f||Et(u)}function En(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Dn(){return"http:"===Ar()||"https:"===Ar()}function Ar(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Yi{constructor(u,d){this.shortDelay=u,this.longDelay=d,en(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Sr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dn()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Eo(f,u){en(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class q{static initialize(u,d,m){this.fetchImpl=u,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new Yi(3e4,6e4);function $(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ne(f,u,d,m){return te.apply(this,arguments)}function te(){return(te=(0,C.Z)(function*(f,u,d,m,_={}){return fe(f,_,(0,C.Z)(function*(){let E={},O={};m&&("GET"===u?O=m:E={body:JSON.stringify(m)});const H=(0,K.xO)(Object.assign({key:f.config.apiKey},O)).slice(1),oe=yield f._getAdditionalHeaders();return oe["Content-Type"]="application/json",f.languageCode&&(oe["X-Firebase-Locale"]=f.languageCode),q.fetch()(wt(f,f.config.apiHost,d,H),Object.assign({method:u,headers:oe,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function fe(f,u,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,C.Z)(function*(f,u,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},G),u);try{const _=new Gt(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const O=yield E.json();if("needConfirmation"in O)throw hn(f,"account-exists-with-different-credential",O);if(E.ok&&!("errorMessage"in O))return O;{const H=E.ok?O.errorMessage:O.error.message,[oe,xe]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===oe)throw hn(f,"credential-already-in-use",O);if("EMAIL_EXISTS"===oe)throw hn(f,"email-already-in-use",O);if("USER_DISABLED"===oe)throw hn(f,"user-disabled",O);const Be=m[oe]||oe.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw Qi(f,Be,xe);ft(f,Be)}}catch(_){if(_ instanceof K.ZR)throw _;ft(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Te(f,u,d,m){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,C.Z)(function*(f,u,d,m,_={}){const E=yield ne(f,u,d,m,_);return"mfaPendingCredential"in E&&ft(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function wt(f,u,d,m){const _=`${u}${d}?${m}`;return f.config.emulator?Eo(f.config,_):`${f.config.apiScheme}://${_}`}function nn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(jt(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(f,u,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=jt(f,u,m);return _.customData._tokenResponse=d,_}function zn(f){return void 0!==f&&void 0!==f.getResponse}function $n(f){return void 0!==f&&void 0!==f.enterprise}class ri{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return nn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Mr(){return(Mr=(0,C.Z)(function*(f){return(yield ne(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kr(f,u){return yt.apply(this,arguments)}function yt(){return(yt=(0,C.Z)(function*(f,u){return ne(f,"GET","/v2/recaptchaConfig",$(f,u))})).apply(this,arguments)}function Yr(){return(Yr=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Pr(){return(Pr=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Ji(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Ut(){return(Ut=(0,C.Z)(function*(f,u=!1){const d=(0,K.m9)(f),m=yield d.getIdToken(u),_=An(m);ae(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,O=E?.sign_in_provider;return{claims:_,token:m,authTime:Ji(tr(_.auth_time)),issuedAtTime:Ji(tr(_.iat)),expirationTime:Ji(tr(_.exp)),signInProvider:O||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function tr(f){return 1e3*Number(f)}function An(f){const[u,d,m]=f.split(".");if(void 0===u||void 0===d||void 0===m)return dn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,K.tV)(d);return _?JSON.parse(_):(dn("Failed to decode base64 JWT payload"),null)}catch(_){return dn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function fn(f,u){return wn.apply(this,arguments)}function wn(){return(wn=(0,C.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(m){throw m instanceof K.ZR&&function Xr({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class Jr{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),m)}iteration(){var u=this;return(0,C.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Or{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(f){return kn.apply(this,arguments)}function kn(){return kn=(0,C.Z)(function*(f){var u;const d=f.auth,m=yield f.getIdToken(),_=yield fn(f,function mi(f,u){return Xi.apply(this,arguments)}(d,{idToken:m}));ae(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const O=null!==(u=E.providerUserInfo)&&void 0!==u&&u.length?function Uo(f){return f.map(u=>{var{providerId:d}=u,m=(0,gt._T)(u,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(E.providerUserInfo):[],H=function ua(f,u){return[...f.filter(m=>!u.some(_=>_.providerId===m.providerId)),...u]}(f.providerData,O),Be=!!f.isAnonymous&&!(f.email&&E.passwordHash||H?.length),bt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:H,metadata:new Or(E.createdAt,E.lastLoginAt),isAnonymous:Be};Object.assign(f,bt)}),kn.apply(this,arguments)}function nr(){return(nr=(0,C.Z)(function*(f){const u=(0,K.m9)(f);yield Hn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function eo(){return(eo=(0,C.Z)(function*(f,u){const d=yield fe(f,{},(0,C.Z)(function*(){const m=(0,K.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,O=wt(f,_,"/v1/token",`key=${E}`),H=yield f._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",q.fetch()(O,{method:"POST",headers:H,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,C.Z)(function*(f,u){return ne(f,"POST","/v2/accounts:revokeToken",$(f,u))})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ae(u.idToken,"internal-error"),ae(typeof u.idToken<"u","internal-error"),ae(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function El(f){const u=An(f);return ae(u,"internal-error"),ae(typeof u.exp<"u","internal-error"),ae(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var m=this;return(0,C.Z)(function*(){return ae(!m.accessToken||m.refreshToken,u,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var m=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:O}=yield function ws(f,u){return eo.apply(this,arguments)}(u,d);m.updateTokensAndExpiration(_,E,Number(O))})()}updateTokensAndExpiration(u,d,m){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,d){const{refreshToken:m,accessToken:_,expirationTime:E}=d,O=new b;return m&&(ae("string"==typeof m,"internal-error",{appName:u}),O.refreshToken=m),_&&(ae("string"==typeof _,"internal-error",{appName:u}),O.accessToken=_),E&&(ae("number"==typeof E,"internal-error",{appName:u}),O.expirationTime=E),O}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return Et("not implemented")}}function I(f,u){ae("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class v{constructor(u){var{uid:d,auth:m,stsTokenManager:_}=u,E=(0,gt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Or(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,C.Z)(function*(){const m=yield fn(d,d.stsTokenManager.getToken(d.auth,u));return ae(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(u){return function oi(f){return Ut.apply(this,arguments)}(this,u)}reload(){return function gi(f){return nr.apply(this,arguments)}(this)}_assign(u){this!==u&&(ae(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new v(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var m=this;return(0,C.Z)(function*(){let _=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Hn(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,C.Z)(function*(){const d=yield u.getIdToken();return yield fn(u,function Qr(f,u){return Yr.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var m,_,E,O,H,oe,xe,Be;const bt=null!==(m=d.displayName)&&void 0!==m?m:void 0,Ri=null!==(_=d.email)&&void 0!==_?_:void 0,Ao=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,zl=null!==(O=d.photoURL)&&void 0!==O?O:void 0,h_=null!==(H=d.tenantId)&&void 0!==H?H:void 0,Ra=null!==(oe=d._redirectEventId)&&void 0!==oe?oe:void 0,Yo=null!==(xe=d.createdAt)&&void 0!==xe?xe:void 0,f_=null!==(Be=d.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:Cu,emailVerified:Af,isAnonymous:Pa,providerData:Sf,stsTokenManager:bi}=d;ae(Cu&&bi,u,"internal-error");const oE=b.fromJSON(this.name,bi);ae("string"==typeof Cu,u,"internal-error"),I(bt,u.name),I(Ri,u.name),ae("boolean"==typeof Af,u,"internal-error"),ae("boolean"==typeof Pa,u,"internal-error"),I(Ao,u.name),I(zl,u.name),I(h_,u.name),I(Ra,u.name),I(Yo,u.name),I(f_,u.name);const qn=new v({uid:Cu,auth:u,email:Ri,emailVerified:Af,displayName:bt,isAnonymous:Pa,photoURL:zl,phoneNumber:Ao,tenantId:h_,stsTokenManager:oE,createdAt:Yo,lastLoginAt:f_});return Sf&&Array.isArray(Sf)&&(qn.providerData=Sf.map(Mf=>Object.assign({},Mf))),Ra&&(qn._redirectEventId=Ra),qn}static _fromIdTokenResponse(u,d,m=!1){return(0,C.Z)(function*(){const _=new b;_.updateFromServerResponse(d);const E=new v({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:m});return yield Hn(E),E})()}}const S=new Map;function Q(f){en(f instanceof Function,"Expected a class definition");let u=S.get(f);return u?(en(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,S.set(f,u),u)}const De=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,C.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,C.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function He(f,u,d){return`firebase:${f}:${u}:${d}`}class Tt{constructor(u,d,m){this.persistence=u,this.auth=d,this.userKey=m;const{config:_,name:E}=this.auth;this.fullUserKey=He(this.userKey,_.apiKey,E),this.fullPersistenceKey=He("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,C.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?v._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,C.Z)(function*(){if(d.persistence===u)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,m="authUser"){return(0,C.Z)(function*(){if(!d.length)return new Tt(Q(De),u,m);const _=(yield Promise.all(d.map(function(){var xe=(0,C.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let E=_[0]||Q(De);const O=He(m,u.config.apiKey,u.name);let H=null;for(const xe of d)try{const Be=yield xe._get(O);if(Be){const bt=v._fromJSON(u,Be);xe!==E&&(H=bt),E=xe;break}}catch{}const oe=_.filter(xe=>xe._shouldAllowMigration);return E._shouldAllowMigration&&oe.length?(E=oe[0],H&&(yield E._set(O,H.toJSON())),yield Promise.all(d.map(function(){var xe=(0,C.Z)(function*(Be){if(Be!==E)try{yield Be._remove(O)}catch{}});return function(Be){return xe.apply(this,arguments)}}())),new Tt(E,u,m)):new Tt(E,u,m)})()}}function ye(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Is(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Ht(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(P(u))return"Blackberry";if(se(u))return"Webos";if(ke(u))return"Safari";if((u.includes("chrome/")||Jn(u))&&!u.includes("edge/"))return"Chrome";if(U(u))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Ht(f=(0,K.z$)()){return/firefox\//i.test(f)}function ke(f=(0,K.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Jn(f=(0,K.z$)()){return/crios\//i.test(f)}function Is(f=(0,K.z$)()){return/iemobile/i.test(f)}function U(f=(0,K.z$)()){return/android/i.test(f)}function P(f=(0,K.z$)()){return/blackberry/i.test(f)}function se(f=(0,K.z$)()){return/webos/i.test(f)}function Ie(f=(0,K.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function ct(f=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function pn(f=(0,K.z$)()){return Ie(f)||U(f)||se(f)||P(f)||/windows phone/i.test(f)||Is(f)}function ut(f,u=[]){let d;switch(f){case"Browser":d=ye((0,K.z$)());break;case"Worker":d=`${ye((0,K.z$)())}-${f}`;break;default:d=f}const m=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${k.SDK_VERSION}/${m}`}class wl{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const m=E=>new Promise((O,H)=>{try{O(u(E))}catch(oe){H(oe)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===u)return;const m=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const E of m)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Ah(){return(Ah=(0,C.Z)(function*(f,u={}){return ne(f,"GET","/v2/passwordPolicy",$(f,u))})).apply(this,arguments)}class ir{constructor(u){var d,m,_,E;const O=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=O.minPasswordLength)&&void 0!==d?d:6,O.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=O.maxPasswordLength),void 0!==O.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=O.containsLowercaseCharacter),void 0!==O.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=O.containsUppercaseCharacter),void 0!==O.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=O.containsNumericCharacter),void 0!==O.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=O.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=u.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,m,_,E,O,H;const oe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,oe),this.validatePasswordCharacterOptions(u,oe),oe.isValid&&(oe.isValid=null===(d=oe.meetsMinPasswordLength)||void 0===d||d),oe.isValid&&(oe.isValid=null===(m=oe.meetsMaxPasswordLength)||void 0===m||m),oe.isValid&&(oe.isValid=null===(_=oe.containsLowercaseLetter)||void 0===_||_),oe.isValid&&(oe.isValid=null===(E=oe.containsUppercaseLetter)||void 0===E||E),oe.isValid&&(oe.isValid=null===(O=oe.containsNumericCharacter)||void 0===O||O),oe.isValid&&(oe.isValid=null===(H=oe.containsNonAlphanumericCharacter)||void 0===H||H),oe}validatePasswordLengthOptions(u,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=u.length>=m),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)m=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,d,m,_,E){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=E))}}class qA{constructor(u,d,m,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new wl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var m=this;return d&&(this._popupRedirectResolver=Q(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!m._deleted&&(m.persistenceManager=yield Tt.create(m,u),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(E=m.currentUser)||void 0===E?void 0:E.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,C.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,C.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let E=_,O=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const H=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,oe=E?._redirectEventId,xe=yield d.tryRedirectSignIn(u);(!H||H===oe)&&xe?.user&&(E=xe.user,O=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(O)try{yield d.beforeStateQueue.runMiddleware(E)}catch(H){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(H))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return ae(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(u){var d=this;return(0,C.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,C.Z)(function*(){try{yield Hn(u)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,C.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,C.Z)(function*(){const m=u?(0,K.m9)(u):null;return m&&ae(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(u,d=!1){var m=this;return(0,C.Z)(function*(){if(!m._deleted)return u&&ae(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,C.Z)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,C.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(Q(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,C.Z)(function*(){const d=yield function HA(f){return Ah.apply(this,arguments)}(u),m=new ir(d);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new K.LL("auth","Firebase",u())}onAuthStateChanged(u,d,m){return this.registerStateListener(this.authStateSubscription,u,d,m)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,m){return this.registerStateListener(this.idTokenSubscription,u,d,m)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,C.Z)(function*(){if(d.currentUser){const m=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function M(f,u){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var m=this;return(0,C.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const m=u&&Q(u)||d._popupRedirectResolver;ae(m,d,"argument-error"),d.redirectPersistenceManager=yield Tt.create(d,[Q(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,C.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,C.Z)(function*(){if(u===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,m,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let O=!1;const H=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(H,this,"internal-error"),H.then(()=>{O||E(this.currentUser)}),"function"==typeof d){const oe=u.addObserver(d,m,_);return()=>{O=!0,oe()}}{const oe=u.addObserver(d);return()=>{O=!0,oe()}}}directlySetCurrentUser(u){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=ut(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,C.Z)(function*(){var d;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const E=yield u._getAppCheckToken();return E&&(m["X-Firebase-AppCheck"]=E),m})()}_getAppCheckToken(){var u=this;return(0,C.Z)(function*(){var d;const m=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function jn(f,...u){Ze.logLevel<=Pe.in.WARN&&Ze.warn(`Auth (${k.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function mn(f){return(0,K.m9)(f)}class m0{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,K.ne)(d=>this.observer=d)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hg(f){return new Promise((u,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=u,m.onerror=_=>{const E=jt("internal-error");E.customData=_,d(E)},m.type="text/javascript",m.charset="UTF-8",function xs(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(m)})}function g0(f){return`__${f}${Math.floor(1e6*Math.random())}`}class y0{constructor(u){this.type="recaptcha-enterprise",this.auth=mn(u)}verify(u="verify",d=!1){var m=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(H){if(!d){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var oe=(0,C.Z)(function*(xe,Be){Kr(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bt=>{if(void 0!==bt.recaptchaKey){const Ri=new ri(bt);return null==H.tenantId?H._agentRecaptchaConfig=Ri:H._tenantRecaptchaConfigs[H.tenantId]=Ri,xe(Ri.siteKey)}Be(new Error("recaptcha Enterprise site key undefined"))}).catch(bt=>{Be(bt)})});return function(xe,Be){return oe.apply(this,arguments)}}())}),E.apply(this,arguments)}function O(H,oe,xe){const Be=window.grecaptcha;$n(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(H,{action:u}).then(bt=>{oe(bt)}).catch(()=>{oe("NO_RECAPTCHA")})}):xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,oe)=>{(function _(H){return E.apply(this,arguments)})(m.auth).then(xe=>{if(!d&&$n(window.grecaptcha))O(xe,H,oe);else{if(typeof window>"u")return void oe(new Error("RecaptchaVerifier is only supported in browser"));hg("https://www.google.com/recaptcha/enterprise.js?render="+xe).then(()=>{O(xe,H,oe)}).catch(Be=>{oe(Be)})}}).catch(xe=>{oe(xe)})})})()}}function fg(f,u,d){return pg.apply(this,arguments)}function pg(){return(pg=(0,C.Z)(function*(f,u,d,m=!1){const _=new y0(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const O=Object.assign({},u);return Object.assign(O,m?{captchaResp:E}:{captchaResponse:E}),Object.assign(O,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(O,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),O})).apply(this,arguments)}function _i(f,u,d,m){return $e.apply(this,arguments)}function $e(){return $e=(0,C.Z)(function*(f,u,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield fg(f,u,d,"getOobCode"===d);return m(f,E)}return m(f,u).catch(function(){var E=(0,C.Z)(function*(O){if("auth/missing-recaptcha-token"===O.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=yield fg(f,u,d,"getOobCode"===d);return m(f,H)}return Promise.reject(O)});return function(O){return E.apply(this,arguments)}}())}),$e.apply(this,arguments)}function v0(f,u,d){const m=mn(f);ae(m._canInitEmulator,m,"emulator-config-failed"),ae(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=Rt(u),{host:O,port:H}=function Bc(f){const u=Rt(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const E=_[1];return{host:E,port:gg(m.substr(E.length+1))}}{const[E,O]=m.split(":");return{host:E,port:gg(O)}}}(u);m.config.emulator={url:`${E}//${O}${null===H?"":`:${H}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:O,port:H,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function _g(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function Rt(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function gg(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class da{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return Et("not implemented")}_getIdTokenResponse(u){return Et("not implemented")}_linkToIdToken(u,d){return Et("not implemented")}_getReauthenticationResolver(u){return Et("not implemented")}}function Il(f,u){return ha.apply(this,arguments)}function ha(){return(ha=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:resetPassword",$(f,u))})).apply(this,arguments)}function Uc(){return(Uc=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function b0(f,u){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function jc(){return(jc=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",$(f,u))})).apply(this,arguments)}function Ui(f,u){return zc.apply(this,arguments)}function zc(){return(zc=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithPassword",$(f,u))})).apply(this,arguments)}function Ph(f,u){return qt.apply(this,arguments)}function qt(){return(qt=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:sendOobCode",$(f,u))})).apply(this,arguments)}function yg(){return(yg=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function re(f,u){return xl.apply(this,arguments)}function xl(){return(xl=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function Oh(f,u){return $c.apply(this,arguments)}function $c(){return($c=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function Nh(){return(Nh=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function vg(){return(vg=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithEmailLink",$(f,u))})).apply(this,arguments)}function bg(){return(bg=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithEmailLink",$(f,u))})).apply(this,arguments)}class Hc extends da{constructor(u,d,m,_=null){super("password",m),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new Hc(u,d,"password")}static _fromEmailAndCode(u,d,m=null){return new Hc(u,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return _i(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ui);case"emailLink":return function Fh(f,u){return vg.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:ft(u,"internal-error")}})()}_linkToIdToken(u,d){var m=this;return(0,C.Z)(function*(){switch(m.signInMethod){case"password":return _i(u,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b0);case"emailLink":return function YA(f,u){return bg.apply(this,arguments)}(u,{idToken:d,email:m._email,oobCode:m._password});default:ft(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function jo(f,u){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithIdp",$(f,u))})).apply(this,arguments)}class rr extends da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new rr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):ft("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_}=d,E=(0,gt._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const O=new rr(m,_);return O.idToken=E.idToken||void 0,O.accessToken=E.accessToken||void 0,O.secret=E.secret,O.nonce=E.nonce,O.pendingToken=E.pendingToken||null,O}_getIdTokenResponse(u){return jo(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,jo(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,jo(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,K.xO)(d)}return u}}function Vh(){return(Vh=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:sendVerificationCode",$(f,u))})).apply(this,arguments)}function qc(){return(qc=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,u))})).apply(this,arguments)}function Bh(){return(Bh=(0,C.Z)(function*(f,u){const d=yield Te(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,u));if(d.temporaryProof)throw hn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const zo={USER_NOT_FOUND:"user-not-found"};function V(){return(V=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),zo)})).apply(this,arguments)}class $o extends da{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new $o({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new $o({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function w0(f,u){return qc.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function fa(f,u){return Bh.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function I0(f,u){return V.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}=u;return m||d||_||E?new $o({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}):null}}class Ts{constructor(u){var d,m,_,E,O,H;const oe=(0,K.zd)((0,K.pd)(u)),xe=null!==(d=oe.apiKey)&&void 0!==d?d:null,Be=null!==(m=oe.oobCode)&&void 0!==m?m:null,bt=function ve(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=oe.mode)&&void 0!==_?_:null);ae(xe&&Be&&bt,"argument-error"),this.apiKey=xe,this.operation=bt,this.code=Be,this.continueUrl=null!==(E=oe.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(O=oe.languageCode)&&void 0!==O?O:null,this.tenantId=null!==(H=oe.tenantId)&&void 0!==H?H:null}static parseLink(u){const d=function Wc(f){const u=(0,K.zd)((0,K.pd)(f)).link,d=u?(0,K.zd)((0,K.pd)(u)).deep_link_id:null,m=(0,K.zd)((0,K.pd)(f)).deep_link_id;return(m?(0,K.zd)((0,K.pd)(m)).link:null)||m||d||u||f}(u);try{return new Ts(d)}catch{return null}}}let Uh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return Hc._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=Ts.parseLink(m);return ae(_,"argument-error"),Hc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class wo{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class pa extends wo{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class or extends pa{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ae("providerId"in d&&"signInMethod"in d,"argument-error"),rr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ae(u.idToken||u.accessToken,"argument-error"),rr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return or.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return or.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:E,nonce:O,providerId:H}=u;if(!m&&!_&&!d&&!E||!H)return null;try{return new or(H)._credential({idToken:d,accessToken:m,nonce:O,pendingToken:E})}catch{return null}}}let Zc=(()=>{class f extends pa{constructor(){super("facebook.com")}static credential(d){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),_r=(()=>{class f extends pa{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),to=(()=>{class f extends pa{constructor(){super("github.com")}static credential(d){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Io extends da{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return jo(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,jo(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,jo(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_,pendingToken:E}=d;return m&&_&&E&&m===_?new Io(m,E):null}static _create(u,d){return new Io(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ma extends wo{constructor(u){ae(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ma.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ma.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Io.fromJSON(u);return ae(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:m}=u;if(!d||!m)return null;try{return Io._create(m,d)}catch{return null}}}let Eg=(()=>{class f extends pa{constructor(){super("twitter.com")}static credential(d,m){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function no(f,u){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signUp",$(f,u))})).apply(this,arguments)}class sr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,m,_=!1){return(0,C.Z)(function*(){const E=yield v._fromIdTokenResponse(u,m,_),O=zh(m);return new sr({user:E,providerId:O,_tokenResponse:m,operationType:d})})()}static _forOperation(u,d,m){return(0,C.Z)(function*(){yield u._updateTokensIfNecessary(m,!0);const _=zh(m);return new sr({user:u,providerId:_,_tokenResponse:m,operationType:d})})()}}function zh(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function $h(f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,C.Z)(function*(f){var u;const d=mn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new sr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield no(d,{returnSecureToken:!0}),_=yield sr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Cl extends K.ZR{constructor(u,d,m,_){var E;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,Cl.prototype),this.customData={appName:u.name,tenantId:null!==(E=u.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,d,m,_){return new Cl(u,d,m,_)}}function ga(f,u,d,m){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?Cl._fromErrorAndOperation(f,E,u,m):E})}function Hh(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function wg(f,u){return qh.apply(this,arguments)}function qh(){return qh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);yield Yc(!0,d,u);const{providerUserInfo:m}=yield function Rr(f,u){return Pr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=Hh(m||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),qh.apply(this,arguments)}function Qc(f,u){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,C.Z)(function*(f,u,d=!1){const m=yield fn(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return sr._forOperation(f,"link",m)})).apply(this,arguments)}function Yc(f,u,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(f,u,d){yield Hn(u);const _=!1===f?"provider-already-linked":"no-such-provider";ae(Hh(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function Ig(f,u){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,C.Z)(function*(f,u,d=!1){const{auth:m}=f,_="reauthenticate";try{const E=yield fn(f,ga(m,_,u,f),d);ae(E.idToken,m,"internal-error");const O=An(E.idToken);ae(O,m,"internal-error");const{sub:H}=O;return ae(f.uid===H,m,"user-mismatch"),sr._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&ft(m,"user-mismatch"),E}})).apply(this,arguments)}function xg(f,u){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,C.Z)(function*(f,u,d=!1){const m="signIn",_=yield ga(f,m,u),E=yield sr._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function Jc(f,u){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,C.Z)(function*(f,u){return xg(mn(f),u)})).apply(this,arguments)}function Kh(f,u){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);return yield Yc(!1,d,u.providerId),Qc(d,u)})).apply(this,arguments)}function Cg(f,u){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,C.Z)(function*(f,u){return Ig((0,K.m9)(f),u)})).apply(this,arguments)}function Xh(){return(Xh=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithCustomToken",$(f,u))})).apply(this,arguments)}function x0(f,u){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,C.Z)(function*(f,u){const d=mn(f),m=yield function ei(f,u){return Xh.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield sr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),Jh.apply(this,arguments)}class It{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?ef._fromServerResponse(u,d):"totpInfo"in d?eu._fromServerResponse(u,d):ft(u,"internal-error")}}class ef extends It{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new ef(d)}}class eu extends It{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new eu(d)}}function je(f,u,d){var m;ae((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ae(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ae(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ae(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function si(f){return vt.apply(this,arguments)}function vt(){return(vt=(0,C.Z)(function*(f){const u=mn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function ai(f,u,d){return li.apply(this,arguments)}function li(){return(li=(0,C.Z)(function*(f,u,d){const m=mn(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&je(m,_,d),yield _i(m,_,"getOobCode",re)})).apply(this,arguments)}function _a(f,u,d){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,C.Z)(function*(f,u,d){yield Il((0,K.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&si(f),_});return function(_){return m.apply(this,arguments)}}())}),Ai.apply(this,arguments)}function Tg(f,u){return tu.apply(this,arguments)}function tu(){return tu=(0,C.Z)(function*(f,u){yield function Rh(f,u){return jc.apply(this,arguments)}((0,K.m9)(f),{oobCode:u})}),tu.apply(this,arguments)}function Tl(f,u){return tf.apply(this,arguments)}function tf(){return(tf=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),m=yield Il(d,{oobCode:u}),_=m.requestType;switch(ae(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(m.mfaInfo,d,"internal-error");default:ae(m.email,d,"internal-error")}let E=null;return m.mfaInfo&&(E=It._fromServerResponse(mn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function C0(f,u){return rn.apply(this,arguments)}function rn(){return(rn=(0,C.Z)(function*(f,u){const{data:d}=yield Tl((0,K.m9)(f),u);return d.email})).apply(this,arguments)}function be(f,u,d){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,C.Z)(function*(f,u,d){const m=mn(f),O=yield _i(m,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",no).catch(oe=>{throw"auth/password-does-not-meet-requirements"===oe.code&&si(f),oe}),H=yield sr._fromIdTokenResponse(m,"signIn",O);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}function on(f,u,d){return Jc((0,K.m9)(f),Uh.credential(u,d)).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&si(f),_});return function(_){return m.apply(this,arguments)}}())}function kr(f,u,d){return As.apply(this,arguments)}function As(){return(As=(0,C.Z)(function*(f,u,d){const m=mn(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function E(O,H){ae(H.handleCodeInApp,m,"argument-error"),H&&je(m,O,H)})(_,d),yield _i(m,_,"getOobCode",Oh)})).apply(this,arguments)}function yi(f,u){const d=Ts.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function ya(f,u,d){return gn.apply(this,arguments)}function gn(){return(gn=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=Uh.credentialWithLink(u,d||En());return ae(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Jc(m,_)})).apply(this,arguments)}function qo(){return(qo=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:createAuthUri",$(f,u))})).apply(this,arguments)}function Ye(f,u){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,C.Z)(function*(f,u){const m={identifier:u,continueUri:Dn()?En():"http://localhost"},{signinMethods:_}=yield function Ho(f,u){return qo.apply(this,arguments)}((0,K.m9)(f),m);return _||[]}),Ss.apply(this,arguments)}function Dg(f,u){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&je(d.auth,_,u);const{email:E}=yield function QA(f,u){return yg.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),Wo.apply(this,arguments)}function Sn(f,u,d){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&je(m.auth,E,d);const{email:O}=yield function kh(f,u){return Nh.apply(this,arguments)}(m.auth,E);O!==f.email&&(yield f.reload())}),Ms.apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Dl(f,u){return nu.apply(this,arguments)}function nu(){return nu=(0,C.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const m=(0,K.m9)(f),E={idToken:yield m.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},O=yield fn(m,function va(f,u){return yr.apply(this,arguments)}(m.auth,E));m.displayName=O.displayName||null,m.photoURL=O.photoUrl||null;const H=m.providerData.find(({providerId:oe})=>"password"===oe);H&&(H.displayName=m.displayName,H.photoURL=m.photoURL),yield m._updateTokensIfNecessary(O)}),nu.apply(this,arguments)}function Go(f,u){return ba((0,K.m9)(f),u,null)}function xo(f,u){return ba((0,K.m9)(f),null,u)}function ba(f,u,d){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,C.Z)(function*(f,u,d){const{auth:m}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(E.email=u),d&&(E.password=d);const O=yield fn(f,function Mh(f,u){return Uc.apply(this,arguments)}(m,E));yield f._updateTokensIfNecessary(O,!0)}),Rs.apply(this,arguments)}class Al{constructor(u,d,m={}){this.isNewUser=u,this.providerId=d,this.profile=m}}class iu extends Al{constructor(u,d,m,_){super(u,d,m),this.username=_}}class Ag extends Al{constructor(u,d){super(u,"facebook.com",d)}}class io extends iu{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class ru extends Al{constructor(u,d){super(u,"google.com",d)}}class Ea extends iu{constructor(u,d,m){super(u,"twitter.com",d,m)}}function Sl(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function mt(f){var u,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const O=null===(d=null===(u=An(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(O)return new Al(E,"anonymous"!==O&&"custom"!==O?O:null)}if(!m)return null;switch(m){case"facebook.com":return new Ag(E,_);case"github.com":return new io(E,_);case"google.com":return new ru(E,_);case"twitter.com":return new Ea(E,_,f.screenName||null);case"custom":case"anonymous":return new Al(E,null);default:return new Al(E,m,_)}}(d)}function T0(f){return(0,K.m9)(f).signOut()}class Os{constructor(u,d,m){this.type=u,this.credential=d,this.user=m}static _fromIdtoken(u,d){return new Os("enroll",u,d)}static _fromMfaPendingCredential(u){return new Os("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,m;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Os._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return Os._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Mg{constructor(u,d,m){this.session=u,this.hints=d,this.signInResolver=m}static _fromError(u,d){const m=mn(u),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(H=>It._fromServerResponse(m,H));ae(_.mfaPendingCredential,m,"internal-error");const O=Os._fromMfaPendingCredential(_.mfaPendingCredential);return new Mg(O,E,function(){var H=(0,C.Z)(function*(oe){const xe=yield oe._process(m,O);delete _.mfaInfo,delete _.mfaPendingCredential;const Be=Object.assign(Object.assign({},_),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(d.operationType){case"signIn":const bt=yield sr._fromIdTokenResponse(m,d.operationType,Be);return yield m._updateCurrentUser(bt.user),bt;case"reauthenticate":return ae(d.user,m,"internal-error"),sr._forOperation(d.user,d.operationType,Be);default:ft(m,"internal-error")}});return function(oe){return H.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,C.Z)(function*(){return d.signInResolver(u)})()}}function JA(f,u){var d;const m=(0,K.m9)(f),_=u;return ae(u.customData.operationType,m,"argument-error"),ae(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),Mg._fromError(m,_)}class Rg{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>It._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new Rg(u)}getSession(){var u=this;return(0,C.Z)(function*(){return Os._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var m=this;return(0,C.Z)(function*(){const _=u,E=yield m.getSession(),O=yield fn(m.user,_._process(m.user.auth,E,d));return yield m.user._updateTokensIfNecessary(O),m.user.reload()})()}unenroll(u){var d=this;return(0,C.Z)(function*(){const m="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const E=yield fn(d.user,function iS(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:withdraw",$(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:O})=>O!==m),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Pg=new WeakMap;function rS(f){const u=(0,K.m9)(f);return Pg.has(u)||Pg.set(u,Rg._fromUser(u)),Pg.get(u)}const af="__sak";class D0{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const A0=(()=>{class f extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Og(){const f=(0,K.z$)();return ke(f)||Ie(f)}()&&function Ae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),E=this.localCache[m];_!==E&&d(m,E,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((H,oe,xe)=>{this.notifyListeners(H,xe)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(_);if(d.newValue!==H)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const E=()=>{const H=this.storage.getItem(_);!m&&this.localCache[_]===H||this.notifyListeners(_,H)},O=this.storage.getItem(_);!function F(){return(0,K.w1)()&&10===document.documentMode}()||O===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,m),E.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield m().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var m=()=>super._remove,_=this;return(0,C.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),oo=(()=>{class f extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let aS=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(E=>E.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:O,data:H}=_.data,oe=m.handlersMap[O];if(!oe?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:O});const xe=Array.from(oe).map(function(){var bt=(0,C.Z)(function*(Ri){return Ri(_.origin,H)});return function(Ri){return bt.apply(this,arguments)}}()),Be=yield function sS(f){return Promise.all(f.map(function(){var u=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return u.apply(this,arguments)}}()))}(xe);_.ports[0].postMessage({status:"done",eventId:E,eventType:O,response:Be})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Mn(f="",u=10){let d="";for(let m=0;m<u;m++)d+=Math.floor(10*Math.random());return f+d}class ou{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,m=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let O,H;return new Promise((oe,xe)=>{const Be=Mn("",20);E.port1.start();const bt=setTimeout(()=>{xe(new Error("unsupported_event"))},m);H={messageChannel:E,onMessage(Ri){const Ao=Ri;if(Ao.data.eventId===Be)switch(Ao.data.status){case"ack":clearTimeout(bt),O=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(O),oe(Ao.data.response);break;default:clearTimeout(bt),clearTimeout(O),xe(new Error("invalid_response"))}}},_.handlers.add(H),E.port1.addEventListener("message",H.onMessage),_.target.postMessage({eventType:u,eventId:Be,data:d},[E.port2])}).finally(()=>{H&&_.removeMessageHandler(H)})})()}}function Lt(){return window}function su(){return typeof Lt().WorkerGlobalScope<"u"&&"function"==typeof Lt().importScripts}function au(){return(au=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lu="firebaseLocalStorageDb",Ml="firebaseLocalStorage",uf="fbase_key";class Ia{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ks(f,u){return f.transaction([Ml],u?"readwrite":"readonly").objectStore(Ml)}function Zo(){const f=indexedDB.open(lu,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Ml,{keyPath:uf})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Ml)?u(m):(m.close(),yield function Rl(){const f=indexedDB.deleteDatabase(lu);return new Ia(f).toPromise()}(),u(yield Zo()))}))})}function df(f,u,d){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,C.Z)(function*(f,u,d){const m=ks(f,!0).put({[uf]:u,value:d});return new Ia(m).toPromise()})).apply(this,arguments)}function Bg(){return(Bg=(0,C.Z)(function*(f,u){const d=ks(f,!1).get(u),m=yield new Ia(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Ug(f,u){const d=ks(f,!0).delete(u);return new Ia(d).toPromise()}const cu=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield Zo()),d.db})()}_withRetries(d){var m=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield m._openDb();return yield d(E)}catch(E){if(_++>3)throw E;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return su()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=aS._getInstance(function Lg(){return su()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function Fg(){return au.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ou(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(m=E[0])&&void 0!==m&&m.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,C.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function lf(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Zo();return yield df(d,af,"1"),yield Ug(d,af),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,C.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>df(E,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=yield m._withRetries(E=>function lS(f,u){return Bg.apply(this,arguments)}(E,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,C.Z)(function*(){return m._withPendingWrite((0,C.Z)(function*(){return yield m._withRetries(_=>Ug(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const m=yield d._withRetries(O=>{const H=ks(O,!1).getAll();return new Ia(H).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;if(0!==m.length)for(const{fbase_key:O,value:H}of m)E.add(O),JSON.stringify(d.localCache[O])!==JSON.stringify(H)&&(d.notifyListeners(O,H),_.push(O));for(const O of Object.keys(d.localCache))d.localCache[O]&&!E.has(O)&&(d.notifyListeners(O,null),_.push(O));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Pl=1e12;class jg{constructor(u){this.auth=u,this.counter=Pl,this._widgets=new Map}render(u,d){const m=this.counter;return this._widgets.set(m,new O0(u,this.auth.name,d||{})),this.counter++,m}reset(u){var d;const m=u||Pl;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Pl))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,C.Z)(function*(){var m;return null===(m=d._widgets.get(u||Pl))||void 0===m||m.execute(),""})()}}class O0{constructor(u,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;ae(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function k0(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ff=g0("rcb"),zg=new Yi(3e4,6e4);class $g{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Lt().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ae(function F0(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&zn(Lt().grecaptcha)?Promise.resolve(Lt().grecaptcha):new Promise((m,_)=>{const E=Lt().setTimeout(()=>{_(jt(u,"network-request-failed"))},zg.get());Lt()[ff]=()=>{Lt().clearTimeout(E),delete Lt()[ff];const H=Lt().grecaptcha;if(!H||!zn(H))return void _(jt(u,"internal-error"));const oe=H.render;H.render=(xe,Be)=>{const bt=oe(xe,Be);return this.counter++,bt},this.hostLanguage=d,m(H)},hg(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:ff,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(jt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Lt().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hS{load(u){return(0,C.Z)(function*(){return new jg(u)})()}clearedOneInstance(){}}const Hg="recaptcha",vr={theme:"light",type:"image"};class qg{constructor(u,d,m=Object.assign({},vr)){this.parameters=m,this.type=Hg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(u),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ae(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hS:new $g,this.validateStartingState()}verify(){var u=this;return(0,C.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(d)||new Promise(E=>{const O=H=>{H&&(u.tokenChangeListeners.delete(O),E(H))};u.tokenChangeListeners.add(O),u.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof u)u(d);else if("string"==typeof u){const m=Lt()[u];"function"==typeof m&&m(d)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,C.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,C.Z)(function*(){ae(Dn()&&!su(),u.auth,"internal-error"),yield function L0(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Bi(f){return Mr.apply(this,arguments)}(u.auth);ae(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pf{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=$o._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Wg(f,u,d){return uu.apply(this,arguments)}function uu(){return(uu=(0,C.Z)(function*(f,u,d){const m=mn(f),_=yield kl(m,u,(0,K.m9)(d));return new pf(_,E=>Jc(m,E))})).apply(this,arguments)}function V0(f,u,d){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);yield Yc(!1,m,"phone");const _=yield kl(m.auth,u,(0,K.m9)(d));return new pf(_,E=>Kh(m,E))})).apply(this,arguments)}function B0(f,u,d){return br.apply(this,arguments)}function br(){return(br=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=yield kl(m.auth,u,(0,K.m9)(d));return new pf(_,E=>Cg(m,E))})).apply(this,arguments)}function kl(f,u,d){return du.apply(this,arguments)}function du(){return du=(0,C.Z)(function*(f,u,d){var m;const _=yield d.verify();try{let E;if(ae("string"==typeof _,f,"argument-error"),ae(d.type===Hg,f,"argument-error"),E="string"==typeof u?{phoneNumber:u}:u,"session"in E){const O=E.session;if("phoneNumber"in E)return ae("enroll"===O.type,f,"internal-error"),(yield function eS(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:start",$(f,u))}(f,{idToken:O.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ae("signin"===O.type,f,"internal-error");const H=(null===(m=E.multiFactorHint)||void 0===m?void 0:m.uid)||E.multiFactorUid;return ae(H,f,"missing-multi-factor-info"),(yield function R0(f,u){return ne(f,"POST","/v2/accounts/mfaSignIn:start",$(f,u))}(f,{mfaPendingCredential:O.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:O}=yield function E0(f,u){return Vh.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return O}}finally{d._reset()}}),du.apply(this,arguments)}function Xt(f,u){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,C.Z)(function*(f,u){yield Qc((0,K.m9)(f),u)})).apply(this,arguments)}let hu=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=mn(d)}verifyPhoneNumber(d,m){return kl(this.auth,d,(0,K.m9)(m))}static credential(d,m){return $o._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?$o._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Nn(f,u){return u?Q(u):(ae(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class mf extends da{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return jo(u,this._buildIdpRequest())}_linkToIdToken(u,d){return jo(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return jo(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Gg(f){return xg(f.auth,new mf(f),f.bypassAuthState)}function xa(f){const{auth:u,user:d}=f;return ae(d,u,"internal-error"),Ig(d,new mf(f),f.bypassAuthState)}function cr(f){return gf.apply(this,arguments)}function gf(){return(gf=(0,C.Z)(function*(f){const{auth:u,user:d}=f;return ae(d,u,"internal-error"),Qc(d,new mf(f),f.bypassAuthState)})).apply(this,arguments)}class Zg{constructor(u,d,m,_,E=!1){this.auth=u,this.resolver=m,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,C.Z)(function*(m,_){u.pendingPromise={resolve:m,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(E){u.reject(E)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,C.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:E,tenantId:O,error:H,type:oe}=u;if(H)return void d.reject(H);const xe={auth:d.auth,requestUri:m,sessionId:_,tenantId:O||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(oe)(xe))}catch(Be){d.reject(Be)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Gg;case"linkViaPopup":case"linkViaRedirect":return cr;case"reauthViaPopup":case"reauthViaRedirect":return xa;default:ft(this.auth,"internal-error")}}resolve(u){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U0=new Yi(2e3,1e4);function Ko(f,u,d){return fu.apply(this,arguments)}function fu(){return(fu=(0,C.Z)(function*(f,u,d){const m=mn(f);On(f,u,wo);const _=Nn(m,d);return new _f(m,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function j0(f,u,d){return pu.apply(this,arguments)}function pu(){return(pu=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,wo);const _=Nn(m.auth,d);return new _f(m.auth,"reauthViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}function Kg(f,u,d){return mu.apply(this,arguments)}function mu(){return(mu=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,wo);const _=Nn(m.auth,d);return new _f(m.auth,"linkViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}let _f=(()=>{class f extends Zg{constructor(d,m,_,E,O){super(d,m,E,O),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const m=yield d.execute();return ae(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,C.Z)(function*(){en(1===d.filter.length,"Popup operations only handle one event");const m=Mn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(jt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,U0.get())};d()}}return f.currentPopupAction=null,f})();const qe="pendingRedirect",Ca=new Map;class fS extends Zg{constructor(u,d,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,C.Z)(function*(){let m=Ca.get(d.auth._key());if(!m){try{const E=(yield function z0(f,u){return yf.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;m=()=>Promise.resolve(E)}catch(_){m=()=>Promise.reject(_)}Ca.set(d.auth._key(),m)}return d.bypassAuthState||Ca.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,m=this;return(0,C.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(m,u);if("unknown"!==u.type){if(u.eventId){const _=yield m.auth._redirectUserForId(u.eventId);if(_)return m.user=_,d().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function yf(){return(yf=(0,C.Z)(function*(f,u){const d=Xg(u),m=Yg(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function vf(f,u){return gu.apply(this,arguments)}function gu(){return(gu=(0,C.Z)(function*(f,u){return Yg(f)._set(Xg(u),"true")})).apply(this,arguments)}function Ta(){Ca.clear()}function Qg(f,u){Ca.set(f._key(),u)}function Yg(f){return Q(f._redirectPersistence)}function Xg(f){return He(qe,f.config.apiKey,f.name)}function $0(f,u,d){return function H0(f,u,d){return ie.apply(this,arguments)}(f,u,d)}function ie(){return(ie=(0,C.Z)(function*(f,u,d){const m=mn(f);On(f,u,wo),yield m._initializationPromise;const _=Nn(m,d);return yield vf(_,m),_._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function Dt(f,u,d){return function Co(f,u,d){return Nr.apply(this,arguments)}(f,u,d)}function Nr(){return(Nr=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,wo),yield m.auth._initializationPromise;const _=Nn(m.auth,d);yield vf(_,m.auth);const E=yield q0(m);return _._openRedirect(m.auth,u,"reauthViaRedirect",E)})).apply(this,arguments)}function ui(f,u,d){return function Jg(f,u,d){return Ns.apply(this,arguments)}(f,u,d)}function Ns(){return(Ns=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,wo),yield m.auth._initializationPromise;const _=Nn(m.auth,d);yield Yc(!1,m,u.providerId),yield vf(_,m.auth);const E=yield q0(m);return _._openRedirect(m.auth,u,"linkViaRedirect",E)})).apply(this,arguments)}function so(f,u){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,C.Z)(function*(f,u){return yield mn(f)._initializationPromise,Ll(f,u,!1)})).apply(this,arguments)}function Ll(f,u){return bf.apply(this,arguments)}function bf(){return(bf=(0,C.Z)(function*(f,u,d=!1){const m=mn(f),_=Nn(m,u),O=yield new fS(m,_,d).execute();return O&&!d&&(delete O.user._redirectEventId,yield m._persistUserIfCurrent(O.user),yield m._setRedirectUser(null,u)),O})).apply(this,arguments)}function q0(f){return _u.apply(this,arguments)}function _u(){return(_u=(0,C.Z)(function*(f){const u=Mn(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class ao{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(d=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function To(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fs(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var m;if(u.error&&!Fs(u)){const _=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(jt(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const m=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ef(u))}saveEventToCache(u){this.cachedEventUids.add(Ef(u)),this.lastProcessedEventTime=Date.now()}}function Ef(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Fs({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function e_(f){return yu.apply(this,arguments)}function yu(){return(yu=(0,C.Z)(function*(f,u={}){return ne(f,"GET","/v1/projects",u)})).apply(this,arguments)}const W0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G0=/^https?/;function Vl(){return(Vl=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield e_(f);for(const d of u)try{if(t_(d))return}catch{}ft(f,"unauthorized-domain")})).apply(this,arguments)}function t_(f){const u=En(),{protocol:d,hostname:m}=new URL(u);if(f.startsWith("chrome-extension://")){const O=new URL(f);return""===O.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&O.hostname===m}if(!G0.test(d))return!1;if(W0.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const If=new Yi(3e4,6e4);function n_(){const f=Lt().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Da=null;const o_=new Yi(5e3,15e3),s_="__/auth/iframe",a_="emulator/auth/iframe",xf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K0(f){const u=f.config;ae(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?Eo(u,a_):`https://${f.config.authDomain}/${s_}`,m={apiKey:u.apiKey,appName:f.name,v:k.SDK_VERSION},_=Z0.get(f.config.apiHost);_&&(m.eid=_);const E=f._getFrameworks();return E.length&&(m.fw=E.join(",")),`${d}?${(0,K.xO)(m).slice(1)}`}function Do(){return Do=(0,C.Z)(function*(f){const u=yield function r_(f){return Da=Da||function i_(f){return new Promise((u,d)=>{var m,_,E;function O(){n_(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{n_(),d(jt(f,"network-request-failed"))},timeout:If.get()})}if(null!==(_=null===(m=Lt().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(E=Lt().gapi)||void 0===E||!E.load){const H=g0("iframefcb");return Lt()[H]=()=>{gapi.load?O():d(jt(f,"network-request-failed"))},hg(`https://apis.google.com/js/api.js?onload=${H}`).catch(oe=>d(oe))}O()}}).catch(u=>{throw Da=null,u})}(f),Da}(f),d=Lt().gapi;return ae(d,f,"internal-error"),u.open({where:document.body,url:K0(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xf,dontclear:!0},m=>new Promise(function(){var _=(0,C.Z)(function*(E,O){yield m.restyle({setHideOnLeave:!1});const H=jt(f,"network-request-failed"),oe=Lt().setTimeout(()=>{O(H)},o_.get());function xe(){Lt().clearTimeout(oe),E(m)}m.ping(xe).then(xe,()=>{O(H)})});return function(E,O){return _.apply(this,arguments)}}()))}),Do.apply(this,arguments)}const _n={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cf{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qo="__/auth/handler",eE="emulator/auth/handler",bu=encodeURIComponent("fac");function Aa(f,u,d,m,_,E){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,C.Z)(function*(f,u,d,m,_,E){ae(f.config.authDomain,f,"auth-domain-config-required"),ae(f.config.apiKey,f,"invalid-api-key");const O={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:k.SDK_VERSION,eventId:_};if(u instanceof wo){u.setDefaultLanguage(f.languageCode),O.providerId=u.providerId||"",(0,K.xb)(u.getCustomParameters())||(O.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Be,bt]of Object.entries(E||{}))O[Be]=bt}if(u instanceof pa){const Be=u.getScopes().filter(bt=>""!==bt);Be.length>0&&(O.scopes=Be.join(","))}f.tenantId&&(O.tid=f.tenantId);const H=O;for(const Be of Object.keys(H))void 0===H[Be]&&delete H[Be];const oe=yield f._getAppCheckToken(),xe=oe?`#${bu}=${encodeURIComponent(oe)}`:"";return`${function Tf({config:f}){return f.emulator?Eo(f,eE):`https://${f.authDomain}/${Qo}`}(f)}?${(0,K.xO)(H).slice(1)}${xe}`})).apply(this,arguments)}const Eu="webStorageSupport",u_=class c_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=Ll,this._overrideRedirectResult=Qg}_openPopup(u,d,m,_){var E=this;return(0,C.Z)(function*(){var O;en(null===(O=E.eventManagers[u._key()])||void 0===O?void 0:O.manager,"_initialize() not called before _openPopup()");const H=yield Aa(u,d,m,En(),_);return function l_(f,u,d,m=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),O=Math.max((window.screen.availWidth-m)/2,0).toString();let H="";const oe=Object.assign(Object.assign({},_n),{width:m.toString(),height:_.toString(),top:E,left:O}),xe=(0,K.z$)().toLowerCase();d&&(H=Jn(xe)?"_blank":d),Ht(xe)&&(u=u||"http://localhost",oe.scrollbars="yes");const Be=Object.entries(oe).reduce((Ri,[Ao,zl])=>`${Ri}${Ao}=${zl},`,"");if(function pt(f=(0,K.z$)()){var u;return Ie(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(xe)&&"_self"!==H)return function vu(f,u){const d=document.createElement("a");d.href=f,d.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(u||"",H),new Cf(null);const bt=window.open(u||"",H,Be);ae(bt,f,"popup-blocked");try{bt.focus()}catch{}return new Cf(bt)}(u,H,Mn())})()}_openRedirect(u,d,m,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(u),function Ng(f){Lt().location.href=f}(yield Aa(u,d,m,En(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(en(E,"If manager is not set, promise should be"),E)}const m=this.initAndGetManager(u);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(u){var d=this;return(0,C.Z)(function*(){const m=yield function Mi(f){return Do.apply(this,arguments)}(u),_=new ao(u);return m.register("authEvent",E=>(ae(E?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=m,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Eu,{type:Eu},_=>{var E;const O=null===(E=_?.[0])||void 0===E?void 0:E[Eu];void 0!==O&&d(!!O),ft(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function wf(f){return Vl.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return pn()||ke()||Ie()}};class Ma{constructor(u){this.factorId=u}_process(u,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,m);case"signin":return this._finalizeSignIn(u,d.credential);default:return Et("unexpected MultiFactorSessionType")}}}class Ls extends Ma{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Ls(u)}_finalizeEnroll(u,d,m){return function tS(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:finalize",$(f,u))}(u,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function hf(f,u){return ne(f,"POST","/v2/accounts/mfaSignIn:finalize",$(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tE=(()=>{class f{constructor(){}static assertion(d){return Ls._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var d_="@firebase/auth";class pS{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jl=(0,K.Pz)("authIdTokenMaxAge")||300;let Iu=null;const xu=f=>function(){var u=(0,C.Z)(function*(d){const m=d&&(yield d.getIdTokenResult()),_=m&&((new Date).getTime()-Date.parse(m.issuedAtTime))/1e3;if(_&&_>jl)return;const E=m?.token;Iu!==E&&(Iu=E,yield fetch(f,{method:E?"POST":"DELETE",headers:E?{Authorization:`Bearer ${E}`}:{}}))});return function(d){return u.apply(this,arguments)}}();function mS(f=(0,k.getApp)()){const u=(0,k._getProvider)(f,"auth");if(u.isInitialized())return u.getImmediate();const d=function KA(f,u){const d=(0,k._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),E=d.getOptions();if((0,K.vZ)(E,u??{}))return _;ft(_,"already-initialized")}return d.initialize({options:u})}(f,{popupRedirectResolver:u_,persistence:[cu,A0,oo]}),m=(0,K.Pz)("authTokenSyncURL");if(m){const E=xu(m);(function Ps(f,u,d){(0,K.m9)(f).beforeAuthStateChanged(u,d)})(d,E,()=>E(d.currentUser)),function nf(f,u,d,m){(0,K.m9)(f).onIdTokenChanged(u,d,m)}(d,O=>E(O))}const _=(0,K.q4)("auth");return _&&v0(d,`http://${_}`),d}!function Ul(f){(0,k._registerComponent)(new un.wA("auth",(u,{options:d})=>{const m=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),E=u.getProvider("app-check-internal"),{apiKey:O,authDomain:H}=m.options;ae(O&&!O.includes(":"),"invalid-api-key",{appName:m.name});const oe={apiKey:O,authDomain:H,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ut(f)},xe=new qA(m,_,E,oe);return function de(f,u){const d=u?.persistence||[],m=(Array.isArray(d)?d:[d]).map(Q);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(m,u?.popupRedirectResolver)}(xe,d),xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,m)=>{u.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new un.wA("auth-internal",u=>{const d=mn(u.getProvider("auth").getImmediate());return new pS(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(d_,"1.5.1",function Df(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,k.registerVersion)(d_,"1.5.1","esm2017")}("Browser")},58:(Zr,Bn,Ue)=>{Ue.d(Bn,{BH:()=>Qi,L:()=>Ct,LL:()=>te,P0:()=>dn,Pz:()=>jt,Sg:()=>On,UG:()=>Et,ZB:()=>Re,ZR:()=>ne,aH:()=>ft,b$:()=>Dn,eu:()=>G,hl:()=>q,jU:()=>en,m9:()=>eo,ne:()=>Xi,pd:()=>Pr,q4:()=>jn,r3:()=>$n,ru:()=>En,tV:()=>ee,uI:()=>ae,vZ:()=>Kr,w1:()=>Sr,xO:()=>Yr,xb:()=>Bi,z$:()=>st,zd:()=>Rr});const Pe=function(M){const D=[];let b=0;for(let I=0;I<M.length;I++){let v=M.charCodeAt(I);v<128?D[b++]=v:v<2048?(D[b++]=v>>6|192,D[b++]=63&v|128):55296==(64512&v)&&I+1<M.length&&56320==(64512&M.charCodeAt(I+1))?(v=65536+((1023&v)<<10)+(1023&M.charCodeAt(++I)),D[b++]=v>>18|240,D[b++]=v>>12&63|128,D[b++]=v>>6&63|128,D[b++]=63&v|128):(D[b++]=v>>12|224,D[b++]=v>>6&63|128,D[b++]=63&v|128)}return D},un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,D){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let v=0;v<M.length;v+=3){const S=M[v],Q=v+1<M.length,Ce=Q?M[v+1]:0,De=v+2<M.length,He=De?M[v+2]:0;let Ht=(15&Ce)<<2|He>>6,ke=63&He;De||(ke=64,Q||(Ht=64)),I.push(b[S>>2],b[(3&S)<<4|Ce>>4],b[Ht],b[ke])}return I.join("")},encodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(M):this.encodeByteArray(Pe(M),D)},decodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(M):function(M){const D=[];let b=0,I=0;for(;b<M.length;){const v=M[b++];if(v<128)D[I++]=String.fromCharCode(v);else if(v>191&&v<224){const S=M[b++];D[I++]=String.fromCharCode((31&v)<<6|63&S)}else if(v>239&&v<365){const De=((7&v)<<18|(63&M[b++])<<12|(63&M[b++])<<6|63&M[b++])-65536;D[I++]=String.fromCharCode(55296+(De>>10)),D[I++]=String.fromCharCode(56320+(1023&De))}else{const S=M[b++],Q=M[b++];D[I++]=String.fromCharCode((15&v)<<12|(63&S)<<6|63&Q)}}return D.join("")}(this.decodeStringToByteArray(M,D))},decodeStringToByteArray(M,D){this.init_();const b=D?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let v=0;v<M.length;){const S=b[M.charAt(v++)],Ce=v<M.length?b[M.charAt(v)]:0;++v;const He=v<M.length?b[M.charAt(v)]:64;++v;const ye=v<M.length?b[M.charAt(v)]:64;if(++v,null==S||null==Ce||null==He||null==ye)throw new Tn;I.push(S<<2|Ce>>4),64!==He&&(I.push(Ce<<4&240|He>>2),64!==ye&&I.push(He<<6&192|ye))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class Tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ct=function(M){return function(M){const D=Pe(M);return un.encodeByteArray(D,!0)}(M).replace(/\./g,"")},ee=function(M){try{return un.decodeString(M,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Re(M,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return D}for(const b in D)!D.hasOwnProperty(b)||!nt(b)||(M[b]=Re(M[b],D[b]));return M}function nt(M){return"__proto__"!==M}const Ze=()=>{try{return function Mt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=M&&ee(M[1]);return D&&JSON.parse(D)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},jn=M=>{var D,b;return null===(b=null===(D=Ze())||void 0===D?void 0:D.emulatorHosts)||void 0===b?void 0:b[M]},dn=M=>{const D=jn(M);if(!D)return;const b=D.lastIndexOf(":");if(b<=0||b+1===D.length)throw new Error(`Invalid host ${D} with no separate hostname and port!`);const I=parseInt(D.substring(b+1),10);return"["===D[0]?[D.substring(1,b-1),I]:[D.substring(0,b),I]},ft=()=>{var M;return null===(M=Ze())||void 0===M?void 0:M.config},jt=M=>{var D;return null===(D=Ze())||void 0===D?void 0:D[`_${M}`]};class Qi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,b)=>{this.resolve=D,this.reject=b})}wrapCallback(D){return(b,I)=>{b?this.reject(b):this.resolve(I),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(b):D(b,I))}}}function On(M,D){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=D||"demo-project",v=M.iat||0,S=M.sub||M.user_id;if(!S)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Q=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:v,exp:v+3600,auth_time:v,sub:S,user_id:S,firebase:{sign_in_provider:"custom",identities:{}}},M);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(Q)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function Et(){var M;const D=null===(M=Ze())||void 0===M?void 0:M.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function en(){return"object"==typeof self&&self.self===self}function En(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sr(){const M=st();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function q(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((M,D)=>{try{let b=!0;const I="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(I);v.onsuccess=()=>{v.result.close(),b||self.indexedDB.deleteDatabase(I),M(!0)},v.onupgradeneeded=()=>{b=!1},v.onerror=()=>{var S;D((null===(S=v.error)||void 0===S?void 0:S.message)||"")}}catch(b){D(b)}})}class ne extends Error{constructor(D,b,I){super(b),this.code=D,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(D,b,I){this.service=D,this.serviceName=b,this.errors=I}create(D,...b){const I=b[0]||{},v=`${this.service}/${D}`,S=this.errors[D],Q=S?function fe(M,D){return M.replace(ht,(b,I)=>{const v=D[I];return null!=v?String(v):`<${I}?>`})}(S,I):"Error";return new ne(v,`${this.serviceName}: ${Q} (${v}).`,I)}}const ht=/\{\$([^}]+)}/g;function $n(M,D){return Object.prototype.hasOwnProperty.call(M,D)}function Bi(M){for(const D in M)if(Object.prototype.hasOwnProperty.call(M,D))return!1;return!0}function Kr(M,D){if(M===D)return!0;const b=Object.keys(M),I=Object.keys(D);for(const v of b){if(!I.includes(v))return!1;const S=M[v],Q=D[v];if(yt(S)&&yt(Q)){if(!Kr(S,Q))return!1}else if(S!==Q)return!1}for(const v of I)if(!b.includes(v))return!1;return!0}function yt(M){return null!==M&&"object"==typeof M}function Yr(M){const D=[];for(const[b,I]of Object.entries(M))Array.isArray(I)?I.forEach(v=>{D.push(encodeURIComponent(b)+"="+encodeURIComponent(v))}):D.push(encodeURIComponent(b)+"="+encodeURIComponent(I));return D.length?"&"+D.join("&"):""}function Rr(M){const D={};return M.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[v,S]=I.split("=");D[decodeURIComponent(v)]=decodeURIComponent(S)}}),D}function Pr(M){const D=M.indexOf("?");if(!D)return"";const b=M.indexOf("#",D);return M.substring(D,b>0?b:void 0)}function Xi(M,D){const b=new Ji(M,D);return b.subscribe.bind(b)}class Ji{constructor(D,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{D(this)}).catch(I=>{this.error(I)})}next(D){this.forEachObserver(b=>{b.next(D)})}error(D){this.forEachObserver(b=>{b.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,b,I){let v;if(void 0===D&&void 0===b&&void 0===I)throw new Error("Missing Observer.");v=function oi(M,D){if("object"!=typeof M||null===M)return!1;for(const b of D)if(b in M&&"function"==typeof M[b])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:b,complete:I},void 0===v.next&&(v.next=Ut),void 0===v.error&&(v.error=Ut),void 0===v.complete&&(v.complete=Ut);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),S}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,D)}sendOne(D,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{b(this.observers[D])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function eo(M){return M&&M._delegate?M._delegate:M}},27:(Zr,Bn,Ue)=>{function C(n){return"function"==typeof n}function K(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const k=K(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Pe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(C(i))try{i()}catch(o){e=o instanceof k?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Yt(o)}catch(s){e=e??[],s instanceof k?e=[...e,...s.errors]:e.push(s)}}if(e)throw new k(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Yt(e);else{if(e instanceof gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pe(t,e)}remove(e){const{_finalizers:t}=this;t&&Pe(t,e),e instanceof gt&&e._removeParent(this)}}gt.EMPTY=(()=>{const n=new gt;return n.closed=!0,n})();const un=gt.EMPTY;function Tn(n){return n instanceof gt||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function Yt(n){C(n)?n():n.unsubscribe()}const Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(n,e,...t){const{delegate:i}=ee;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ee;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ue(n){ee.setTimeout(()=>{const{onUnhandledError:e}=Ct;if(!e)throw n;e(n)})}function Re(){}const nt=_t("C",void 0,void 0);function _t(n,e,t){return{kind:n,value:e,error:t}}let Ge=null;function Ze(n){if(Ct.useDeprecatedSynchronousErrorHandling){const e=!Ge;if(e&&(Ge={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ge;if(Ge=null,t)throw i}}else n()}class dn extends gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tn(e)&&e.add(this)):this.destination=en}static create(e,t,i){return new On(e,t,i)}next(e){this.isStopped?Et(function Un(n){return _t("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Et(function Mt(n){return _t("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Et(nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function jt(n,e){return ft.call(n,e)}class Qi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){st(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){st(i)}else st(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){st(t)}}}class On extends dn{constructor(e,t,i){let r;if(super(),C(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Ct.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&jt(e.next,o),error:e.error&&jt(e.error,o),complete:e.complete&&jt(e.complete,o)}):r=e}this.destination=new Qi(r)}}function st(n){Ct.useDeprecatedSynchronousErrorHandling?function jn(n){Ct.useDeprecatedSynchronousErrorHandling&&Ge&&(Ge.errorThrown=!0,Ge.error=n)}(n):ue(n)}function Et(n,e){const{onStoppedNotification:t}=Ct;t&&ee.setTimeout(()=>t(n,e))}const en={closed:!0,next:Re,error:function ae(n){throw n},complete:Re},En="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dn(n){return n}function Sr(n){return 0===n.length?Dn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function q(n){return n&&n instanceof dn||function Eo(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&Tn(n)}(t)?t:new On(t,i,r);return Ze(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Yi(i))((r,o)=>{const s=new On({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[En](){return this}pipe(...t){return Sr(t)(this)}toPromise(t){return new(t=Yi(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Yi(n){var e;return null!==(e=n??Ct.Promise)&&void 0!==e?e:Promise}const G=K(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new $(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new G}next(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?un:(this.currentObservers=null,o.push(t),new gt(()=>{this.currentObservers=null,Pe(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ke;return t.source=this,t}}return n.create=(e,t)=>new $(e,t),n})();class $ extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:un}}function ne(n){return C(n?.lift)}function te(n){return e=>{if(ne(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,i,r){return new ht(n,e,t,i,r)}class ht extends dn{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(n,e){return te((t,i)=>{let r=0;t.subscribe(fe(i,o=>{i.next(n.call(e,o,r++))}))})}var Ve=Ue(582);const wt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nn(n){return C(n?.then)}function Gt(n){return C(n[En])}function hn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function zn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ri=function $n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bi(n){return C(n?.[ri])}function Mr(n){return(0,Ve.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ve.qq)(t.read());if(r)return yield(0,Ve.qq)(void 0);yield yield(0,Ve.qq)(i)}}finally{t.releaseLock()}})}function Kr(n){return C(n?.getReader)}function yt(n){if(n instanceof Ke)return n;if(null!=n){if(Gt(n))return function Qr(n){return new Ke(e=>{const t=n[En]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wt(n))return function Yr(n){return new Ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nn(n))return function Rr(n){return new Ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ue)})}(n);if(hn(n))return mi(n);if(Bi(n))return function Pr(n){return new Ke(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Kr(n))return function Xi(n){return mi(Mr(n))}(n)}throw zn(n)}function mi(n){return new Ke(e=>{(function Ji(n,e){var t,i,r,o;return(0,Ve.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ve.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function er(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Ut(n,e,t=1/0){return C(e)?Ut((i,r)=>Te((o,s)=>e(i,o,r,s))(yt(n(i,r))),t):("number"==typeof e&&(t=e),te((i,r)=>function oi(n,e,t,i,r,o,s,a){const l=[];let c=0,h=0,p=!1;const g=()=>{p&&!l.length&&!c&&e.complete()},y=x=>c<i?w(x):l.push(x),w=x=>{o&&e.next(x),c++;let T=!1;yt(t(x,h++)).subscribe(fe(e,N=>{r?.(N),o?y(N):e.next(N)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<i;){const N=l.shift();s?er(e,s,()=>w(N)):w(N)}g()}catch(N){e.error(N)}}))};return n.subscribe(fe(e,y,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function tr(n=1/0){return Ut(Dn,n)}const An=new Ke(n=>n.complete());function wn(n){return n&&C(n.schedule)}function Xr(n){return n[n.length-1]}function Jr(n){return C(Xr(n))?n.pop():void 0}function Or(n){return wn(Xr(n))?n.pop():void 0}function kn(n,e=0){return te((t,i)=>{t.subscribe(fe(i,r=>er(i,n,()=>i.next(r),e),()=>er(i,n,()=>i.complete(),e),r=>er(i,n,()=>i.error(r),e)))})}function gi(n,e=0){return te((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function eo(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ke(t=>{er(t,e,()=>{const i=n[Symbol.asyncIterator]();er(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function b(n,e){return e?function D(n,e){if(null!=n){if(Gt(n))return function nr(n,e){return yt(n).pipe(gi(e),kn(e))}(n,e);if(wt(n))return function Uo(n,e){return new Ke(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(nn(n))return function ua(n,e){return yt(n).pipe(gi(e),kn(e))}(n,e);if(hn(n))return eo(n,e);if(Bi(n))return function ws(n,e){return new Ke(t=>{let i;return er(t,e,()=>{i=n[ri](),er(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}(n,e);if(Kr(n))return function M(n,e){return eo(Mr(n),e)}(n,e)}throw zn(n)}(n,e):yt(n)}function I(...n){const e=Or(n),t=function Hn(n,e){return"number"==typeof Xr(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?yt(i[0]):tr(t)(b(i,e)):An}class v extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function S(...n){return b(n,Or(n))}function Q(n={}){const{connector:e=(()=>new z),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,h=p=!1},w=()=>{const x=s;y(),x?.unsubscribe()};return te((x,T)=>{c++,!p&&!h&&g();const N=l=l??e();T.add(()=>{c--,0===c&&!p&&!h&&(a=Ce(w,r))}),N.subscribe(T),!s&&c>0&&(s=new On({next:R=>N.next(R),error:R=>{p=!0,g(),a=Ce(y,t,R),N.error(R)},complete:()=>{h=!0,g(),a=Ce(y,i),N.complete()}}),yt(x).subscribe(s))})(o)}}function Ce(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new On({next:()=>{i.unsubscribe(),n()}});return yt(e(...t)).subscribe(i)}function De(n,e){return te((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(fe(i,l=>{r?.unsubscribe();let c=0;const h=o++;yt(n(l,h)).subscribe(r=fe(i,p=>i.next(e?e(l,p,h,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function He(n,e=Dn){return n=n??Tt,te((t,i)=>{let r,o=!0;t.subscribe(fe(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Tt(n,e){return n===e}function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function Ht(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Jn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Is=ye({__forward_ref__:ye});function U(n){return n.__forward_ref__=U,n.toString=function(){return ke(this())},n}function P(n){return se(n)?n():n}function se(n){return"function"==typeof n&&n.hasOwnProperty(Is)&&n.__forward_ref__===U}function Ie(n){return n&&!!n.\u0275providers}const pt="https://g.co/ng/security#xss";class F extends Error{constructor(e,t){super(function pn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function Sh(n,e){throw new F(-201,!1)}function _i(n,e){null==n&&function $e(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function de(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bc(n){return _g(n,ha)||_g(n,Uc)}function _g(n,e){return n.hasOwnProperty(e)?n[e]:null}function Il(n){return n&&(n.hasOwnProperty(Mh)||n.hasOwnProperty(b0))?n[Mh]:null}const ha=ye({\u0275prov:ye}),Mh=ye({\u0275inj:ye}),Uc=ye({ngInjectableDef:ye}),b0=ye({ngInjectorDef:ye});var dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(dt||{});let Rh;function Ui(n){const e=Rh;return Rh=n,e}function zc(n,e,t){const i=Bc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&dt.Optional?null:void 0!==e?e:void Sh(ke(n))}const qt=globalThis;class re{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=de({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cs={},Lh="__NG_DI_FLAG__",rr="ngTempTokenPath",Vh=/\n/gm,qc="__source";let fa;function zo(n){const e=fa;return fa=n,e}function I0(n,e=dt.Default){if(void 0===fa)throw new F(-203,!1);return null===fa?zc(n,void 0,e):fa.get(n,e&dt.Optional?null:void 0,e)}function V(n,e=dt.Default){return(function jc(){return Rh}()||I0)(P(n),e)}function ve(n,e=dt.Default){return V(n,Wc(e))}function Wc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ts(n){const e=[];for(let t=0;t<n.length;t++){const i=P(n[t]);if(Array.isArray(i)){if(0===i.length)throw new F(900,!1);let r,o=dt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Uh(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(V(r,o))}else e.push(V(i))}return e}function Gc(n,e){return n[Lh]=e,n.prototype[Lh]=e,n}function Uh(n){return n[Lh]}function or(n){return{toString:n}.toString()}var Zc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Zc||{}),_r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{});const to={},Pt=[],Io=ye({\u0275cmp:ye}),jh=ye({\u0275dir:ye}),ma=ye({\u0275pipe:ye}),Eg=ye({\u0275mod:ye}),no=ye({\u0275fac:ye}),Ds=ye({__NG_ELEMENT_ID__:ye}),sr=ye({__NG_ENV_ID__:ye});function zh(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function $h(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Cl(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Kc(n){return 3===n||4===n||6===n}function Cl(n){return 64===n.charCodeAt(0)}function ga(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Hh(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Hh(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const wg="ng-template";function qh(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==zh(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Qc(n){return 4===n.type&&n.value!==wg}function Wh(n,e,t){return e===(4!==n.type||t?n.value:wg)}function Yc(n,e,t){let i=4;const r=n.attrs||[],o=function Gh(n){for(let e=0;e<n.length;e++)if(Kc(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Wh(n,l,t)||""===l&&1===e.length){if(ar(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!qh(n.attrs,c,t)){if(ar(i))return!1;s=!0}continue}const p=Ig(8&i?"class":l,r,Qc(n),t);if(-1===p){if(ar(i))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":r[p+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==zh(y,c,0)||2&i&&c!==g){if(ar(i))return!1;s=!0}}}}else{if(!s&&!ar(i)&&!ar(l))return!1;if(s&&ar(l))continue;s=!1,i=l|1&i}}return ar(i)||s}function ar(n){return 0==(1&n)}function Ig(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Jc(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Xc(n,e,t=!1){for(let i=0;i<e.length;i++)if(Yc(n,e[i],t))return!0;return!1}function Kh(n,e){return n?":not("+e.trim()+")":e}function Qh(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ar(s)&&(e+=Kh(o,r),r=""),i=s,o=o||!ar(i);t++}return""!==r&&(e+=Kh(o,r)),e}function ei(n){return or(()=>{const e=Tg(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Zc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||Pt,_:null,schemas:n.schemas||null,tView:null,id:""};tu(t);const i=n.dependencies;return t.directiveDefs=Tl(i,!1),t.pipeDefs=Tl(i,!0),t.id=function C0(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function x0(n){return vt(n)||ai(n)}function Jh(n){return null!==n}function It(n){return or(()=>({type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eu(n,e){if(null==n)return to;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function je(n){return or(()=>{const e=Tg(n);return tu(e),e})}function si(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function vt(n){return n[Io]||null}function ai(n){return n[jh]||null}function li(n){return n[ma]||null}function Ai(n,e){const t=n[Eg]||null;if(!t&&!0===e)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return t}function Tg(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||to,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eu(n.inputs,e),outputs:eu(n.outputs)}}function tu(n){n.features?.forEach(e=>e(n))}function Tl(n,e){if(!n)return null;const t=e?li:x0;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Jh)}const rn=0,be=1,Qe=2,on=3,kr=4,As=5,yi=6,ya=7,gn=8,Ho=9,qo=10,Ye=11,Ss=12,Dg=13,Wo=14,Sn=15,Ms=16,va=17,yr=18,Dl=19,nu=20,Go=21,xo=22,ba=23,Rs=24,mt=25,iu=1,Ag=2,io=7,Ea=9,vi=11;function lr(n){return Array.isArray(n)&&"object"==typeof n[iu]}function ci(n){return Array.isArray(n)&&!0===n[iu]}function nf(n){return 0!=(4&n.flags)}function Ps(n){return n.componentOffset>-1}function rf(n){return 1==(1&n.flags)}function ro(n){return!!n.template}function Sg(n){return 0!=(512&n[Qe])}function wa(n,e){return n.hasOwnProperty(no)?n[no]:null}let Mn=null,ou=!1;function Lt(n){const e=Mn;return Mn=n,e}const Ng={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fg(n){if(!Rl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Ml(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Lg(n){n.dirty=!0,function au(n){if(void 0===n.liveConsumerNode)return;const e=ou;ou=!0;try{for(const t of n.liveConsumerNode)t.dirty||Lg(t)}finally{ou=e}}(n),n.consumerMarkedDirty?.(n)}function lu(n){return n&&(n.nextProducerIndex=0),Lt(n)}function cf(n,e){if(Lt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Rl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ks(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ml(n){Zo(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Fg(t),i!==t.version))return!0}return!1}function uf(n){if(Zo(n),Rl(n))for(let e=0;e<n.producerNode.length;e++)ks(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ks(n,e){if(function df(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Zo(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)ks(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Zo(r),r.producerIndexOfThis[i]=e}}function Rl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zo(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let M0=null;function zg(n){const e=Lt(null);try{return n()}finally{Lt(e)}}const $g=()=>{},F0=(()=>({...Ng,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:$g}))();class Hg{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function vr(){return qg}function qg(n){return n.type.prototype.ngOnChanges&&(n.setInput=pf),L0}function L0(){const n=uu(this),e=n?.current;if(e){const t=n.previous;if(t===to)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function pf(n,e,t,i){const r=this.declaredInputs[t],o=uu(n)||function V0(n,e){return n[Wg]=e}(n,{previous:to,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new Hg(l&&l.currentValue,e,a===to),n[i]=e}vr.ngInherit=!0;const Wg="__ngSimpleChanges__";function uu(n){return n[Wg]||null}const br=function(n,e,t){};function Xt(n){for(;Array.isArray(n);)n=n[rn];return n}function hu(n,e){return Xt(e[n])}function Nn(n,e){return Xt(e[n.index])}function Gg(n,e){return n.data[e]}function xa(n,e){return n[e]}function cr(n,e){const t=e[n];return lr(t)?t:t[rn]}function Ko(n,e){return null==e?null:n[e]}function fu(n){n[va]=0}function j0(n){1024&n[Qe]||(n[Qe]|=1024,Kg(n,1))}function pu(n){1024&n[Qe]&&(n[Qe]&=-1025,Kg(n,-1))}function Kg(n,e){let t=n[on];if(null===t)return;t[As]+=e;let i=t;for(t=t[on];null!==t&&(1===e&&1===i[As]||-1===e&&0===i[As]);)t[As]+=e,i=t,t=t[on]}const qe={lFrame:o_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gu(){return qe.bindingsEnabled}function ie(){return qe.lFrame.lView}function Dt(){return qe.lFrame.tView}function Co(n){return qe.lFrame.contextLView=n,n[gn]}function Nr(n){return qe.lFrame.contextLView=null,n}function ui(){let n=Jg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Jg(){return qe.lFrame.currentTNode}function so(n,e){const t=qe.lFrame;t.currentTNode=n,t.isParent=e}function Fl(){return qe.lFrame.isParent}function Ll(){qe.lFrame.isParent=!1}function Si(){const n=qe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Fs(){return qe.lFrame.bindingIndex++}function W0(n,e){const t=qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,wf(e)}function wf(n){qe.lFrame.currentDirectiveIndex=n}function t_(){return qe.lFrame.currentQueryIndex}function If(n){qe.lFrame.currentQueryIndex=n}function n_(n){const e=n[be];return 2===e.type?e.declTNode:1===e.type?n[yi]:null}function i_(n,e,t){if(t&dt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&dt.Host||(r=n_(o),null===r||(o=o[Wo],10&r.type))););if(null===r)return!1;e=r,n=o}const i=qe.lFrame=r_();return i.currentTNode=e,i.lView=n,!0}function Da(n){const e=r_(),t=n[be];qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function r_(){const n=qe.lFrame,e=null===n?null:n.child;return null===e?o_(n):e}function o_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function s_(){const n=qe.lFrame;return qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const a_=s_;function xf(){const n=s_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mi(){return qe.lFrame.selectedIndex}function Do(n){qe.lFrame.selectedIndex=n}function _n(){const n=qe.lFrame;return Gg(n.tView,n.selectedIndex)}let l_=!0;function vu(){return l_}function Qo(n){l_=n}function bu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Aa(n,e,t){Eu(n,e,3,t)}function Sa(n,e,t,i){(3&n[Qe])===t&&Eu(n,e,t,i)}function Tf(n,e){let t=n[Qe];(3&t)===e&&(t&=8191,t+=1,n[Qe]=t)}function Eu(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[va]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[va]+=65536),(a<o||-1==o)&&(u_(n,t,e,l),n[va]=(4294901760&n[va])+l+2),l++}function c_(n,e){br(4,n,e);const t=Lt(null);try{e.call(n)}finally{Lt(t),br(5,n,e)}}function u_(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Qe]>>13<n[va]>>16&&(3&n[Qe])===e&&(n[Qe]+=8192,c_(a,o)):c_(a,o)}const Ma=-1;class Ls{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Df(n){return n!==Ma}function Ul(n){return 32767&n}function jl(n,e){let t=function rE(n){return n>>16}(n),i=e;for(;t>0;)i=i[Wo],t--;return i}let Iu=!0;function xu(n){const e=Iu;return Iu=n,e}const f=255,u=5;let d=0;const m={};function E(n,e){const t=H(n,e);if(-1!==t)return t;const i=e[be];i.firstCreatePass&&(n.injectorIndex=e.length,O(i.data,n),O(e,null),O(i.blueprint,null));const r=oe(n,e),o=n.injectorIndex;if(Df(r)){const s=Ul(r),a=jl(r,e),l=a[be].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function O(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function oe(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=gS(r),null===i)return Ma;if(t++,r=r[Wo],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ma}function xe(n,e,t){!function _(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ds)&&(i=t[Ds]),null==i&&(i=t[Ds]=d++);const r=i&f;e.data[n+(r>>u)]|=1<<r}(n,e,t)}function bt(n,e,t){if(t&dt.Optional||void 0!==n)return n;Sh()}function Ri(n,e,t,i){if(t&dt.Optional&&void 0===i&&(i=null),!(t&(dt.Self|dt.Host))){const r=n[Ho],o=Ui(void 0);try{return r?r.get(e,i,t&dt.Optional):zc(e,i,t&dt.Optional)}finally{Ui(o)}}return bt(i,0,t)}function Ao(n,e,t,i=dt.Default,r){if(null!==n){if(2048&e[Qe]&&!(i&dt.Self)){const s=function Jz(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Qe]&&!(512&s[Qe]);){const a=zl(o,s,t,i|dt.Self,m);if(a!==m)return a;let l=o.parent;if(!l){const c=s[nu];if(c){const h=c.get(t,m,i);if(h!==m)return h}l=gS(s),s=s[Wo]}o=l}return r}(n,e,t,i,m);if(s!==m)return s}const o=zl(n,e,t,i,m);if(o!==m)return o}return Ri(e,t,i,r)}function zl(n,e,t,i,r){const o=function f_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ds)?n[Ds]:void 0;return"number"==typeof e?e>=0?e&f:oE:e}(t);if("function"==typeof o){if(!i_(e,n,i))return i&dt.Host?bt(r,0,i):Ri(e,t,i,r);try{let s;if(s=o(i),null!=s||i&dt.Optional)return s;Sh()}finally{a_()}}else if("number"==typeof o){let s=null,a=H(n,e),l=Ma,c=i&dt.Host?e[Sn][yi]:null;for((-1===a||i&dt.SkipSelf)&&(l=-1===a?oe(n,e):e[a+8],l!==Ma&&Af(i,!1)?(s=e[be],a=Ul(l),e=jl(l,e)):a=-1);-1!==a;){const h=e[be];if(Cu(o,a,h.data)){const p=h_(a,e,t,s,i,c);if(p!==m)return p}l=e[a+8],l!==Ma&&Af(i,e[be].data[a+8]===c)&&Cu(o,a,e)?(s=h,a=Ul(l),e=jl(l,e)):a=-1}}return r}function h_(n,e,t,i,r,o){const s=e[be],a=s.data[n+8],h=Ra(a,s,t,null==i?Ps(a)&&Iu:i!=s&&0!=(3&a.type),r&dt.Host&&o===a);return null!==h?Yo(e,s,h,a):m}function Ra(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let y=i?a:a+h;y<g;y++){const w=s[y];if(y<l&&t===w||y>=l&&w.type===t)return y}if(r){const y=s[l];if(y&&ro(y)&&y.type===t)return l}return null}function Yo(n,e,t,i){let r=n[t];const o=e.data;if(function tE(n){return n instanceof Ls}(r)){const s=r;s.resolving&&function wl(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new F(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(o[t]));const a=xu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Ui(s.injectImpl):null;i_(n,i,dt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function eE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=qg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&Ui(c),xu(a),s.resolving=!1,a_()}}return r}function Cu(n,e,t){return!!(t[e+(n>>u)]&1<<n)}function Af(n,e){return!(n&dt.Self||n&dt.Host&&e)}class bi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Ao(this._tNode,this._lView,e,Wc(i),t)}}function oE(){return new bi(ui(),ie())}function qn(n){return or(()=>{const e=n.prototype.constructor,t=e[no]||Mf(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[no]||Mf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Mf(n){return se(n)?()=>{const e=Mf(P(n));return e&&e()}:wa(n)}function gS(n){const e=n[be],t=e.type;return 2===t?e.declTNode:1===t?n[yi]:null}const Du="__parameters__";function Su(n,e,t){return or(()=>{const i=function sE(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const p=l.hasOwnProperty(Du)?l[Du]:Object.defineProperty(l,Du,{value:[]})[Du];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ru(n,e){n.forEach(t=>Array.isArray(t)?Ru(t,e):e(t))}function yS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function m_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fr(n,e,t){let i=Pu(n,e);return i>=0?n[1|i]=t:(i=~i,function s$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function aE(n,e){const t=Pu(n,e);if(t>=0)return n[1|t]}function Pu(n,e){return function vS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Lr=Gc(Su("Optional"),8),__=Gc(Su("SkipSelf"),4);function w_(n){return 128==(128&n.flags)}var Oa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oa||{});const D$=/^>|^->|<!--|-->|--!>|<!-$/g,A$=/(<|>)/g,S$="\u200b$1\u200b";const hE=new Map;let M$=0;const pE="__ngContext__";function ji(n,e){lr(e)?(n[pE]=e[Dl],function P$(n){hE.set(n[Dl],n)}(e)):n[pE]=e}let mE;function gE(n,e){return mE(n,e)}function Nf(n){const e=n[on];return ci(e)?e[on]:e}function BS(n){return jS(n[Ss])}function US(n){return jS(n[kr])}function jS(n){for(;null!==n&&!ci(n);)n=n[kr];return n}function Nu(n,e,t,i,r){if(null!=i){let o,s=!1;ci(i)?o=i:lr(i)&&(s=!0,i=i[rn]);const a=Xt(i);0===n&&null!==t?null==r?qS(e,t,a):$l(e,t,a,r||null,!0):1===n&&null!==t?$l(e,t,a,r||null,!0):2===n?function S_(n,e,t){const i=D_(n,e);i&&function Y$(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function eH(n,e,t,i,r){const o=t[io];o!==Xt(t)&&Nu(e,n,i,o,r);for(let a=vi;a<t.length;a++){const l=t[a];Lf(l[be],l,n,e,i,o)}}(e,n,o,t,r)}}function _E(n,e){return n.createComment(function RS(n){return n.replace(D$,e=>e.replace(A$,S$))}(e))}function C_(n,e,t){return n.createElement(e,t)}function $S(n,e){const t=n[Ea],i=t.indexOf(e);pu(e),t.splice(i,1)}function T_(n,e){if(n.length<=vi)return;const t=vi+e,i=n[t];if(i){const r=i[Ms];null!==r&&r!==n&&$S(r,i),e>0&&(n[t-1][kr]=i[kr]);const o=m_(n,vi+e);!function $$(n,e){Lf(n,e,e[Ye],2,null,null),e[rn]=null,e[yi]=null}(i[be],i);const s=o[yr];null!==s&&s.detachView(o[be]),i[on]=null,i[kr]=null,i[Qe]&=-129}return i}function yE(n,e){if(!(256&e[Qe])){const t=e[Ye];e[ba]&&uf(e[ba]),e[Rs]&&uf(e[Rs]),t.destroyNode&&Lf(n,e,t,3,null,null),function W$(n){let e=n[Ss];if(!e)return vE(n[be],n);for(;e;){let t=null;if(lr(e))t=e[Ss];else{const i=e[vi];i&&(t=i)}if(!t){for(;e&&!e[kr]&&e!==n;)lr(e)&&vE(e[be],e),e=e[on];null===e&&(e=n),lr(e)&&vE(e[be],e),t=e&&e[kr]}e=t}}(e)}}function vE(n,e){if(!(256&e[Qe])){e[Qe]&=-129,e[Qe]|=256,function Q$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Ls)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];br(4,a,l);try{l.call(a)}finally{br(5,a,l)}}else{br(4,r,o);try{o.call(r)}finally{br(5,r,o)}}}}}(n,e),function K$(n,e){const t=n.cleanup,i=e[ya];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[ya]=null);const r=e[Go];if(null!==r){e[Go]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[be].type&&e[Ye].destroy();const t=e[Ms];if(null!==t&&ci(e[on])){t!==e[on]&&$S(t,e);const i=e[yr];null!==i&&i.detachView(n)}!function O$(n){hE.delete(n[Dl])}(e)}}function bE(n,e,t){return function HS(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[rn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===_r.None||o===_r.Emulated)return null}return Nn(i,t)}}(n,e.parent,t)}function $l(n,e,t,i,r){n.insertBefore(e,t,i,r)}function qS(n,e,t){n.appendChild(e,t)}function WS(n,e,t,i,r){null!==i?$l(n,e,t,i,r):qS(n,e,t)}function D_(n,e){return n.parentNode(e)}let EE,M_,CE,R_,KS=function ZS(n,e,t){return 40&n.type?Nn(n,t):null};function A_(n,e,t,i){const r=bE(n,i,e),o=e[Ye],a=function GS(n,e,t){return KS(n,e,t)}(i.parent||e[yi],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)WS(o,r,t[l],a,!1);else WS(o,r,t,a,!1);void 0!==EE&&EE(o,i,e,t,r)}function Ff(n,e){if(null!==e){const t=e.type;if(3&t)return Nn(e,n);if(4&t)return wE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Ff(n,i);{const r=n[e.index];return ci(r)?wE(-1,r):Xt(r)}}if(32&t)return gE(e,n)()||Xt(n[e.index]);{const i=YS(n,e);return null!==i?Array.isArray(i)?i[0]:Ff(Nf(n[Sn]),i):Ff(n,e.next)}}return null}function YS(n,e){return null!==e?n[Sn][yi].projection[e.projection]:null}function wE(n,e){const t=vi+n+1;if(t<e.length){const i=e[t],r=i[be].firstChild;if(null!==r)return Ff(i,r)}return e[io]}function IE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&ji(Xt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)IE(n,e,t.child,i,r,o,!1),Nu(e,n,r,a,o);else if(32&l){const c=gE(t,i);let h;for(;h=c();)Nu(e,n,r,h,o);Nu(e,n,r,a,o)}else 16&l?JS(n,e,i,t,r,o):Nu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Lf(n,e,t,i,r,o){IE(t,i,n.firstChild,e,r,o,!1)}function JS(n,e,t,i,r,o){const s=t[Sn],l=s[yi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Nu(e,n,r,l[c],o);else{let c=l;const h=s[on];w_(i)&&(c.flags|=128),IE(n,e,c,h,r,o,!0)}}function eM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tM(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&$h(n,e,i),null!==r&&eM(n,e,r),null!==o&&function nH(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Fu(n){return function xE(){if(void 0===M_&&(M_=null,qt.trustedTypes))try{M_=qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return M_}()?.createHTML(n)||n}function Lu(){if(void 0!==CE)return CE;if(typeof document<"u")return document;throw new F(210,!1)}function TE(){if(void 0===R_&&(R_=null,qt.trustedTypes))try{R_=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return R_}function nM(n){return TE()?.createHTML(n)||n}function rM(n){return TE()?.createScriptURL(n)||n}class oM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}function ka(n){return n instanceof oM?n.changingThisBreaksApplicationSecurity:n}function Vf(n,e){const t=function hH(n){return n instanceof oM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pt})`)}return t===e}class fH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Fu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class pH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Fu(e),t}}const gH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function DE(n){return(n=String(n)).match(gH)?n:"unsafe:"+n}function Vs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Bf(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const aM=Vs("area,br,col,hr,img,wbr"),lM=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cM=Vs("rp,rt"),AE=Bf(aM,Bf(lM,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bf(cM,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bf(cM,lM)),SE=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uM=Bf(SE,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_H=Vs("script,style,template");class yH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!AE.hasOwnProperty(t))return this.sanitizedSomething=!0,!_H.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!uM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;SE[a]&&(l=DE(l)),this.buf.push(" ",s,'="',dM(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();AE.hasOwnProperty(t)&&!aM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const vH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bH=/([^\#-~ |!])/g;function dM(n){return n.replace(/&/g,"&amp;").replace(vH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(bH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let P_;function ME(n){return"content"in n&&function wH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Vu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vu||{});function So(n){const e=Uf();return e?nM(e.sanitize(Vu.HTML,n)||""):Vf(n,"HTML")?nM(ka(n)):function EH(n,e){let t=null;try{P_=P_||function sM(n){const e=new pH(n);return function mH(){try{return!!(new window.DOMParser).parseFromString(Fu(""),"text/html")}catch{return!1}}()?new fH(e):e}(n);let i=e?String(e):"";t=P_.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=P_.getInertBodyElement(i)}while(i!==o);return Fu((new yH).sanitizeChildren(ME(t)||t))}finally{if(t){const i=ME(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Lu(),Ae(n))}function Xo(n){const e=Uf();return e?e.sanitize(Vu.URL,n)||"":Vf(n,"URL")?ka(n):DE(Ae(n))}function hM(n){const e=Uf();if(e)return rM(e.sanitize(Vu.RESOURCE_URL,n)||"");if(Vf(n,"ResourceURL"))return rM(ka(n));throw new F(904,!1)}function Uf(){const n=ie();return n&&n[qo].sanitizer}const jf=new re("ENVIRONMENT_INITIALIZER"),pM=new re("INJECTOR",-1),mM=new re("INJECTOR_DEF_TYPES");class RE{get(e,t=Cs){if(t===Cs){const i=new Error(`NullInjectorError: No provider for ${ke(e)}!`);throw i.name="NullInjectorError",i}return t}}function AH(...n){return{\u0275providers:gM(0,n),\u0275fromNgModule:!0}}function gM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Ru(e,s=>{const a=s;O_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&_M(r,o),t}function _M(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];OE(r,o=>{e(o,i)})}}function O_(n,e,t,i){if(!(n=P(n)))return!1;let r=null,o=Il(n);const s=!o&&vt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Il(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)O_(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Ru(o.imports,h=>{O_(h,e,t,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&_M(c,e)}if(!a){const c=wa(r)||(()=>new r);e({provide:r,useFactory:c,deps:Pt},r),e({provide:mM,useValue:r,multi:!0},r),e({provide:jf,useValue:()=>V(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;OE(l,h=>{e(h,c)})}}}return r!==n&&void 0!==n.providers}function OE(n,e){for(let t of n)Ie(t)&&(t=t.\u0275providers),Array.isArray(t)?OE(t,e):e(t)}const SH=ye({provide:String,useValue:ye});function kE(n){return null!==n&&"object"==typeof n&&SH in n}function Hl(n){return"function"==typeof n}const NE=new re("Set Injector scope."),k_={},RH={};let FE;function N_(){return void 0===FE&&(FE=new RE),FE}class Vr{}class Bu extends Vr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VE(e,s=>this.processProvider(s)),this.records.set(pM,Uu(void 0,this)),r.has("environment")&&this.records.set(Vr,Uu(void 0,this));const o=this.records.get(NE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mM.multi,Pt,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=zo(this),i=Ui(void 0);try{return e()}finally{zo(t),Ui(i)}}get(e,t=Cs,i=dt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sr))return e[sr](this);i=Wc(i);const o=zo(this),s=Ui(void 0);try{if(!(i&dt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function FH(n){return"function"==typeof n||"object"==typeof n&&n instanceof re}(e)&&Bc(e);l=c&&this.injectableDefInScope(c)?Uu(LE(e),k_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&dt.Self?N_():this.parent).get(e,t=i&dt.Optional&&t===Cs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[rr]=a[rr]||[]).unshift(ke(e)),o)throw a;return function wo(n,e,t,i){const r=n[rr];throw e[qc]&&r.unshift(e[qc]),n.message=function pa(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ke(e);if(Array.isArray(e))r=e.map(ke).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Vh,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[rr]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ui(s),zo(o)}}resolveInjectorInitializers(){const e=zo(this),t=Ui(void 0);try{const r=this.get(jf.multi,Pt,dt.Self);for(const o of r)o()}finally{zo(e),Ui(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ke(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=Hl(e=P(e))?e:P(e&&e.provide);const i=function OH(n){return kE(n)?Uu(void 0,n.useValue):Uu(bM(n),k_)}(e);if(Hl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Uu(void 0,k_,!0),r.factory=()=>Ts(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===k_&&(t.value=RH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function NH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=P(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function LE(n){const e=Bc(n),t=null!==e?e.factory:wa(n);if(null!==t)return t;if(n instanceof re)throw new F(204,!1);if(n instanceof Function)return function PH(n){const e=n.length;if(e>0)throw function Pf(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new F(204,!1);const t=function da(n){return n&&(n[ha]||n[Uc])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new F(204,!1)}function bM(n,e,t){let i;if(Hl(n)){const r=P(n);return wa(r)||LE(r)}if(kE(n))i=()=>P(n.useValue);else if(function vM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ts(n.deps||[]));else if(function yM(n){return!(!n||!n.useExisting)}(n))i=()=>V(P(n.useExisting));else{const r=P(n&&(n.useClass||n.provide));if(!function kH(n){return!!n.deps}(n))return wa(r)||LE(r);i=()=>new r(...Ts(n.deps))}return i}function Uu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VE(n,e){for(const t of n)Array.isArray(t)?VE(t,e):t&&Ie(t)?VE(t.\u0275providers,e):e(t)}const F_=new re("AppId",{providedIn:"root",factory:()=>LH}),LH="ng",EM=new re("Platform Initializer"),Mo=new re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zf=new re("AnimationModuleType"),BE=new re("CSP nonce",{providedIn:"root",factory:()=>Lu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wM=(n,e,t)=>null;function GE(n,e,t=!1){return wM(n,e,t)}class GH{}class CM{}class KH{resolveComponentFactory(e){throw function ZH(n){const e=Error(`No component factory found for ${ke(n)}.`);return e.ngComponent=n,e}(e)}}let $u=(()=>{class n{static#e=this.NULL=new KH}return n})();function QH(){return Hu(ui(),ie())}function Hu(n,e){return new Wn(Nn(n,e))}let Wn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=QH}return n})();function YH(n){return n instanceof Wn?n.nativeElement:n}class qf{}let Bs=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function XH(){const n=ie(),t=cr(ui().index,n);return(lr(t)?t:n)[Ye]}()}return n})(),JH=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>null})}return n})();class Na{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QE=new Na("16.2.12"),YE={};function MM(n,e=null,t=null,i){const r=RM(n,e,t,i);return r.resolveInjectorInitializers(),r}function RM(n,e=null,t=null,i,r=new Set){const o=[t||Pt,AH(n)];return i=i||("object"==typeof n?void 0:ke(n)),new Bu(o,e||N_(),i||null,r)}let Gn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Cs;static#t=this.NULL=new RE;static create(t,i){if(Array.isArray(t))return MM({name:""},i,t,"");{const r=t.name??"";return MM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=de({token:n,providedIn:"any",factory:()=>V(pM)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function JE(n){return n.ngOriginalError}class Us{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&JE(e);for(;t&&JE(t);)t=JE(t);return t||null}}function tw(n){return e=>{setTimeout(n,void 0,e)}}const yn=class a4 extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=tw(o),r&&(r=tw(r)),s&&(s=tw(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof gt&&e.add(a),a}};function OM(...n){}class Xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yn(!1),this.onMicrotaskEmpty=new yn(!1),this.onStable=new yn(!1),this.onError=new yn(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function l4(){const n="function"==typeof qt.requestAnimationFrame;let e=qt[n?"requestAnimationFrame":"setTimeout"],t=qt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function d4(n){const e=()=>{!function u4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,iw(n),n.isCheckStableRunning=!0,nw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),iw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function f4(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return kM(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),NM(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return kM(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),NM(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,iw(n),nw(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new F(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,c4,OM,OM);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const c4={};function nw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NM(n){n._nesting--,nw(n)}class h4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yn,this.onMicrotaskEmpty=new yn,this.onStable=new yn,this.onError=new yn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const FM=new re("",{providedIn:"root",factory:LM});function LM(){const n=ve(Xe);let e=!0;return I(new Ke(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Ke(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Q()))}function rw(n){return n.ownerDocument}function js(n){return n instanceof Function?n():n}let ow=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function Wf(n){for(;n;){n[Qe]|=64;const e=Nf(n);if(Sg(n)&&!e)return n;n=e}return null}const zM=new re("",{providedIn:"root",factory:()=>!1});let $_=null;function WM(n,e){return n[e]??KM()}function GM(n,e){const t=KM();t.producerNode?.length&&(n[e]=$_,t.lView=n,$_=ZM())}const w4={...Ng,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Wf(n.lView)},lView:null};function ZM(){return Object.create(w4)}function KM(){return $_??=ZM(),$_}const rt={};function pe(n){QM(Dt(),ie(),Mi()+n,!1)}function QM(n,e,t,i){if(!i)if(3==(3&e[Qe])){const o=n.preOrderCheckHooks;null!==o&&Aa(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Sa(e,o,0,t)}Do(t)}function B(n,e=dt.Default){const t=ie();return null===t?V(n,e):Ao(ui(),t,P(n),e)}function sw(){throw new Error("invalid")}function H_(n,e,t,i,r,o,s,a,l,c,h){const p=e.blueprint.slice();return p[rn]=r,p[Qe]=140|i,(null!==c||n&&2048&n[Qe])&&(p[Qe]|=2048),fu(p),p[on]=p[Wo]=n,p[gn]=t,p[qo]=s||n&&n[qo],p[Ye]=a||n&&n[Ye],p[Ho]=l||n&&n[Ho]||null,p[yi]=o,p[Dl]=function R$(){return M$++}(),p[xo]=h,p[nu]=c,p[Sn]=2==e.type?n[Sn]:p,p}function Gu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function aw(n,e,t,i,r){const o=Jg(),s=Fl(),l=n.data[e]=function M4(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return function Ta(){return null!==qe.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function e_(){return qe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ns(){const n=qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return so(o,!0),o}function Gf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function YM(n,e,t,i,r){const o=WM(e,ba),s=Mi(),a=2&i;try{Do(-1),a&&e.length>mt&&QM(n,e,mt,!1),br(a?2:0,r);const c=a?o:null,h=lu(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{cf(c,h)}}finally{a&&null===e[ba]&&GM(e,ba),Do(s),br(a?3:1,r)}}function lw(n,e,t){if(nf(e)){const i=Lt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Lt(i)}}}function cw(n,e,t){gu()&&(function L4(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ps(t)&&function H4(n,e,t){const i=Nn(e,n),r=XM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=q_(n,H_(n,r,null,s,i,e,null,n[qo].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||E(t,e),ji(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Yo(e,n,a,t);ji(c,e),null!==s&&q4(0,a-r,c,l,0,s),ro(l)&&(cr(t.index,e)[gn]=Yo(e,n,a,t))}}(n,e,t,Nn(t,e)),64==(64&t.flags)&&iR(n,e,t))}function uw(n,e,t=Nn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function XM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=dw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dw(n,e,t,i,r,o,s,a,l,c,h){const p=mt+i,g=p+r,y=function x4(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:rt);return t}(p,g),w="function"==typeof c?c():c;return y[be]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:h}}let JM=n=>null;function eR(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?tR(t,e,r,o):i.hasOwnProperty(r)&&tR(t,e,i[r],o)}return t}function tR(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Br(n,e,t,i,r,o,s,a){const l=Nn(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[i])?(gw(n,t,h,i,r),Ps(e)&&function O4(n,e){const t=cr(e,n);16&t[Qe]||(t[Qe]|=64)}(t,e.index)):3&e.type&&(i=function P4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function hw(n,e,t,i){if(gu()){const r=null===i?null:{"":-1},o=function B4(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Xc(e,s.selectors,!1))if(i||(i=[]),ro(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),fw(n,e,a.length)}else i.unshift(s),fw(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&nR(n,e,t,s,r,a),r&&function U4(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new F(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ga(t.mergedAttrs,t.attrs)}function nR(n,e,t,i,r,o){for(let c=0;c<i.length;c++)xe(E(t,e),n,i[c].type);!function z4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Gf(n,e,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];t.mergedAttrs=ga(t.mergedAttrs,h.hostAttrs),$4(n,t,e,l,h),j4(l,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function R4(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,w=g?g.outputs:null;l=eR(p.inputs,h,l,g?g.inputs:null),c=eR(p.outputs,h,c,w);const x=null===l||null===s||Qc(e)?null:W4(l,h,s);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function iR(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function G0(){return qe.lFrame.currentDirectiveIndex}();try{Do(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];wf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&V4(l,c)}}finally{Do(-1),wf(s)}}function V4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function fw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function j4(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ro(e)&&(t[""]=n)}}function $4(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=wa(r.type)),s=new Ls(o,ro(r),B);n.blueprint[i]=s,t[i]=s,function N4(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function F4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Gf(n,t,r.hostVars,rt),r)}function Jo(n,e,t,i,r,o){const s=Nn(n,e);!function pw(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ae(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ye],s,o,n.value,t,i,r)}function q4(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)rR(i,t,s[a++],s[a++],s[a++])}function rR(n,e,t,i,r){const o=Lt(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Lt(o)}}function W4(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function oR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function sR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];If(t[i]),s.contentQueries(2,e[o],o)}}}function q_(n,e){return n[Ss]?n[Dg][kr]=e:n[Ss]=e,n[Dg]=e,e}function mw(n,e,t){If(0);const i=Lt(null);try{e(n,t)}finally{Lt(i)}}function aR(n){return n[ya]||(n[ya]=[])}function lR(n){return n.cleanup||(n.cleanup=[])}function uR(n,e){const t=n[Ho],i=t?t.get(Us,null):null;i&&i.handleError(e)}function gw(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];rR(n.data[s],e[s],i,a,r)}}function G4(n,e){const t=cr(e,n),i=t[be];!function Z4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[rn];null!==r&&null===t[xo]&&(t[xo]=GE(r,t[Ho])),_w(i,t,t[gn])}function _w(n,e,t){Da(e);try{const i=n.viewQuery;null!==i&&mw(1,i,t);const r=n.template;null!==r&&YM(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sR(n,e),n.staticViewQueries&&mw(2,n.viewQuery,t);const o=n.components;null!==o&&function K4(n,e){for(let t=0;t<e.length;t++)G4(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Qe]&=-5,xf()}}let dR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function N0(n,e,t){const i=Object.create(F0);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Lg(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Ml(i))return;i.hasRun=!0;const s=lu(i);try{i.cleanupFn(),i.cleanupFn=$g,i.fn(r)}finally{cf(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function W_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Jn(r,a):2==o&&(i=Jn(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Zf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Xt(o)),ci(o)&&hR(o,i);const s=t.type;if(8&s)Zf(n,e,t.child,i);else if(32&s){const a=gE(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=YS(e,t);if(Array.isArray(a))i.push(...a);else{const l=Nf(e[Sn]);Zf(l[be],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function hR(n,e){for(let t=vi;t<n.length;t++){const i=n[t],r=i[be].firstChild;null!==r&&Zf(i[be],i,r,e)}n[io]!==n[rn]&&e.push(n[io])}function G_(n,e,t,i=!0){const r=e[qo],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{fR(n,e,n.template,t)}catch(l){throw i&&uR(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function fR(n,e,t,i){const r=e[Qe];if(256!=(256&r)){e[qo].effectManager?.flush(),Da(e);try{fu(e),function Ef(n){return qe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&YM(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Aa(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Sa(e,c,0,null),Tf(e,0)}if(function X4(n){for(let e=BS(n);null!==e;e=US(e)){if(!e[Ag])continue;const t=e[Ea];for(let i=0;i<t.length;i++){j0(t[i])}}}(e),pR(e,2),null!==n.contentQueries&&sR(n,e),s){const c=n.contentCheckHooks;null!==c&&Aa(e,c)}else{const c=n.contentHooks;null!==c&&Sa(e,c,1),Tf(e,1)}!function I4(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=WM(e,Rs);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Do(~o);else{const s=o,a=t[++r],l=t[++r];W0(a,s),i.dirty=!1;const c=lu(i);try{l(2,e[s])}finally{cf(i,c)}}}}finally{null===e[Rs]&&GM(e,Rs),Do(-1)}}(n,e);const a=n.components;null!==a&&gR(e,a,0);const l=n.viewQuery;if(null!==l&&mw(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Aa(e,c)}else{const c=n.viewHooks;null!==c&&Sa(e,c,2),Tf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Qe]&=-73,pu(e)}finally{xf()}}}function pR(n,e){for(let t=BS(n);null!==t;t=US(t))for(let i=vi;i<t.length;i++)mR(t[i],e)}function J4(n,e,t){mR(cr(e,n),t)}function mR(n,e){if(!function Zg(n){return 128==(128&n[Qe])}(n))return;const t=n[be],i=n[Qe];if(80&i&&0===e||1024&i||2===e)fR(t,n,t.template,n[gn]);else if(n[As]>0){pR(n,1);const r=t.components;null!==r&&gR(n,r,1)}}function gR(n,e,t){for(let i=0;i<e.length;i++)J4(n,e[i],t)}class Kf{get rootNodes(){const e=this._lView,t=e[be];return Zf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return 256==(256&this._lView[Qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[on];if(ci(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(T_(e,i),m_(t,i))}this._attachedToViewContainer=!1}yE(this._lView[be],this._lView)}onDestroy(e){!function mu(n,e){if(256==(256&n[Qe]))throw new F(911,!1);null===n[Go]&&(n[Go]=[]),n[Go].push(e)}(this._lView,e)}markForCheck(){Wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qe]&=-129}reattach(){this._lView[Qe]|=128}detectChanges(){G_(this._lView[be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function q$(n,e){Lf(n,e,e[Ye],2,null,null)}(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class e3 extends Kf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;G_(e[be],e,e[gn],!1)}checkNoChanges(){}get context(){return null}}class _R extends $u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=vt(e);return new Qf(t,this.ngModule)}}function yR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class n3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Wc(i);const r=this.injector.get(e,YE,i);return r!==YE||t===YE?r:this.parentInjector.get(e,t,i)}}class Qf extends CM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=yR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return yR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Cg(n){return n.map(Qh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Vr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new n3(e,o):e,a=s.get(qf,null);if(null===a)throw new F(407,!1);const p={rendererFactory:a,sanitizer:s.get(JH,null),effectManager:s.get(dR,null),afterRenderEventManager:s.get(ow,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=i?function C4(n,e,t,i){const o=i.get(zM,!1)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return function T4(n){JM(n)}(s),s}(g,i,this.componentDef.encapsulation,s):C_(g,y,function t3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==w&&(R=GE(w,s,!0));const j=dw(0,null,null,1,0,null,null,null,null,null,null),J=H_(null,j,null,N,null,null,p,g,s,null,R);let he,Le;Da(J);try{const tt=this.componentDef;let Wt,gr=null;tt.findHostDirectiveDefs?(Wt=[],gr=new Map,tt.findHostDirectiveDefs(tt,Wt,gr),Wt.push(tt)):Wt=[tt];const Dr=function o3(n,e){const t=n[be],i=mt;return n[i]=e,Gu(t,i,2,"#host",null)}(J,w),f0=function s3(n,e,t,i,r,o,s){const a=r[be];!function a3(n,e,t,i){for(const r of n)e.mergedAttrs=ga(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(W_(e,e.mergedAttrs,!0),null!==t&&tM(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=GE(e,r[Ho]));const c=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=H_(r,XM(t),null,h,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&fw(a,n,i.length-1),q_(r,p),r[n.index]=p}(Dr,w,tt,Wt,J,p,g);Le=Gg(j,mt),w&&function c3(n,e,t,i){if(i)$h(n,t,["ng-version",QE.full]);else{const{attrs:r,classes:o}=function Yh(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!ar(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&$h(n,t,r),o&&o.length>0&&eM(n,t,o.join(" "))}}(g,tt,w,i),void 0!==t&&function u3(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Le,this.ngContentSelectors,t),he=function l3(n,e,t,i,r,o){const s=ui(),a=r[be],l=Nn(s,r);nR(a,r,s,t,null,i);for(let h=0;h<t.length;h++)ji(Yo(r,a,s.directiveStart+h,s),r);iR(a,r,s),l&&ji(l,r);const c=Yo(r,a,s.directiveStart+s.componentOffset,s);if(n[gn]=r[gn]=c,null!==o)for(const h of o)h(c,e);return lw(a,s,n),c}(f0,tt,Wt,gr,J,[d3]),_w(j,J,null)}finally{xf()}return new r3(this.componentType,he,Hu(Le,J),J,Le)}}class r3 extends GH{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new e3(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;gw(o[be],o,r,e,t),this.previousInputValues.set(e,t),Wf(cr(this._tNode.index,o))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function d3(){const n=ui();bu(ie()[be],n)}function Vt(n){let e=function vR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(ro(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Z_(n.inputs),s.inputTransforms=Z_(n.inputTransforms),s.declaredInputs=Z_(n.declaredInputs),s.outputs=Z_(n.outputs);const a=r.hostBindings;a&&m3(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&f3(n,l),c&&p3(n,c),Ht(n.inputs,r.inputs),Ht(n.declaredInputs,r.declaredInputs),Ht(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ht(s.inputTransforms,r.inputTransforms)),ro(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Vt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function h3(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ga(r.hostAttrs,t=ga(t,r.hostAttrs))}}(i)}function Z_(n){return n===to?{}:n===Pt?[]:n}function f3(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function p3(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function m3(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function IR(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function K_(n){return!!yw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function yw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function es(n,e,t){return n[e]=t}function zi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function uo(n,e,t,i){const r=ie();return zi(r,Fs(),e)&&(Dt(),Jo(_n(),r,n,e,t,i)),uo}function Je(n,e,t,i,r,o,s,a){const l=ie(),c=Dt(),h=n+mt,p=c.firstCreatePass?function U3(n,e,t,i,r,o,s,a,l){const c=e.consts,h=Gu(e,n,4,s||null,Ko(c,a));hw(e,t,h,Ko(c,l)),bu(e,h);const p=h.tView=dw(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,i,r,o,s):c.data[h];so(p,!1);const g=FR(c,l,p,n);vu()&&A_(c,l,g,p),ji(g,l),q_(l,l[h]=oR(g,l,g,p)),rf(p)&&cw(c,l,p),null!=s&&uw(l,p,a)}let FR=function LR(n,e,t,i){return Qo(!0),e[Ye].createComment("")};function ge(n,e,t){const i=ie();return zi(i,Fs(),e)&&Br(Dt(),_n(),i,n,e,i[Ye],t,!1),ge}function xw(n,e,t,i,r){const s=r?"class":"style";gw(n,t,e.inputs[s],s,i)}function Y(n,e,t,i){const r=ie(),o=Dt(),s=mt+n,a=r[Ye],l=o.firstCreatePass?function H3(n,e,t,i,r,o){const s=e.consts,l=Gu(e,n,2,i,Ko(s,r));return hw(e,t,l,Ko(s,o)),null!==l.attrs&&W_(l,l.attrs,!1),null!==l.mergedAttrs&&W_(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=BR(o,r,l,a,e,n);r[s]=c;const h=rf(l);return so(l,!0),tM(a,c,l),32!=(32&l.flags)&&vu()&&A_(o,r,c,l),0===function z0(){return qe.lFrame.elementDepthCount}()&&ji(c,r),function yf(){qe.lFrame.elementDepthCount++}(),h&&(cw(o,r,l),lw(o,l,r)),null!==i&&uw(r,l),Y}function X(){let n=ui();Fl()?Ll():(n=n.parent,so(n,!1));const e=n;(function Qg(n){return qe.skipHydrationRootTNode===n})(e)&&function H0(){qe.skipHydrationRootTNode=null}(),function vf(){qe.lFrame.elementDepthCount--}();const t=Dt();return t.firstCreatePass&&(bu(t,n),nf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function wu(n){return 0!=(8&n.flags)}(e)&&xw(t,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function d_(n){return 0!=(16&n.flags)}(e)&&xw(t,e,ie(),e.stylesWithoutHost,!1),X}function xt(n,e,t,i){return Y(n,e,t,i),X(),xt}let BR=(n,e,t,i,r,o)=>(Qo(!0),C_(i,r,function Cf(){return qe.lFrame.currentNamespace}()));function id(n,e,t){const i=ie(),r=Dt(),o=n+mt,s=r.firstCreatePass?function G3(n,e,t,i,r){const o=e.consts,s=Ko(o,i),a=Gu(e,n,8,"ng-container",s);return null!==s&&W_(a,s,!0),hw(e,t,a,Ko(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];so(s,!0);const a=UR(r,i,s,n);return i[o]=a,vu()&&A_(r,i,a,s),ji(a,i),rf(s)&&(cw(r,i,s),lw(r,s,i)),null!=t&&uw(i,s),id}function rd(){let n=ui();const e=Dt();return Fl()?Ll():(n=n.parent,so(n,!1)),e.firstCreatePass&&(bu(e,n),nf(n)&&e.queries.elementEnd(n)),rd}function Cw(n,e,t){return id(n,e,t),rd(),Cw}let UR=(n,e,t,i)=>(Qo(!0),_E(e[Ye],""));function $s(){return ie()}function tp(n){return!!n&&"function"==typeof n.then}function jR(n){return!!n&&"function"==typeof n.subscribe}function ot(n,e,t,i){const r=ie(),o=Dt(),s=ui();return function $R(n,e,t,i,r,o,s){const a=rf(i),c=n.firstCreatePass&&lR(n),h=e[gn],p=aR(e);let g=!0;if(3&i.type||s){const x=Nn(i,e),T=s?s(x):x,N=p.length,R=s?J=>s(Xt(J[i.index])):i.index;let j=null;if(!s&&a&&(j=function Q3(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[ya],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,g=!1;else{o=qR(i,e,h,o,!1);const J=t.listen(T,r,o);p.push(o,J),c&&c.push(r,R,N,N+1)}}else o=qR(i,e,h,o,!1);const y=i.outputs;let w;if(g&&null!==y&&(w=y[r])){const x=w.length;if(x)for(let T=0;T<x;T+=2){const he=e[w[T]][w[T+1]].subscribe(o),Le=p.length;p.push(o,he),c&&c.push(r,i.index,Le,-(Le+1))}}}(o,r,r[Ye],s,n,e,i),ot}function HR(n,e,t,i){try{return br(6,e,t),!1!==t(i)}catch(r){return uR(n,r),!1}finally{br(7,e,t)}}function qR(n,e,t,i,r){return function o(s){if(s===Function)return i;Wf(n.componentOffset>-1?cr(n.index,e):e);let l=HR(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=HR(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Ot(n=1){return function Z0(n){return(qe.lFrame.contextLView=function K0(n,e){for(;n>0;)e=e[Wo],n--;return e}(n,qe.lFrame.contextLView))[gn]}(n)}function ey(n,e){return n<<17|e<<2}function Fa(n){return n>>17&32767}function Dw(n){return 2|n}function Wl(n){return(131068&n)>>2}function Aw(n,e){return-131069&n|e<<2}function Sw(n){return 1|n}function tP(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Fa(o):Wl(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];s5(n[a],e)&&(l=!0,n[a+1]=i?Sw(h):Dw(h)),a=i?Fa(h):Wl(h)}l&&(n[t+1]=i?Dw(o):Sw(o))}function s5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pu(n,e)>=0}function La(n,e){return function Ro(n,e,t,i){const r=ie(),o=Dt(),s=function To(n){const e=qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function uP(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Mi()],s=function cP(n,e){return e>=n.expandoStartIndex}(n,t);(function pP(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function m5(n,e,t,i){const r=function Vl(n){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=np(t=Mw(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Mw(r,n,e,t,i),null===o){let l=function g5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Wl(i))return n[Fa(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Mw(null,n,e,l[1],i),l=np(l,e.attrs,i),function _5(n,e,t,i){n[Fa(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function y5(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=np(i,n[o].hostAttrs,t);return np(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function r5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Fa(s),l=Wl(s);n[i]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||Pu(t,h)>0)&&(c=!0)):h=t,r)if(0!==l){const g=Fa(n[a+1]);n[i+1]=ey(g,a),0!==g&&(n[g+1]=Aw(n[g+1],i)),n[a+1]=function t5(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=ey(a,0),0!==a&&(n[a+1]=Aw(n[a+1],i)),a=i;else n[i+1]=ey(l,0),0===a?a=i:n[l+1]=Aw(n[l+1],i),l=i;c&&(n[i+1]=Dw(n[i+1])),tP(n,h,i,!0),tP(n,h,i,!1),function o5(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Pu(o,e)>=0&&(t[i+1]=Sw(t[i+1]))}(e,h,n,i,o),s=ey(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==rt&&zi(r,s,e)&&function hP(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],h=function n5(n){return 1==(1&n)}(c)?fP(l,e,t,r,Wl(c),s):void 0;ty(h)||(ty(o)||function e5(n){return 2==(2&n)}(c)&&(o=fP(l,null,t,r,a,s)),function tH(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Oa.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Oa.Important),n.setStyle(t,i,r,o))}}(i,s,hu(Mi(),t),r,o))}(o,o.data[Mi()],r,r[Ye],n,r[s+1]=function w5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ke(ka(n)))),n}(e,t),i,s)}(n,e,null,!0),La}function Mw(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=np(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function np(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fr(n,s,!!t||e[++o]))}return void 0===n?null:n}function fP(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let g=t[r+1];g===rt&&(g=p?Pt:void 0);let y=p?aE(g,i):h===i?g:void 0;if(c&&!ty(y)&&(y=aE(l,i)),ty(y)&&(a=y,s))return a;const w=n[r+1];r=s?Fa(w):Wl(w)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=aE(l,i))}return a}function ty(n){return void 0!==n}function we(n,e=""){const t=ie(),i=Dt(),r=n+mt,o=i.firstCreatePass?Gu(i,r,1,e,null):i.data[r],s=mP(i,t,o,e,n);t[r]=s,vu()&&A_(i,t,s,o),so(o,!1)}let mP=(n,e,t,i,r)=>(Qo(!0),function x_(n,e){return n.createText(e)}(e[Ye],i));function ny(n){return ho("",n,""),ny}function ho(n,e,t){const i=ie(),r=function Ku(n,e,t,i){return zi(n,Fs(),t)?e+Ae(t)+i:rt}(i,n,e,t);return r!==rt&&function zs(n,e,t){const i=hu(e,n);!function zS(n,e,t){n.setValue(e,t)}(n[Ye],i,t)}(i,Mi(),r),ho}function Rw(n,e,t){const i=ie();return zi(i,Fs(),e)&&Br(Dt(),_n(),i,n,e,i[Ye],t,!0),Rw}const ad="en-US";let FP=ad;function kw(n,e,t,i,r){if(n=P(n),Array.isArray(n))for(let o=0;o<n.length;o++)kw(n[o],e,t,i,r);else{const o=Dt(),s=ie(),a=ui();let l=Hl(n)?n:P(n.provide);const c=bM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Hl(n)||!n.multi){const y=new Ls(c,r,B),w=Fw(l,e,r?h:h+g,p);-1===w?(xe(E(a,s),o,l),Nw(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=Fw(l,e,h+g,p),w=Fw(l,e,h,h+g),T=w>=0&&t[w];if(r&&!T||!r&&!(y>=0&&t[y])){xe(E(a,s),o,l);const N=function $q(n,e,t,i,r){const o=new Ls(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,l1(o,r,i&&!t),o}(r?zq:jq,t.length,r,i,c);!r&&T&&(t[w].providerFactory=N),Nw(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else Nw(o,n,y>-1?y:w,l1(t[r?w:y],c,!r&&i));!r&&i&&T&&t[w].componentProviders++}}}function Nw(n,e,t,i){const r=Hl(e),o=function MH(n){return!!n.useClass}(e);if(r||o){const l=(o?P(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[i,l]):c[h+1].push(i,l)}else c.push(t,l)}}}function l1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function jq(n,e,t,i){return Lw(this.multi,[])}function zq(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Yo(t,t[be],this.providerFactory.index,i);o=a.slice(0,s),Lw(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Lw(r,o);return o}function Lw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function In(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Uq(n,e,t){const i=Dt();if(i.firstCreatePass){const r=ro(n);kw(t,i.data,i.blueprint,r,!0),kw(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Zl{}class c1{}class Vw extends Zl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _R(this);const r=Ai(e);this._bootstrapComponents=js(r.bootstrap),this._r3Injector=RM(e,t,[{provide:Zl,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...i],ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Bw extends c1{constructor(e){super(),this.moduleType=e}create(e){return new Vw(this.moduleType,e,[])}}class u1 extends Zl{constructor(e){super(),this.componentFactoryResolver=new _R(this),this.instance=null;const t=new Bu([...e.providers,{provide:Zl,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],e.parent||N_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Uw(n,e,t=null){return new u1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Wq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=gM(0,t.type),r=i.length>0?Uw([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=de({token:n,providedIn:"environment",factory:()=>new n(V(Vr))})}return n})();function d1(n){n.getStandaloneInjector=e=>e.get(Wq).getOrCreateStandaloneInjector(n)}function ay(n,e,t,i){return y1(ie(),Si(),n,e,t,i)}function Hs(n,e,t,i,r){return function v1(n,e,t,i,r,o,s){const a=e+t;return function ql(n,e,t,i){const r=zi(n,e,t);return zi(n,e+1,i)||r}(n,a,r,o)?es(n,a+2,s?i.call(s,r,o):i(r,o)):lp(n,a+2)}(ie(),Si(),n,e,t,i,r)}function lp(n,e){const t=n[e];return t===rt?void 0:t}function y1(n,e,t,i,r,o){const s=e+t;return zi(n,s,r)?es(n,s+1,o?i.call(o,r):i(r)):lp(n,s+1)}function cp(n,e){const t=Dt();let i;const r=n+mt;t.firstCreatePass?(i=function cW(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=wa(i.type)),a=Ui(B);try{const l=xu(!1),c=o();return xu(l),function $3(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,ie(),r,c),c}finally{Ui(a)}}function up(n,e,t){const i=n+mt,r=ie(),o=xa(r,i);return function dp(n,e){return n[be].data[e].pure}(r,i)?y1(r,Si(),e,o.transform,t,o):o.transform(t)}function pW(){return this._results[Symbol.iterator]()}class zw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new yn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=zw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=pW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function lo(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function r$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function gW(n,e,t,i=!0){const r=e[be];if(function G$(n,e,t,i){const r=vi+i,o=t.length;i>0&&(t[r-1][kr]=e),i<o-vi?(e[kr]=t[r],yS(t,vi+i,e)):(t.push(e),e[kr]=null),e[on]=t;const s=e[Ms];null!==s&&t!==s&&function Z$(n,e){const t=n[Ea];e[Sn]!==e[on][on][Sn]&&(n[Ag]=!0),null===t?n[Ea]=[e]:t.push(e)}(s,e);const a=e[yr];null!==a&&a.insertView(n),e[Qe]|=128}(r,e,n,t),i){const o=wE(t,n),s=e[Ye],a=D_(s,n[io]);null!==a&&function H$(n,e,t,i,r,o){i[rn]=r,i[yi]=e,Lf(n,i,t,1,r,o)}(r,n[yi],s,e,a,o)}}let is=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=vW}return n})();const _W=is,yW=class extends _W{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function mW(n,e,t,i){const r=e.tView,a=H_(n,r,t,4096&n[Qe]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Ms]=n[e.index];const c=n[yr];return null!==c&&(a[yr]=c.createEmbeddedView(r)),_w(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Kf(r)}};function vW(){return ly(ui(),ie())}function ly(n,e){return 4&n.type?new yW(e,n,Hu(n,e)):null}let fo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=CW}return n})();function CW(){return S1(ui(),ie())}const TW=fo,D1=class extends TW{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const e=oe(this._hostTNode,this._hostLView);if(Df(e)){const t=jl(e,this._hostLView),i=Ul(e);return new bi(t[be].data[i+8],t)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=A1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function Rf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const l=s?e:new Qf(vt(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const T=(s?c:this.parentInjector).get(Vr,null);T&&(o=T)}vt(l.componentType??{});const y=l.create(c,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function U0(n){return ci(n[on])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[on],h=new D1(c,c[yi],c[on]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return gW(a,r,s,!i),e.attachToViewContainerRef(),yS($w(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=A1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=T_(this._lContainer,t);i&&(m_($w(this._lContainer),t),yE(i[be],i))}detach(e){const t=this._adjustIndex(e,-1),i=T_(this._lContainer,t);return i&&null!=m_($w(this._lContainer),t)?new Kf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function A1(n){return n[8]}function $w(n){return n[8]||(n[8]=[])}function S1(n,e){let t;const i=e[n.index];return ci(i)?t=i:(t=oR(i,e,null,n),e[n.index]=t,q_(e,t)),M1(t,e,n,i),new D1(t,n,e)}let M1=function R1(n,e,t,i){if(n[io])return;let r;r=8&t.type?Xt(i):function DW(n,e){const t=n[Ye],i=t.createComment(""),r=Nn(e,n);return $l(t,D_(t,r),i,function X$(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[io]=r};class Hw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Hw(this.queryList)}setDirty(){this.queryList.setDirty()}}class qw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new qw(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==V1(e,t).matches&&this.queries[t].setDirty()}}class P1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Ww{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new Ww(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Gw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Gw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,MW(t,o)),this.matchTNodeWithReadOption(e,t,Ra(t,e,o,!1,!1))}else i===is?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ra(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Wn||r===fo||r===is&&4&t.type)this.addMatch(t.index,-2);else{const o=Ra(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function MW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function PW(n,e,t,i){return-1===t?function RW(n,e){return 11&n.type?Hu(n,e):4&n.type?ly(n,e):null}(e,n):-2===t?function OW(n,e,t){return t===Wn?Hu(e,n):t===is?ly(e,n):t===fo?S1(e,n):void 0}(n,e,i):Yo(n,n[be],t,e)}function O1(n,e,t,i){const r=e[yr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:PW(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function Zw(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=O1(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=e[-l];for(let p=vi;p<h.length;p++){const g=h[p];g[Ms]===g[on]&&Zw(g[be],g,c,i)}if(null!==h[Ea]){const p=h[Ea];for(let g=0;g<p.length;g++){const y=p[g];Zw(y[be],y,c,i)}}}}}return i}function Kw(n){const e=ie(),t=Dt(),i=t_();If(i+1);const r=V1(t,i);if(n.dirty&&function gf(n){return 4==(4&n[Qe])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Zw(t,e,i,[]):O1(t,e,r,i);n.reset(o,YH),n.notifyOnChanges()}return!0}return!1}function k1(n,e,t){const i=Dt();i.firstCreatePass&&(function L1(n,e,t){null===n.queries&&(n.queries=new Ww),n.queries.track(new Gw(e,t))}(i,new P1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function F1(n,e,t){const i=new zw(4==(4&t));(function S4(n,e,t,i){const r=aR(e);r.push(t),n.firstCreatePass&&lR(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[yr]&&(e[yr]=new qw),e[yr].queries.push(new Hw(i))}(i,ie(),e)}function V1(n,e){return n.queries.getByIndex(e)}function B1(n,e){return ly(n,e)}const nI=new re("Application Initializer");let iI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ve(nI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(tp(o))t.push(o);else if(jR(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const rs=new re("LocaleId",{providedIn:"root",factory:()=>ve(rs,dt.Optional|dt.SkipSelf)||function n6(){return typeof $localize<"u"&&$localize.locale||ad}()});let dy=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class o6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let iO=(()=>{class n{compileModuleSync(t){return new Bw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=js(Ai(t).declarations).reduce((s,a)=>{const l=vt(a);return l&&s.push(new Qf(l)),s},[]);return new o6(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aO=new re(""),fy=new re("");let lI,sI=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lI||(function D6(n){lI=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xe),V(aI),V(fy))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),aI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return lI?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Va=null;const lO=new re("AllowMultipleToken"),cI=new re("PlatformDestroyListeners"),uI=new re("appBootstrapListener");class uO{constructor(e,t){this.name=e,this.token=t}}function hO(n,e,t=[]){const i=`Platform: ${e}`,r=new re(i);return(o=[])=>{let s=dI();if(!s||s.injector.get(lO,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function M6(n){if(Va&&!Va.get(lO,!1))throw new F(400,!1);(function cO(){!function R0(n){M0=n}(()=>{throw new F(600,!1)})})(),Va=n;const e=n.get(pO);(function dO(n){n.get(EM,null)?.forEach(t=>t())})(n)}(function fO(n=[],e){return Gn.create({name:e,providers:[{provide:NE,useValue:"platform"},{provide:cI,useValue:new Set([()=>Va=null])},...n]})}(a,i))}return function P6(n){const e=dI();if(!e)throw new F(401,!1);return e}()}}function dI(){return Va?.get(pO)??null}let pO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function O6(n="zone.js",e){return"noop"===n?new h4:"zone.js"===n?new Xe(e):n}(i?.ngZone,function mO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function qq(n,e,t){return new Vw(n,e,t)}(t.moduleType,this.injector,function bO(n){return[{provide:Xe,useFactory:n},{provide:jf,multi:!0,useFactory:()=>{const e=ve(N6,{optional:!0});return()=>e.initialize()}},{provide:vO,useFactory:k6},{provide:FM,useFactory:LM}]}(()=>r)),s=o.injector.get(Us,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{py(this._modules,o),a.unsubscribe()})}),function gO(n,e,t){try{const i=t();return tp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(iI);return a.runInitializers(),a.donePromise.then(()=>(function LP(n){_i(n,"Expected localeId to be defined"),"string"==typeof n&&(FP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(rs,ad)||ad),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=_O({},i);return function A6(n,e,t){const i=new Bw(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ba);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new F(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(cI,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(V(Gn))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function _O(n,e){return Array.isArray(e)?e.reduce(_O,n):{...n,...e}}let Ba=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ve(vO),this.zoneIsStable=ve(FM),this.componentTypes=[],this.components=[],this.isStable=ve(dy).hasPendingTasks.pipe(De(t=>t?S(!1):this.zoneIsStable),He(),Q()),this._injector=ve(Vr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof CM;if(!this._injector.get(iI).done)throw!r&&function _a(n){const e=vt(n)||ai(n)||li(n);return null!==e&&e.standalone}(t),new F(405,!1);let s;s=r?t:this._injector.get($u).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function S6(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zl),c=s.create(Gn.NULL,[],i||s.selector,a),h=c.location.nativeElement,p=c.injector.get(aO,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),py(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;py(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(uI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>py(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function py(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const vO=new re("",{providedIn:"root",factory:()=>ve(Us).handleError.bind(void 0)});function k6(){const n=ve(Xe),e=ve(Us);return t=>n.runOutsideAngular(()=>e.handleError(t))}let N6=(()=>{class n{constructor(){this.zone=ve(Xe),this.applicationRef=ve(Ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let my=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=L6}return n})();function L6(n){return function V6(n,e,t){if(Ps(n)&&!t){const i=cr(n.index,e);return new Kf(i,i)}return 47&n.type?new Kf(e[Sn],e):null}(ui(),ie(),16==(16&n))}class CO{constructor(){}supports(e){return K_(e)}create(e){return new H6(e)}}const $6=(n,e)=>e;class H6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<DO(i,r,o)?t:i,a=DO(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=h-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!K_(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function w3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new q6(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new TO),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class q6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class TO{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new W6,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DO(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class AO{constructor(){}supports(e){return e instanceof Map||yw(e)}create(){return new G6}}class G6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||yw(e)))throw new F(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Z6(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Z6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SO(){return new yy([new CO])}let yy=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:SO});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||SO()),deps:[[n,new __,new Lr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new F(901,!1)}}return n})();function MO(){return new pp([new AO])}let pp=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:MO});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||MO()),deps:[[n,new __,new Lr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new F(901,!1)}}return n})();const Y6=hO(null,"core",[]);let X6=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ba))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})();function ud(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let _I=null;function Ua(){return _I}class hG{}const kt=new re("DocumentToken");let yI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ve(pG)},providedIn:"platform"})}return n})();const fG=new re("Location Initialized");let pG=(()=>{class n extends yI{constructor(){super(),this._doc=ve(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ua().getBaseHref(this._doc)}onPopState(t){const i=Ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function vI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function BO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qs(n){return n&&"?"!==n[0]?"?"+n:n}let Ql=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ve(jO)},providedIn:"root"})}return n})();const UO=new re("appBaseHref");let jO=(()=>{class n extends Ql{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ve(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+qs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+qs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+qs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(yI),V(UO,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mG=(()=>{class n extends Ql{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=vI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+qs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+qs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(yI),V(UO,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),mp=(()=>{class n{constructor(t){this._subject=new yn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function yG(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(BO(zO(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+qs(i))}normalize(t){return n.stripTrailingSlash(function _G(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,zO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=qs;static#t=this.joinWithSlash=vI;static#n=this.stripTrailingSlash=BO;static#i=this.\u0275fac=function(i){return new(i||n)(V(Ql))};static#r=this.\u0275prov=de({token:n,factory:function(){return function gG(){return new mp(V(Ql))}()},providedIn:"root"})}return n})();function zO(n){return n.replace(/\/index.html$/,"")}function YO(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const SI=/\s+/,XO=[];let yp=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=XO,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(SI):XO}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(SI):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(SI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(B(yy),B(pp),B(Wn),B(Bs))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class i8{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new i8(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),ek(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ek(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(B(fo),B(is),B(yy))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function ek(n,e){n.context.$implicit=e.item}let Zs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new r8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(B(fo),B(is))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class r8{constructor(){this.$implicit=null,this.ngIf=null}}function tk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ke(e)}'.`)}class a8{createSubscription(e,t){return zg(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){zg(()=>e.unsubscribe())}}class l8{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const c8=new l8,u8=new a8;let ik=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(tp(t))return c8;if(jR(t))return u8;throw function ko(n,e){return new F(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(B(my,16))};static#t=this.\u0275pipe=si({name:"async",type:n,pure:!1,standalone:!0})}return n})(),ok=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})();const sk="browser";function kI(n){return"server"===n}let P8=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new O8(V(kt),window)})}return n})();class O8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function k8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ak{}class i9 extends hG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class LI extends i9{static makeCurrent(){!function dG(n){_I||(_I=n)}(new LI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function r9(){return bp=bp||document.querySelector("base"),bp?bp.getAttribute("href"):null}();return null==t?null:function o9(n){Py=Py||document.createElement("a"),Py.setAttribute("href",n);const e=Py.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return YO(document.cookie,e)}}let Py,bp=null,a9=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const VI=new re("EventManagerPlugins");let hk=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(V(VI),V(Xe))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class fk{constructor(e){this._doc=e}}const BI="ng-app-id";let pk=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kI(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${BI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(BI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(BI,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(F_),V(BE,8),V(Mo))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const UI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jI=/%COMP%/g,d9=new re("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gk(n,e){return e.map(t=>t.replace(jI,n))}let zI=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=kI(a),this.defaultRenderer=new $I(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_r.ShadowDom&&(i={...i,encapsulation:_r.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof yk?r.applyToHost(t):r instanceof HI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case _r.Emulated:o=new yk(l,c,i,this.appId,h,s,a,p);break;case _r.ShadowDom:return new m9(l,c,t,i,s,a,this.nonce,p);default:o=new HI(l,c,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(V(hk),V(pk),V(F_),V(d9),V(kt),V(Mo),V(Xe),V(BE))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class $I{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(UI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_k(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(_k(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new F(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=UI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=UI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Oa.DashCase|Oa.Important)?e.style.setProperty(t,i,r&Oa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Oa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ua().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function _k(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class m9 extends $I{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gk(r.id,r.styles);for(const h of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class HI extends $I{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?gk(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yk extends HI{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function h9(n){return"_ngcontent-%COMP%".replace(jI,n)}(c),this.hostAttr=function f9(n){return"_nghost-%COMP%".replace(jI,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let g9=(()=>{class n extends fk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const vk=["alt","control","meta","shift"],_9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let v9=(()=>{class n extends fk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ua().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vk.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=_9[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vk.forEach(s=>{s!==r&&(0,y9[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const Ek=[{provide:Mo,useValue:sk},{provide:EM,useValue:function b9(){LI.makeCurrent()},multi:!0},{provide:kt,useFactory:function w9(){return function sH(n){CE=n}(document),document},deps:[]}],I9=hO(Y6,"browser",Ek),x9=new re(""),wk=[{provide:fy,useClass:class s9{addToWindow(e){qt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new F(5103,!1);return o},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(i=>{const r=qt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ua().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:aO,useClass:sI,deps:[Xe,aI,fy]},{provide:sI,useClass:sI,deps:[Xe,aI,fy]}],Ik=[{provide:NE,useValue:"root"},{provide:Us,useFactory:function E9(){return new Us},deps:[]},{provide:VI,useClass:g9,multi:!0,deps:[kt,Xe,Mo]},{provide:VI,useClass:v9,multi:!0,deps:[kt]},zI,pk,hk,{provide:qf,useExisting:zI},{provide:ak,useClass:a9,deps:[]},[]];let xk=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:F_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(V(x9,12))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:[...Ik,...wk],imports:[ok,X6]})}return n})(),Ck=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=de({token:n,factory:function(i){let r=null;return r=i?new i:function T9(){return new Ck(V(kt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:P9}=Array,{getPrototypeOf:O9,prototype:k9,keys:N9}=Object;function Sk(n){if(1===n.length){const e=n[0];if(P9(e))return{args:e,keys:null};if(function F9(n){return n&&"object"==typeof n&&O9(n)===k9}(e)){const t=N9(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:L9}=Array;function WI(n){return Te(e=>function V9(n,e){return L9(e)?n(...e):n(e)}(n,e))}function Mk(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Oy(...n){const e=Or(n),t=Jr(n),{args:i,keys:r}=Sk(n);if(0===i.length)return b([],e);const o=new Ke(function B9(n,e,t=Dn){return i=>{Rk(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)Rk(e,()=>{const c=b(n[l],e);let h=!1;c.subscribe(fe(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>Mk(r,s):Dn));return t?o.pipe(WI(t)):o}function Rk(n,e,t){n?er(t,n,e):e()}const ky=K(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ny(...n){return function U9(){return tr(1)}()(b(n,Or(n)))}function Fy(n){return new Ke(e=>{yt(n()).subscribe(e)})}function Ep(n,e){const t=C(n)?n:()=>n,i=r=>r.error(t());return new Ke(e?r=>e.schedule(i,0,r):i)}function GI(){return te((n,e)=>{let t=null;n._refCount++;const i=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Pk extends Ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gt;const t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gt.EMPTY)}return e}refCount(){return GI()(this)}}function go(n){return n<=0?()=>An:te((e,t)=>{let i=0;e.subscribe(fe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ly(...n){const e=Or(n);return te((t,i)=>{(e?Ny(n,t,e):Ny(n,t)).subscribe(i)})}function Pi(n,e){return te((t,i)=>{let r=0;t.subscribe(fe(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Vy(n){return te((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ok(n=j9){return te((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function j9(){return new ky}function za(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pi((r,o)=>n(r,o,i)):Dn,go(1),t?Vy(e):Ok(()=>new ky))}function hd(n,e){return C(e)?Ut(n,e,1):Ut(n,1)}function Oi(n,e,t){const i=C(n)||e||t?{next:n,error:e,complete:t}:n;return i?te((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(fe(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Dn}function Xl(n){return te((e,t)=>{let o,i=null,r=!1;i=e.subscribe(fe(t,void 0,void 0,s=>{o=yt(n(s,Xl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function ZI(n){return n<=0?()=>An:te((e,t)=>{let i=[];e.subscribe(fe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function wp(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function By(n){return te((e,t)=>{yt(n).subscribe(fe(t,()=>t.complete(),Re)),!t.closed&&e.subscribe(t)})}const at="primary",Ip=Symbol("RouteTitle");class W9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fd(n){return new W9(n)}function G9(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function os(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!kk(n[r],e[r]))return!1;return!0}function kk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Nk(n){return n.length>0?n[n.length-1]:null}function $a(n){return function R9(n){return!!n&&(n instanceof Ke||C(n.lift)&&C(n.subscribe))}(n)?n:tp(n)?b(Promise.resolve(n)):S(n)}const K9={exact:function Vk(n,e,t){if(!Jl(n.segments,e.segments)||!Uy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Vk(n.children[i],e.children[i],t))return!1;return!0},subset:Bk},Fk={exact:function Q9(n,e){return os(n,e)},subset:function Y9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kk(n[t],e[t]))},ignored:()=>!0};function Lk(n,e,t){return K9[t.paths](n.root,e.root,t.matrixParams)&&Fk[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Bk(n,e,t){return Uk(n,e,e.segments,t)}function Uk(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Jl(r,t)||e.hasChildren()||!Uy(r,t,i))}if(n.segments.length===t.length){if(!Jl(n.segments,t)||!Uy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Bk(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Jl(n.segments,r)&&Uy(n.segments,r,i)&&n.children[at])&&Uk(n.children[at],e,o,i)}}function Uy(n,e,t){return e.every((i,r)=>Fk[t](n[r].parameters,i.parameters))}class pd{constructor(e=new Zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fd(this.queryParams)),this._queryParamMap}toString(){return e7.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jy(this)}}class xp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fd(this.parameters)),this._parameterMap}toString(){return $k(this)}}function Jl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Cp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new KI},providedIn:"root"})}return n})();class KI{parse(e){const t=new d7(e);return new pd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tp(e.root,!0)}`,i=function i7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${zy(t)}=${zy(r)}`).join("&"):`${zy(t)}=${zy(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function t7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const e7=new KI;function jy(n){return n.segments.map(e=>$k(e)).join("/")}function Tp(n,e){if(!n.hasChildren())return jy(n);if(e){const t=n.children[at]?Tp(n.children[at],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==at&&i.push(`${r}:${Tp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function J9(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===at&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==at&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===at?[Tp(n.children[at],!1)]:[`${r}:${Tp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[at]?`${jy(n)}/${t[0]}`:`${jy(n)}/(${t.join("//")})`}}function jk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zy(n){return jk(n).replace(/%3B/gi,";")}function QI(n){return jk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $y(n){return decodeURIComponent(n)}function zk(n){return $y(n.replace(/\+/g,"%20"))}function $k(n){return`${QI(n.path)}${function n7(n){return Object.keys(n).map(e=>`;${QI(e)}=${QI(n[e])}`).join("")}(n.parameters)}`}const r7=/^[^\/()?;#]+/;function YI(n){const e=n.match(r7);return e?e[0]:""}const o7=/^[^\/()?;=#]+/,a7=/^[^=?&#]+/,c7=/^[^&#]+/;class d7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[at]=new Zt(e,t)),i}parseSegment(){const e=YI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new xp($y(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function s7(n){const e=n.match(o7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=YI(this.remaining);r&&(i=r,this.capture(i))}e[$y(t)]=$y(i)}parseQueryParam(e){const t=function l7(n){const e=n.match(a7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function u7(n){const e=n.match(c7);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=zk(t),o=zk(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=YI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new F(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=at);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[at]:new Zt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function Hk(n){return n.segments.length>0?new Zt([],{[at]:n}):n}function qk(n){const e={};for(const i of Object.keys(n.children)){const o=qk(n.children[i]);if(i===at&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function h7(n){if(1===n.numberOfChildren&&n.children[at]){const e=n.children[at];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function ec(n){return n instanceof pd}function Wk(n){let e;const r=Hk(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Zt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function Gk(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return XI(r,r,r,t,i);const o=function p7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kk(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Kk(t,e,i)}(e);if(o.toRoot())return XI(r,r,new Zt([],{}),t,i);const s=function m7(n,e,t){if(n.isAbsolute)return new qy(e,!0,0);if(!t)return new qy(e,!1,NaN);if(null===t.parent)return new qy(t,!0,0);const i=Hy(n.commands[0])?0:1;return function g7(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new F(4005,!1);r=i.segments.length}return new qy(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Ap(s.segmentGroup,s.index,o.commands):Qk(s.segmentGroup,s.index,o.commands);return XI(r,s.segmentGroup,a,t,i)}function Hy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dp(n){return"object"==typeof n&&null!=n&&n.outlets}function XI(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=n===e?t:Zk(n,e,t);const a=Hk(qk(s));return new pd(a,o,r)}function Zk(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:Zk(o,e,t)}),new Zt(n.segments,i)}class Kk{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Hy(i[0]))throw new F(4003,!1);const r=i.find(Dp);if(r&&r!==Nk(i))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Qk(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return Ap(n,e,t);const i=function y7(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Dp(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Xk(l,c,s))return o;i+=2}else{if(!Xk(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Zt(n.segments.slice(0,i.pathIndex),{});return o.children[at]=new Zt(n.segments.slice(i.pathIndex),n.children),Ap(o,0,r)}return i.match&&0===r.length?new Zt(n.segments,{}):i.match&&!n.hasChildren()?JI(n,e,t):i.match?Ap(n,0,r):JI(n,e,t)}function Ap(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const i=function _7(n){return Dp(n[0])?n[0].outlets:{[at]:n}}(t),r={};if(Object.keys(i).some(o=>o!==at)&&n.children[at]&&1===n.numberOfChildren&&0===n.children[at].segments.length){const o=Ap(n.children[at],e,t);return new Zt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Qk(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Zt(n.segments,r)}}function JI(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Dp(o)){const l=v7(o.outlets);return new Zt(i,l)}if(0===r&&Hy(t[0])){i.push(new xp(n.segments[e].path,Yk(t[0]))),r++;continue}const s=Dp(o)?o.outlets[at]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Hy(a)?(i.push(new xp(s,Yk(a))),r+=2):(i.push(new xp(s,{})),r++)}return new Zt(i,{})}function v7(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=JI(new Zt([],{}),0,i))}),e}function Yk(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Xk(n,e,t){return n==t.path&&os(e,t.parameters)}const Sp="imperative";class ss{constructor(e,t){this.id=e,this.url=t}}class Wy extends ss{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends ss{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mp extends ss{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class md extends ss{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Gy extends ss{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jk extends ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b7 extends ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E7 extends ss{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class w7 extends ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I7 extends ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class C7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class T7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ex{}class tx{constructor(e){this.url=e}}class M7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rp,this.attachRef=null}}let Rp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new M7,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class tN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nx(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=nx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ix(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ix(e,this._root).map(t=>t.value)}}function nx(n,e){if(n===e.value)return e;for(const t of e.children){const i=nx(n,t);if(i)return i}return null}function ix(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ix(n,t);if(i.length)return i.unshift(e),i}return[]}class Qs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class nN extends tN{constructor(e,t){super(e),this.snapshot=t,rx(this,e)}toString(){return this.snapshot.toString()}}function iN(n,e){const t=function R7(n,e){const s=new Zy([],{},{},"",{},at,e,null,{});return new oN("",new Qs(s,[]))}(0,e),i=new v([new xp("",{})]),r=new v({}),o=new v({}),s=new v({}),a=new v(""),l=new Ha(i,r,s,a,o,at,e,t.root);return l.snapshot=t.root,new nN(new Qs(l,[]),t)}class Ha{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Te(c=>c[Ip]))??S(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>fd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>fd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rN(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function P7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Zy{get title(){return this.data?.[Ip]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oN extends tN{constructor(e,t){super(t),this.url=e,rx(this,t)}toString(){return sN(this._root)}}function rx(n,e){e.value._routerState=n,e.children.forEach(t=>rx(n,t))}function sN(n){const e=n.children.length>0?` { ${n.children.map(sN).join(", ")} } `:"";return`${n.value}${e}`}function ox(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,os(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),os(e.params,t.params)||n.paramsSubject.next(t.params),function Z9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!os(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),os(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function sx(n,e){const t=os(n.params,e.params)&&function X9(n,e){return Jl(n,e)&&n.every((t,i)=>os(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sx(n.parent,e.parent))}let ax=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new yn,this.deactivateEvents=new yn,this.attachEvents=new yn,this.detachEvents=new yn,this.parentContexts=ve(Rp),this.location=ve(fo),this.changeDetector=ve(my),this.environmentInjector=ve(Vr),this.inputBinder=ve(Ky,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new O7(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]})}return n})();class O7{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ha?this.route:e===Rp?this.childContexts:this.parent.get(e,t)}}const Ky=new re("");let aN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Oy([i.queryParams,i.params,i.data]).pipe(De(([o,s,a],l)=>(a={...o,...s,...a},0===l?S(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function uG(n){const e=vt(n);if(!e)return null;const t=new Qf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function Pp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function N7(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Pp(n,i,r);return Pp(n,i)})}(n,e,t);return new Qs(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pp(n,a)),s}}const i=function F7(n){return new Ha(new v(n.url),new v(n.params),new v(n.queryParams),new v(n.fragment),new v(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Pp(n,o));return new Qs(i,r)}}const lx="ngNavigationCancelingError";function lN(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=cN(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function cN(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[lx]=!0,i.cancellationCode=e,t&&(i.url=t),i}function uN(n){return n&&n[lx]}let dN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ei({type:n,selectors:[["ng-component"]],standalone:!0,features:[d1],decls:1,vars:0,template:function(i,r){1&i&&xt(0,"router-outlet")},dependencies:[ax],encapsulation:2})}return n})();function cx(n){const e=n.children&&n.children.map(cx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==at&&(t.component=dN),t}function No(n){return n.outlet||at}function Op(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class H7{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ox(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=gd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=gd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=gd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=gd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new S7(o.value.snapshot))}),e.children.length&&this.forwardEvent(new D7(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(ox(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ox(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Op(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class hN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qy{constructor(e,t){this.component=e,this.route=t}}function q7(n,e,t){const i=n._root;return kp(i,e?e._root:null,t,[i.value])}function _d(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function gg(n){return null!==Bc(n)}(n)?e.get(n):n:i}function kp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=gd(e);return n.children.forEach(s=>{(function G7(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Z7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jl(n.url,e.url)||!os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sx(n,e)||!os(n.queryParams,e.queryParams);default:return!sx(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new hN(i)):(o.data=s.data,o._resolvedData=s._resolvedData),kp(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Qy(a.outlet.component,s))}else s&&Np(e,a,r),r.canActivateChecks.push(new hN(i)),kp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Np(a,t.getContext(s),r)),r}function Np(n,e,t){const i=gd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Np(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Qy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Fp(n){return"function"==typeof n}function fN(n){return n instanceof ky||"EmptyError"===n?.name}const Yy=Symbol("INITIAL_VALUE");function yd(){return De(n=>Oy(n.map(e=>e.pipe(go(1),Ly(Yy)))).pipe(Te(e=>{for(const t of e)if(!0!==t){if(t===Yy)return Yy;if(!1===t||t instanceof pd)return t}return!0}),Pi(e=>e!==Yy),go(1)))}function pN(n){return function Ar(...n){return Sr(n)}(Oi(e=>{if(ec(e))throw lN(0,e)}),Te(e=>!0===e))}class Xy{constructor(e){this.segmentGroup=e||null}}class mN{constructor(e){this.urlTree=e}}function vd(n){return Ep(new Xy(n))}function gN(n){return Ep(new mN(n))}class pZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new F(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return S(i);if(r.numberOfChildren>1||!r.children[at])return Ep(new F(4e3,!1));r=r.children[at]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new pd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Zt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new F(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const ux={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mZ(n,e,t,i,r){const o=dx(n,e,t);return o.matched?(i=function V7(n,e){return n.providers&&!n._injector&&(n._injector=Uw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function dZ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?S(r.map(s=>{const a=_d(s,n);return $a(function eZ(n){return n&&Fp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(yd(),pN()):S(!0)}(i,e,t).pipe(Te(s=>!0===s?o:{...ux}))):S(o)}function dx(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ux}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||G9)(t,n,e);if(!r)return{...ux};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function _N(n,e,t,i){return t.length>0&&function yZ(n,e,t){return t.some(i=>Jy(n,e,i)&&No(i)!==at)}(n,t,i)?{segmentGroup:new Zt(e,_Z(i,new Zt(t,n.children))),slicedSegments:[]}:0===t.length&&function vZ(n,e,t){return t.some(i=>Jy(n,e,i))}(n,t,i)?{segmentGroup:new Zt(n.segments,gZ(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Zt(n.segments,n.children),slicedSegments:t}}function gZ(n,e,t,i,r){const o={};for(const s of i)if(Jy(n,t,s)&&!r[No(s)]){const a=new Zt([],{});o[No(s)]=a}return{...r,...o}}function _Z(n,e){const t={};t[at]=e;for(const i of n)if(""===i.path&&No(i)!==at){const r=new Zt([],{});t[No(i)]=r}return t}function Jy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class IZ{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new pZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,!1)}recognize(){const e=_N(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,at).pipe(Xl(t=>{if(t instanceof mN)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Xy?this.noMatchError(t):t}),Te(t=>{const i=new Zy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,{}),r=new Qs(i,t),o=new oN("",r),s=function f7(n,e,t=null,i=null){return Gk(Wk(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,at).pipe(Xl(i=>{throw i instanceof Xy?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=rN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return b(r).pipe(hd(o=>{const s=i.children[o],a=function z7(n,e){const t=n.filter(i=>No(i)===e);return t.push(...n.filter(i=>No(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function $9(n,e){return te(function z9(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(fe(s,h=>{const p=c++;l=a?n(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Vy(null),function H9(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pi((r,o)=>n(r,o,i)):Dn,ZI(1),t?Vy(e):Ok(()=>new ky))}(),Ut(o=>{if(null===o)return vd(i);const s=yN(o);return function xZ(n){n.sort((e,t)=>e.value.outlet===at?-1:t.value.outlet===at?1:e.value.outlet.localeCompare(t.value.outlet))}(s),S(s)}))}processSegment(e,t,i,r,o,s){return b(t).pipe(hd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Xl(l=>{if(l instanceof Xy)return S(null);throw l}))),za(a=>!!a),Xl(a=>{if(fN(a))return function EZ(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?S([]):vd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function bZ(n,e,t,i){return!!(No(n)===i||i!==at&&Jy(e,t,n))&&("**"===n.path||dx(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):vd(r):vd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?gN(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Ut(s=>{const a=new Zt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=dx(t,r,o);if(!a)return vd(t);const p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?gN(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Ut(g=>this.processSegment(e,i,t,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?Nk(r).parameters:{};a=S({snapshot:new Zy(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vN(i),No(i),i.component??i._loadedComponent??null,i,bN(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=mZ(t,i,r,e).pipe(Te(({matched:l,consumedSegments:c,remainingSegments:h,parameters:p})=>l?{snapshot:new Zy(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vN(i),No(i),i.component??i._loadedComponent??null,i,bN(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(De(l=>null===l?vd(t):this.getChildConfig(e=i._injector??e,i,r).pipe(De(({routes:c})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:w,slicedSegments:x}=_N(t,g,y,c);if(0===x.length&&w.hasChildren())return this.processChildren(h,c,w).pipe(Te(N=>null===N?null:[new Qs(p,N)]));if(0===c.length&&0===x.length)return S([new Qs(p,[])]);const T=No(i)===o;return this.processSegment(h,c,w,x,T?at:o,!0).pipe(Te(N=>[new Qs(p,N)]))}))))}getChildConfig(e,t,i){return t.children?S({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?S({routes:t._loadedRoutes,injector:t._loadedInjector}):function uZ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?S(!0):S(r.map(s=>{const a=_d(s,n);return $a(function Q7(n){return n&&Fp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(yd(),pN())}(e,t,i).pipe(Ut(r=>r?this.configLoader.loadChildren(e,t).pipe(Oi(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function fZ(n){return Ep(cN(!1,3))}())):S({routes:[],injector:e})}}function CZ(n){const e=n.value.routeConfig;return e&&""===e.path}function yN(n){const e=[],t=new Set;for(const i of n){if(!CZ(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=yN(i.children);e.push(new Qs(i.value,r))}return e.filter(i=>!t.has(i))}function vN(n){return n.data||{}}function bN(n){return n.resolve||{}}function EN(n){return"string"==typeof n.title||null===n.title}function hx(n){return De(e=>{const t=n(e);return t?b(t).pipe(Te(()=>e)):S(e)})}const bd=new re("ROUTES");let fx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ve(iO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=$a(t.loadComponent()).pipe(Te(wN),Oi(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),wp(()=>{this.componentLoaders.delete(t)})),r=new Pk(i,()=>new z).pipe(GI());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function PZ(n,e,t,i){return $a(n.loadChildren()).pipe(Te(wN),Ut(r=>r instanceof c1||Array.isArray(r)?S(r):b(e.compileModuleAsync(r))),Te(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(bd,[],{optional:!0,self:!0}).flat()),{routes:s.map(cx),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(wp(()=>{this.childrenLoaders.delete(i)})),s=new Pk(o,()=>new z).pipe(GI());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wN(n){return function OZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ev=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=ve(fx),this.environmentInjector=ve(Vr),this.urlSerializer=ve(Cp),this.rootContexts=ve(Rp),this.inputBindingEnabled=null!==ve(Ky,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new C7(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new x7(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new v({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pi(o=>0!==o.id),Te(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),De(o=>{this.currentTransition=o;let s=!1,a=!1;return S(o).pipe(Oi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),De(l=>{const c=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new md(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),An}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return S(l).pipe(De(g=>{const y=this.transitions?.getValue();return this.events.next(new Wy(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?An:Promise.resolve(g)}),function TZ(n,e,t,i,r,o){return Ut(s=>function wZ(n,e,t,i,r,o,s="emptyOnly"){return new IZ(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Te(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Oi(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new Jk(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:w,restoredState:x,extras:T}=l,N=new Wy(g,this.urlSerializer.serialize(y),w,x);this.events.next(N);const R=iN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:R,urlAfterRedirects:y,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},S(o)}{const g="";return this.events.next(new md(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),An}}),Oi(l=>{const c=new b7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Te(l=>(this.currentTransition=o={...l,guards:q7(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function nZ(n,e){return Ut(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?S({...t,guardsResult:!0}):function iZ(n,e,t,i){return b(n).pipe(Ut(r=>function cZ(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?S(o.map(a=>{const l=Op(e)??r,c=_d(a,l);return $a(function J7(n){return n&&Fp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(za())})).pipe(yd()):S(!0)}(r.component,r.route,t,e,i)),za(r=>!0!==r,!0))}(s,i,r,n).pipe(Ut(a=>a&&function K7(n){return"boolean"==typeof n}(a)?function rZ(n,e,t,i){return b(e).pipe(hd(r=>Ny(function sZ(n,e){return null!==n&&e&&e(new T7(n)),S(!0)}(r.route.parent,i),function oZ(n,e){return null!==n&&e&&e(new A7(n)),S(!0)}(r.route,i),function lZ(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function W7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Fy(()=>S(s.guards.map(l=>{const c=Op(s.node)??t,h=_d(l,c);return $a(function X7(n){return n&&Fp(n.canActivateChild)}(h)?h.canActivateChild(i,n):c.runInContext(()=>h(i,n))).pipe(za())})).pipe(yd())));return S(o).pipe(yd())}(n,r.path,t),function aZ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return S(!0);const r=i.map(o=>Fy(()=>{const s=Op(e)??t,a=_d(o,s);return $a(function Y7(n){return n&&Fp(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(za())}));return S(r).pipe(yd())}(n,r.route,t))),za(r=>!0!==r,!0))}(i,o,n,e):S(a)),Te(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Oi(l=>{if(o.guardsResult=l.guardsResult,ec(l.guardsResult))throw lN(0,l.guardsResult);const c=new E7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Pi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),hx(l=>{if(l.guards.canActivateChecks.length)return S(l).pipe(Oi(c=>{const h=new w7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),De(c=>{let h=!1;return S(c).pipe(function DZ(n,e){return Ut(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return S(t);let o=0;return b(r).pipe(hd(s=>function AZ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!EN(r)&&(o[Ip]=r.title),function SZ(n,e,t,i){const r=function MZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return S({});const o={};return b(r).pipe(Ut(s=>function RZ(n,e,t,i){const r=Op(e)??i,o=_d(n,r);return $a(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(za(),Oi(a=>{o[s]=a}))),ZI(1),function q9(n){return Te(()=>n)}(o),Xl(s=>fN(s)?An:Ep(s)))}(o,n,e,i).pipe(Te(s=>(n._resolvedData=s,n.data=rN(n,t).resolve,r&&EN(r)&&(n.data[Ip]=r.title),null)))}(s.route,i,n,e)),Oi(()=>o++),ZI(1),Ut(s=>o===r.length?S(t):An))})}(t.paramsInheritanceStrategy,this.environmentInjector),Oi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),Oi(c=>{const h=new I7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),hx(l=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Oi(g=>{h.component=g}),Te(()=>{})));for(const g of h.children)p.push(...c(g));return p};return Oy(c(l.targetSnapshot.root)).pipe(Vy(),go(1))}),hx(()=>this.afterPreactivation()),Te(l=>{const c=function k7(n,e,t){const i=Pp(n,e._root,t?t._root:void 0);return new nN(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Oi(()=>{this.events.next(new ex)}),((n,e,t,i)=>Te(r=>(new H7(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),go(1),Oi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ks(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),By(this.transitionAbortSubject.pipe(Oi(l=>{throw l}))),wp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Xl(l=>{if(a=!0,uN(l))this.events.next(new Mp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function L7(n){return uN(n)&&ec(n.url)}(l)?this.events.next(new tx(l.url)):o.resolve(!1);else{this.events.next(new Gy(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return An}))}))}cancelNavigationTransition(t,i,r){const o=new Mp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IN(n){return n!==Sp}let xN=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===at);return i}getResolvedTitleForRoute(t){return t.data[Ip]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ve(kZ)},providedIn:"root"})}return n})(),kZ=(()=>{class n extends xN{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ck))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ve(LZ)},providedIn:"root"})}return n})();class FZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let LZ=(()=>{class n extends FZ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=qn(n)))(r||n)}}();static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tv=new re("",{providedIn:"root",factory:()=>({})});let VZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return ve(BZ)},providedIn:"root"})}return n})(),BZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Lp||{});function CN(n,e){n.events.pipe(Pi(t=>t instanceof Ks||t instanceof Mp||t instanceof Gy||t instanceof md),Te(t=>t instanceof Ks||t instanceof md?Lp.COMPLETE:t instanceof Mp&&(0===t.code||1===t.code)?Lp.REDIRECTING:Lp.FAILED),Pi(t=>t!==Lp.REDIRECTING),go(1)).subscribe(()=>{e()})}function UZ(n){throw n}function jZ(n,e,t){return e.parse("/")}const zZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$Z={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ve(nO),this.isNgZoneEnabled=!1,this._events=new z,this.options=ve(tv,{optional:!0})||{},this.pendingTasks=ve(dy),this.errorHandler=this.options.errorHandler||UZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ve(VZ),this.routeReuseStrategy=ve(NZ),this.titleStrategy=ve(xN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ve(bd,{optional:!0})?.flat()??[],this.navigationTransitions=ve(ev),this.urlSerializer=ve(Cp),this.location=ve(mp),this.componentInputBindingEnabled=!!ve(Ky,{optional:!0}),this.eventsSubscription=new gt,this.isNgZoneEnabled=ve(Xe)instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(TN(i)&&this._events.next(i));if(i instanceof Wy)IN(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof md)this.rawUrlTree=r.rawUrl;else if(i instanceof Jk){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof ex)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Mp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof tx){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||IN(r.source)};this.scheduleNavigation(o,Sp,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Gy&&this.restoreHistory(r,!0),i instanceof Ks&&(this.navigated=!0),TN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=Wk(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return Gk(p,t,h,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ec(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Sp,null,i)}navigate(t,i={skipLocationChange:!1}){return function HZ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new F(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...zZ}:!1===i?{...$Z}:i,ec(t))return Lk(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Lk(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});const h=this.pendingTasks.add();return CN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TN(n){return!(n instanceof ex||n instanceof tx)}let as=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fM(n,e,t){return function DH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hM:Xo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ei),B(Ha),function p_(n){return function Be(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Kc(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(ui(),n)}("tabindex"),B(Bs),B(Wn),B(Ql))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&ot("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&uo("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ud],skipLocationChange:["skipLocationChange","skipLocationChange",ud],replaceUrl:["replaceUrl","replaceUrl",ud],routerLink:"routerLink"},standalone:!0,features:[IR,vr]})}return n})();class DN{}let GZ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(t=>t instanceof Ks),hd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Uw(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return b(r).pipe(tr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):S(null);const o=r.pipe(Ut(s=>null===s?S(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?b([o,this.loader.loadComponent(i)]).pipe(tr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ei),V(iO),V(Vr),V(DN),V(fx))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const px=new re("");let AN=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ks?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof md&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof eN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){sw()};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function Ys(n,e){return{\u0275kind:n,\u0275providers:e}}function MN(){const n=ve(Gn);return e=>{const t=n.get(Ba);if(e!==t.components[0])return;const i=n.get(Ei),r=n.get(RN);1===n.get(mx)&&i.initialNavigation(),n.get(PN,null,dt.Optional)?.setUpPreloading(),n.get(px,null,dt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const RN=new re("",{factory:()=>new z}),mx=new re("",{providedIn:"root",factory:()=>1}),PN=new re("");function YZ(n){return Ys(0,[{provide:PN,useExisting:GZ},{provide:DN,useExisting:n}])}const ON=new re("ROUTER_FORROOT_GUARD"),JZ=[mp,{provide:Cp,useClass:KI},Ei,Rp,{provide:Ha,useFactory:function SN(n){return n.routerState.root},deps:[Ei]},fx,[]];function eK(){return new uO("Router",Ei)}let kN=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[JZ,[],{provide:bd,multi:!0,useValue:t},{provide:ON,useFactory:rK,deps:[[Ei,new Lr,new __]]},{provide:tv,useValue:i||{}},i?.useHash?{provide:Ql,useClass:mG}:{provide:Ql,useClass:jO},{provide:px,useFactory:()=>{const n=ve(P8),e=ve(Xe),t=ve(tv),i=ve(ev),r=ve(Cp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new AN(r,i,n,e,t)}},i?.preloadingStrategy?YZ(i.preloadingStrategy).\u0275providers:[],{provide:uO,multi:!0,useFactory:eK},i?.initialNavigation?oK(i):[],i?.bindToComponentInputs?Ys(8,[aN,{provide:Ky,useExisting:aN}]).\u0275providers:[],[{provide:NN,useFactory:MN},{provide:uI,multi:!0,useExisting:NN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:bd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(V(ON,8))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})();function rK(n){return"guarded"}function oK(n){return["disabled"===n.initialNavigation?Ys(3,[{provide:nI,multi:!0,useFactory:()=>{const e=ve(Ei);return()=>{e.setUpLocationChangeListener()}}},{provide:mx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ys(2,[{provide:mx,useValue:0},{provide:nI,multi:!0,deps:[Gn],useFactory:e=>{const t=e.get(fG,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ei),o=e.get(RN);CN(r,()=>{i(!0)}),e.get(ev).afterPreactivation=()=>(i(!0),o.closed?S(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const NN=new re("");var Me=Ue(861),tc=Ue(217),qa=Ue(58),xr=Ue(534),Xs=Ue(879),aK=Ue(537);Ue(365),(0,xr.registerVersion)("firebase","10.7.1","app");class uK extends gt{constructor(e,t){super()}schedule(e,t=0){return this}}const nv={setInterval(n,e,...t){const{delegate:i}=nv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=nv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class iv extends uK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return nv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&nv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pe(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const gx={now:()=>(gx.delegate||Date).now(),delegate:void 0};class Vp{constructor(e,t=Vp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Vp.now=gx.now;class rv extends Vp{constructor(e,t=Vp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const fK=new class hK extends rv{}(class dK extends iv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),ov=new rv(iv),pK=ov,Ed=new Na("ANGULARFIRE2_VERSION");const _x=(n,e)=>{const t=e?[e]:(0,xr.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class LN{constructor(){return _x(mK)}}const mK="app-check";function wd(){}class VN{zone;delegate;constructor(e,t=fK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class gK{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wd,{},wd,wd)),t.pipe(Oi({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yx=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new VN(Zone.current)),this.insideAngular=t.run(()=>new VN(Zone.current,ov)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(V(Xe))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Id(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function nc(n){return Id().ngZone.run(()=>n())}function BN(n){return function yK(n){return function(t){return(t=t.lift(new gK(n.ngZone))).pipe(gi(n.outsideAngular),kn(n.insideAngular))}}(Id())(n)}const vK=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),nc(()=>n.apply(void 0,i))},ic=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||=nc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wd,{},wd,wd))),i[o]=vK(i[o],t));const r=function _K(n){return Id().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Ke){const o=Id();return r.pipe(gi(o.outsideAngular),kn(o.insideAngular))}return nc(()=>r)}return r instanceof Ke?r.pipe(BN):r instanceof Promise?nc(()=>new Promise((o,s)=>r.then(a=>nc(()=>o(a)),a=>nc(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:nc(()=>r)};var Wa=Ue(106);Wa.Z.registerVersion("firebase","10.7.1","app-compat");const wK=["ngOnDestroy"];class UN{constructor(e){return e}}const vx=new re("angularfire2.app.options"),bx=new re("angularfire2.app.name");function jN(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=Wa.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Wa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;CK("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new UN(s)}const CK=(n,...e)=>{},TK={provide:UN,useFactory:jN,deps:[vx,Xe,[new Lr,bx]]};let DK=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:vx,useValue:t},{provide:bx,useValue:i}]}}constructor(t){Wa.Z.registerVersion("angularfire",Ed.full,"core"),Wa.Z.registerVersion("angularfire",Ed.full,"app-compat"),Wa.Z.registerVersion("angular",QE.full,t.toString())}static \u0275fac=function(i){return new(i||n)(V(Mo))};static \u0275mod=It({type:n});static \u0275inj=Rt({providers:[TK]})}return n})();typeof module<"u"&&module;globalThis.\u0275AngularfireInstanceCache||=[];class RK extends z{constructor(e=1/0,t=1/0,i=gx){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function $N(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Q({connector:()=>new RK(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function HN(n,e){return C(e)?De(()=>n,e):De(()=>n)}const OK=new re("angularfire2.auth.use-emulator"),kK=new re("angularfire2.auth.settings"),NK=new re("angularfire2.auth.tenant-id"),FK=new re("angularfire2.auth.langugage-code"),LK=new re("angularfire2.auth.use-device-language"),VK=new re("angularfire.auth.persistence");let Ex=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,h,p,g,y){const w=new z,x=S(void 0).pipe(kn(s.outsideAngular),De(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ue.bind(Ue,365)))),Te(()=>jN(t,o,i)),Te(T=>((n,e,t,i,r,o,s,a)=>function AK(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function SK(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}(`${n.name}.auth`,0,0,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,h]of Object.entries(s))l.settings[c]=h;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]))(T,o,a,c,h,p,l,g)),$N({bufferSize:1,refCount:!1}));if(kI(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{x.pipe(za()).subscribe();const T=x.pipe(De(j=>j.getRedirectResult().then(J=>J,()=>null)),BN,$N({bufferSize:1,refCount:!1})),N=x.pipe(De(j=>new Ke(J=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(he=>J.next(he),he=>J.error(he),()=>J.complete()))})))),R=x.pipe(De(j=>new Ke(J=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(he=>J.next(he),he=>J.error(he),()=>J.complete()))}))));this.authState=T.pipe(HN(N),gi(s.outsideAngular),kn(s.insideAngular)),this.user=T.pipe(HN(R),gi(s.outsideAngular),kn(s.insideAngular)),this.idToken=this.user.pipe(De(j=>j?b(j.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(De(j=>j?b(j.getIdTokenResult()):S(null))),this.credential=I(T,w,this.authState.pipe(Pi(j=>!j))).pipe(Te(j=>j?.user?j:null),gi(s.outsideAngular),kn(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(wK.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(h=>{const p=h?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,p),p})})})}))(this,x,o,{spy:{apply:(T,N,R)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&R.then(j=>w.next(j))}}})}static \u0275fac=function(i){return new(i||n)(V(vx),V(bx,8),V(Mo),V(Xe),V(yx),V(OK,8),V(kK,8),V(NK,8),V(FK,8),V(LK,8),V(VK,8),V(LN,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),UK=(()=>{class n{constructor(){Wa.Z.registerVersion("angularfire",Ed.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=It({type:n});static \u0275inj=Rt({providers:[Ex]})}return n})(),xd=(()=>{class n{getUserId(){return localStorage.getItem("uid")}constructor(t){this.afAuth=t,this.isLoggedIn=!1,this.userData=t.authState,this.afAuth.setPersistence("session"),this.checkAuthState()}googleSignIn(){const t=new tc.X;return(0,tc.c)((0,tc.o)(),t).then(i=>(localStorage.setItem("uid",i.user?.uid),console.log(i),this.isLoggedIn=!0,i)).catch(i=>(console.log(i),{}))}googleSignOut(){(0,tc.C)((0,tc.o)())}register(t,i,r,o){return this.afAuth.createUserWithEmailAndPassword(t,i).then(s=>(this.isLoggedIn=!0,s.user?.updateProfile({displayName:`${r} ${o}`})))}login(t,i,r){var o=this;return(0,Me.Z)(function*(){const s=yield o.afAuth.signInWithEmailAndPassword(t,i);s.user&&(localStorage.setItem("uid",s.user.uid),localStorage.setItem("User_info",JSON.stringify(s.user)),o.isLoggedIn=!0,r?localStorage.setItem("rememberMe",JSON.stringify({email:t,password:i})):localStorage.removeItem("rememberMe"))})()}logout(){this.isLoggedIn=!1,this.afAuth.signOut().then(t=>{localStorage.removeItem("User_info"),localStorage.removeItem("uid")})}checkAuthState(){this.afAuth.authState.subscribe(t=>{this.isLoggedIn=!!t})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ex))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Js=(()=>{class n{constructor(){this.isDarkModeSubject=new v(!1),this.isDarkMode$=this.isDarkModeSubject.asObservable()}toggleDarkMode(){this.isDarkModeSubject.next(!this.isDarkModeSubject.value)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qN(...n){const e=Jr(n),{args:t,keys:i}=Sk(n),r=new Ke(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let p=!1;yt(t[h]).subscribe(fe(o,g=>{p||(p=!0,c--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?Mk(i,a):a),o.complete())}))}});return e?r.pipe(WI(e)):r}class Bp{constructor(e){return e}}class WN{constructor(){return(0,xr.getApps)()}}const wx=new re("angularfire2._apps"),zK={provide:Bp,useFactory:function jK(n){return n&&1===n.length?n[0]:new Bp((0,xr.getApp)())},deps:[[new Lr,wx]]},$K={provide:WN,deps:[[new Lr,wx]]};function HK(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bp(i)}}let qK=(()=>{class n{constructor(t){(0,xr.registerVersion)("angularfire",Ed.full,"core"),(0,xr.registerVersion)("angularfire",Ed.full,"app"),(0,xr.registerVersion)("angular",QE.full,t.toString())}static \u0275fac=function(i){return new(i||n)(V(Mo))};static \u0275mod=It({type:n});static \u0275inj=Rt({providers:[zK,$K]})}return n})();function WK(n,...e){return{ngModule:qK,providers:[{provide:wx,useFactory:HK(n),multi:!0,deps:[Xe,Gn,yx,...e]}]}}class ZN{constructor(){return _x("auth")}}var Ee,QK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo={},Cx=Cx||{},it=QK||self;function sv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Up(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tx="closure_uid_"+(1e9*Math.random()>>>0),XK=0;function JK(n,e,t){return n.call.apply(n.bind,arguments)}function eQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function $i(n,e,t){return($i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JK:eQ).apply(null,arguments)}function av(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ga(){this.s=this.s,this.o=this.o}Ga.prototype.s=!1,Ga.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function YK(n){Object.prototype.hasOwnProperty.call(n,Tx)&&n[Tx]||(n[Tx]=++XK)}(this)},Ga.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Dx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function QN(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(sv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Hi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Hi.prototype.h=function(){this.defaultPrevented=!0};var nQ=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};it.addEventListener("test",t,e),it.removeEventListener("test",t,e)}catch{}return n}();function jp(n){return/^[\s\xa0]*$/.test(n)}function lv(){var n=it.navigator;return n&&(n=n.userAgent)?n:""}function ls(n){return-1!=lv().indexOf(n)}function Ax(n){return Ax[" "](n),n}Ax[" "]=function(){};var Mx,n,rQ=ls("Opera"),Cd=ls("Trident")||ls("MSIE"),YN=ls("Edge"),Sx=YN||Cd,XN=ls("Gecko")&&!(-1!=lv().toLowerCase().indexOf("webkit")&&!ls("Edge"))&&!(ls("Trident")||ls("MSIE"))&&!ls("Edge"),oQ=-1!=lv().toLowerCase().indexOf("webkit")&&!ls("Edge");function JN(){var n=it.document;return n?n.documentMode:void 0}e:{var Rx="",Px=(n=lv(),XN?/rv:([^\);]+)(\)|;)/.exec(n):YN?/Edge\/([\d\.]+)/.exec(n):Cd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oQ?/WebKit\/(\S+)/.exec(n):rQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Px&&(Rx=Px?Px[1]:""),Cd){var Ox=JN();if(null!=Ox&&Ox>parseFloat(Rx)){Mx=String(Ox);break e}}Mx=Rx}var sQ=it.document&&Cd&&(JN()||parseInt(Mx,10))||void 0;function zp(n,e){if(Hi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XN){e:{try{Ax(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:aQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zp.$.h.call(this)}}wi(zp,Hi);var aQ={2:"touch",3:"pen",4:"mouse"};zp.prototype.h=function(){zp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $p="closure_listenable_"+(1e6*Math.random()|0),lQ=0;function cQ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++lQ,this.fa=this.ia=!1}function cv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Nx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function tF(n){const e={};for(const t in n)e[t]=n[t];return e}const nF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iF(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<nF.length;o++)t=nF[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function uv(n){this.src=n,this.g={},this.h=0}function Fx(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=KN(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(cv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lx(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}uv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Lx(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new cQ(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Vx="closure_lm_"+(1e6*Math.random()|0),Bx={};function rF(n,e,t,i,r){if(i&&i.once)return sF(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rF(n,e[o],t,i,r);return null}return t=$x(t),n&&n[$p]?n.O(e,t,Up(i)?!!i.capture:!!i,r):oF(n,e,t,!1,i,r)}function oF(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Up(r)?!!r.capture:!!r,a=jx(n);if(a||(n[Vx]=a=new uv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function dQ(){const e=hQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)nQ||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(lF(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function sF(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sF(n,e[o],t,i,r);return null}return t=$x(t),n&&n[$p]?n.P(e,t,Up(i)?!!i.capture:!!i,r):oF(n,e,t,!0,i,r)}function aF(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)aF(n,e[o],t,i,r);else i=Up(i)?!!i.capture:!!i,t=$x(t),n&&n[$p]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lx(o=n.g[e],t,i,r))&&(cv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=jx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lx(e,t,i,r)),(t=-1<n?e[n]:null)&&Ux(t))}function Ux(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[$p])Fx(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(lF(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=jx(e))?(Fx(t,n),0==t.h&&(t.src=null,e[Vx]=null)):cv(n)}}}function lF(n){return n in Bx?Bx[n]:Bx[n]="on"+n}function hQ(n,e){if(n.fa)n=!0;else{e=new zp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Ux(n),n=t.call(i,e)}return n}function jx(n){return(n=n[Vx])instanceof uv?n:null}var zx="__closure_events_fn_"+(1e9*Math.random()>>>0);function $x(n){return"function"==typeof n?n:(n[zx]||(n[zx]=function(e){return n.handleEvent(e)}),n[zx])}function Ii(){Ga.call(this),this.i=new uv(this),this.S=this,this.J=null}function ki(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Hi(e,n);else if(e instanceof Hi)e.target=e.target||n;else{var r=e;iF(e=new Hi(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=dv(s,i,!0,e)&&r}if(r=dv(s=e.g=n,i,!0,e)&&r,r=dv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=dv(s=e.g=t[o],i,!1,e)&&r}function dv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&Fx(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}wi(Ii,Ga),Ii.prototype[$p]=!0,Ii.prototype.removeEventListener=function(n,e,t,i){aF(this,n,e,t,i)},Ii.prototype.N=function(){if(Ii.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)cv(t[i]);delete n.g[e],n.h--}}this.J=null},Ii.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ii.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Hx=it.JSON.stringify;function pQ(){var n=qx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cF=new class fQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gQ,n=>n.reset());class gQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _Q(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function yQ(n){it.setTimeout(()=>{throw n},0)}let Hp,qp=!1,qx=new class mQ{constructor(){this.h=this.g=null}add(e,t){const i=cF.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},uF=()=>{const n=it.Promise.resolve(void 0);Hp=()=>{n.then(vQ)}};var vQ=()=>{for(var n;n=pQ();){try{n.h.call(n.g)}catch(t){yQ(t)}var e=cF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qp=!1};function hv(n,e){Ii.call(this),this.h=n||1,this.g=e||it,this.j=$i(this.qb,this),this.l=Date.now()}function Wx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gx(n,e,t){if("function"==typeof n)t&&(n=$i(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$i(n.handleEvent,n)}return 2147483647<Number(e)?-1:it.setTimeout(n,e||0)}function dF(n){n.g=Gx(()=>{n.g=null,n.i&&(n.i=!1,dF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wi(hv,Ii),(Ee=hv.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ki(this,"tick"),this.ga&&(Wx(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){hv.$.N.call(this),Wx(this),delete this.g};class bQ extends Ga{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dF(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wp(n){Ga.call(this),this.h=n,this.g={}}wi(Wp,Ga);var hF=[];function fF(n,e,t,i){Array.isArray(t)||(t&&(hF[0]=t.toString()),t=hF);for(var r=0;r<t.length;r++){var o=rF(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function pF(n){Nx(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ux(e)},n),n.g={}}function fv(){this.g=!0}function Td(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Hx(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Wp.prototype.N=function(){Wp.$.N.call(this),pF(this)},Wp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fv.prototype.Ea=function(){this.g=!1},fv.prototype.info=function(){};var rc={},mF=null;function pv(){return mF=mF||new Ii}function gF(n){Hi.call(this,rc.Ta,n)}function Gp(n){const e=pv();ki(e,new gF(e))}function _F(n,e){Hi.call(this,rc.STAT_EVENT,n),this.stat=e}function fr(n){const e=pv();ki(e,new _F(e,n))}function yF(n,e){Hi.call(this,rc.Ua,n),this.size=e}function Zp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){n()},e)}rc.Ta="serverreachability",wi(gF,Hi),rc.STAT_EVENT="statevent",wi(_F,Hi),rc.Ua="timingevent",wi(yF,Hi);var mv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zx(){}function EF(){}Zx.prototype.h=null;var Yx,Kp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kx(){Hi.call(this,"d")}function Qx(){Hi.call(this,"c")}function gv(){}function Qp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Wp(this),this.P=CQ,this.V=new hv(n=Sx?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wF}function wF(){this.i=null,this.g="",this.h=!1}wi(Kx,Hi),wi(Qx,Hi),wi(gv,Zx),gv.prototype.g=function(){return new XMLHttpRequest},gv.prototype.i=function(){return{}},Yx=new gv;var CQ=45e3,IF={},Xx={};function Jx(n,e,t){n.L=1,n.A=bv(ea(e)),n.u=t,n.S=!0,xF(n,null)}function xF(n,e){n.G=Date.now(),Yp(n),n.B=ea(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),kF(t.i,"t",i),n.o=0,t=n.l.J,n.h=new wF,n.g=rL(n.l,t?e:null,!n.u),0<n.O&&(n.M=new bQ($i(n.Pa,n,n.g),n.O)),fF(n.U,n.g,"readystatechange",n.nb),e=n.I?tF(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Gp(),function EQ(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function CF(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function TF(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=TQ(n,t),r==Xx){4==e&&(n.s=4,fr(14),i=!1),Td(n.j,n.m,null,"[Incomplete Response]");break}if(r==IF){n.s=4,fr(15),Td(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Td(n.j,n.m,r,null),eC(n,r)}CF(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,fr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),aC(e),e.M=!0,fr(11))):(Td(n.j,n.m,t,"[Invalid Chunked Response]"),oc(n),Xp(n))}function TQ(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?Xx:(t=Number(e.substring(t,i)),isNaN(t)?IF:(i+=1)+t>e.length?Xx:(e=e.slice(i,i+t),n.o=i+t,e))}function Yp(n){n.Y=Date.now()+n.P,DF(n,n.P)}function DF(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Zp($i(n.lb,n),e)}function _v(n){n.C&&(it.clearTimeout(n.C),n.C=null)}function Xp(n){0==n.l.H||n.J||eL(n.l,n)}function oc(n){_v(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Wx(n.V),pF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function eC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||tC(t.i,n)))if(!n.K&&tC(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Tv(t),xv(t)}sC(t),fr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Zp($i(t.ib,t),6e3));if(1>=LF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ac(t,11)}else if((n.K||t.g==n)&&Tv(t),!jp(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=c[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=c[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(nC(o,o.h),o.h=null))}if(i.F){const x=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,vn(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=iL(i,i.J?i.pa:null,i.Y),s.K){VF(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(_v(a),Yp(a)),i.g=s}else XF(i);0<t.j.length&&Cv(t)}else"stop"!=c[0]&&"close"!=c[0]||ac(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ac(t,7):oC(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Gp()}catch{}}function AF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function AQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function DQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(Ee=Qp.prototype).setTimeout=function(n){this.P=n},Ee.nb=function(n){n=n.target;const e=this.M;e&&3==cs(n)?e.l():this.Pa(n)},Ee.Pa=function(n){try{if(n==this.g)e:{const h=cs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||Sx||this.g&&(this.h.h||this.g.ja()||WF(this.g)))){this.J||4!=h||7==e||Gp(),_v(this);var t=this.g.da();this.ca=t;t:if(CF(this)){var i=WF(this.g);n="";var r=i.length,o=4==cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oc(this),Xp(this);var s="";break t}this.h.i=new it.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function wQ(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jp(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,fr(12),oc(this),Xp(this);break e}Td(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eC(this,t)}this.S?(TF(this,h,s),Sx&&this.i&&3==h&&(fF(this.U,this.V,"tick",this.mb),this.V.start())):(Td(this.j,this.m,s,null),eC(this,s)),4==h&&oc(this),this.i&&!this.J&&(4==h?eL(this.l,this):(this.i=!1,Yp(this)))}else(function WQ(n){const e={};n=(n.g&&2<=cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(jp(n[i]))continue;var t=_Q(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function uQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),oc(this),Xp(this)}}}catch{}},Ee.mb=function(){if(this.g){var n=cs(this.g),e=this.g.ja();this.o<e.length&&(_v(this),TF(this,n,e),this.i&&4!=n&&Yp(this))}},Ee.cancel=function(){this.J=!0,oc(this)},Ee.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function IQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Gp(),fr(17)),oc(this),this.s=2,Xp(this)):DF(this,this.Y-n)};var SF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof sc){this.h=n.h,yv(this,n.j),this.s=n.s,this.g=n.g,vv(this,n.m),this.l=n.l;var e=n.i,t=new tm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),MF(this,t),this.o=n.o}else n&&(e=String(n).match(SF))?(this.h=!1,yv(this,e[1]||"",!0),this.s=Jp(e[2]||""),this.g=Jp(e[3]||"",!0),vv(this,e[4]),this.l=Jp(e[5]||"",!0),MF(this,e[6]||"",!0),this.o=Jp(e[7]||"")):(this.h=!1,this.i=new tm(null,this.h))}function ea(n){return new sc(n)}function yv(n,e,t){n.j=t?Jp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function MF(n,e,t){e instanceof tm?(n.i=e,function NQ(n,e){e&&!n.j&&(Za(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(PF(this,i),kF(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=em(e,OQ)),n.i=new tm(e,n.h))}function vn(n,e,t){n.i.set(e,t)}function bv(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function em(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,MQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(em(e,RF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(em(e,RF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(em(t,"/"==t.charAt(0)?PQ:RQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",em(t,kQ)),n.join("")};var RF=/[#\/\?@]/g,RQ=/[#\?:]/g,PQ=/[#\?]/g,OQ=/[#\?@]/g,kQ=/#/g;function tm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Za(n){n.g||(n.g=new Map,n.h=0,n.i&&function SQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PF(n,e){Za(n),e=Dd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function OF(n,e){return Za(n),e=Dd(n,e),n.g.has(e)}function kF(n,e,t){PF(n,e),0<t.length&&(n.i=null,n.g.set(Dd(n,e),Dx(t)),n.h+=t.length)}function Dd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NF(n){this.l=n||LQ,n=it.PerformanceNavigationTiming?0<(n=it.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=tm.prototype).add=function(n,e){Za(this),this.i=null,n=Dd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(n,e){Za(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Ee.ta=function(){Za(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},Ee.Z=function(n){Za(this);let e=[];if("string"==typeof n)OF(this,n)&&(e=e.concat(this.g.get(Dd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ee.set=function(n,e){return Za(this),this.i=null,OF(this,n=Dd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ee.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var LQ=10;function FF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LF(n){return n.h?1:n.g?n.g.size:0}function tC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function nC(n,e){n.g?n.g.add(e):n.h=e}function VF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function BF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Dx(n.i)}NF.prototype.cancel=function(){if(this.i=BF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var VQ=class{stringify(n){return it.JSON.stringify(n,void 0)}parse(n){return it.JSON.parse(n,void 0)}};function BQ(){this.g=new VQ}function UQ(n,e,t){const i=t||"";try{AF(n,function(r,o){let s=r;Up(r)&&(s=Hx(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ev(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function nm(n){this.l=n.ec||null,this.j=n.ob||!1}function wv(n,e){Ii.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=iC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wi(nm,Zx),nm.prototype.g=function(){return new wv(this.l,this.j)},nm.prototype.i=function(n){return function(){return n}}({}),wi(wv,Ii);var iC=0;function UF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function im(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rm(n)}function rm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ee=wv.prototype).open=function(n,e){if(this.readyState!=iC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rm(this)},Ee.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||it).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,im(this)),this.readyState=iC},Ee.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rm(this)),this.g&&(this.readyState=3,rm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof it.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?im(this):rm(this),3==this.readyState&&UF(this)}},Ee.Za=function(n){this.g&&(this.response=this.responseText=n,im(this))},Ee.Ya=function(n){this.g&&(this.response=n,im(this))},Ee.ka=function(){this.g&&im(this)},Ee.setRequestHeader=function(n,e){this.v.append(n,e)},Ee.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zQ=it.JSON.parse;function Ln(n){Ii.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jF,this.L=this.M=!1}wi(Ln,Ii);var jF="",$Q=/^https?$/i,HQ=["POST","PUT"];function zF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$F(n),Iv(n)}function $F(n){n.F||(n.F=!0,ki(n,"complete"),ki(n,"error"))}function HF(n){if(n.h&&typeof Cx<"u"&&(!n.C[1]||4!=cs(n)||2!=n.da()))if(n.v&&4==cs(n))Gx(n.La,0,n);else if(ki(n,"readystatechange"),4==cs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(SF)[1]||null;!r&&it.self&&it.self.location&&(r=it.self.location.protocol.slice(0,-1)),i=!$Q.test(r?r.toLowerCase():"")}t=i}if(t)ki(n,"complete"),ki(n,"success");else{n.m=6;try{var o=2<cs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",$F(n)}}finally{Iv(n)}}}function Iv(n,e){if(n.g){qF(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ki(n,"ready");try{t.onreadystatechange=i}catch{}}}function qF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(it.clearTimeout(n.A),n.A=null)}function cs(n){return n.g?n.g.readyState:0}function WF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case jF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GF(n){let e="";return Nx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function rC(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=GF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function om(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ZF(n){this.Ga=0,this.j=[],this.l=new fv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=om("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=om("baseRetryDelayMs",5e3,n),this.hb=om("retryDelaySeedMs",1e4,n),this.eb=om("forwardChannelMaxRetries",2,n),this.xa=om("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new NF(n&&n.concurrentRequestLimit),this.Ja=new BQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oC(n){if(KF(n),3==n.H){var e=n.W++,t=ea(n.I);if(vn(t,"SID",n.K),vn(t,"RID",e),vn(t,"TYPE","terminate"),sm(n,t),(e=new Qp(n,n.l,e)).L=2,e.A=bv(ea(t)),t=!1,it.navigator&&it.navigator.sendBeacon)try{t=it.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&it.Image&&((new Image).src=e.A,t=!0),t||(e.g=rL(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Yp(e)}nL(n)}function xv(n){n.g&&(aC(n),n.g.cancel(),n.g=null)}function KF(n){xv(n),n.u&&(it.clearTimeout(n.u),n.u=null),Tv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&it.clearTimeout(n.m),n.m=null)}function Cv(n){if(!FF(n.i)&&!n.m){n.m=!0;var e=n.Na;Hp||uF(),qp||(Hp(),qp=!0),qx.add(e,n),n.C=0}}function QF(n,e){var t;t=e?e.m:n.W++;const i=ea(n.I);vn(i,"SID",n.K),vn(i,"RID",t),vn(i,"AID",n.V),sm(n,i),n.o&&n.s&&rC(i,n.o,n.s),t=new Qp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=YF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),nC(n.i,t),Jx(t,i,e)}function sm(n,e){n.na&&Nx(n.na,function(t,i){vn(e,i,t)}),n.h&&AF({},function(t,i){vn(e,i,t)})}function YF(n,e,t){t=Math.min(n.j.length,t);var i=n.h?$i(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const h=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{UQ(h,s,"req"+c+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function XF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Hp||uF(),qp||(Hp(),qp=!0),qx.add(e,n),n.A=0}}function sC(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Zp($i(n.Ma,n),tL(n,n.A)),n.A++,0))}function aC(n){null!=n.B&&(it.clearTimeout(n.B),n.B=null)}function JF(n){n.g=new Qp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ea(n.wa);vn(e,"RID","rpc"),vn(e,"SID",n.K),vn(e,"AID",n.V),vn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vn(e,"TO",n.qa),vn(e,"TYPE","xmlhttp"),sm(n,e),n.o&&n.s&&rC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=bv(ea(e)),t.u=null,t.S=!0,xF(t,n)}function Tv(n){null!=n.v&&(it.clearTimeout(n.v),n.v=null)}function eL(n,e){var t=null;if(n.g==e){Tv(n),aC(n),n.g=null;var i=2}else{if(!tC(n.i,e))return;t=e.F,VF(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;ki(i=pv(),new yF(i,t)),Cv(n)}else XF(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function GQ(n,e){return!(LF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Zp($i(n.Na,n,e),tL(n,n.C)),n.C++,0)))}(n,e)||2==i&&sC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ac(n,5);break;case 4:ac(n,10);break;case 3:ac(n,6);break;default:ac(n,2)}}function tL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ac(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=$i(n.pb,n);t||(t=new sc("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||yv(t,"https"),bv(t)),function jQ(n,e){const t=new fv;if(it.Image){const i=new Image;i.onload=av(Ev,t,i,"TestLoadImage: loaded",!0,e),i.onerror=av(Ev,t,i,"TestLoadImage: error",!1,e),i.onabort=av(Ev,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=av(Ev,t,i,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else fr(2);n.H=0,n.h&&n.h.za(e),nL(n),KF(n)}function nL(n){if(n.H=0,n.ma=[],n.h){const e=BF(n.i);(0!=e.length||0!=n.j.length)&&(QN(n.ma,e),QN(n.ma,n.j),n.i.i.length=0,Dx(n.j),n.j.length=0),n.h.ya()}}function iL(n,e,t){var i=t instanceof sc?ea(t):new sc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),vv(i,i.m);else{var r=it.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new sc(null);i&&yv(o,i),e&&(o.g=e),r&&vv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&vn(i,t,e),vn(i,"VER",n.ra),sm(n,i),i}function rL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(n.Ha&&!n.va?new nm({ob:t}):n.va)).Oa(n.J),e}function oL(){}function Dv(){if(Cd&&!(10<=Number(sQ)))throw Error("Environmental error: no available transport.")}function jr(n,e){Ii.call(this),this.g=new ZF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!jp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ad(this)}function sL(n){Kx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function aL(){Qx.call(this),this.status=1}function Ad(n){this.g=n}function Lo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lC(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Kt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(Ee=Ln.prototype).Oa=function(n){this.M=n},Ee.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yx.g(),this.C=function bF(n){return n.h||(n.h=n.i())}(this.u?this.u:Yx),this.g.onreadystatechange=$i(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void zF(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=it.FormData&&n instanceof it.FormData,!(0<=KN(HQ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qF(this),0<this.B&&((this.L=function qQ(n){return Cd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$i(this.ua,this)):this.A=Gx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){zF(this,o)}},Ee.ua=function(){typeof Cx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},Ee.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ki(this,"complete"),ki(this,"abort"),Iv(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iv(this,!0)),Ln.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?HF(this):this.kb())},Ee.kb=function(){HF(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zQ(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=ZF.prototype).ra=8,Ee.H=1,Ee.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Qp(this,this.l,n);let o=this.s;if(this.U&&(o?(o=tF(o),iF(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=YF(this,r,e),vn(t=ea(this.I),"RID",n),vn(t,"CVER",22),this.F&&vn(t,"X-HTTP-Session-Id",this.F),sm(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(GF(o)))+"&"+e:this.o&&rC(t,this.o,o)),nC(this.i,r),this.bb&&vn(t,"TYPE","init"),this.P?(vn(t,"$req",e),vn(t,"SID","null"),r.aa=!0,Jx(r,t,null)):Jx(r,t,e),this.H=2}}else 3==this.H&&(n?QF(this,n):0==this.j.length||FF(this.i)||QF(this))},Ee.Ma=function(){if(this.u=null,JF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Zp($i(this.jb,this),n)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fr(10),xv(this),JF(this))},Ee.ib=function(){null!=this.v&&(this.v=null,xv(this),sC(this),fr(19))},Ee.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fr(2)):(this.l.info("Failed to ping google.com"),fr(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=oL.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},Dv.prototype.g=function(n,e){return new jr(n,e)},wi(jr,Ii),jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=iL(n,null,n.Y),Cv(n)},jr.prototype.close=function(){oC(this.g)},jr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Hx(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Cv(e)},jr.prototype.N=function(){this.g.h=null,delete this.j,oC(this.g),delete this.g,jr.$.N.call(this)},wi(sL,Kx),wi(aL,Qx),wi(Ad,oL),Ad.prototype.Ba=function(){ki(this.g,"a")},Ad.prototype.Aa=function(n){ki(this.g,new sL(n))},Ad.prototype.za=function(n){ki(this.g,new aL)},Ad.prototype.ya=function(){ki(this.g,"b")},wi(Lo,function ZQ(){this.blockSize=-1}),Lo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)lC(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){lC(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){lC(this,i),r=0;break}}this.h=r,this.i+=e},Lo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var KQ={};function cC(n){return-128<=n&&128>n?function iQ(n,e){var t=KQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Kt([0|e],0>e?-1:0)}):new Kt([0|n],0>n?-1:0)}function us(n){if(isNaN(n)||!isFinite(n))return Sd;if(0>n)return Ni(us(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=uC;return new Kt(e,0)}var uC=4294967296,Sd=cC(0),dC=cC(1),cL=cC(16777216);function ta(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function _o(n){return-1==n.h}function Ni(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Kt(t,~n.h).add(dC)}function Av(n,e){return n.add(Ni(e))}function Sv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function am(n,e){this.g=n,this.h=e}function Mv(n,e){if(ta(e))throw Error("division by zero");if(ta(n))return new am(Sd,Sd);if(_o(n))return e=Mv(Ni(n),e),new am(Ni(e.g),Ni(e.h));if(_o(e))return e=Mv(n,Ni(e)),new am(Ni(e.g),e.h);if(30<n.g.length){if(_o(n)||_o(e))throw Error("slowDivide_ only works with positive integers.");for(var t=dC,i=e;0>=i.X(n);)t=uL(t),i=uL(i);var r=Md(t,1),o=Md(i,1);for(i=Md(i,2),t=Md(t,2);!ta(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Md(i,1),t=Md(t,1)}return e=Av(n,r.R(e)),new am(r,e)}for(r=Sd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=us(t)).R(e);_o(s)||0<s.X(n);)s=(o=us(t-=i)).R(e);ta(o)&&(o=dC),r=r.add(o),n=Av(n,s)}return new am(r,n)}function uL(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Kt(t,n.h)}function Md(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Kt(r,n.h)}(Ee=Kt.prototype).ea=function(){if(_o(this))return-Ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:uC+i)*e,e*=uC}return n},Ee.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ta(this))return"0";if(_o(this))return"-"+Ni(this).toString(n);for(var e=us(Math.pow(n,6)),t=this,i="";;){var r=Mv(t,e).g,o=((0<(t=Av(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ta(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Ee.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ee.X=function(n){return _o(n=Av(this,n))?-1:ta(n)?0:1},Ee.abs=function(){return _o(this)?Ni(this):this},Ee.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Kt(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(n){if(ta(this)||ta(n))return Sd;if(_o(this))return _o(n)?Ni(this).R(Ni(n)):Ni(Ni(this).R(n));if(_o(n))return Ni(this.R(Ni(n)));if(0>this.X(cL)&&0>n.X(cL))return us(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,Sv(t,2*i+2*r),t[2*i+2*r+1]+=o*l,Sv(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Sv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Sv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Kt(t,0)},Ee.gb=function(n){return Mv(this,n).h},Ee.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Kt(t,this.h&n.h)},Ee.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Kt(t,this.h|n.h)},Ee.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Kt(t,this.h^n.h)},Dv.prototype.createWebChannel=Dv.prototype.g,jr.prototype.send=jr.prototype.u,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,mv.NO_ERROR=0,mv.TIMEOUT=8,mv.HTTP_ERROR=6,vF.COMPLETE="complete",EF.EventType=Kp,Kp.OPEN="a",Kp.CLOSE="b",Kp.ERROR="c",Kp.MESSAGE="d",Ii.prototype.listen=Ii.prototype.O,Ln.prototype.listenOnce=Ln.prototype.P,Ln.prototype.getLastError=Ln.prototype.Sa,Ln.prototype.getLastErrorCode=Ln.prototype.Ia,Ln.prototype.getStatus=Ln.prototype.da,Ln.prototype.getResponseJson=Ln.prototype.Wa,Ln.prototype.getResponseText=Ln.prototype.ja,Ln.prototype.send=Ln.prototype.ha,Ln.prototype.setWithCredentials=Ln.prototype.Oa,Lo.prototype.digest=Lo.prototype.l,Lo.prototype.reset=Lo.prototype.reset,Lo.prototype.update=Lo.prototype.j,Kt.prototype.add=Kt.prototype.add,Kt.prototype.multiply=Kt.prototype.R,Kt.prototype.modulo=Kt.prototype.gb,Kt.prototype.compare=Kt.prototype.X,Kt.prototype.toNumber=Kt.prototype.ea,Kt.prototype.toString=Kt.prototype.toString,Kt.prototype.getBits=Kt.prototype.D,Kt.fromNumber=us,Kt.fromString=function lL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ni(lL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=us(Math.pow(e,8)),i=Sd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=us(Math.pow(e,o)),i=i.R(o).add(us(s))):i=(i=i.R(t)).add(us(s))}return i};var QQ=Fo.createWebChannelTransport=function(){return new Dv},YQ=Fo.getStatEventTarget=function(){return pv()},hC=Fo.ErrorCode=mv,XQ=Fo.EventType=vF,JQ=Fo.Event=rc,dL=Fo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Rv=(Fo.FetchXmlHttpFactory=nm,Fo.WebChannel=EF),eY=Fo.XhrIo=Ln,tY=Fo.Md5=Lo,Rd=Fo.Integer=Kt;const hL="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let Pd="10.7.0";const Ka=new Xs.Yd("@firebase/firestore");function Od(){return Ka.logLevel}function le(n,...e){if(Ka.logLevel<=Xs.in.DEBUG){const t=e.map(fC);Ka.debug(`Firestore (${Pd}): ${n}`,...t)}}function Kn(n,...e){if(Ka.logLevel<=Xs.in.ERROR){const t=e.map(fC);Ka.error(`Firestore (${Pd}): ${n}`,...t)}}function zr(n,...e){if(Ka.logLevel<=Xs.in.WARN){const t=e.map(fC);Ka.warn(`Firestore (${Pd}): ${n}`,...t)}}function fC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Se(n="Unexpected state"){const e=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: `+n;throw Kn(e),new Error(e)}function Ne(n,e){n||Se()}function me(n,e){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends qa.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class iY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rY{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,Me.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ne("string"==typeof i.accessToken),new fL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new xi(e)}}class oY{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sY{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new oY(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne("string"==typeof t.token),this.R=t.token,new pL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class mL{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=lY(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function et(n,e){return n<e?-1:n>e?1:0}function kd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Rn(0,0))}static max(){return new Fe(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lm{constructor(e,t,i){void 0===t?t=0:t>e.length&&Se(),void 0===i?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===lm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lm?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nt extends lm{construct(e,t,i){return new Nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const cY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends lm{construct(e,t,i){return new xn(e,t,i)}static isValidIdentifier(e){return cY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Nt.fromString(e))}static fromName(e){return new _e(Nt.fromString(e).popFirst(5))}static empty(){return new _e(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Nt(e.slice()))}}function yL(n){return new $r(n.readTime,n.key,-1)}class $r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $r(Fe.min(),_e.empty(),-1)}static max(){return new $r(Fe.max(),_e.empty(),-1)}}function mC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=_e.comparator(n.documentKey,e.documentKey),0!==t?t:et(n.largestBatchId,e.largestBatchId))}const vL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qa(n){return gC.apply(this,arguments)}function gC(){return gC=(0,Me.Z)(function*(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==vL)throw n;le("LocalStore","Unexpectedly lost primary lease")}),gC.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,i)=>{t(e)})}static reject(e){return new L((t,i)=>{i(e)})}static waitFor(e){return new L((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=L.resolve(!1);for(const i of e)t=t.next(r=>r?L.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new L((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new L((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function Ya(n){return"IndexedDbTransactionError"===n.name}let Hr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function um(n){return null==n}function dm(n){return 0===n&&1/n==-1/0}function AL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ln{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new ln(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kv(this.root,e,this.comparator,!1)}getReverseIterator(){return new kv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kv(this.root,e,this.comparator,!0)}}class kv{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Fi.RED,this.left=r??Fi.EMPTY,this.right=o??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Fi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Fi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Fi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ML(this.data.getIterator())}getIteratorFrom(e){return new ML(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class ML{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Cr([])}unionWith(e){let t=new Jt(xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class RL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new RL("Invalid base64 string: "+o):o}}(e);return new pi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const NY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(n){if(Ne(!!n),"string"==typeof n){let e=0;const t=NY.exec(n);if(Ne(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vn(n.seconds),nanos:Vn(n.nanos)}}function Vn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function na(n){return"string"==typeof n?pi.fromBase64String(n):pi.fromUint8Array(n)}function Nv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fv(n){const e=n.mapValue.fields.__previous_value__;return Nv(e)?Fv(e):e}function hm(n){const e=Ja(n.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}class FY{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class dc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}const el={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nv(n)?4:NL(n)?9007199254740991:10:Se()}function hs(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hm(n).isEqual(hm(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Ja(r.timestampValue),a=Ja(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,na(n.bytesValue).isEqual(na(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Vn(r.geoPointValue.latitude)===Vn(o.geoPointValue.latitude)&&Vn(r.geoPointValue.longitude)===Vn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Vn(r.integerValue)===Vn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Vn(r.doubleValue),a=Vn(o.doubleValue);return s===a?dm(s)===dm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return kd(n.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(AL(s)!==AL(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!hs(s[l],a[l])))return!1;return!0}(n,e);default:return Se()}var o}function fm(n,e){return void 0!==(n.values||[]).find(t=>hs(t,e))}function nl(n,e){if(n===e)return 0;const t=tl(n),i=tl(e);if(t!==i)return et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Vn(o.integerValue||o.doubleValue),l=Vn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return PL(n.timestampValue,e.timestampValue);case 4:return PL(hm(n),hm(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(o,s){const a=na(o),l=na(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=et(a[c],l[c]);if(0!==h)return h}return et(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=et(Vn(o.latitude),Vn(s.latitude));return 0!==a?a:et(Vn(o.longitude),Vn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=nl(a[c],l[c]);if(h)return h}return et(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===el.mapValue&&s===el.mapValue)return 0;if(o===el.mapValue)return 1;if(s===el.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=et(l[p],h[p]);if(0!==g)return g;const y=nl(a[l[p]],c[h[p]]);if(0!==y)return y}return et(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Se()}}function PL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return et(n,e);const t=Ja(n),i=Ja(e),r=et(t.seconds,i.seconds);return 0!==r?r:et(t.nanos,i.nanos)}function Vd(n){return vC(n)}function vC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ja(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?na(n.bytesValue).toBase64():"referenceValue"in n?_e.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=vC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${vC(t.fields[s])}`;return r+"}"}(n.mapValue):Se()}function bC(n){return!!n&&"integerValue"in n}function pm(n){return!!n&&"arrayValue"in n}function OL(n){return!!n&&"nullValue"in n}function kL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bv(n){return!!n&&"mapValue"in n}function mm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=mm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mm(t)}setAll(e){let t=xn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=mm(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Bv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Bv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Xa(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Li(mm(this.value))}}function VL(n){const e=[];return Xa(n.fields,(t,i)=>{const r=new xn([t]);if(Bv(i)){const o=VL(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Cr(e)}class bn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,Fe.min(),Fe.min(),Fe.min(),Li.empty(),0)}static newFoundDocument(e,t,i,r){return new bn(e,1,t,Fe.min(),i,r,0)}static newNoDocument(e,t){return new bn(e,2,t,Fe.min(),Fe.min(),Li.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,Fe.min(),Fe.min(),Li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class il{constructor(e,t){this.position=e,this.inclusive=t}}function BL(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?_e.comparator(_e.fromName(s.referenceValue),t.key):nl(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function UL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hs(n.position[t],e.position[t]))return!1;return!0}class gm{constructor(e,t="asc"){this.field=e,this.dir=t}}function BY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class jL{}class At extends jL{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new UY(e,t,i):"array-contains"===t?new $Y(e,i):"in"===t?new GL(e,i):"not-in"===t?new HY(e,i):"array-contains-any"===t?new qY(e,i):new At(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new jY(e,i):new zY(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nl(t,this.value)):null!==t&&tl(this.value)===tl(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends jL{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Qt(e,t)}matches(e){return Bd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Bd(n){return"and"===n.op}function wC(n){return function zL(n){for(const e of n.filters)if(e instanceof Qt)return!1;return!0}(n)&&Bd(n)}function IC(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+Vd(n.value);if(wC(n))return n.filters.map(e=>IC(e)).join(",");{const e=n.filters.map(t=>IC(t)).join(",");return`${n.op}(${e})`}}function $L(n,e){return n instanceof At?(i=n,(r=e)instanceof At&&i.op===r.op&&i.field.isEqual(r.field)&&hs(i.value,r.value)):n instanceof Qt?function(i,r){return r instanceof Qt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&$L(s,r.filters[a]),!0)}(n,e):void Se();var i,r}function qL(n){return n instanceof At?`${(t=n).field.canonicalString()} ${t.op} ${Vd(t.value)}`:n instanceof Qt?function(t){return t.op.toString()+" {"+t.getFilters().map(qL).join(" ,")+"}"}(n):"Filter";var t}class UY extends At{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class jY extends At{constructor(e,t){super(e,"in",t),this.keys=WL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zY extends At{constructor(e,t){super(e,"not-in",t),this.keys=WL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class $Y extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pm(t)&&fm(t.arrayValue,this.value)}}class GL extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fm(this.value.arrayValue,t)}}class HY extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fm(this.value.arrayValue,t)}}class qY extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>fm(this.value.arrayValue,i))}}class WY{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function xC(n,e=null,t=[],i=[],r=null,o=null,s=null){return new WY(n,e,t,i,r,o,s)}function fc(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>IC(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),um(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),e.ce=t}return e.ce}function _m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$L(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UL(n.startAt,e.startAt)&&UL(n.endAt,e.endAt)}function Uv(n){return _e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ia{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Ud(n){return new ia(n)}function YL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jd(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(xn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new gm(o,i))}),t.has(xn.keyField().canonicalString())||e.le.push(new gm(xn.keyField(),i))}return e.le}function pr(n){const e=me(n);return e.he||(e.he=function XL(n,e){if("F"===n.limitType)return xC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new gm(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new il(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new il(n.startAt.position,n.startAt.inclusive):null;return xC(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,jd(n))),e.he}function zv(n,e,t){return new ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ym(n,e){return _m(pr(n),pr(e))&&n.limitType===e.limitType}function JL(n){return`${fc(pr(n))}|lt:${n.limitType}`}function zd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>qL(r)).join(", ")}]`),um(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Vd(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Vd(r)).join(",")),`Target(${i})`}(pr(n))}; limitType=${n.limitType})`}function vm(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_e.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of jd(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const c=BL(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,jd(i),r)||i.endAt&&!function(s,a,l){const c=BL(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,jd(i),r)));var i,r}function tV(n){return(e,t)=>{let i=!1;for(const r of jd(n)){const o=GY(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function GY(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?nl(l,c):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return SL(this.inner)}size(){return this.innerSize}}const ZY=new ln(_e.comparator);function Tr(){return ZY}const nV=new ln(_e.comparator);function bm(...n){let e=nV;for(const t of n)e=e.insert(t.key,t);return e}function iV(n){let e=nV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fs(){return Em()}function rV(){return Em()}function Em(){return new ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const KY=new ln(_e.comparator),QY=new Jt(_e.comparator);function lt(...n){let e=QY;for(const t of n)e=e.add(t);return e}const YY=new Jt(et);function oV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function sV(n){return{integerValue:""+n}}function aV(n,e){return function EL(n){return"number"==typeof n&&Number.isInteger(n)&&!dm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?sV(e):oV(n,e)}class $v{constructor(){this._=void 0}}function XY(n,e,t){return n instanceof $d?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Nv(o)&&(o=Fv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof pc?cV(n,e):n instanceof mc?uV(n,e):function(r,o){const s=lV(r,o),a=dV(s)+dV(r.Ie);return bC(s)&&bC(r.Ie)?sV(a):oV(r.serializer,a)}(n,e)}function JY(n,e,t){return n instanceof pc?cV(n,e):n instanceof mc?uV(n,e):t}function lV(n,e){return n instanceof Hd?bC(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class $d extends $v{}class pc extends $v{constructor(e){super(),this.elements=e}}function cV(n,e){const t=hV(e);for(const i of n.elements)t.some(r=>hs(r,i))||t.push(i);return{arrayValue:{values:t}}}class mc extends $v{constructor(e){super(),this.elements=e}}function uV(n,e){let t=hV(e);for(const i of n.elements)t=t.filter(r=>!hs(r,i));return{arrayValue:{values:t}}}class Hd extends $v{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function dV(n){return Vn(n.integerValue||n.doubleValue)}function hV(n){return pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tX{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qv{}function fV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Wd(n.key,Cn.none()):new qd(n.key,n.data,Cn.none());{const t=n.data,i=Li.empty();let r=new Jt(xn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new oa(n.key,i,new Cr(r.toArray()),Cn.none())}}function nX(n,e,t){n instanceof qd?function(r,o,s){const a=r.value.clone(),l=gV(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof oa?function(r,o,s){if(!Hv(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=gV(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(mV(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Im(n,e,t,i){return n instanceof qd?function(o,s,a,l){if(!Hv(o.precondition,s))return a;const c=o.value.clone(),h=_V(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof oa?function(o,s,a,l){if(!Hv(o.precondition,s))return a;const c=_V(o.fieldTransforms,l,s),h=s.data;return h.setAll(mV(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,Hv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function iX(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=lV(i.transform,r||null);null!=o&&(null===t&&(t=Li.empty()),t.set(i.field,o))}return t||null}function pV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&kd(i,r,(o,s)=>function eX(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof pc&&r instanceof pc||i instanceof mc&&r instanceof mc?kd(i.elements,r.elements,hs):i instanceof Hd&&r instanceof Hd?hs(i.Ie,r.Ie):i instanceof $d&&r instanceof $d);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class qd extends qv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oa extends qv{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gV(n,e,t){const i=new Map;Ne(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,JY(s,a,t[r]))}return i}function _V(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,XY(o,s,e))}return i}class Wd extends qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SC{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&nX(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Im(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Im(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rV();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=fV(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&kd(this.mutations,e.mutations,(t,i)=>pV(t,i))&&kd(this.baseMutations,e.baseMutations,(t,i)=>pV(t,i))}}class MC{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ne(e.mutations.length===i.length);let r=KY;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new MC(e,t,i,r)}}class RC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oX{constructor(e,t){this.count=e,this.unchangedNames=t}}var ni,Ft;function vV(n){if(void 0===n)return Kn("GRPC error has no .code"),W.UNKNOWN;switch(n){case ni.OK:return W.OK;case ni.CANCELLED:return W.CANCELLED;case ni.UNKNOWN:return W.UNKNOWN;case ni.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ni.INTERNAL:return W.INTERNAL;case ni.UNAVAILABLE:return W.UNAVAILABLE;case ni.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ni.NOT_FOUND:return W.NOT_FOUND;case ni.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ni.ABORTED:return W.ABORTED;case ni.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ni.DATA_LOSS:return W.DATA_LOSS;default:return Se()}}(Ft=ni||(ni={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";const sX=new Rd([4294967295,4294967295],0);function EV(n){const e=function bV(){return new TextEncoder}().encode(n),t=new tY;return t.update(e),new Uint8Array(t.digest())}function wV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rd([t,i],0),new Rd([r,o],0)]}class PC{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xm(`Invalid padding: ${t}`);if(i<0)throw new xm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new xm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new xm(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Rd.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Rd.fromNumber(i)));return 1===r.compare(sX)&&(r=new Rd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=EV(e),[i,r]=wV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new PC(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=EV(e),[i,r]=wV(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cm{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Tm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Cm(Fe.min(),r,new ln(et),Tr(),lt())}}class Tm{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tm(i,t,lt(),lt(),lt())}}class Gv{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class IV{constructor(e,t){this.targetId=e,this.fe=t}}class xV{constructor(e,t,i=pi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class CV{constructor(){this.ge=0,this.pe=DV(),this.ye=pi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=lt(),t=lt(),i=lt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Se()}}),new Tm(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=DV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ne(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class aX{constructor(e){this.Le=e,this.ke=new Map,this.qe=Tr(),this.Qe=TV(),this.Ke=new ln(et)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(Uv(o))if(0===i){const s=new _e(o.path);this.We(t,s,bn.newNoDocument(s,Fe.min()))}else Ne(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=na(i).toUint8Array()}catch(l){if(l instanceof RL)return zr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new PC(s,r,o)}catch(l){return zr(l instanceof xm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Uv(a.target)){const l=new _e(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,bn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=lt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Cm(e,t,this.Ke,this.qe,i);return this.qe=Tr(),this.Qe=TV(),this.Ke=new ln(et),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new CV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Jt(et),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new CV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function TV(){return new ln(_e.comparator)}function DV(){return new ln(_e.comparator)}const lX={asc:"ASCENDING",desc:"DESCENDING"},cX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uX={and:"AND",or:"OR"};class dX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function OC(n,e){return n.useProto3Json||um(e)?e:{value:e}}function Gd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hX(n,e){return Gd(n,e.toTimestamp())}function Qn(n){return Ne(!!n),Fe.fromTimestamp(function(t){const i=Ja(t);return new Rn(i.seconds,i.nanos)}(n))}function kC(n,e){return(i=n,new Nt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function SV(n){const e=Nt.fromString(n);return Ne(VV(e)),e}function Dm(n,e){return kC(n.databaseId,e.path)}function ps(n,e){const t=SV(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(RV(t))}function NC(n,e){return kC(n.databaseId,e)}function Am(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RV(n){return Ne(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function PV(n,e,t){return{name:Dm(n,e),fields:t.value.mapValue.fields}}function kV(n,e){return{documents:[NC(n,e.path)]}}function LC(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=NC(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=NC(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return LV(Qt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:rl((p=c).field),direction:_X(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=OC(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function NV(n){let e=function MV(n){const e=SV(n);return 4===e.length?Nt.emptyPath():RV(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ne(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=FV(p);return g instanceof Qt&&wC(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new gm(Zd((w=g).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,um(g)?null:g}(t.limit));let l=null;var p;t.startAt&&(l=new il((p=t.startAt).values||[],!!p.before));let c=null;return t.endAt&&(c=function(p){return new il(p.values||[],!p.before)}(t.endAt)),function QL(n,e,t,i,r,o,s,a){return new ia(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function FV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zd(t.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Zd(t.unaryFilter.field);return At.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zd(t.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zd(t.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):void 0!==n.fieldFilter?At.create(Zd((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Qt.create(t.compositeFilter.filters.map(i=>FV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se();var t}function _X(n){return lX[n]}function yX(n){return cX[n]}function vX(n){return uX[n]}function rl(n){return{fieldPath:n.canonicalString()}}function Zd(n){return xn.fromServerFormat(n.fieldPath)}function LV(n){return n instanceof At?function(t){if("=="===t.op){if(kL(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NAN"}};if(OL(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(kL(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NAN"}};if(OL(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(t.field),op:yX(t.op),value:t.value}}}(n):n instanceof Qt?function(t){const i=t.getFilters().map(r=>LV(r));return 1===i.length?i[0]:{compositeFilter:{op:vX(t.op),filters:i}}}(n):Se()}function bX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class sa{constructor(e,t,i,r,o=Fe.min(),s=Fe.min(),a=pi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BV{constructor(e){this.ut=e}}function VC(n){const e=NV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zv(e,e.limit,"L"):e}class vc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vn(e.integerValue));else if("doubleValue"in e){const i=Vn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),dm(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(na(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?NL(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Se()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),_e.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}vc.St=new vc;class AX{constructor(){this.on=new HC}addToCollectionParentIndex(e,t){return this.on.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve($r.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class HC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Jt(Nt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Jt(Nt.comparator)).toArray()}}new Uint8Array(0);class Wi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class Ec{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ec(0)}static Nn(){return new Ec(-1)}}class kX{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class f2{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Im(i.mutation,r,Cr.empty(),Rn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,lt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=lt()){const r=fs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=bm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=fs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,lt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Tr();const s=Em(),a=Em();return t.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof oa)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),Im(h.mutation,c,h.mutation.getFieldMask(),Rn.now())):s.set(c.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),t.forEach((c,h)=>{var p;return a.set(c,new LX(h,null!==(p=s.get(c))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Em();let r=new ln((s,a)=>s-a),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let h=i.get(l)||Cr.empty();h=a.applyToLocalView(c,h),i.set(l,h);const p=(r.get(a.batchId)||lt()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=rV();h.forEach(g=>{if(!o.has(g)){const y=fV(t.get(g),i.get(g));null!==y&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return _e.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function CC(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(fs());let a=-1,l=o;return s.next(c=>L.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,lt())).next(h=>({batchId:a,changes:iV(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let r=bm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=bm();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,l=>{const c=(p=t,g=l.child(o),new ia(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=bm();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&Im(h.mutation,c,Cr.empty(),Rn.now()),vm(t,c)&&(a=a.insert(l,c))}),a})}}class VX{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return L.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Qn(r.createTime)}),L.resolve();var r}getNamedQuery(e,t){return L.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:VC(r.bundledQuery),readTime:Qn(r.readTime)}),L.resolve();var r}}class BX{constructor(){this.overlays=new ln(_e.comparator),this.lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fs();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){const r=fs(),o=t.length+1,s=new _e(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ln((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=fs(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=fs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return L.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new RC(t,i));let o=this.lr.get(t);void 0===o&&(o=lt(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class qC{constructor(){this.hr=new Jt(Ti.Pr),this.Ir=new Jt(Ti.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ti(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ti(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new _e(new Nt([])),i=new Ti(t,e),r=new Ti(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new _e(new Nt([])),i=new Ti(t,e),r=new Ti(t,e+1);let o=lt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ti(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ti{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return _e.comparator(e.key,t.key)||et(e.gr,t.gr)}static Tr(e,t){return et(e.gr,t.gr)||_e.comparator(e.key,t.key)}}class UX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Ti.Pr)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new SC(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Ti(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ti(t,0),r=new Ti(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(et);return t.forEach(r=>{const o=new Ti(r,0),s=new Ti(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),L.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;_e.isDocumentKey(o)||(o=o.child(""));const s=new Ti(new _e(o),0);let a=new Jt(et);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),L.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ne(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return L.forEach(t.mutations,r=>{const o=new Ti(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ti(t,0),r=this.yr.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return L.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jX{constructor(e){this.Cr=e,this.docs=new ln(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let i=Tr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Tr();const s=t.path,a=new _e(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||mC(yL(h),i)<=0||(r.has(h.key)||vm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Se()}vr(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new zX(this)}getSize(e){return L.resolve(this.size)}}class zX extends kX{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class $X{constructor(e){this.persistence=e,this.Fr=new ra(t=>fc(t),_m),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new qC,this.targetCount=0,this.Nr=Ec.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),L.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.kn(t),L.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.Or.containsKey(t))}}class WC{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Hr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new $X(this),this.indexManager=new AX,this.remoteDocumentCache=new jX(i=>this.referenceDelegate.Qr(i)),this.serializer=new BV(t),this.Kr=new VX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new UX(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new HX(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return L.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class HX extends hY{constructor(e){super(),this.currentSequenceNumber=e}}class tb{constructor(e){this.persistence=e,this.Gr=new qC,this.zr=null}static jr(e){return new tb(e)}get Hr(){if(this.zr)return this.zr;throw Se()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,i=>{const r=_e.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Fe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return L.or([()=>L.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class QC{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=lt(),r=lt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new QC(e,t.fromCache,i,r)}}class WX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m2{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new WX;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Od()<=Xs.in.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",zd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(Od()<=Xs.in.DEBUG&&le("QueryEngine","Query:",zd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Od()<=Xs.in.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",zd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):L.resolve())}zi(e,t){if(YL(t))return L.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=zv(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=lt(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,s,l.readTime)?this.zi(e,zv(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,i,r){return YL(t)||r.isEqual(Fe.min())?L.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?L.resolve(null):(Od()<=Xs.in.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zd(t)),this.Xi(e,s,t,function _L(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Fe.fromTimestamp(1e9===i?new Rn(t+1,0):new Rn(t,i));return new $r(r,_e.empty(),e)}(r,-1)).next(a=>a))})}Yi(e,t){let i=new Jt(tV(e));return t.forEach((r,o)=>{vm(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return Od()<=Xs.in.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",zd(t)),this.Gi.getDocumentsMatchingQuery(e,t,$r.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class GX{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new ln(et),this.ns=new ra(o=>fc(o),_m),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function _2(n,e){return YC.apply(this,arguments)}function YC(){return YC=(0,Me.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=lt();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),YC.apply(this,arguments)}function y2(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function QX(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function eh(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=(0,Me.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ya(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),XC.apply(this,arguments)}function rb(n,e,t){const i=me(n);let r=Fe.min(),o=lt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const p=me(l),g=p.ns.get(h);return void 0!==g?L.resolve(p.ts.get(g)):p.qr.getTargetData(c,h)}(i,s,pr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Fe.min(),t?o:lt())).next(a=>(function w2(n,e,t){let i=n.rs.get(e)||Fe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}(i,function eV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class iT{constructor(){this.activeTargetIds=function DC(){return YY}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C2{constructor(){this.eo=new iT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new iT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JX{ro(e){}shutdown(){}}class T2{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ab=null;function oT(){return null===ab?ab=268435456+Math.round(2147483648*Math.random()):ab++,"0x"+ab.toString(16)}const eJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tJ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Gi="WebChannelConnection";class nJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=oT(),l=this.So(t,i);le("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,l,c,r).then(h=>(le("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw zr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Pd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${eJ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=oT();return new Promise((s,a)=>{const l=new eY;l.setWithCredentials(!0),l.listenOnce(XQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hC.NO_ERROR:const h=l.getResponseJson();le(Gi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case hC.TIMEOUT:le(Gi,`RPC '${e}' ${o} timed out`),a(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case hC.HTTP_ERROR:const p=l.getStatus();if(le(Gi,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const w=function(T){const N=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(N)>=0?N:W.UNKNOWN}(y.status);a(new ce(w,y.message))}else a(new ce(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{le(Gi,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);le(Gi,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}vo(e,t,i){const r=oT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QQ(),a=YQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=o.join("");le(Gi,`Creating RPC '${e}' stream ${r}: ${h}`,l);const p=s.createWebChannel(h,l);let g=!1,y=!1;const w=new tJ({co:T=>{y?le(Gi,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(g||(le(Gi,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),le(Gi,`RPC '${e}' stream ${r} sending:`,T),p.send(T))},lo:()=>p.close()}),x=(T,N,R)=>{T.listen(N,j=>{try{R(j)}catch(J){setTimeout(()=>{throw J},0)}})};return x(p,Rv.EventType.OPEN,()=>{y||le(Gi,`RPC '${e}' stream ${r} transport opened.`)}),x(p,Rv.EventType.CLOSE,()=>{y||(y=!0,le(Gi,`RPC '${e}' stream ${r} transport closed`),w.Ro())}),x(p,Rv.EventType.ERROR,T=>{y||(y=!0,zr(Gi,`RPC '${e}' stream ${r} transport errored:`,T),w.Ro(new ce(W.UNAVAILABLE,"The operation could not be completed")))}),x(p,Rv.EventType.MESSAGE,T=>{var N;if(!y){const R=T.data[0];Ne(!!R);const J=R.error||(null===(N=R[0])||void 0===N?void 0:N.error);if(J){le(Gi,`RPC '${e}' stream ${r} received error:`,J);const he=J.status;let Le=function(gr){const Dr=ni[gr];if(void 0!==Dr)return vV(Dr)}(he),tt=J.message;void 0===Le&&(Le=W.INTERNAL,tt="Unknown error status: "+he+" with message "+J.message),y=!0,w.Ro(new ce(Le,tt)),p.close()}else le(Gi,`RPC '${e}' stream ${r} received:`,R),w.Vo(R)}}),x(a,JQ.STAT_EVENT,T=>{T.stat===dL.PROXY?le(Gi,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===dL.NOPROXY&&le(Gi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function lb(){return typeof document<"u"?document:null}function Lm(n){return new dX(n,!0)}class sT{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class A2{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new sT(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Me.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Me.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,Me.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Kn(t.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===W.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ce(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Me.Z)(function*(){e.state=0,e.start()}))}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iJ extends A2{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function pX(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Se(),r=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Ne(void 0===h||"string"==typeof h),pi.fromBase64String(h||"")):(Ne(void 0===h||h instanceof Uint8Array),pi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=void 0===c.code?W.UNKNOWN:vV(c.code);return new ce(h,c.message||"")}(s);t=new xV(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=ps(n,i.document.name),o=Qn(i.document.updateTime),s=i.document.createTime?Qn(i.document.createTime):Fe.min(),a=new Li({mapValue:{fields:i.document.fields}}),l=bn.newFoundDocument(r,o,s,a);t=new Gv(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=ps(n,i.document),o=i.readTime?Qn(i.readTime):Fe.min(),s=bn.newNoDocument(r,o);t=new Gv([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=ps(n,i.document);t=new Gv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Se();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new oX(r,o);t=new IV(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Qn(s.readTime):Fe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Am(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=Uv(l)?{documents:kV(o,l)}:{query:LC(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=AV(o,s.resumeToken);const c=OC(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Fe.min())>0){a.readTime=Gd(o,s.snapshotVersion.toTimestamp());const c=OC(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const i=function gX(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Am(this.serializer),t.removeTarget=e,this.e_(t)}}class rJ extends A2{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function mX(n,e){return n&&n.length>0?(Ne(void 0!==e),n.map(t=>function(r,o){let s=Qn(r.updateTime?r.updateTime:o);return s.isEqual(Fe.min())&&(s=Qn(o)),new tX(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.I_(i,t)}return Ne(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Am(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Sm(n,e){let t;if(e instanceof qd)t={update:PV(n,e.key,e.value)};else if(e instanceof Wd)t={delete:Dm(n,e.key)};else if(e instanceof oa)t={update:PV(n,e.key,e.data),updateMask:bX(e.fieldMask)};else{if(!(e instanceof AC))return Se();t={verify:Dm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof $d)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:hX(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Se()),t;var o}(this.serializer,i))};this.e_(t)}}class oJ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ce(W.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(W.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class aJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Kn(t),this.f_=!1):le("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class lJ{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,Me.Z)(function*(){var l;ll(s)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Me.Z)(function*(h){const p=me(h);p.C_.add(4),yield th(p),p.M_.set("Unknown"),p.C_.delete(4),yield Vm(p)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.M_=new aJ(i,r)}}function Vm(n){return lT.apply(this,arguments)}function lT(){return lT=(0,Me.Z)(function*(n){if(ll(n))for(const e of n.v_)yield e(!0)}),lT.apply(this,arguments)}function th(n){return cT.apply(this,arguments)}function cT(){return cT=(0,Me.Z)(function*(n){for(const e of n.v_)yield e(!1)}),cT.apply(this,arguments)}function cb(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),hT(t)?dT(t):ih(t).Ho()&&uT(t,e))}function Bm(n,e){const t=me(n),i=ih(t);t.D_.delete(e),i.Ho()&&S2(t,e),0===t.D_.size&&(i.Ho()?i.Zo():ll(t)&&t.M_.set("Unknown"))}function uT(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ih(n).u_(e)}function S2(n,e){n.x_.Oe(e),ih(n).c_(e)}function dT(n){n.x_=new aX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ih(n).start(),n.M_.g_()}function hT(n){return ll(n)&&!ih(n).jo()&&n.D_.size>0}function ll(n){return 0===me(n).C_.size}function M2(n){n.x_=void 0}function cJ(n){return fT.apply(this,arguments)}function fT(){return fT=(0,Me.Z)(function*(n){n.D_.forEach((e,t)=>{uT(n,e)})}),fT.apply(this,arguments)}function uJ(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,Me.Z)(function*(n,e){M2(n),hT(n)?(n.M_.w_(e),dT(n)):n.M_.set("Unknown")}),pT.apply(this,arguments)}function dJ(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,Me.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof xV&&2===e.state&&e.cause)try{yield(i=(0,Me.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ub(n,i)}else if(e instanceof Gv?n.x_.$e(e):e instanceof IV?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Fe.min()))try{const i=yield y2(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.D_.get(c);h&&o.D_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.D_.get(l);if(!h)return;o.D_.set(l,h.withResumeToken(pi.EMPTY_BYTE_STRING,h.snapshotVersion)),S2(o,l);const p=new sa(h.target,l,c,h.sequenceNumber);uT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield ub(n,i)}var i}),mT.apply(this,arguments)}function ub(n,e,t){return gT.apply(this,arguments)}function gT(){return gT=(0,Me.Z)(function*(n,e,t){if(!Ya(e))throw e;n.C_.add(1),yield th(n),n.M_.set("Offline"),t||(t=()=>y2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Vm(n)}))}),gT.apply(this,arguments)}function R2(n,e){return e().catch(t=>ub(n,t,e))}function nh(n){return _T.apply(this,arguments)}function _T(){return _T=(0,Me.Z)(function*(n){const e=me(n),t=cl(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;hJ(e);)try{const r=yield QX(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,fJ(e,r)}catch(r){yield ub(e,r)}P2(e)&&O2(e)}),_T.apply(this,arguments)}function hJ(n){return ll(n)&&n.b_.length<10}function fJ(n,e){n.b_.push(e);const t=cl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function P2(n){return ll(n)&&!cl(n).jo()&&n.b_.length>0}function O2(n){cl(n).start()}function pJ(n){return yT.apply(this,arguments)}function yT(){return yT=(0,Me.Z)(function*(n){cl(n).E_()}),yT.apply(this,arguments)}function mJ(n){return vT.apply(this,arguments)}function vT(){return vT=(0,Me.Z)(function*(n){const e=cl(n);for(const t of n.b_)e.P_(t.mutations)}),vT.apply(this,arguments)}function gJ(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,Me.Z)(function*(n,e,t){const i=n.b_.shift(),r=MC.from(i,e,t);yield R2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield nh(n)}),bT.apply(this,arguments)}function _J(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,Me.Z)(function*(n,e){var t;e&&cl(n).h_&&(yield(t=(0,Me.Z)(function*(r,o){if(function yV(n){switch(n){default:return Se();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}(a=o.code)&&a!==W.ABORTED){const s=r.b_.shift();cl(r).Yo(),yield R2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield nh(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),P2(n)&&O2(n)}),ET.apply(this,arguments)}function k2(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,Me.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=ll(t);t.C_.add(3),yield th(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Vm(t)}),wT.apply(this,arguments)}function xT(){return xT=(0,Me.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield Vm(t)):e||(t.C_.add(2),yield th(t),t.M_.set("Unknown"))}),xT.apply(this,arguments)}function ih(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new iJ(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:cJ.bind(null,n),Io:uJ.bind(null,n),a_:dJ.bind(null,n)}),n.v_.push(function(){var e=(0,Me.Z)(function*(t){t?(n.O_.Yo(),hT(n)?dT(n):n.M_.set("Unknown")):(yield n.O_.stop(),M2(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function cl(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new rJ(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:pJ.bind(null,n),Io:_J.bind(null,n),T_:mJ.bind(null,n),I_:gJ.bind(null,n)}),n.v_.push(function(){var e=(0,Me.Z)(function*(t){t?(n.N_.Yo(),yield nh(n)):(yield n.N_.stop(),n.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class CT{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new CT(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rh(n,e){if(Kn("AsyncQueue",`${e}: ${n}`),Ya(n))return new ce(W.UNAVAILABLE,`${e}: ${n}`);throw n}class oh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=bm(),this.sortedSet=new ln(this.comparator)}static emptySet(e){return new oh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new oh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class N2{constructor(){this.B_=new ln(_e.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Se():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class sh{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new sh(e,t,oh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class yJ{constructor(){this.k_=void 0,this.listeners=[]}}class vJ{constructor(){this.queries=new ra(e=>JL(e),ym),this.onlineState="Unknown",this.q_=new Set}}function TT(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,Me.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new yJ),r)try{o.k_=yield t.onListen(i)}catch(s){const a=rh(s,`Initialization of query '${zd(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&MT(t)}),DT.apply(this,arguments)}function AT(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,Me.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ST.apply(this,arguments)}function bJ(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&MT(t)}function EJ(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function MT(n){n.q_.forEach(e=>{e.next()})}class RT{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class V2{constructor(e){this.key=e}}class B2{constructor(e){this.key=e}}class U2{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=lt(),this.mutatedKeys=lt(),this._a=tV(e),this.aa=new oh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new N2,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),y=vm(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;g&&y?g.data.isEqual(y.data)?w!==x&&(i.track({type:3,doc:y}),T=!0):this.ha(g,y)||(i.track({type:2,doc:y}),T=!0,(l&&this._a(y,l)>0||c&&this._a(y,c)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),T=!0):g&&!y&&(i.track({type:1,doc:g}),T=!0,(l||c)&&(a=!0)),T&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((h,p)=>function(y,w){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return x(y)-x(w)}(h.type,p.type)||this._a(h.doc,p.doc)),this.Pa(i),r=null!=r&&r;const a=t&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==s.length||c?{snapshot:new sh(this.query,e.aa,o,s,e.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new N2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=lt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new B2(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new V2(i))}),t}da(e){this.ia=e.ls,this.oa=lt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return sh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class xJ{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CJ{constructor(e){this.key=e,this.Ra=!1}}class TJ{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ra(a=>JL(a),ym),this.fa=new Map,this.ga=new Set,this.pa=new ln(_e.comparator),this.ya=new Map,this.wa=new qC,this.Sa={},this.ba=new Map,this.Da=Ec.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function DJ(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,Me.Z)(function*(n,e){const t=function tD(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MJ.bind(null,e),e.Va.a_=bJ.bind(null,e.eventManager),e.Va.Fa=EJ.bind(null,e.eventManager),e}(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield function Jd(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new sa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}(t.localStore,pr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function OT(n,e,t,i,r){return kT.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&cb(t.remoteStore,s)}return r}),PT.apply(this,arguments)}function kT(){return kT=(0,Me.Z)(function*(n,e,t,i,r){n.va=(p,g,y)=>{return(w=(0,Me.Z)(function*(T,N,R,j){let J=N.view.ca(R);J.Zi&&(J=yield rb(T.localStore,N.query,!1).then(({documents:Wt})=>N.view.ca(Wt,J)));const he=j&&j.targetChanges.get(N.targetId),Le=j&&null!=j.targetMismatches.get(N.targetId),tt=N.view.applyChanges(J,T.isPrimaryClient,he,Le);return HT(T,N.targetId,tt.Ta),tt.snapshot}),function x(T,N,R,j){return w.apply(this,arguments)})(n,p,g,y);var w};const o=yield rb(n.localStore,e,!0),s=new U2(e,o.ls),a=s.ca(o.documents),l=Tm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);HT(n,t,c.Ta);const h=new xJ(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),kT.apply(this,arguments)}function AJ(n,e){return NT.apply(this,arguments)}function NT(){return NT=(0,Me.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!ym(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield eh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Bm(t.remoteStore,i.targetId),ah(t,i.targetId)}).catch(Qa))):(ah(t,i.targetId),yield eh(t.localStore,i.targetId,!0))}),NT.apply(this,arguments)}function FT(){return FT=(0,Me.Z)(function*(n,e,t){const i=function nD(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PJ.bind(null,e),e}(n);try{const r=yield function(s,a){const l=me(s),c=Rn.now(),h=a.reduce((y,w)=>y.add(w.key),lt());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Tr(),x=lt();return l.ss.getEntries(y,h).next(T=>{w=T,w.forEach((N,R)=>{R.isValidDocument()||(x=x.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(T=>{p=T;const N=[];for(const R of a){const j=iX(R,p.get(R.key).overlayedDocument);null!=j&&N.push(new oa(R.key,j,VL(j.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,N,a)}).next(T=>{g=T;const N=T.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(y,T.batchId,N)})}).then(()=>({batchId:g.batchId,changes:iV(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new ln(et)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,t),yield aa(i,r.changes),yield nh(i.remoteStore)}catch(r){const o=rh(r,"Failed to persist write");t.reject(o)}}),FT.apply(this,arguments)}function j2(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,Me.Z)(function*(n,e){const t=me(n);try{const i=yield function KX(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);var x,T,N;null!==e.targetMismatches.get(p)?y=y.withResumeToken(pi.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(p,y),T=y,N=h,(0===(x=g).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,y))});let l=Tr(),c=lt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(function v2(n,e,t){let i=lt(),r=lt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Tr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}(o,s,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!i.isEqual(Fe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Ne(s.Ra):r.removedDocuments.size>0&&(Ne(s.Ra),s.Ra=!1))}),yield aa(t,i,e)}catch(i){yield Qa(i)}}),LT.apply(this,arguments)}function z2(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(c=!0)}),c&&MT(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function MJ(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,Me.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new ln(_e.comparator);s=s.insert(o,bn.newNoDocument(o,Fe.min()));const a=lt().add(o),l=new Cm(Fe.min(),new Map,new ln(et),s,a);yield j2(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),qT(i)}else yield eh(i.localStore,e,!1).then(()=>ah(i,e,t)).catch(Qa)}),VT.apply(this,arguments)}function RJ(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,Me.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function ZX(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,g=p.keys();let y=L.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(l,w)).next(x=>{const T=c.docVersions.get(w);Ne(null!==T),x.version.compareTo(T)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=lt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);$T(t,i,null),zT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield aa(t,r)}catch(r){yield Qa(r)}}),BT.apply(this,arguments)}function PJ(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,Me.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ne(null!==p),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);$T(i,e,t),zT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield aa(i,r)}catch(r){yield Qa(r)}}),UT.apply(this,arguments)}function zT(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function $T(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function ah(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||$2(n,i)})}function $2(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Bm(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),qT(n))}function HT(n,e,t){for(const i of t)i instanceof V2?(n.wa.addReference(i.key,e),kJ(n,i)):i instanceof B2?(le("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||$2(n,i.key)):Se()}function kJ(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(le("SyncEngine","New document in limbo: "+t),n.ga.add(i),qT(n))}function qT(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new _e(Nt.fromString(e)),i=n.Da.next();n.ya.set(i,new CJ(t)),n.pa=n.pa.insert(t,i),cb(n.remoteStore,new sa(pr(Ud(t.path)),i,"TargetPurposeLimboResolution",Hr._e))}}function aa(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,Me.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const h=QC.Qi(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,Me.Z)(function*(c,h){const p=me(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,y=>L.forEach(y.ki,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>L.forEach(y.qi,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!Ya(g))throw g;le("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.ts.get(y),T=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);p.ts=p.ts.insert(y,T)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),WT.apply(this,arguments)}function NJ(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,Me.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=yield _2(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ce(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield aa(t,i._s)}var o}),GT.apply(this,arguments)}function FJ(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return lt().add(i.key);{let r=lt();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}class db{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.serializer=Lm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function g2(n,e,t,i){return new GX(n,e,t,i)}(this.persistence,new m2,e.initialUser,this.serializer)}createPersistence(e){return new WC(tb.jr,this.serializer)}createSharedClientState(e){return new C2}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lh{initialize(e,t){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>z2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=NJ.bind(null,i.syncEngine),yield function IT(n,e){return xT.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vJ}createDatastore(e){const t=Lm(e.databaseInfo.databaseId),i=new nJ(e.databaseInfo);return new oJ(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>z2(this.syncEngine,t,0),a=T2.D()?new T2:new JX,new lJ(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,c,h){const p=new TJ(r,o,s,a,l,c);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(i){const r=me(i);le("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield th(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KJ{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=xi.UNAUTHENTICATED,this.clientId=mL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,Me.Z)(function*(a){le("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=rh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function fb(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(o){i.isEqual(o)||(yield _2(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iD.apply(this,arguments)}function rD(n,e){return oD.apply(this,arguments)}function oD(){return oD=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function sD(n){return aD.apply(this,arguments)}(n);le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>k2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>k2(e.remoteStore,o)),n._onlineComponents=e}),oD.apply(this,arguments)}function aD(){return aD=(0,Me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function K2(n){return"FirebaseError"===n.name?n.code===W.FAILED_PRECONDITION||n.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),yield fb(n,new db)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield fb(n,new db);return n._offlineComponents}),aD.apply(this,arguments)}function pb(n){return lD.apply(this,arguments)}function lD(){return lD=(0,Me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield rD(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield rD(n,new lh))),n._onlineComponents}),lD.apply(this,arguments)}function uh(n){return uD.apply(this,arguments)}function uD(){return uD=(0,Me.Z)(function*(n){const e=yield pb(n),t=e.eventManager;return t.onListen=DJ.bind(null,e.syncEngine),t.onUnlisten=AJ.bind(null,e.syncEngine),t}),uD.apply(this,arguments)}function tB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const nB=new Map;function dD(n,e,t){if(!t)throw new ce(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iB(n){if(!_e.isDocumentKey(n))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rB(n){if(_e.isDocumentKey(n))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Se()}function St(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mb(n);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class sB{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function see(n,e,t,i){if(!0===e&&!0===i)throw new ce(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=tB(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Um{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sB(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new nY;switch(i.type){case"firstParty":return new sY(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=nB.get(t);i&&(le("ComponentProvider","Removing Datastore"),nB.delete(t),i.terminate())}(this),Promise.resolve()}}class Vi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class ms extends Vi{constructor(e,t,i){super(e,t,Ud(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new _e(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function lee(n,e,...t){if(n=(0,qa.m9)(n),dD("collection","path",e),n instanceof Um){const i=Nt.fromString(e,...t);return rB(i),new ms(n,null,i)}{if(!(n instanceof Yn||n instanceof ms))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return rB(i),new ms(n.firestore,null,i)}}function aB(n,e,...t){if(n=(0,qa.m9)(n),1===arguments.length&&(e=mL.newId()),dD("doc","path",e),n instanceof Um){const i=Nt.fromString(e,...t);return iB(i),new Yn(n,null,new _e(i))}{if(!(n instanceof Yn||n instanceof ms))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return iB(i),new Yn(n.firestore,n instanceof ms?n.converter:null,new _e(i))}}class cee{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new sT(this,"async_queue_retry"),this.iu=()=>{const t=lb();t&&le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=lb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=lb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new fi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Ya(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=CT.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Se()}verifyOperationInProgress(){}uu(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class cn extends Um{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new cee,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cB(this),this._firestoreClient.terminate()}}function dee(n,e){const t="object"==typeof n?n:(0,xr.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,xr._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,qa.P0)("firestore");o&&function aee(n,e,t,i={}){var r;const o=(n=St(n,Um))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=xi.MOCK_USER;else{a=(0,qa.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xi(c)}n._authCredentials=new iY(new fL(a,l))}}(r,...o)}return r}function Xn(n){return n._firestoreClient||cB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cB(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new FY(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tB(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new KJ(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(pi.fromBase64String(e))}catch(t){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hB{constructor(e){this._methodName=e}}class fD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}const fee=/^__.*__$/;class pee{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new qd(e,this.data,t,this.fieldTransforms)}}function pB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class gb{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new gb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return yb(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(pB(this.Iu)&&fee.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class mee{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lm(e)}pu(e,t,i,r=!1){return new gb({Iu:e,methodName:t,gu:i,path:xn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(n){const e=n._freezeSettings(),t=Lm(n._databaseId);return new mee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pD(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);gD("Data must be an object, but it was:",s,i);const a=vB(i,s);let l,c;if(o.merge)l=new Cr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=$m(e,p,t);if(!s.contains(g))throw new ce(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EB(h,g)||h.push(g)}l=new Cr(h),c=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=s.fieldTransforms;return new pee(new Li(a),l,c)}function xc(n,e){if(bB(n=(0,qa.m9)(n)))return gD("Unsupported field value:",e,n),vB(n,e);if(n instanceof hB)return function(i,r){if(!pB(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=xc(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,qa.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return aV(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Rn.fromDate(i);return{timestampValue:Gd(r.serializer,o)}}if(i instanceof Rn){const o=new Rn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gd(r.serializer,o)}}if(i instanceof fD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ic)return{bytesValue:AV(r.serializer,i._byteString)};if(i instanceof Yn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kC(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${mb(i)}`)}(n,e)}function vB(n,e){const t={};return SL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(n,(i,r)=>{const o=xc(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function bB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof fD||n instanceof Ic||n instanceof Yn||n instanceof hB)}function gD(n,e,t){if(!bB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=mb(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function $m(n,e,t){if((e=(0,qa.m9)(e))instanceof dh)return e._internalPath;if("string"==typeof e)return _b(n,e);throw yb("Field path arguments must be of type string or ",n,!1,void 0,t)}const vee=new RegExp("[~\\*/\\[\\]]");function _b(n,e,t){if(e.search(vee)>=0)throw yb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dh(...e.split("."))._internalPath}catch{throw yb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yb(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ce(W.INVALID_ARGUMENT,a+n+l)}function EB(n,e){return n.some(t=>t.isEqual(e))}class _D{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bee extends _D{data(){return super.data()}}function vb(n,e){return"string"==typeof e?_b(n,e):e instanceof dh?e._internalPath:e._delegate._internalPath}class wee{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Xa(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new fD(Vn(e.latitude),Vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Fv(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hm(e));default:return null}}convertTimestamp(e){const t=Ja(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nt.fromString(e);Ne(VV(i));const r=new dc(i.get(1),i.get(3)),o=new _e(i.popFirst(5));return r.isEqual(t)||Kn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ph extends _D{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vb("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ib extends ph{data(e={}){return super.data(e)}}class mh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ib(this._firestore,this._userDataWriter,i.key,i,new Cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Ib(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Cc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Ib(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Cc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:xee(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function Cee(n){n=St(n,Yn);const e=St(n.firestore,cn);return function J2(n,e,t={}){const i=new fi;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,s,a,l,c){const h=new hb({next:g=>{s.enqueueAndForget(()=>AT(o,p));const y=g.docs.has(a);!y&&g.fromCache?c.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?c.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new RT(Ud(a.path),h,{includeMetadataChanges:!0,J_:!0});return TT(o,p)}(yield uh(n),n.asyncQueue,e,t,i)})),i.promise}(Xn(e),n._key).then(t=>function bD(n,e,t){const i=t.docs.get(e._key),r=new ul(n);return new ph(n,r,e._key,i,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class ul extends wee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function Tee(n){n=St(n,Vi);const e=St(n.firestore,cn),t=Xn(e),i=new ul(e);return function wB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function eB(n,e,t={}){const i=new fi;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,s,a,l,c){const h=new hb({next:g=>{s.enqueueAndForget(()=>AT(o,p)),g.fromCache&&"server"===l.source?c.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new RT(a,h,{includeMetadataChanges:!0,J_:!0});return TT(o,p)}(yield uh(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(r=>new mh(e,i,n,r))}function Dee(n,e,t){n=St(n,Yn);const i=St(n.firestore,cn),r=function vD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return qm(i,[pD(hh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cn.none())])}function Aee(n){return qm(St(n.firestore,cn),[new Wd(n._key,Cn.none())])}function qm(n,e){return function(i,r){const o=new fi;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function SJ(n,e,t){return FT.apply(this,arguments)}(yield function cD(n){return pb(n).then(e=>e.syncEngine)}(i),r,o)})),o.promise}(Xn(n),e)}!function(e,t=!0){Pd=xr.SDK_VERSION,(0,xr._registerComponent)(new aK.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new cn(new rY(i.getProvider("auth-internal")),new aY(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,xr.registerVersion)(hL,"4.4.0",e),(0,xr.registerVersion)(hL,"4.4.0","esm2017")}();class gh{constructor(e){return e}}const RB="firestore",wD=new re("angularfire2.firestore-instances");function $ee(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new gh(i)}}const Hee={provide:class jee{constructor(){return _x(RB)}},deps:[[new Lr,wD]]},qee={provide:gh,useFactory:function zee(n,e){const t=function FN(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(RB,n,e);return t&&new gh(t)},deps:[[new Lr,wD],Bp]};let Wee=(()=>{class n{constructor(){(0,xr.registerVersion)("angularfire",Ed.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=It({type:n});static \u0275inj=Rt({providers:[qee,Hee]})}return n})();function Gee(n,...e){return{ngModule:Wee,providers:[{provide:wD,useFactory:$ee(n),multi:!0,deps:[Xe,Gn,yx,WN,[new Lr,ZN],[new Lr,LN],...e]}]}}const yo=ic(lee,!0),Zee=ic(Aee,!0),Tc=ic(aB,!0),PB=ic(Cee,!0),_h=ic(Tee,!0),Kee=ic(dee,!0),Qee=ic(Dee,!0);let ID=(()=>{class n{constructor(){this.timerIsOn=new v(!1),this.timeLeft=new v(0)}setTimerIsOn(t){this.timerIsOn.next(t)}getTimerIsOn(){return this.timerIsOn.asObservable()}setTimeLeft(t){this.timeLeft.next(t)}getTimeLeft(){return this.timeLeft.asObservable()}getCurrentTimeLeft(){return this.timeLeft.getValue()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OB=(()=>{class n{constructor(t,i){this.firestore=t,this.timerService=i}getTestsYears(t){const i=yo(this.firestore,"test");return b(_h(i).then(r=>r.docs.filter(o=>{const s=o.id.split("-"),a=s.length>1?s[1].toLowerCase():"";return t===a}).map(o=>o.id.split("-")[0])))}getTest(t,i){const r=yo(this.firestore,"test"),o=i+"-"+t.toUpperCase(),s=Tc(r,o),a=yo(s,"articles"),l=yo(s,"questions");return qN([b(PB(s).then(c=>{if(c.exists())return c.id;throw new Error("Document not found")})),b(_h(a).then(c=>c.docs.map(p=>({id:p.id,url:p.data().url})).sort((p,g)=>p.id.localeCompare(g.id)))),b(_h(l).then(c=>c.docs.map(p=>{const g=p.data().options;return{id:p.id,articleId:p.data().articleId,correctAnswer:p.data().correctAnswer,options:g,text:p.data().text,image:p.data().image}})))]).pipe(Te(([c,h,p])=>({id:c,articles:h,questions:p})))}saveUserTest(t,i){const r=yo(this.firestore,"users"),o=Tc(r,t),s=yo(o,"savedTests"),a=Tc(s);i.timeLeft=6e3-this.timerService.getCurrentTimeLeft(),Qee(a,i)}static#e=this.\u0275fac=function(i){return new(i||n)(V(gh),V(ID))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kB(n,e=0){return function Yee(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Tb(n){return Array.isArray(n)?n:[n]}function ii(n){return null==n?"":"string"==typeof n?n:`${n}px`}function yh(n){return n instanceof Wn?n.nativeElement:n}const Xee=["addListener","removeListener"],Jee=["addEventListener","removeEventListener"],ete=["on","off"];function xD(n,e,t,i){if(C(t)&&(i=t,t=void 0),i)return xD(n,e,t).pipe(WI(i));const[r,o]=function ite(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?Jee.map(s=>a=>n[s](e,a,t)):function tte(n){return C(n.addListener)&&C(n.removeListener)}(n)?Xee.map(NB(n,e)):function nte(n){return C(n.on)&&C(n.off)}(n)?ete.map(NB(n,e)):[];if(!r&&wt(n))return Ut(s=>xD(s,e,t))(yt(n));if(!r)throw new TypeError("Invalid event target");return new Ke(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function NB(n,e){return t=>i=>n[t](e,i)}const Wm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Wm;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new gt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Wm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Wm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class ote extends rv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class rte extends iv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Wm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Wm.cancelAnimationFrame(t),e._scheduled=void 0)}});let CD,ate=1;const Db={};function FB(n){return n in Db&&(delete Db[n],!0)}const lte={setImmediate(n){const e=ate++;return Db[e]=!0,CD||(CD=Promise.resolve()),CD.then(()=>FB(e)&&n()),e},clearImmediate(n){FB(n)}},{setImmediate:cte,clearImmediate:ute}=lte,Ab={setImmediate(...n){const{delegate:e}=Ab;return(e?.setImmediate||cte)(...n)},clearImmediate(n){const{delegate:e}=Ab;return(e?.clearImmediate||ute)(n)},delegate:void 0};new class hte extends rv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dte extends iv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ab.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Ab.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function LB(n,e=ov){return function pte(n){return te((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(fe(t,c=>{i=!0,r=c,o||yt(n(c)).subscribe(o=fe(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function gte(n=0,e,t=pK){let i=-1;return null!=e&&(wn(e)?t=e:i=e),new Ke(r=>{let o=function mte(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let TD;try{TD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{TD=!1}let Gm,Dc,DD,gs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function R8(n){return n===sk}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!TD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(V(Mo))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zm(n){return function _te(){if(null==Gm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gm=!0}))}finally{Gm=Gm||!1}return Gm}()?n:!!n.capture}function yte(){if(null==Dc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dc=!1,Dc;if("scrollBehavior"in document.documentElement.style)Dc=!0;else{const n=Element.prototype.scrollTo;Dc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Dc}function AD(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function dl(n){return n.composedPath?n.composedPath()[0]:n.target}function SD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Ete=new re("cdk-dir-doc",{providedIn:"root",factory:function wte(){return ve(kt)}}),Ite=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let MD=(()=>{class n{constructor(t){this.value="ltr",this.change=new yn,t&&(this.value=function xte(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Ite.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ete,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Km=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})(),Tte=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ke(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(LB(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):S()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Pi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=yh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xe),V(gs),V(kt,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BB=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(LB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(Xe),V(kt,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})(),jB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[Km,UB,Km,UB]})}return n})();class RD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class PD extends RD{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class zB extends RD{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Ate extends RD{constructor(e){super(),this.element=e instanceof Wn?e.nativeElement:e}}class OD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof PD?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zB?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Ate?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ste extends OD{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Gn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let kD=(()=>{class n extends OD{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new yn,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(B($u),B(fo),B(kt))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Vt]})}return n})(),Mb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})();const $B=yte();class Mte{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ii(-this._previousScrollPosition.left),e.style.top=ii(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),$B&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$B&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Rte{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Pi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HB{enable(){}disable(){}attach(){}}function ND(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function qB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Pte{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ND(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ote=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new HB,this.close=s=>new Rte(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Mte(this._viewportRuler,this._document),this.reposition=s=>new Pte(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(V(Tte),V(BB),V(Xe),V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class WB{constructor(e){if(this.scrollStrategy=new HB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class kte{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let GB=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nte=(()=>{class n extends GB{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(Xe,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fte=(()=>{class n extends GB{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=dl(o)},this._clickListener=o=>{const s=dl(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(gs),V(Xe,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rb=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||SD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),SD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(gs))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Qm{constructor(e,t,i,r,o,s,a,l,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=gt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(go(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ii(this._config.width),e.height=ii(this._config.height),e.minWidth=ii(this._config.minWidth),e.minHeight=ii(this._config.minHeight),e.maxWidth=ii(this._config.maxWidth),e.maxHeight=ii(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Tb(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(By(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ZB="cdk-overlay-connected-position-bounding-box",Lte=/([A-Za-z%]+)$/;class Vte{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=gt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(ZB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ac(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ZB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=QB(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,y=a+o.height-i.height,w=this._subtractOverflows(o.width,0-s,s+o.width-i.width),x=this._subtractOverflows(o.height,g,y),T=w*x;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=KB(this._overlayRef.getConfig().minHeight),a=KB(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=QB(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new kte(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const y=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const y=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;h=2*y,p=e.x-y,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ii(i.height),r.top=ii(i.top),r.bottom=ii(i.bottom),r.width=ii(i.width),r.left=ii(i.left),r.right=ii(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ii(o)),s&&(r.maxWidth=ii(s))}this._lastBoundingBoxSize=i,Ac(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ac(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ac(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Ac(i,this._getExactOverlayY(t,e,h)),Ac(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ii(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ii(s.maxWidth):o&&(i.maxWidth="")),Ac(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ii(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ii(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qB(e,i),isOriginOutsideView:ND(e,i),isOverlayClipped:qB(t,i),isOverlayOutsideView:ND(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Tb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Wn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ac(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function KB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Lte);return t&&"px"!==t?null:parseFloat(e)}return n||null}function QB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const YB="cdk-global-overlay-wrapper";class Bte{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(YB),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",x="";l?x="flex-start":"center"===h?(x="center",g?w=p:y=p):g?"left"===h||"end"===h?(x="flex-end",y=p):("right"===h||"start"===h)&&(x="flex-start",w=p):"left"===h||"start"===h?(x="flex-start",y=p):("right"===h||"end"===h)&&(x="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":w,t.justifyContent=x,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(YB),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ute=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Bte}flexibleConnectedTo(t){return new Vte(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(V(BB),V(kt),V(gs),V(Rb))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jte=0,bh=(()=>{class n{constructor(t,i,r,o,s,a,l,c,h,p,g,y){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new WB(t);return s.direction=s.direction||this._directionality.value,new Qm(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jte++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ba)),new Ste(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ote),V(Rb),V($u),V(Ute),V(Nte),V(Gn),V(Xe),V(kt),V(MD),V(mp),V(Fte),V(zf,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hte={provide:new re("cdk-connected-overlay-scroll-strategy"),deps:[bh],useFactory:function $te(n){return()=>n.scrollStrategies.reposition()}};let XB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:[bh,Hte],imports:[Km,Mb,jB,jB]})}return n})();function eU(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function tU(n){return Pi((e,t)=>n<=t)}let Qte=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:[Qte]})}return n})();const iU=new Set;let Sc,Xte=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ene}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jte(n,e){if(!iU.has(n))try{Sc||(Sc=document.createElement("style"),e&&(Sc.nonce=e),Sc.setAttribute("type","text/css"),document.head.appendChild(Sc)),Sc.sheet&&(Sc.sheet.insertRule(`@media ${n} {body{ }}`,0),iU.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(BE,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ene(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tne=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rU(Tb(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Oy(rU(Tb(t)).map(s=>this._registerQuery(s).observable));return o=Ny(o.pipe(go(1)),o.pipe(tU(1),function Yte(n,e=ov){return te((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,h=e.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}t.subscribe(fe(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Te(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ke(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ly(i),Te(({matches:s})=>({query:t,matches:s})),By(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xte),V(Xe))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Pb=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function one(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function rne(n){try{return n.frameElement}catch{return null}}(function fne(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===lU(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=lU(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function dne(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function hne(n){return!function ane(n){return function cne(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function sne(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function lne(n){return function une(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||aU(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aU(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function lU(n){if(!aU(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pne{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(go(1)).subscribe(e)}}let FD=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new pne(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Pb),V(Xe),V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cU(n){return 0===n.buttons||0===n.detail}function uU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const mne=new re("cdk-input-modality-detector-options"),gne={ignoreKeys:[18,17,224,91,16]},Eh=Zm({passive:!0,capture:!0});let _ne=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new v(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=dl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cU(s)?"keyboard":"mouse"),this._mostRecentTarget=dl(s))},this._onTouchstart=s=>{uU(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dl(s))},this._options={...gne,...o},this.modalityDetected=this._modality.pipe(tU(1)),this.modalityChanged=this.modalityDetected.pipe(He()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Eh),r.addEventListener("mousedown",this._onMousedown,Eh),r.addEventListener("touchstart",this._onTouchstart,Eh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Eh),document.removeEventListener("mousedown",this._onMousedown,Eh),document.removeEventListener("touchstart",this._onTouchstart,Eh))}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(Xe),V(kt),V(mne,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vne=new re("cdk-focus-monitor-default-options"),Ob=Zm({passive:!0,capture:!0});let LD=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z,this._rootNodeFocusAndBlurListener=a=>{for(let c=dl(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=yh(t);if(!this._platform.isBrowser||1!==r.nodeType)return S();const o=function bte(n){if(function vte(){if(null==DD){const n=typeof document<"u"?document.head:null;DD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return DD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=yh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=yh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=dl(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ob),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ob)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(By(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ob),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ob),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xe),V(gs),V(_ne),V(kt,8),V(vne,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hU="cdk-high-contrast-black-on-white",fU="cdk-high-contrast-white-on-black",VD="cdk-high-contrast-active";let pU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ve(tne).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(VD,hU,fU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(VD,hU):2===i&&t.add(VD,fU)}}static#e=this.\u0275fac=function(i){return new(i||n)(V(gs),V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bne=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(V(pU))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[nU]})}return n})();function Ene(n,e){}class kb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let mU=(()=>{class n extends OD{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=AD(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=AD();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=AD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(B(Wn),B(FD),B(kt,8),B(kb),B(Pb),B(Xe),B(Qm),B(LD))};static#t=this.\u0275cmp=ei({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&k1(kD,7),2&i){let o;Kw(o=function Qw(){return function kW(n,e){return n[yr].queries[e].queryList}(ie(),t_())}())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&uo("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Vt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Je(0,Ene,0,0,"ng-template",0)},dependencies:[kD],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class BD{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new z,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!eU(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const gU=new re("DialogScrollStrategy"),wne=new re("DialogData"),Ine=new re("DefaultDialogConfig"),Cne={provide:gU,deps:[bh],useFactory:function xne(n){return()=>n.scrollStrategies.block()}};let Tne=0,_U=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._ariaHiddenElements=new Map,this.afterAllClosed=Fy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ly(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new kb,...i}).id=i.id||"cdk-dialog-"+Tne++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new BD(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){UD(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){UD(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),UD(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new WB({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:kb,useValue:r},{provide:BD,useValue:i},{provide:Qm,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=mU;const l=new PD(a,r.viewContainerRef,Gn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof is){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new zB(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new PD(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:wne,useValue:t.data},{provide:BD,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(MD,null,{optional:!0}))&&a.push({provide:MD,useValue:{value:t.direction,change:S()}}),Gn.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(V(bh),V(Gn),V(Ine,8),V(n,12),V(Rb),V(gU))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function UD(n,e){let t=n.length;for(;t--;)e(n[t])}let Dne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:[_U,Cne],imports:[XB,Mb,bne,Mb]})}return n})();const Sne=new re("mat-sanity-checks",{providedIn:"root",factory:function Ane(){return!0}});let _s=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!SD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(V(pU),V(Sne,8),V(kt))};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[Km,Km]})}return n})();const bU=Zm({passive:!0,capture:!0});class Pne{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=dl(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,bU)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,bU)))}}class jD{static#e=this._eventManager=new Pne;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=yh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...EU,...i.animation},s=i.radius||function kne(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,x=new Rne(this,h,i,w);h.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(x),R=()=>this._destroyRipple(x);h.addEventListener("transitionend",N),h.addEventListener("transitioncancel",R)}),this._activeRipples.set(x,null),(w||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...EU,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=yh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,IU.forEach(i=>{jD._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xU.forEach(t=>{this._triggerElement.addEventListener(t,this,wU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=cU(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uU(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(IU.forEach(t=>jD._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xU.forEach(t=>e.removeEventListener(t,this,wU)))}}let Nne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[_s,_s]})}return n})();class CU{}class Fne{}const la="*";function AU(n,e=null){return{type:2,steps:n,options:e}}function hl(n){return{type:6,styles:n,offset:null}}class Xm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Lne(n,e){}class Nb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const WD="mdc-dialog--open",PU="mdc-dialog--opening",OU="mdc-dialog--closing";let Une=(()=>{class n extends mU{constructor(t,i,r,o,s,a,l,c){super(t,i,r,o,s,a,l,c),this._animationStateChanged=new yn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(i){return new(i||n)(B(Wn),B(FD),B(kt,8),B(Nb),B(Pb),B(Xe),B(Qm),B(LD))};static#t=this.\u0275cmp=ei({type:n,selectors:[["ng-component"]],features:[Vt],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const kU="--mat-dialog-transition-duration";function NU(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?kB(n.substring(0,n.length-2)):n.endsWith("s")?1e3*kB(n.substring(0,n.length-1)):"0"===n?0:null}let jne=(()=>{class n extends Une{constructor(t,i,r,o,s,a,l,c,h){super(t,i,r,o,s,a,l,h),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?NU(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?NU(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(kU,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(PU,WD)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(WD),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(WD),this._animationsEnabled?(this._hostElement.style.setProperty(kU,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(OU)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(PU,OU)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(i){return new(i||n)(B(Wn),B(FD),B(kt,8),B(Nb),B(Pb),B(Xe),B(Qm),B(zf,8),B(LD))};static#t=this.\u0275cmp=ei({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(Rw("id",r._config.id),uo("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),La("_mat-animation-noopable",!r._animationsEnabled))},features:[Vt],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1),Je(2,Lne,0,0,"ng-template",2),X()())},dependencies:[kD],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class zne{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new z,this._beforeClosed=new z,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Pi(r=>"opened"===r.state),go(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Pi(r=>"closed"===r.state),go(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),I(this.backdropClick(),this.keydownEvents().pipe(Pi(r=>27===r.keyCode&&!this.disableClose&&!eU(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function $ne(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Pi(t=>"closing"===t.state),go(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Hne=new re("MatMdcDialogData"),qne=new re("mat-mdc-dialog-default-options"),FU=new re("mat-mdc-dialog-scroll-strategy"),Gne={provide:FU,deps:[bh],useFactory:function Wne(n){return()=>n.scrollStrategies.block()}};let Zne=0,Kne=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c,h,p){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._idPrefix="mat-dialog-",this.dialogConfigClass=Nb,this.afterAllClosed=Fy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ly(void 0))),this._scrollStrategy=a,this._dialog=i.get(_U)}open(t,i){let r;(i={...this._defaultOptions||new Nb,...i}).id=i.id||`${this._idPrefix}${Zne++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:kb,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){sw()};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),LU=(()=>{class n extends Kne{constructor(t,i,r,o,s,a,l,c){super(t,i,o,a,l,s,zne,jne,Hne,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(V(bh),V(Gn),V(mp,8),V(qne,8),V(FU),V(n,12),V(Rb),V(zf,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),Qne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:[LU,Gne],imports:[Dne,XB,Mb,_s,_s]})}return n})(),GD=(()=>{class n{constructor(t){this.firestore=t}convertFirestoreTimestampToJSDate(t){const{seconds:i,nanoseconds:r}=t;return new Date(1e3*i+r/1e6)}getSavedTests(t){var i=this;return(0,Me.Z)(function*(){try{const r=[],o=yo(i.firestore,"users"),s=Tc(o,t),a=yo(s,"savedTests");(yield _h(a)).forEach(h=>{const p=h.data(),y={id:p.id,finishedAt:i.convertFirestoreTimestampToJSDate(p.finishedAt),testName:p.testName+" vypracovan\xfd: "+p.finishedAt.toDate().toLocaleDateString("sk-SK",{day:"numeric",month:"long",year:"numeric"}),timeLeft:p.timeLeft,questions:p.questions.map(w=>"Zru\u0161en\xe1 ot\xe1zka"===w.text?null:{questionId:w.questionId,image:w.image,text:w.text,correctAnswer:w.correctAnswer,userAnswer:w.userAnswer,isCorrect:w.isCorrect,options:w.options}).filter(w=>null!==w)};r.push(y),console.log("Saved test:",y)});const c=r.sort((h,p)=>p.finishedAt.getTime()-h.finishedAt.getTime());return c.length>10&&i.removeOldestTest(t),c}catch(r){throw console.error("Error getting saved tests:",r),r}})()}removeOldestTest(t){var i=this;return(0,Me.Z)(function*(){const r=yo(i.firestore,"users"),o=Tc(r,t),s=yo(o,"savedTests"),a=yield _h(s),l=[];a.docs.forEach(h=>{l.push({id:h.id,data:h.data()})});const c=l.sort((h,p)=>h.data.finishedAt.seconds-p.data.finishedAt.seconds);for(console.log("All tests:",l),console.log("Sorted tests:",c);c.length>10;){const h=c[0];console.log("Oldest test:",h);const p=h.id;console.log("Oldest test id:",p),yield Zee(Tc(s,p)),c.shift()}})()}static#e=this.\u0275fac=function(i){return new(i||n)(V(gh))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZD=(()=>{class n{constructor(t){this.savedTestService=t,this.savedQuestionsSubject=new v([]),this.savedQuestions$=this.savedQuestionsSubject.asObservable(),this.localStorageKey="savedQuestions",this.loadSavedQuestionsFromLocalStorage()}saveQuestion(t){t.isSaved=!0,this.savedQuestionsSubject.next([...this.savedQuestionsSubject.value,t]),this.saveQuestionsToLocalStorage(this.savedQuestionsSubject.value)}removeQuestion(t){t.isSaved=!1;const i=this.savedQuestionsSubject.value.filter(r=>r.id!==t.id);this.savedQuestionsSubject.next(i),this.saveQuestionsToLocalStorage(i)}saveQuestionsToLocalStorage(t){localStorage.setItem(this.localStorageKey,JSON.stringify(t))}loadSavedQuestionsFromLocalStorage(){const t=localStorage.getItem(this.localStorageKey);if(t){const i=JSON.parse(t);this.savedQuestionsSubject.next(i)}}getAvailableIcons(){return["assets/user_icons/boy.png","assets/user_icons/girl.png","assets/user_icons/default.png"]}getSelectedIcon(){return this.selectedIcon||"assets/user_icons/default.png"}getSavedTests(){const t=localStorage.getItem("uid");return null!==t?b(this.savedTestService.getSavedTests(t)):S([])}static#e=this.\u0275fac=function(i){return new(i||n)(V(GD))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Bs),B(Wn))};static#t=this.\u0275dir=je({type:n})}return n})(),Mc=(()=>{class n extends BU{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=qn(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,features:[Vt]})}return n})();const ys=new re("NgValueAccessor"),Yne={provide:ys,useExisting:U(()=>KD),multi:!0};let KD=(()=>{class n extends Mc{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=qn(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&ot("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[In([Yne]),Vt]})}return n})();const Xne={provide:ys,useExisting:U(()=>Rc),multi:!0},eie=new re("CompositionEventMode");let Rc=(()=>{class n extends BU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Jne(){const n=Ua()?Ua().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Bs),B(Wn),B(eie,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ot("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[In([Xne]),Vt]})}return n})();const Zi=new re("NgValidators"),pl=new re("NgAsyncValidators");function $U(n){return function fl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Fb(n){return null}function KU(n){return null!=n}function QU(n){return tp(n)?b(n):n}function YU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function XU(n,e){return e.map(t=>t(n))}function JU(n){return n.map(e=>function nie(n){return!n.validate}(e)?e:t=>e.validate(t))}function QD(n){return null!=n?function ej(n){if(!n)return null;const e=n.filter(KU);return 0==e.length?null:function(t){return YU(XU(t,e))}}(JU(n)):null}function YD(n){return null!=n?function tj(n){if(!n)return null;const e=n.filter(KU);return 0==e.length?null:function(t){return qN(XU(t,e).map(QU)).pipe(Te(YU))}}(JU(n)):null}function nj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XD(n){return n?Array.isArray(n)?n:[n]:[]}function Lb(n,e){return Array.isArray(n)?n.includes(e):n===e}function oj(n,e){const t=XD(e);return XD(n).forEach(r=>{Lb(t,r)||t.push(r)}),t}function sj(n,e){return XD(e).filter(t=>!Lb(n,t))}class aj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mr extends aj{get formDirective(){return null}get path(){return null}}class ml extends aj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jm=(()=>{class n extends lj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(ml,2))};static#t=this.\u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&La("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Vt]})}return n})();const eg="VALID",Bb="INVALID",wh="PENDING",tg="DISABLED";function Ub(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eg}get invalid(){return this.status===Bb}get pending(){return this.status==wh}get disabled(){return this.status===tg}get enabled(){return this.status!==tg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sj(e,this._rawAsyncValidators))}hasValidator(e){return Lb(this._rawValidators,e)}hasAsyncValidator(e){return Lb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tg,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eg,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eg||this.status===wh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tg:eg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wh,this._hasOwnPendingAsyncValidator=!0;const t=QU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new yn,this.statusChanges=new yn}_calculateStatus(){return this._allControlsDisabled()?tg:this.errors?Bb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wh)?wh:this._anyControlsHaveStatus(Bb)?Bb:eg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ub(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function aie(n){return Array.isArray(n)?QD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lie(n){return Array.isArray(n)?YD(n):n||null}(this._rawAsyncValidators)}}const Ih=new re("CallSetDisabledState",{providedIn:"root",factory:()=>jb}),jb="always";function ng(n,e,t=jb){(function rA(n,e){const t=function ij(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(nj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function rj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(nj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Hb(e._rawValidators,r),Hb(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function die(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fj(n,e)})}(n,e),function fie(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function uie(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _j(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yj=class extends hj{constructor(e=null,t,i){super(function tA(n){return(Ub(n)?n.validators:n)||null}(t),function nA(n,e){return(Ub(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ub(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_j(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_j(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Eie={provide:ml,useExisting:U(()=>xh)},Ej=(()=>Promise.resolve())();let xh=(()=>{class n extends ml{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new yj,this._registered=!1,this.name="",this.update=new yn,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function aA(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Rc?t=o:function gie(n){return Object.getPrototypeOf(n.constructor)===Mc}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function sA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ng(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ej.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&ud(i);Ej.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function zb(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(B(mr,9),B(Zi,10),B(pl,10),B(ys,10),B(my,8),B(Ih,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[In([Eie]),Vt,vr]})}return n})();const xie={provide:ys,useExisting:U(()=>cA),multi:!0};let Ij=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})(),Cie=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:Ij})}return n})(),cA=(()=>{class n extends Mc{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=ve(Ih,{optional:!0})??jb}ngOnInit(){this._control=this._injector.get(ml),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Bs),B(Wn),B(Cie),B(Gn))};static#t=this.\u0275dir=je({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&ot("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[In([xie]),Vt]})}return n})(),Pc=(()=>{class n{constructor(){this._validator=Fb}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Fb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,features:[vr]})}return n})();const Uie={provide:Zi,useExisting:U(()=>rg),multi:!0};let rg=(()=>{class n extends Pc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ud,this.createValidator=t=>$U}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=qn(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&uo("required",r._enabled?"":null)},inputs:{required:"required"},features:[In([Uie]),Vt]})}return n})(),Wie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[Ij]})}return n})(),Zie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ih,useValue:t.callSetDisabledState??jb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[Wie]})}return n})();function Kie(n,e){1&n&&xt(0,"p",29),2&n&&ge("innerHTML",Ot(2).$implicit.text,So)}function Qie(n,e){if(1&n){const t=$s();Y(0,"p",30),ot("click",function(){Co(t);const r=Ot(2).$implicit;return Nr(Ot(3).toggleStar(r))}),X()}2&n&&ge("innerHTML",Ot(2).$implicit.isStarFilled?"\u2605":"\u2606",So)}function Yie(n,e){1&n&&xt(0,"img",31),2&n&&ge("src",Ot(2).$implicit.image,Xo)}function Xie(n,e){1&n&&Cw(0)}function Jie(n,e){if(1&n){const t=$s();id(0),Y(1,"input",32),ot("ngModelChange",function(r){return Co(t),Nr(Ot(2).$implicit.userAnswer=r)}),X(),rd()}if(2&n){const t=Ot(2).$implicit;pe(1),ge("ngModel",t.userAnswer)}}function ere(n,e){if(1&n){const t=$s();Y(0,"div",34)(1,"input",35),ot("ngModelChange",function(r){return Co(t),Nr(Ot(3).$implicit.userAnswer=r)}),X(),xt(2,"label",36),X()}if(2&n){const t=e.$implicit,i=Ot(3).$implicit;pe(1),ge("name",i.id)("value",t)("id",t)("ngModel",i.userAnswer),pe(1),ge("for",t)("innerHTML",t,So)}}function tre(n,e){1&n&&Je(0,ere,3,6,"div",33),2&n&&ge("ngForOf",Ot(2).$implicit.options)}function nre(n,e){if(1&n&&(Y(0,"div",17)(1,"div",18)(2,"p",19),we(3),X(),Y(4,"div",20)(5,"div",21),Je(6,Kie,1,1,"p",22),Je(7,Qie,1,1,"p",23),X(),Y(8,"div",24),Je(9,Yie,1,1,"img",25),X()()(),Je(10,Xie,1,0,"ng-container",26),Je(11,Jie,2,1,"ng-container",27),Je(12,tre,1,1,"ng-template",null,28,B1),X()),2&n){const t=function VR(n){return xa(function bf(){return qe.lFrame.contextLView}(),mt+n)}(13),i=Ot().$implicit,r=Ot(3);pe(3),ho("",i.id,"."),pe(3),ge("ngIf",i.text),pe(1),ge("ngIf",r.authService.isLoggedIn),pe(2),ge("ngIf",i.image),pe(1),ge("ngIf","Zru\u0161en\xe1 ot\xe1zka"===i.text),pe(1),ge("ngIf",r.isTextInput(i)&&"Zru\u0161en\xe1 ot\xe1zka"!==i.text)("ngIfElse",t)}}function ire(n,e){if(1&n&&(Y(0,"div",15),Je(1,nre,14,7,"div",16),X()),2&n){const t=e.$implicit;pe(1),ge("ngIf",t.text||t.image)}}function rre(n,e){if(1&n&&(Y(0,"div",11)(1,"div",12),xt(2,"img",13),X(),Je(3,ire,2,1,"div",14),X()),2&n){const t=e.$implicit;pe(2),ge("src",t.article.url,Xo),pe(1),ge("ngForOf",t.questions)}}function ore(n,e){if(1&n){const t=$s();Y(0,"div",1),Je(1,rre,4,2,"div",2),Y(2,"button",3),ot("click",function(){return Co(t),Nr(Ot().showDialog())}),we(3," Vyhodnotenie "),X(),Y(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1"),we(8,"Vyhodnotenie"),X(),Y(9,"p"),we(10,"V teste ste dosiahli:"),X(),xt(11,"p",7),X(),Y(12,"div",8)(13,"button",9),we(14," Domovsk\xe1 str\xe1nka "),X(),Y(15,"button",10),we(16," Detaily testu "),X()()()()()}if(2&n){const t=Ot();pe(1),ge("ngForOf",t.articleWithQuestions),pe(10),ge("innerText",t.formattedPercentage)}}let Wb=(()=>{class n{ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}ngOnDestroy(){this.pauseTimer()}constructor(t,i,r,o,s,a,l,c){this.route=t,this.router=i,this.testService=r,this.dialog=o,this.authService=s,this.darkModeService=a,this.userAccountService=l,this.timerService=c,this.isStarFilled=!1,this.isDarkMode=!1,this.score=0,this.total=0,this.timeLeft=6e3,this.timerIsOn=!1,this.route.params.subscribe(h=>{h&&h.subCat&&h.year?(this.subCat=h.subCat,this.year=h.year,this.startTimer(),this.fetchTest().then(p=>{p.subscribe(g=>{this.test=g,this.articleWithQuestions=this.getTestObject(),console.log(this.articleWithQuestions),this.fillStarsForSavedQuestions()})})):console.error("subCat and year are required")})}toggleStar(t){t.isStarFilled=!t.isStarFilled,t.isStarFilled?this.userAccountService.saveQuestion(t):this.userAccountService.removeQuestion(t)}startTimer(){console.log("timer started"),this.timerService.setTimeLeft(6e3),this.timerIsOn=!0,this.timerIsOn&&(this.timerService.setTimerIsOn(this.timerIsOn),console.log("startTimer"),this.interval=setInterval(()=>{this.timerService.setTimeLeft(this.timeLeft),this.timeLeft>0?this.timeLeft--:0==this.timeLeft?this.showDialog():this.timeLeft=6e3},1e3))}pauseTimer(){clearInterval(this.interval),this.timerIsOn=!1,this.timerService.setTimerIsOn(this.timerIsOn)}fillStarsForSavedQuestions(){if(this.articleWithQuestions)for(const t of this.articleWithQuestions)for(const i of t.questions)i.isStarFilled=!!this.userAccountService.savedQuestionsSubject.value.find(o=>o.id===i.id)}isTextInput(t){return!t.options||t.options.every(i=>!i)}fetchTest(){var t=this;return(0,Me.Z)(function*(){return t.testService.getTest(t.subCat,t.year)})()}getTestObject(){const t=[];return this.test?.articles.forEach(i=>{const r=[];this.test?.questions.forEach(o=>{o.articleId===parseInt(i.id)&&(o.isStarFilled=!1,r.push(o))}),t.push({article:i,questions:r})}),t}checkAnswers(){const t={};"sk"===this.subCat?t.testName="Sloven\u010dina "+this.year+" ":"aj"===this.subCat?t.testName="Angli\u010dtina "+this.year+" ":"mat"===this.subCat&&(t.testName="Matematika "+this.year+" "),t.id=this.year+"-"+this.subCat,t.questions=[],t.finishedAt=new Date;const i=[];for(const r of this.articleWithQuestions||[])for(const o of r.questions){const s={questionId:o.id,text:o.text,image:o.image,isCorrect:!1,correctAnswer:o.correctAnswer,userAnswer:o.userAnswer,options:o.options};if(void 0===s.image&&(s.image=""),void 0===s.correctAnswer&&(s.correctAnswer="Zru\u0161ena otazka"),void 0===s.text&&""===s.image?s.text="Zru\u0161en\xe1 ot\xe1zka":void 0===s.text&&(s.text="Rie\u0161enie ot\xe1zky s obr\xe1zkom"),void 0===s.options&&(s.options=[]),(void 0===s.userAnswer||""===s.userAnswer)&&(s.userAnswer="Nevyplnene"),"Zru\u0161en\xe1 ot\xe1zka"===o.text)s.isCorrect=!0;else if(o.correctAnswer instanceof Array){for(const a of o.correctAnswer)if(o.userAnswer===a){s.isCorrect=!0;break}}else o.userAnswer===o.correctAnswer&&(s.isCorrect=!0);t.questions.push(s),i.push(s)}return this.calculateScore(i),t}calculateScore(t){let i=0,r=t.length;for(const o of t)o.isCorrect&&i++;this.score=i,this.total=r,console.log(`Score: ${i}/${r}`)}scrollTop(){window.scrollTo({top:0,behavior:"instant"})}showDialog(){let t=document.getElementById("dialog");t?.classList.remove("hidden"),t?.classList.add("opacity-1"),t?.classList.add("flex"),this.checkAnswers(),this.pauseTimer()}get formattedPercentage(){return` ${(this.score/this.total*100).toFixed(2)}%`}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ha),B(Ei),B(OB),B(LU),B(xd),B(Js),B(ZD),B(ID))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-test-page"]],decls:1,vars:1,consts:[["id","main_page_container",4,"ngIf"],["id","main_page_container"],["class","test",4,"ngFor","ngForOf"],[1,"border-2","border-ang-border_main","mt-2","py-2","px-6","bg-ang-main_btn","text-ang-text_white","rounded-lg","hover:opacity-85","transition",3,"click"],["id","dialog",1,"fixed","left-0","top-0","w-screen","h-screen","bg-opacity-40","bg-black","justify-center","items-center","hidden"],[1,"bg-ang-main_bg","border","border-ang-border_main","p-8","w-4/6","rounded-lg","max-w-[32rem]"],[1,"flex","justify-center","items-center","flex-col","gap-4","text-sm","md:text-base"],[3,"innerText"],[1,"flex","justify-around","text-xs","md:text-base","gap-2","pt-4"],["routerLink","/",1,"text-sm","border","border-ang-border_main","py-1","px-2","rounded-lg","bg-ang-main_btn","text-ang-text_white","hover:opacity-85"],["routerLink","/saved-tests-page",1,"border","border-ang-border_main","py-1","px-2","rounded-lg","bg-ang-main_btn","text-ang-text_white","hover:opacity-85"],[1,"test"],[1,"article"],[3,"src"],["class","question",4,"ngFor","ngForOf"],[1,"question"],["class","questions",4,"ngIf"],[1,"questions"],[1,"test_question"],[1,"question_id"],[1,"question_content"],[1,"queston_with_star"],["class","question_text",3,"innerHTML",4,"ngIf"],["class","star",3,"innerHTML","click",4,"ngIf"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["radioOptions",""],[1,"question_text",3,"innerHTML"],[1,"star",3,"innerHTML","click"],[1,"question_image",3,"src"],["type","text","placeholder","Sem nap\xed\u0161te svoju odpove\u010f",1,"input_text",3,"ngModel","ngModelChange"],["class","radio_options",4,"ngFor","ngForOf"],[1,"radio_options"],["type","radio",3,"name","value","id","ngModel","ngModelChange"],[3,"for","innerHTML"]],template:function(i,r){1&i&&Je(0,ore,17,2,"div",0),2&i&&ge("ngIf",r.articleWithQuestions)},dependencies:[Yl,Zs,Rc,cA,Jm,xh,as],styles:["#main_page_container[_ngcontent-%COMP%]{display:flex;flex-flow:column;border-radius:10px;width:100%;padding:2% 20%;box-shadow:0 0 10px var(--box-shadow-color-light);border:1px solid var(--border-color-light)}#main_page_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}#main_page_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.test[_ngcontent-%COMP%]{border:2px solid var(--test-border-color-light);background-color:var(--main-bg-color-light)}.test.dark[_ngcontent-%COMP%]{background-color:#ccc}.article[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid var(--test-border-color-light)}.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:31rem}.question[_ngcontent-%COMP%]{padding:0 15% 1.5rem;margin:1.5rem 0;border-bottom:1px solid gray}.question[_ngcontent-%COMP%]:last-child{border:none}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.2rem}.input_text[_ngcontent-%COMP%]{width:100%;padding:5px}.radio_options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.3rem}.test_question[_ngcontent-%COMP%]{display:flex;width:100%;align-items:flex-start;gap:.5rem}.question_id[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.question_content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}.question_image_container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;margin-bottom:1rem}.question_image[_ngcontent-%COMP%]{max-width:20rem}.queston_with_star[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.star[_ngcontent-%COMP%]{font-size:170%;color:#3369f3;font-weight:600;cursor:pointer;transition:all .5s ease-in-out}.star[_ngcontent-%COMP%]:focus, .star[_ngcontent-%COMP%]:hover{transform:scale(1.3)}@media (max-width: 830px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .question_image[_ngcontent-%COMP%]{width:25rem}}@media (max-width: 670px){#main_page_container[_ngcontent-%COMP%]{padding:0}.test[_ngcontent-%COMP%]{border-radius:10px}}@media (max-width: 405px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:18rem}.question_image[_ngcontent-%COMP%]{width:13rem}}"]})}return n})();const sre=function(n,e){return{displayed:n,hidden:e}};let are=(()=>{class n{constructor(t,i){this.router=t,this.darkModeService=i,this.displayed=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}changeSubCat(){this.displayed=!this.displayed}addSubCat(t){console.log(t),this.router.navigate(["/years-page/"+t])}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ei),B(Js))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-navbar"]],decls:21,vars:4,consts:[["id","nav_menu",1,"bg-ang-main_bg","border","border-ang-border_main","rounded-b-lg","border-t-0","w-[17rem]","sm:w-80"],["id","nav_menu_home","routerLink","/"],["src","assets/icons/home.png","alt","","width","28px","height","28px"],["id","nav_menu_tests",1,"expandable_ul",3,"click"],["src","assets/icons/tests.png","alt","","width","28px","height","28px"],[3,"ngClass"],[1,"text-sm","h-8",3,"click"],["id","nav_menu_scripts","routerLink","/education-materials"],["src","assets/icons/notes.png","alt","","width","28px","height","28px"],["id","nav_menu_savedtests","routerLink","/saved-tests-page",1,"border-0","hover:rounded-b-lg"],["src","assets/icons/saved.png","alt","","width","28px","height","28px"]],template:function(i,r){1&i&&(Y(0,"nav",0)(1,"ul")(2,"li",1),xt(3,"img",2),we(4,"Domov "),X(),Y(5,"ul",3),ot("click",function(){return r.changeSubCat()}),xt(6,"img",4),we(7,"Maturitn\xe9 testy "),X(),Y(8,"div",5)(9,"li",6),ot("click",function(){return r.addSubCat("sk")}),we(10," Slovensk\xfd jazyk a literat\xfara "),X(),Y(11,"li",6),ot("click",function(){return r.addSubCat("aj")}),we(12,"Anglick\xfd jazyk"),X(),Y(13,"li",6),ot("click",function(){return r.addSubCat("mat")}),we(14,"Matematika"),X()(),Y(15,"li",7),xt(16,"img",8),we(17,"U\u010debn\xe9 materi\xe1ly "),X(),Y(18,"li",9),xt(19,"img",10),we(20," Hist\xf3ria testov "),X()()()),2&i&&(pe(8),ge("ngClass",Hs(1,sre,r.displayed,!r.displayed)))},dependencies:[yp,as],styles:[".hidden[_ngcontent-%COMP%]{display:none}.displayed[_ngcontent-%COMP%]{display:block}"]})}return n})(),Uj=(()=>{class n{transform(t){return`${Math.floor(t/60)}m ${Math.floor(t%60).toString().padStart(2,"0")}s`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=si({name:"timeFormat",type:n,pure:!0})}return n})();function lre(n,e){1&n&&(Y(0,"div",8)(1,"button",9)(2,"p",10),we(3,"\xda\u010det"),X()()())}function cre(n,e){if(1&n){const t=$s();Y(0,"div",11)(1,"p",12),xt(2,"img",13),X(),Y(3,"p",14),ot("click",function(){return Co(t),Nr(Ot().onLogout())}),xt(4,"img",15),X()()}}function ure(n,e){if(1&n&&(Y(0,"div",16)(1,"button"),we(2),cp(3,"timeFormat"),X()()),2&n){const t=Ot();pe(2),ho("\u010cas: ",up(3,1,t.timeLeft),"")}}let dre=(()=>{class n{constructor(t,i,r,o,s,a){this.el=i,this.router=r,this.darkModeService=o,this.timerService=a,this.buttonExpanded=!1,this.isDarkMode=!1,this.timerIsOn=!1,this.timeLeft=0,this.authService=t,this.testPage=s,this.router.events.subscribe(l=>{l instanceof Ks&&this.closeNavbar()})}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t}),this.timerService.getTimerIsOn().subscribe(t=>this.timerIsOn=t),this.timerService.getTimeLeft().subscribe(t=>this.timeLeft=t)}closeNavbar(){document.getElementById("navbar").style.display="none",this.buttonExpanded=!1}onToggleNav(){const t=document.getElementById("navbar"),i=document.getElementById("main_header"),r=window.innerWidth;"flex"===t.style.display?(t.style.display="none",i.style.borderRadius="8px",this.buttonExpanded=!this.buttonExpanded):(t.style.display="flex",r<=320?(i.style.borderBottomLeftRadius="0",i.style.borderBottomRightRadius="0"):(i.style.borderRadius="8px",i.style.borderBottomLeftRadius="0"),this.buttonExpanded=!this.buttonExpanded)}onLogout(){this.authService.logout(),localStorage.removeItem("rememberedUser")}onDocumentClick(t){this.el.nativeElement.contains(t.target)||(document.getElementById("navbar").style.display="none",this.buttonExpanded=!1),this.buttonExpanded||(document.getElementById("main_header").style.borderBottomLeftRadius="10px")}static#e=this.\u0275fac=function(i){return new(i||n)(B(xd),B(Wn),B(Ei),B(Js),B(Wb),B(ID))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-header"]],hostBindings:function(i,r){1&i&&ot("click",function(s){return r.onDocumentClick(s)},0,rw)},decls:9,vars:5,consts:[["id","main_header",1,"h-24","relative","flex","justify-between","px-4","items-center","border","border-blue-500","rounded-lg","bg-ang-main_bg"],[1,"w-20","hover:cursor-pointer","h-[4rem]","flex","items-center","justify-center",3,"click"],[1,"transition-all","ease-in-out","delay-[180ms]","before:delay-[260ms]","after:delay-100","bg-ang-main_btn","w-11","h-1.5","rounded-lg","hover:cursor-pointer","block","relative","after:transition-all","after:bg-ang-main_btn","after:w-11","after:h-1.5","after:block","after:absolute","after:content-['']","after:left-0","after:top-3.5","after:rounded-lg","before:transition-all","before:bg-ang-main_btn","before:w-11","before:h-1.5","before:block","before:absolute","before:content-['']","before:left-0","before:-top-3.5","before:rounded-lg"],["src","assets/logo.png","alt","","width","100px","height","100px"],["id","but",4,"ngIf"],["class","flex gap-6",4,"ngIf"],["id","navbar",1,"absolute"],["class","time-display",4,"ngIf"],["id","but"],["id","header_reg_button","routerLink","/login",1,"w-20","px-12","flex","justify-center","py-2","border-2","bg-ang-main_btn","border-ang-border_main","rounded-lg","hover:cursor-pointer","overflow-hidden","hover:opacity-90","transition","shadow-md"],[1,"text-ang-text_white","font-medium"],[1,"flex","gap-6"],["routerLink","/user-account",1,"hover:cursor-pointer","hover:scale-110","transition","duration-250"],["src","assets/header_icons/userprofile.png","alt","user_profile_icon","width","38px","height","38px"],["routerLink","",1,"hover:cursor-pointer","hover:scale-110","transition","duration-250",3,"click"],["src","assets/header_icons/logout.png","alt","logout_icon","width","38px","height","38px"],[1,"time-display"]],template:function(i,r){1&i&&(Y(0,"header",0)(1,"div",1),ot("click",function(){return r.onToggleNav()}),xt(2,"span",2),X(),Y(3,"div"),xt(4,"img",3),X(),Je(5,lre,4,0,"div",4),Je(6,cre,5,0,"div",5),X(),xt(7,"app-navbar",6),Je(8,ure,4,3,"div",7)),2&i&&(pe(1),La("expanded",r.buttonExpanded),pe(4),ge("ngIf",!r.authService.isLoggedIn),pe(1),ge("ngIf",r.authService.isLoggedIn),pe(2),ge("ngIf",r.timerIsOn))},dependencies:[Zs,as,are,Uj],styles:[".expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{border-radius:5px;width:6px}.time-display[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;position:absolute;margin-top:1rem}"]})}return n})(),hre=(()=>{class n{title(t){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"flex","flex-col","gap-3","min-h-screen","p-6"],[1,"sticky","w-full","top-0","z-50"],[1,"flex-1","bg-ang-main_bg","rounded-lg","basis-1","h-fit"]],template:function(i,r){1&i&&(Y(0,"div",0),xt(1,"app-header",1),Y(2,"div",2),xt(3,"router-outlet"),X()())},dependencies:[ax,dre]})}return n})(),Gb=(()=>{class n{constructor(t){this.darkModeService=t,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}static#e=this.\u0275fac=function(i){return new(i||n)(B(Js))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-landing-page"]],decls:26,vars:0,consts:[["id","main_page_container",1,"bg-ang-main_bg","rounded-lg","h-full","flex","w-full","border","border-ang-border_main"],["id","main_page_inner_container",1,"inner_container","items-center","justify-evenly","flex-col"],[1,"p-8","text-2xl","text-ang-text_main","lg:text-3xl"],[1,"flex","items-center","justify-evenly","w-full","flex-wrap","px-4"],["id","main_first_card",1,"main_card_containers","bg-first_landing_page_card","bg-cover"],["id","main_first_card_icon","src","assets/test_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_first_card_textarea",1,"main_card_textareas"],["id","main_second_card",1,"main_card_containers","bg-second_landing_page_card","bg-cover"],["id","main_second_card_icon","src","assets/book_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_second_card_textarea",1,"main_card_textareas"],["id","main_third_card",1,"main_card_containers","bg-third_landing_page_card","bg-cover"],["id","main_third_card_icon","src","assets/community_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_third_card_textarea",1,"main_card_textareas"],["id","main_fourth_card",1,"main_card_containers","bg-fourth_landing_page_card","bg-cover"],["id","main_fourth_card_icon","src","assets/graduation_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_fourth_card_textarea",1,"main_card_textareas"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),we(4," e-Maturity je inovat\xedvna a \u0161tudentom prisp\xf4soben\xe1 webov\xe1 aplik\xe1cia, ktor\xe1 pon\xfaka: "),X()(),Y(5,"section",3)(6,"div",4),xt(7,"img",5),Y(8,"div",6)(9,"p"),we(10," Otestovanie sa a rie\u0161enie maturitn\xfdch testov online formou! Modern\xe1 doba toti\u017e vy\u017eaduje modern\xe9 rie\u0161enia, u\u017e \u017eiadne pero a papier. "),X()()(),Y(11,"div",7),xt(12,"img",8),Y(13,"div",9)(14,"p"),we(15," R\xfdchly pr\xedstup k u\u010divu a preh\u013eadn\xe9 pozn\xe1mky s\xfa z\xe1rukou k \xfaspe\u0161nej maturite a pr\xe1ve o tieto pozn\xe1mky sa s vami podel\xedme. "),X()()(),Y(16,"div",10),xt(17,"img",11),Y(18,"div",12)(19,"p"),we(20," Spojte sa s ostatn\xfdmi maturantmi, zdie\u013eajte medzi sebou sk\xfasenosti, ra\u010fte sa a podporujte navz\xe1jom. "),X()()(),Y(21,"div",13),xt(22,"img",14),Y(23,"div",15)(24,"p"),we(25," Precvi\u010dujte sa s testami z minul\xfdch ro\u010dn\xedkov a pripravte sa na v\u0161etky aspekty maturity. Na\u0161e zdroje v\xe1m pom\xf4\u017eu zdokonali\u0165 va\u0161e vedomosti. "),X()()()()()())}})}return n})();const jj=function(n){return{"error-border":n}},fre=function(n){return{error_message:n}};let zj=(()=>{class n{constructor(t,i,r){this.router=t,this.service=i,this.darkModeService=r,this.submitted=!1,this.name="",this.password="",this.error=!1,this.rememberMe=!1,this.isDarkMode=!1}submit(){this.submitted=!0}newInput(){this.error=!1}login(){this.service.login(this.name,this.password,this.rememberMe).then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}signInWithGoogle(){this.service.googleSignIn().then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(i=>{this.isDarkMode=i});const t=localStorage.getItem("rememberMe");if(t){const i=JSON.parse(t);console.log(i),this.name=i.email,this.password=i.password}}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ei),B(xd),B(Js))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-login-page"]],decls:30,vars:12,consts:[[1,"bg-ang-main_bg","rounded-lg","h-full","flex","w-full","border","border-ang-border_main"],[1,"inner_container","justify-center","items-center"],[1,"login_card"],[1,"top_section"],[1,"input_group"],["for","meno"],["type","text","name","meno","id","meno","required","","placeholder","Zadaj svoj email na prihlasenie",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],[1,"utils"],["routerLink","/forgot-password",1,"forgot-password"],[1,"remember"],["for","rememberMe"],["type","checkbox","name","rememberMe","id","rememberMe",3,"ngModel","ngModelChange"],[1,"error_message_on",3,"ngClass"],[1,"mid_section"],[1,"login-button",3,"click"],["src","assets/googleicon.png","alt","googleicon","width","32px","height","32px"],[1,"bot_section"],["type","submit",1,"bot_button",3,"click"],["routerLink","/register",1,"bot_button"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),we(6,"Prihlasovaci email"),X(),Y(7,"input",6),ot("ngModelChange",function(){return r.newInput()})("ngModelChange",function(s){return r.name=s}),X(),Y(8,"label",7),we(9,"Heslo"),X(),Y(10,"input",8),ot("ngModelChange",function(){return r.newInput()})("ngModelChange",function(s){return r.password=s}),X()(),Y(11,"div",9)(12,"button",10),we(13," Zabudnut\xe9 heslo "),X(),Y(14,"div",11)(15,"label",12),we(16,"zapam\xe4taj si ma"),X(),Y(17,"input",13),ot("ngModelChange",function(s){return r.rememberMe=s}),X()()()(),Y(18,"div",14)(19,"p"),we(20,"Nespr\xe1vne zadan\xe9 \xfadaje"),X()(),Y(21,"div",15)(22,"button",16),ot("click",function(){return r.signInWithGoogle()}),xt(23,"img",17),we(24," Prihl\xe1si\u0165 sa cez google "),X()(),Y(25,"div",18)(26,"button",19),ot("click",function(){return r.login()}),we(27," Prihl\xe1si\u0165 "),X(),Y(28,"button",20),we(29,"Zaregistrova\u0165"),X()()()()()),2&i&&(pe(7),ge("ngModel",r.name)("ngClass",ay(6,jj,r.error)),pe(3),ge("ngModel",r.password)("ngClass",ay(8,jj,r.error)),pe(7),ge("ngModel",r.rememberMe),pe(1),ge("ngClass",ay(10,fre,!r.error)))},dependencies:[yp,Rc,KD,Jm,rg,xh,as],styles:["app-login-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}.login_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-color:var(--auth-bg-color-light);background-position:50% 50%;background-repeat:no-repeat;width:clamp(20rem,25rem,35rem);height:clamp(15rem,30rem,35rem);padding:2rem;border-radius:10px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:3px 3px 10px 3px var(--box-shadow-color-light)}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.5rem}.login_cred[_ngcontent-%COMP%]{height:2.5rem}.utils[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.remember[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:8px}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:6px}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.bot_button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--button-white-bg-light);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px var(--box-shadow-color-light);font-weight:400}.bot_button[_ngcontent-%COMP%]:hover, .bot_button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-button[_ngcontent-%COMP%]{background-color:#fbfef9;color:#000;padding:10px 20px;font-size:16px;border:none;border-radius:2px;cursor:pointer;transition:background-color .3s ease;display:flex;justify-content:center;align-items:center;gap:.4rem}.login-button[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.error-border[_ngcontent-%COMP%]{border:2px solid var(--main-error-message-light)}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--main-error-message-light);font-weight:800;font-size:1.2rem}.forgot-password[_ngcontent-%COMP%]{cursor:pointer;border:none;margin:0;padding:0;background:transparent;font-size:1rem}.forgot-password[_ngcontent-%COMP%]:hover, .forgot-password[_ngcontent-%COMP%]:focus{color:#0e2766}"]})}return n})();const mA=function(n,e){return{"error-border":n,noborder:e}};let $j=(()=>{class n{constructor(t,i,r){this.router=t,this.service=i,this.darkModeService=r,this.errorMessage="",this.pswdError=!1,this.emailError=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}isValidEmail(t){return/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(t)}register(){if(this.email&&this.password&&this.passwordCheck&&this.fname&&this.lname){if(this.password.length<6)return this.errorMessage="Heslo mus\xed obsahova\u0165 aspo\u0148 6 znakov",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,this.password!==this.passwordCheck)return this.errorMessage="Hesla sa nezhoduj\xfa",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,!this.isValidEmail(this.email))return this.errorMessage="Neplatn\xe1 emailov\xe1 adresa",void(this.emailError=!0);this.emailError=!1,this.service.register(this.email,this.password,this.fname,this.lname).then(t=>{this.router.navigate([""])}).catch(t=>{"auth/email-already-in-use"===t.code&&(this.errorMessage="Tento email je u\u017e registrovan\xfd",this.emailError=!0)})}else this.errorMessage="Pros\xedm vypl\u0148 v\u0161etky pol\xed\u010dka"}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ei),B(xd),B(Js))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-register-page"]],decls:31,vars:18,consts:[[1,"main_container"],[1,"register_card"],[1,"top_section"],[1,"input_group"],[1,"user_cred"],[1,"user_firstcred"],["for","krstne"],["type","text","name","krstne","id","krstne","required","","placeholder","J\xe1n",1,"register_cred",3,"ngModel","ngModelChange"],[1,"user_secondcred"],["for","priezv"],["type","text","name","priezv","id","priezv","required","","placeholder","Nov\xe1k",1,"register_cred",3,"ngModel","ngModelChange"],["for","email"],["type","email","name","email","id","email","required","","placeholder","jan.novak@email.com",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadajte heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","hesloKontrola"],["type","password","name","hesloKontrola","id","hesloKontrola","required","","placeholder","Zopakujte heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],[1,"mid_section"],[1,"bot_section"],["id","register_log_button","routerLink","/login",1,"login"],[3,"click"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),we(7,"Krstn\xe9 meno"),X(),Y(8,"input",7),ot("ngModelChange",function(s){return r.fname=s}),X()(),Y(9,"div",8)(10,"label",9),we(11,"Priezvisko"),X(),Y(12,"input",10),ot("ngModelChange",function(s){return r.lname=s}),X()()(),Y(13,"label",11),we(14,"E-mail"),X(),Y(15,"input",12),ot("ngModelChange",function(s){return r.email=s}),X(),Y(16,"label",13),we(17,"Heslo"),X(),Y(18,"input",14),ot("ngModelChange",function(s){return r.password=s}),X(),Y(19,"label",15),we(20,"Kontrola hesla"),X(),Y(21,"input",16),ot("ngModelChange",function(s){return r.passwordCheck=s}),X()()(),Y(22,"div",17),we(23),X(),Y(24,"div",18)(25,"button",19)(26,"p"),we(27,"Sp\xe4\u0165 na prihl\xe1senie"),X()(),Y(28,"button")(29,"p",20),ot("click",function(){return r.register()}),we(30,"Zalo\u017e \xfa\u010det"),X()()()()()),2&i&&(pe(8),ge("ngModel",r.fname),pe(4),ge("ngModel",r.lname),pe(3),ge("ngModel",r.email)("ngClass",Hs(9,mA,r.emailError,!r.emailError)),pe(3),ge("ngModel",r.password)("ngClass",Hs(12,mA,r.pswdError,!r.pswdError)),pe(3),ge("ngModel",r.passwordCheck)("ngClass",Hs(15,mA,r.pswdError,!r.pswdError)),pe(2),ho(" ",r.errorMessage," "))},dependencies:[yp,Rc,Jm,rg,xh,as],styles:["app-register-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{border:1px solid var(--border-color-light);display:flex;justify-content:center;align-items:center;padding:2rem;border-radius:10px;width:100%;height:100%}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.register_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-color:var(--auth-bg-color-light);width:clamp(20rem,25rem,35rem);height:clamp(15rem,34rem,50rem);padding:2rem;border-radius:10px;box-shadow:3px 3px 10px 3px var(--box-shadow-color-light);display:flex;flex-direction:column;justify-content:space-between}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.3rem}.register_cred[_ngcontent-%COMP%]{height:2.5rem}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--button-white-bg-light);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;align-items:center;font-size:1.1rem;color:var(--main-error-message-light);font-weight:800}.error-border[_ngcontent-%COMP%]{border:2px solid var(--main-error-message-light)}.noborder[_ngcontent-%COMP%]{border:none}.user_cred[_ngcontent-%COMP%]{display:flex}.user_firstcred[_ngcontent-%COMP%], .user_secondcred[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 1024px){app-register-page[_nghost-%COMP%]{height:auto;padding-bottom:1rem}}@media (max-width: 426px){.register_card[_ngcontent-%COMP%]{width:40rem}.user_cred[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 375px){.user_firstcred[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .user_secondcred[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}}"]})}return n})();function pre(n,e){1&n&&(Y(0,"div")(1,"h1"),we(2,"Matematika"),X(),Y(3,"ul")(4,"li"),we(5,"Test obsahuje 30 \xfaloh."),X(),Y(6,"li"),we(7," Na vypracovanie testu m\xe1te 100 min\xfat. (\u010das sa spust\xed po kliknut\xed na test) "),X(),Y(8,"li"),we(9," Pri rie\u0161enie \xfaloh za\u0161krtnete pol\xed\u010dko alebo nap\xed\u0161ete odpove\u010f. (popros\xedm p\xed\u0161te desatinn\xe9 \u010d\xedsla s \u010diarkou a z\xe1porne hodnoty spolu[4,5 ; -5]) "),X(),Y(10,"li"),we(11,"Zru\u0161en\xe9 ot\xe1zky sa V\xe1m pripo\u010d\xedtavaj\xfa za bod automaticky"),X()()())}function mre(n,e){1&n&&(Y(0,"div")(1,"h1"),we(2,"Slovensk\xfd jazyk a literat\xfara"),X(),Y(3,"ul")(4,"li"),we(5,"Test obsahuje 64 \xfaloh."),X(),Y(6,"li"),we(7," Na vypracovanie testu m\xe1te 100 min\xfat. (\u010das sa spust\xed po kliknut\xed na test) "),X(),Y(8,"li"),we(9," Pri rie\u0161enie \xfaloh za\u0161krtnete pol\xed\u010dko alebo nap\xed\u0161ete odpove\u010f. (popros\xedm p\xed\u0161te s diakritikou) "),X(),Y(10,"li"),we(11,"Zru\u0161en\xe9 ot\xe1zky sa V\xe1m pripo\u010d\xedtavaj\xfa za bod automaticky"),X()()())}function gre(n,e){1&n&&(Y(0,"div")(1,"h1"),we(2,"Anglick\xfd jazyk"),X(),Y(3,"ul")(4,"li"),we(5,"Testy pre anglick\xfd jazyk sa pripravuj\xfa"),X()()())}const _re=function(n,e){return["/test-page",n,e]};function yre(n,e){if(1&n&&(Y(0,"a",7),we(1),X()),2&n){const t=e.$implicit,i=Ot(2);ge("routerLink",Hs(2,_re,i.subCat,t)),pe(1),ho(" ",t," ")}}function vre(n,e){if(1&n&&(Y(0,"div",5),Je(1,yre,2,5,"a",6),X()),2&n){const t=Ot();pe(1),ge("ngForOf",t.years)}}function bre(n,e){1&n&&(Y(0,"div")(1,"p"),we(2,"no years"),X()())}function Ere(n,e){1&n&&(Y(0,"div")(1,"p"),we(2,"loading"),X()())}let Hj=(()=>{class n{constructor(t,i,r){this.route=t,this.testService=i,this.darkModeService=r,this.isDarkMode=!1,this.loading=!0,this.route.params.subscribe(o=>{o&&(this.subCat=o.subCat,this.fetchTestYears().subscribe(s=>{this.years=s,console.log(this.years),this.loading=!1},s=>{console.error("Error fetching tests:",s)}))})}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}fetchTestYears(){return this.subCat?this.testService.getTestsYears(this.subCat):new Ke(t=>{t.next([]),t.complete()})}titleBySubcat(t){return"mat"===t?"Matematika":"sk"===t?"Sloven\u010dina":"aj"===t?"Angli\u010dtina":"Unknown"}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ha),B(OB),B(Js))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-years-page"]],decls:9,vars:6,consts:[[1,"main_container"],["id","main_page_inner_container"],[1,"years_headline"],[4,"ngIf"],["class","main_page_container",4,"ngIf"],[1,"main_page_container"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2),Je(3,pre,12,0,"div",3),Je(4,mre,12,0,"div",3),Je(5,gre,6,0,"div",3),X(),Je(6,vre,2,1,"div",4),Je(7,bre,3,0,"div",3),Je(8,Ere,3,0,"div",3),X()()),2&i&&(pe(3),ge("ngIf","mat"===r.subCat),pe(1),ge("ngIf","sk"===r.subCat),pe(1),ge("ngIf","aj"===r.subCat),pe(1),ge("ngIf",r.years),pe(1),ge("ngIf",!(r.years&&0!=r.years.length||r.loading)),pe(1),ge("ngIf",r.loading))},dependencies:[Yl,Zs,as],styles:["app-years-page[_nghost-%COMP%]{min-height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{display:flex;border-radius:10px;width:100%;height:100%;max-height:auto;border:1px solid var(--border-color-light);box-shadow:0 0 10px var(--box-shadow-color-light)}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light);color:var(--text-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark);color:var(--text-color-dark)}#main_page_inner_container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;box-shadow:inset 0 0 12px var(--box-shadow-color-light);margin:1.5rem;border-radius:10px;width:100%}.years_headline[_ngcontent-%COMP%]{height:auto;padding:2rem}.years_headline.light[_ngcontent-%COMP%]{color:var(--main-blue-color)}.years_headline.dark[_ngcontent-%COMP%]{color:var(--account-border-color-dark)}.years_headline[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-direction:column}.years_headline[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:1.1rem;list-style-type:square;line-height:2rem}.years_headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.main_page_container[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;padding-bottom:2rem}.main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:10rem;height:2.5rem;background-color:var(--main-blue-color);display:flex;align-items:center;justify-content:center;color:#fbfef9;text-decoration:none;border-radius:10px;font-size:1.2rem}.main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{opacity:85%}"]})}return n})();function wre(n,e){if(1&n&&(Y(0,"div",8)(1,"p"),we(2),X()()),2&n){const t=Ot();pe(2),ny(t.errorMessage)}}let qj=(()=>{class n{constructor(t,i){this.router=t,this.darkModeService=i,this.email="",this.isError=!1,this.errorMessage="Nespr\xe1vny form\xe1t emailu.",this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}isValidEmail(){this.isError=!/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(this.email)}sendPasswordResetEmail(){const t=(0,tc.o)();if(this.isValidEmail(),!this.isError)try{(0,tc.a5)(t,this.email),this.isError=!1,this.router.navigate([""])}catch(i){console.error(`Error sending password reset email: ${i.code} - ${i.message}`)}}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ei),B(Js))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-forgot-password"]],decls:13,vars:2,consts:[[1,"bg-ang-main_bg","rounded-lg","h-full","flex","w-full","border","border-ang-border_main"],[1,"inner_container","items-center","justify-center","p-2"],[1,"border","border-ang-border_main","rounded-lg","flex","flex-col","justify-around","h-2/3","px-2","md:px-4","bg-ang-border_main","text-ang-text_white"],[1,"text-xl","font-bold"],["class","text-center text-red-600 font-bold",4,"ngIf"],[1,"flex","flex-col","gap-4","justify-center","items-center"],["type","email","placeholder","Zadaj svoj email",1,"rounded-sm","w-3/4","py-1",3,"ngModel","ngModelChange"],[1,"border","border-ang-main_bg","px-4","py-1","rounded-lg","hover:opacity-85","mb-2","sm:mb-0","bg-ang-main_bg","text-ang-text_main",3,"click"],[1,"text-center","text-red-600","font-bold"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),we(5,"Resetovanie zabudnut\xe9ho hesla"),X(),Y(6,"p"),we(7,"zadaj svoj email a pr\xedde ti link na mail na resetovanie hesla"),X()(),Je(8,wre,3,1,"div",4),Y(9,"div",5)(10,"input",6),ot("ngModelChange",function(s){return r.email=s}),X(),Y(11,"button",7),ot("click",function(){return r.sendPasswordResetEmail()}),we(12," Odo\u0161li "),X()()()()()),2&i&&(pe(8),ge("ngIf",r.isError),pe(2),ge("ngModel",r.email))},dependencies:[Zs,Rc,Jm,xh]})}return n})();function Ire(n,e){if(1&n){const t=$s();Y(0,"div")(1,"img",5),ot("click",function(){const o=Co(t).$implicit;return Nr(Ot(2).selectIcon(o))}),X()()}if(2&n){const t=e.$implicit,i=Ot(2);pe(1),La("selected",t===i.userServ.selectedIcon),ge("src",t,Xo)}}function xre(n,e){if(1&n&&(Y(0,"div",3),Je(1,Ire,2,3,"div",4),X()),2&n){const t=Ot();pe(1),ge("ngForOf",t.availableIcons)}}let Cre=(()=>{class n{constructor(t,i){this.userServ=t,this.er=i,this.showIconSelection=!1}handleClick(t){this.er.nativeElement.contains(t.target)||(this.showIconSelection=!1)}ngOnInit(){this.defaultIcon="assets/user_icons/default.png",this.availableIcons=this.userServ.getAvailableIcons()}toggleIconSelection(){this.updateAvailableIcons(),this.showIconSelection=!this.showIconSelection}selectIcon(t){this.userServ.selectedIcon=t,this.showIconSelection=!1}getSelectedIcon(){return this.userServ.getSelectedIcon()}updateAvailableIcons(){this.availableIcons=this.userServ.getAvailableIcons().filter(t=>t!==this.userServ.selectedIcon),this.userServ.selectedIcon||(this.availableIcons=this.availableIcons.filter(t=>t!==this.defaultIcon))}static#e=this.\u0275fac=function(i){return new(i||n)(B(ZD),B(Wn))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-icon-selector"]],hostBindings:function(i,r){1&i&&ot("click",function(s){return r.handleClick(s)},0,rw)},decls:3,vars:2,consts:[[1,"relative","hover:cursor-pointer",3,"click"],["alt","Vyber ikonku",1,"w-20","h-20","hover:opacity-85",3,"src"],["class","icon_selection absolute bg-ang-main_bg border border-ang-border_main flex flex-wrap rounded-sm mt-4",4,"ngIf"],[1,"icon_selection","absolute","bg-ang-main_bg","border","border-ang-border_main","flex","flex-wrap","rounded-sm","mt-4"],[4,"ngFor","ngForOf"],["alt","Icon",1,"w-20","h-20","hover:opacity-85",3,"src","click"]],template:function(i,r){1&i&&(Y(0,"div",0),ot("click",function(){return r.toggleIconSelection()}),xt(1,"img",1),Je(2,xre,2,1,"div",2),X()),2&i&&(pe(1),ge("src",r.getSelectedIcon(),Xo),pe(1),ge("ngIf",r.showIconSelection))},dependencies:[Yl,Zs]})}return n})();function Tre(n,e){if(1&n&&(Y(0,"div",14)(1,"p",15),we(2),X()()),2&n){const t=e.$implicit;pe(2),ho(" ",t.testName," ")}}function Dre(n,e){if(1&n&&(Y(0,"div",12),Je(1,Tre,3,1,"div",13),X()),2&n){const t=e.ngIf;pe(1),ge("ngForOf",t)}}function Are(n,e){1&n&&xt(0,"p",20),2&n&&ge("innerHTML",e.$implicit,So)}function Sre(n,e){if(1&n){const t=$s();Y(0,"div",16)(1,"div"),xt(2,"p",17),Je(3,Are,1,1,"p",18),X(),Y(4,"div")(5,"p",19),ot("click",function(){const o=Co(t).$implicit;return Nr(Ot().removeQuestion(o))}),we(6," \u2715 "),X()()()}if(2&n){const t=e.$implicit;pe(2),ge("innerHTML",t.text,So),pe(1),ge("ngForOf",t.options)}}let Wj=(()=>{class n{constructor(t,i,r){this.authService=t,this.userAccountService=i,this.savedTestService=r,this.userName="",this.isDarkMode=!1,this.savedTests$=this.userAccountService.getSavedTests()}ngOnInit(){this.authService.userData.subscribe(t=>{t&&(this.userName=t.displayName||"")})}removeQuestion(t){this.userAccountService.removeQuestion(t)}getSelectedIcon(){return this.userAccountService.getSelectedIcon()}static#e=this.\u0275fac=function(i){return new(i||n)(B(xd),B(ZD),B(GD))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-user-account"]],decls:19,vars:7,consts:[[1,"bg-ang-main_bg","rounded-lg","h-full","flex","w-full","border","border-ang-border_main"],[1,"inner_container","flex-col","p-2","text-ang-text_main"],[1,"flex","flex-col","items-center","gap-2","border-b","border-ang-border_main"],[1,"min-w-20","min-h-20"],[1,"flex","flex-col","text-center","pb-2"],[1,"font-bold"],[1,"font-semibold"],[1,"text-center","py-2","font-bold"],[1,"border-b","border-ang-border_main","pb-4"],["class","flex justify-around flex-col md:flex-row gap-2 items-center",4,"ngIf"],[1,"border-b","border-ang-border_main"],["class","flex justify-between items-center py-4 px-2",4,"ngFor","ngForOf"],[1,"flex","justify-around","flex-col","md:flex-row","gap-2","items-center"],["routerLink","/saved-tests-page",4,"ngFor","ngForOf"],["routerLink","/saved-tests-page"],[1,"text-center","border","border-ang-border_main","rounded-lg","px-4","py-2","hover:cursor-pointer","hover:opacity-85","text-ang-text_white","hover:scale-105","bg-ang-border_main","transition-all"],[1,"flex","justify-between","items-center","py-4","px-2"],[1,"font-bold",3,"innerHTML"],[3,"innerHTML",4,"ngFor","ngForOf"],[1,"hover:scale-150","transition-all","text-xl","hover:cursor-pointer",3,"click"],[3,"innerHTML"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2),xt(3,"app-icon-selector",3),Y(4,"div",4)(5,"h1",5),we(6),X(),Y(7,"p",6),we(8,"Ko\u0161ick\xe1 ak\xe1demia softv\xe9rov\xe9ho v\xfdvoja"),X()()(),Y(9,"h2",7),we(10,"Hist\xf3ria testov"),X(),Y(11,"div",8),Je(12,Dre,2,1,"div",9),cp(13,"async"),X(),Y(14,"h2",7),we(15,"Ulo\u017een\xe9 ot\xe1zky"),X(),Y(16,"div",10),Je(17,Sre,7,2,"div",11),cp(18,"async"),X()()()),2&i&&(pe(6),ny(r.userName),pe(6),ge("ngIf",up(13,3,r.savedTests$)),pe(5),ge("ngForOf",up(18,5,r.userAccountService.savedQuestions$)))},dependencies:[Yl,Zs,as,Cre,ik]})}return n})(),Mre=(()=>{class n{constructor(t){this.firestore=t}getFile(t){const i=yo(this.firestore,"edu_materials"),r=Tc(i,"Subjects"),o=yo(r,t);return b(PB(r).then(s=>{if(s.exists())return s.id;throw new Error("Document not found")})),b(_h(o).then(s=>s.docs.map(l=>({id:l.id,text:l.data().text,url:l.data().url})).sort((l,c)=>l.id.localeCompare(c.id))))}static#e=this.\u0275fac=function(i){return new(i||n)(V(gh))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rre(n,e){if(1&n&&(Y(0,"div")(1,"a",7),xt(2,"img",8),Y(3,"p",9),we(4),X()()()),2&n){const t=e.$implicit;pe(1),ge("href",t.url,Xo),pe(3),ho(" ",t.text," ")}}function Pre(n,e){if(1&n&&(Y(0,"div",5),Je(1,Rre,5,2,"div",6),X()),2&n){const t=Ot();pe(1),ge("ngForOf",t.sjlMaterials)}}function Ore(n,e){if(1&n&&(Y(0,"div")(1,"a",7),xt(2,"img",8),Y(3,"p",9),we(4),X()()()),2&n){const t=e.$implicit;pe(1),ge("href",t.url,Xo),pe(3),ho(" ",t.text," ")}}function kre(n,e){if(1&n&&(Y(0,"div",10),Je(1,Ore,5,2,"div",6),X()),2&n){const t=Ot();pe(1),ge("ngForOf",t.anjMaterials)}}function Nre(n,e){if(1&n&&(Y(0,"div")(1,"a",7),xt(2,"img",8),Y(3,"p",9),we(4),X()()()),2&n){const t=e.$implicit;pe(1),ge("href",t.url,Xo),pe(3),ho(" ",t.text," ")}}function Fre(n,e){if(1&n&&(Y(0,"div",10),Je(1,Nre,5,2,"div",6),X()),2&n){const t=Ot();pe(1),ge("ngForOf",t.matMaterials)}}let Gj=(()=>{class n{constructor(t){this.eduService=t,this.sjlMaterials=[],this.anjMaterials=[],this.matMaterials=[],this.showSjlNotes=!1,this.showAnjNotes=!1,this.showMatNotes=!1,this.isDarkMode=!1}ngOnInit(){this.eduService.getFile("SJL").subscribe(t=>{this.sjlMaterials=t}),this.eduService.getFile("ANJ").subscribe(t=>{this.anjMaterials=t}),this.eduService.getFile("MAT").subscribe(t=>{this.matMaterials=t})}toggleShowSjlNotes(){this.showSjlNotes=!this.showSjlNotes}toggleShowAnjNotes(){this.showAnjNotes=!this.showAnjNotes}toggleShowMatNotes(){this.showMatNotes=!this.showMatNotes}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mre))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-education-materials"]],decls:14,vars:3,consts:[[1,"bg-ang-main_bg","rounded-lg","h-auto","min-h-full","flex","justify-evenly","w-full","border","border-ang-border_main"],[1,"flex","flex-wrap","justify-around","sm:m-5","sm:p-4","sm:rounded-lg","sm:shadow-inner_sh","sm:w-full","gap-2"],[1,"border","border-ang-border_main","rounded-lg","mt-4","bg-ang-main_btn","text-ang-text_white","px-4","py-2","md:px-8","hover:opacity-85",3,"click"],["class","flex flex-col w-40",4,"ngIf"],["class","flex flex-col w-20",4,"ngIf"],[1,"flex","flex-col","w-40"],[4,"ngFor","ngForOf"],["target","_blank",1,"flex","items-center","text-xs","py-1","gap-2",3,"href"],["src","/assets/pdf_icon.png","alt","pdf_icon",1,"h-6","w-auto"],[1,"text-ang-text_main","font-semibold","hover:opacity-85"],[1,"flex","flex-col","w-20"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),ot("click",function(){return r.toggleShowSjlNotes()}),we(4," Slovensk\xfd jazyk "),X(),Je(5,Pre,2,1,"div",3),X(),Y(6,"div")(7,"button",2),ot("click",function(){return r.toggleShowAnjNotes()}),we(8," Anglick\xfd jazyk "),X(),Je(9,kre,2,1,"div",4),X(),Y(10,"div")(11,"button",2),ot("click",function(){return r.toggleShowMatNotes()}),we(12," Matematika "),X(),Je(13,Fre,2,1,"div",4),X()()()),2&i&&(pe(5),ge("ngIf",r.showSjlNotes),pe(4),ge("ngIf",r.showAnjNotes),pe(4),ge("ngIf",r.showMatNotes))},dependencies:[Yl,Zs]})}return n})();function Lre(n,e){1&n&&(Y(0,"div",6),xt(1,"div")(2,"div")(3,"div")(4,"div"),X())}function Vre(n,e){1&n&&(Y(0,"div",7)(1,"p"),we(2,"\u017diadne ulo\u017een\xe9 testy"),X()())}function Bre(n,e){1&n&&xt(0,"img",21),2&n&&ge("src",Ot().$implicit.image,Xo)}const Ure=function(n,e){return{"wrong-answer":n,"correct-answer":e}};function jre(n,e){if(1&n&&(Y(0,"div")(1,"div",23),xt(2,"p",24),X()()),2&n){const t=e.$implicit,i=Ot(2).$implicit;pe(1),ge("ngClass",Hs(2,Ure,i.userAnswer===t&&i.correctAnswer!==i.userAnswer||"Nevyplnene"===i.userAnswer&&i.correctAnswer!==t,i.correctAnswer===t)),pe(1),ge("innerHTML",t,So)}}function zre(n,e){if(1&n&&(id(0),Je(1,jre,3,5,"div",22),rd()),2&n){const t=Ot().$implicit;pe(1),ge("ngForOf",t.options)}}const $re=function(n,e){return{"correct-answer":n,"wrong-answer":e}};function Hre(n,e){if(1&n&&(id(0),Y(1,"div",25)(2,"span"),we(3,"Spr\xe1vna odpove\u010f: "),xt(4,"p",26),X(),Y(5,"span"),we(6,"Va\u0161a odpove\u010f: "),xt(7,"p",27),X()(),rd()),2&n){const t=Ot().$implicit;pe(4),ge("innerHTML",t.correctAnswer,So),pe(3),ge("ngClass",Hs(3,$re,t.correctAnswer===t.userAnswer||t.correctAnswer.includes(t.userAnswer),!t.correctAnswer.includes(t.userAnswer)&&t.userAnswer!==t.correctAnswer))("innerHTML",t.userAnswer,So)}}function qre(n,e){if(1&n&&(Y(0,"div",13)(1,"div",14),xt(2,"p",15)(3,"p",16),Y(4,"div",17),Je(5,Bre,1,1,"img",18),X()(),Y(6,"div",19),Je(7,zre,2,1,"ng-container",20),Je(8,Hre,8,6,"ng-container",20),X()()),2&n){const t=e.$implicit;pe(2),ge("innerHTML",t.questionId,So),pe(1),ge("innerHTML",t.text,So),pe(2),ge("ngIf",t.image),pe(2),ge("ngIf",0!==(null==t.options?null:t.options.length)),pe(1),ge("ngIf",0===(null==t.options?null:t.options.length))}}function Wre(n,e){if(1&n&&(Y(0,"div",11),Je(1,qre,9,5,"div",12),X()),2&n){const t=Ot(2);pe(1),ge("ngForOf",t.selectedTest.questions)}}const Gre=function(n,e){return{"saved-test-container-open":n,"saved-test-container-closed":e}};function Zre(n,e){if(1&n){const t=$s();Y(0,"div",8),ot("click",function(){const o=Co(t).$implicit;return Nr(Ot().revealDetails(o))}),Y(1,"p",9),we(2),cp(3,"timeFormat"),X(),Je(4,Wre,2,1,"div",10),X()}if(2&n){const t=e.$implicit,i=Ot();La("selected",i.selectedTest===t),ge("ngClass",Hs(7,Gre,i.selectedTest===t,i.selectedTest!==t)),pe(2),ho(" ",t.testName+" \u010cas: "+up(3,5,t.timeLeft)," "),pe(2),ge("ngIf",i.selectedTest===t)}}const Kre=[{path:"",component:Gb},{path:"login",component:zj},{path:"register",component:$j},{path:"landing-page",component:Gb},{path:"years-page/:subCat",component:Hj},{path:"test-page/:subCat/:year",component:Wb},{path:"forgot-password",component:qj},{path:"user-account",component:Wj},{path:"education-materials",component:Gj},{path:"saved-tests-page",component:(()=>{class n{constructor(t,i,r){this.savedTestService=t,this.darkModeService=i,this.savedTests=[],this.isSavedTestsEmpty=!0,this.selectedTest=null,this.isDarkMode=!1,this.isLoading=!0,this.authService=r}ngOnInit(){this.loadSavedTests().then(t=>this.isLoading=!1),this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}loadSavedTests(){var t=this;return(0,Me.Z)(function*(){try{const i=localStorage.getItem("uid");if(!i)return void console.error("Uid is not set. User is not logged in.");t.savedTests=yield t.savedTestService.getSavedTests(i),t.savedTests.length>0?(t.isSavedTestsEmpty=!1,t.revealDetails(t.savedTests[0])):t.isSavedTestsEmpty=!0}catch(i){console.error("Error loading saved tests:",i)}})()}revealDetails(t){this.selectedTest=this.selectedTest!==t?t:null}static#e=this.\u0275fac=function(i){return new(i||n)(B(GD),B(Js),B(xd))};static#t=this.\u0275cmp=ei({type:n,selectors:[["app-saved-tests-page"]],decls:6,vars:3,consts:[[1,"saved-test-page-container"],[1,"inner-saved-test-page-container"],[1,"loading"],["class","lds-ellipsis",4,"ngIf"],["class","empty-saved-tests",4,"ngIf"],[3,"ngClass","selected","click",4,"ngFor","ngForOf"],[1,"lds-ellipsis"],[1,"empty-saved-tests"],[3,"ngClass","click"],[1,"test-name"],["class","test-questions-container",4,"ngIf"],[1,"test-questions-container"],["class","question-content",4,"ngFor","ngForOf"],[1,"question-content"],[1,"question-container"],[1,"question_number",3,"innerHTML"],[1,"text-container",3,"innerHTML"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[1,"answers-container"],[4,"ngIf"],[1,"question_image",3,"src"],[4,"ngFor","ngForOf"],[1,"answer-container",3,"ngClass"],[3,"innerHTML"],[1,"input-answer-container"],[1,"correct-answer",3,"innerHTML"],[3,"ngClass","innerHTML"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2),Je(3,Lre,5,0,"div",3),X(),Je(4,Vre,3,0,"div",4),Je(5,Zre,5,10,"div",5),X()()),2&i&&(pe(3),ge("ngIf",r.isLoading),pe(1),ge("ngIf",r.isSavedTestsEmpty&&!r.isLoading),pe(1),ge("ngForOf",r.savedTests))},dependencies:[yp,Yl,Zs,Uj],styles:["[_nghost-%COMP%]{height:83.333333%;width:100%}.saved-test-page-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;border:1px solid var(--border-color-light);border-radius:10px;box-shadow:0 0 10px #00000080;min-height:100%;width:100%}.saved-test-page-container.light[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.163);background-color:var(--main-bg-color-light);color:var(--main-text-color-dark)}.saved-test-page-container.dark[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.163);background-color:var(--main-bg-color-dark);color:var(--main-text-color-dark)}.inner-saved-test-page-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;box-shadow:inset 0 0 12px #0d0d0d80;margin:1.5rem;max-height:100%;border-radius:10px}.saved-test-container-closed[_ngcontent-%COMP%]{border:.1rem var(--main-blue-color) solid;background-color:var(--account-button-color-light);height:3.5rem;width:60%;margin:1rem 0 1rem 1rem;border-radius:10px;transition:width .7s ease-in-out;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{transition:all .8s ease;font-size:1.5rem;font-weight:700}.saved-test-container-closed[_ngcontent-%COMP%] > .test-name.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.saved-test-container-open[_ngcontent-%COMP%]{border:.1rem rgb(104,135,240) solid;width:calc(100% - 2rem);margin:1rem;border-radius:10px;transition:all .3s ease;display:flex;flex:1;flex-direction:column;align-items:center;padding:0 1rem;cursor:pointer}.saved-test-container-open[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{transition:all .8s ease;font-size:1rem;font-weight:700;padding:1rem 0 0;color:var(--main-text-color-light)}.saved-test-container-open[_ngcontent-%COMP%] > .test-name.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.saved-test-container-closed[_ngcontent-%COMP%]:hover{width:calc(100% - 2rem);opacity:85%}.saved-test-container-closed[_ngcontent-%COMP%]:hover.light{background-color:var(--main-bg-color-light)}.saved-test-container-closed[_ngcontent-%COMP%]:hover.dark{background-color:var(--main-bg-color-dark)}.question-content.dark[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.288);color:var(--main-text-color-dark)}.test-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;padding:1rem}.question-content[_ngcontent-%COMP%]{color:#000;display:flex;border:1px solid black;width:100%;padding:1rem}.question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:60%;padding:0 1rem}.text-container[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0}.question_image[_ngcontent-%COMP%]{max-width:100%;padding:1rem 1rem 1rem 0;height:100%;object-fit:contain}.answers-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:40%}.answer-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%;padding-top:1rem}.input-answer-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap;width:100%;padding:1rem 0}.question_number[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.correct-answer[_ngcontent-%COMP%]{color:green}.wrong-answer[_ngcontent-%COMP%]{color:red}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:var(--main-blue-color);animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_lds-ellipsis3 .6s infinite}@keyframes _ngcontent-%COMP%_lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}@media (max-width: 1030px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.9rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2.3rem;margin:.5rem}}@media (max-width: 768px){.question-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.question-container[_ngcontent-%COMP%], .answers-container[_ngcontent-%COMP%]{width:100%}.saved-test-container-open[_ngcontent-%COMP%]{padding:0}.test-name[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 650px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.6rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2rem;margin:.5rem}}@media (max-width: 450px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.4rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2rem;margin:.5rem}}"]})}return n})()}];let Qre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[kN.forRoot(Kre),kN]})}return n})();const Zj_firebase={apiKey:"AIzaSyDrXz37bgp6zYCw-X9eKtQlg2Q6j4tjDMI",authDomain:"maturity-project.firebaseapp.com",databaseURL:"https://maturity-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"maturity-project",storageBucket:"maturity-project.appspot.com",messagingSenderId:"759368949191",appId:"1:759368949191:web:a326a11500d8e4c152cde2",measurementId:"G-CJJD6MK3D8"};class Zb{}class Kb{}class vs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof vs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new vs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof vs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Yre{encodeKey(e){return Kj(e)}encodeValue(e){return Kj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Jre=/%(\d[a-f0-9])/gi,eoe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kj(n){return encodeURIComponent(n).replace(Jre,(e,t)=>eoe[t]??e)}function Qb(n){return`${n}`}class gl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Qb):[Qb(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Qb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Qb(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class toe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Qj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Yj(n){return typeof Blob<"u"&&n instanceof Blob}function Xj(n){return typeof FormData<"u"&&n instanceof FormData}class og{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function noe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new vs),this.context||(this.context=new toe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new gl,this.urlWithParams=t}serializeBody(){return null===this.body?null:Qj(this.body)||Yj(this.body)||Xj(this.body)||function ioe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xj(this.body)?null:Yj(this.body)?this.body.type||null:Qj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),c)),new og(t,i,o,{params:c,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var Ch=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ch||{});class gA{constructor(e,t=200,i="OK"){this.headers=e.headers||new vs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _A extends gA{constructor(e={}){super(e),this.type=Ch.ResponseHeader}clone(e={}){return new _A({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Th extends gA{constructor(e={}){super(e),this.type=Ch.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Th({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Jj extends gA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function yA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let roe=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof og)o=t;else{let l,c;l=r.headers instanceof vs?r.headers:new vs(r.headers),r.params&&(c=r.params instanceof gl?r.params:new gl({fromObject:r.params})),o=new og(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=S(o).pipe(hd(l=>this.handler.handle(l)));if(t instanceof og||"events"===r.observe)return s;const a=s.pipe(Pi(l=>l instanceof Th));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Te(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Te(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Te(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Te(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new gl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,yA(r,i))}post(t,i,r={}){return this.request("POST",t,yA(r,i))}put(t,i,r={}){return this.request("PUT",t,yA(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(V(Zb))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function nz(n,e){return e(n)}function soe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const loe=new re(""),sg=new re(""),iz=new re("");function coe(){let n=null;return(e,t)=>{null===n&&(n=(ve(loe,{optional:!0})??[]).reduceRight(soe,nz));const i=ve(dy),r=i.add();return n(e,t).pipe(wp(()=>i.remove(r)))}}let rz=(()=>{class n extends Zb{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ve(dy)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(sg),...this.injector.get(iz,[])]));this.chain=r.reduceRight((o,s)=>function aoe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),nz)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(wp(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(V(Kb),V(Vr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const foe=/^\)\]\}',?\n/;let sz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new F(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?b(i.\u0275loadImpl()):S(null)).pipe(De(()=>new Ke(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,T)=>s.setRequestHeader(x,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&s.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();s.responseType="json"!==x?x:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const x=s.statusText||"OK",T=new vs(s.getAllResponseHeaders()),N=function poe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new _A({headers:T,status:s.status,statusText:x,url:N}),l},h=()=>{let{headers:x,status:T,statusText:N,url:R}=c(),j=null;204!==T&&(j=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=j?200:0);let J=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof j){const he=j;j=j.replace(foe,"");try{j=""!==j?JSON.parse(j):null}catch(Le){j=he,J&&(J=!1,j={error:Le,text:j})}}J?(o.next(new Th({body:j,headers:x,status:T,statusText:N,url:R||void 0})),o.complete()):o.error(new Jj({error:j,headers:x,status:T,statusText:N,url:R||void 0}))},p=x=>{const{url:T}=c(),N=new Jj({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(N)};let g=!1;const y=x=>{g||(o.next(c()),g=!0);let T={type:Ch.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),"text"===t.responseType&&s.responseText&&(T.partialText=s.responseText),o.next(T)},w=x=>{let T={type:Ch.UploadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),o.next(T)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Ch.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(V(ak))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const vA=new re("XSRF_ENABLED"),az=new re("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lz=new re("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cz{}let _oe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=YO(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(Mo),V(az))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function yoe(n,e){const t=n.url.toLowerCase();if(!ve(vA)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ve(cz).getToken(),r=ve(lz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var _l=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(_l||{});function voe(...n){const e=[roe,sz,rz,{provide:Zb,useExisting:rz},{provide:Kb,useExisting:sz},{provide:sg,useValue:yoe,multi:!0},{provide:vA,useValue:!0},{provide:cz,useClass:_oe}];for(const t of n)e.push(...t.\u0275providers);return function PE(n){return{\u0275providers:n}}(e)}const uz=new re("LEGACY_INTERCEPTOR_FN");function boe(){return function Oc(n,e){return{\u0275kind:n,\u0275providers:e}}(_l.LegacyInterceptors,[{provide:uz,useFactory:coe},{provide:sg,useExisting:uz,multi:!0}])}let Eoe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:[voe(boe())]})}return n})();function dz(n){return new F(3e3,!1)}function yl(n){switch(n.length){case 0:return new Xm;case 1:return n[0];default:return new RU(n)}}function hz(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((g,y)=>{let w=y,x=g;if("offset"!==y)switch(w=n.normalizePropertyName(w,r),x){case"!":x=t.get(y);break;case la:x=i.get(y);break;default:x=n.normalizeStyleValue(y,w,x,r)}p.set(w,x)}),h||o.push(p),a=p,s=c}),r.length)throw function Koe(n){return new F(3502,!1)}();return o}function bA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&EA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&EA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&EA(t,"destroy",n)))}}function EA(n,e,t){const o=wA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function wA(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function qr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function fz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const ase=(()=>typeof document>"u"?null:document.documentElement)();function IA(n){const e=n.parentNode||n.host||null;return e===ase?null:e}let kc=null,pz=!1;function mz(n,e){for(;e;){if(e===n)return!0;e=IA(e)}return!1}function gz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let _z=(()=>{class n{validateStyleProperty(t){return function cse(n){kc||(kc=function use(){return typeof document<"u"?document.body:null}()||{},pz=!!kc.style&&"WebkitAppearance"in kc.style);let e=!0;return kc.style&&!function lse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in kc.style,!e&&pz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kc.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return mz(t,i)}getParentElement(t){return IA(t)}query(t,i,r){return gz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Xm(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),xA=(()=>{class n{static#e=this.NOOP=new _z}return n})();const dse=1e3,CA="ng-enter",Xb="ng-leave",Jb="ng-trigger",e0=".ng-trigger",vz="ng-animating",TA=".ng-animating";function ca(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:DA(parseFloat(e[1]),e[2])}function DA(n,e){return"s"===e?n*dse:n}function t0(n,e,t){return n.hasOwnProperty("duration")?n:function fse(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(dz()),{duration:0,delay:0,easing:""};r=DA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=DA(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Doe(){return new F(3100,!1)}()),a=!0),o<0&&(e.push(function Aoe(){return new F(3101,!1)}()),a=!0),a&&e.splice(l,0,dz())}return{duration:r,delay:o,easing:s}}(n,e,t)}function ag(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function bz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function vl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function bs(n,e,t){e.forEach((i,r)=>{const o=SA(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Nc(n,e){e.forEach((t,i)=>{const r=SA(i);n.style[r]=""})}function lg(n){return Array.isArray(n)?1==n.length?n[0]:AU(n):n}const AA=new RegExp("{{\\s*(.+?)\\s*}}","g");function wz(n){let e=[];if("string"==typeof n){let t;for(;t=AA.exec(n);)e.push(t[1]);AA.lastIndex=0}return e}function cg(n,e,t){const i=n.toString(),r=i.replace(AA,(o,s)=>{let a=e[s];return null==a&&(t.push(function Moe(n){return new F(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function n0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gse=/-+([a-z0-9])/g;function SA(n){return n.replace(gse,(...e)=>e[1].toUpperCase())}function Wr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Roe(n){return new F(3004,!1)}()}}function Iz(n,e){return window.getComputedStyle(n)[e]}const r0="*";function vse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function bse(n,e,t){if(":"==n[0]){const l=function Ese(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function qoe(n){return new F(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Hoe(n){return new F(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(xz(r,s));"<"==o[0]&&!(r==r0&&s==r0)&&e.push(xz(s,r))}(i,t,e)):t.push(n),t}const o0=new Set(["true","1"]),s0=new Set(["false","0"]);function xz(n,e){const t=o0.has(n)||s0.has(n),i=o0.has(e)||s0.has(e);return(r,o)=>{let s=n==r0||n==r,a=e==r0||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?o0.has(n):s0.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?o0.has(e):s0.has(e)),s&&a}}const wse=new RegExp("s*:selfs*,?","g");function MA(n,e,t,i){return new Ise(n).build(e,t,i)}class Ise{constructor(e){this._driver=e}build(e,t,i){const r=new Tse(t);return this._resetContextStyleTimingState(r),Wr(this,lg(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ooe(){return new F(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function koe(){return new F(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{wz(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(n0(o.values()),t.errors.push(function Noe(n,e){return new F(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wr(this,lg(e.animation),t);return{type:1,matchers:vse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Fc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wr(this,i,t)),options:Fc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Wr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Fc(e.options)}}visitAnimate(e,t){const i=function Ase(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RA(t0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=RA(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=t0(t,e);return RA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:hl({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=hl(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===la?i.push(a):t.errors.push(new F(3002,!1)):i.push(bz(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Loe(n,e,t,i,r){return new F(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:r}),t.options&&function mse(n,e,t){const i=e.params||{},r=wz(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Soe(n){return new F(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Voe(){return new F(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=e.steps.map(N=>{const R=this._makeStyleAst(N,t);let j=null!=R.offset?R.offset:function Dse(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(R.styles),J=0;return null!=j&&(o++,J=R.offset=j),l=l||J<0||J>1,a=a||J<c,c=J,s.push(J),R});l&&t.errors.push(function Boe(){return new F(3012,!1)}()),a&&t.errors.push(function Uoe(){return new F(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function joe(){return new F(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,x=t.currentAnimateTimings,T=x.duration;return h.forEach((N,R)=>{const j=g>0?R==y?1:g*R:s[R],J=j*T;t.currentTime=w+x.delay+J,x.duration=J,this._validateStyleAst(N,t),N.offset=j,i.styles.push(N)}),i}visitReference(e,t){return{type:8,animation:Wr(this,lg(e.animation),t),options:Fc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function xse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wse,"")),n=n.replace(/@\*/g,e0).replace(/@\w+/g,t=>e0+"-"+t.slice(1)).replace(/:animating/g,TA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,qr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Wr(this,lg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Fc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function zoe(){return new F(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:t0(e.timings,t.errors,!0);return{type:12,animation:Wr(this,lg(e.animation),t),timings:i,options:null}}}class Tse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fc(n){return n?(n=ag(n)).params&&(n.params=function Cse(n){return n?ag(n):null}(n.params)):n={},n}function RA(n,e,t){return{duration:n,delay:e,easing:t}}function PA(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class a0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Rse=new RegExp(":enter","g"),Ose=new RegExp(":leave","g");function OA(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new kse).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class kse{buildKeyframes(e,t,i,r,o,s,a,l,c,h=[]){c=c||new a0;const p=new kA(e,t,c,r,o,h,[]);p.options=l;const g=l.delay?ca(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),Wr(this,i,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let x=y.length-1;x>=0;x--){const T=y[x];if(T.element===t){w=T;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,l)}return y.length?y.map(w=>w.buildKeyframes()):[PA(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:ca(cg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?ca(i.duration):null,a=null!=i.delay?ca(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Wr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=l0);const s=ca(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Wr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ca(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Wr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return t0(t.params?cg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ca(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=l0);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(l=p.currentTimeline),Wr(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;Wr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const l0={};class kA{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=l0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new c0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ca(i.duration)),null!=i.delay&&(r.delay=ca(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=cg(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new kA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=l0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Nse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Rse,"."+this._enterClassName)).replace(Ose,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function $oe(n){return new F(3014,!1)}()),a}}class c0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new c0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||la),this._currentKeyframe.set(t,la);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Fse(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,la)}else vl(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=cg(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??la),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=vl(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?e.add(p):h===la&&t.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?n0(e.values()):[],s=t.size?n0(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return PA(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Nse extends c0{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=vl(e[0]);l.set("offset",0),o.push(l);const c=vl(e[0]);c.set("offset",Dz(a)),o.push(c);const h=e.length-1;for(let p=1;p<=h;p++){let g=vl(e[p]);const y=g.get("offset");g.set("offset",Dz((t+y*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return PA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Dz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NA{}const Lse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vse extends NA{normalizePropertyName(e,t){return SA(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Lse.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Poe(n,e){return new F(3005,!1)}())}return s+o}}function Az(n,e,t,i,r,o,s,a,l,c,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:g}}const FA={};class Sz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Bse(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,h){const p=[],g=this.ast.options&&this.ast.options.params||FA,w=this.buildStyles(i,a&&a.params||FA,p),x=l&&l.params||FA,T=this.buildStyles(r,x,p),N=new Set,R=new Map,j=new Map,J="void"===r,he={params:Use(x,g),delay:this.ast.options?.delay},Le=h?[]:OA(e,t,this.ast.animation,o,s,w,T,he,c,p);let tt=0;if(Le.forEach(gr=>{tt=Math.max(gr.duration+gr.delay,tt)}),p.length)return Az(t,this._triggerName,i,r,J,w,T,[],[],R,j,tt,p);Le.forEach(gr=>{const Dr=gr.element,f0=qr(R,Dr,new Set);gr.preStyleProps.forEach(Lc=>f0.add(Lc));const dg=qr(j,Dr,new Set);gr.postStyleProps.forEach(Lc=>dg.add(Lc)),Dr!==t&&N.add(Dr)});const Wt=n0(N.values());return Az(t,this._triggerName,i,r,J,w,T,Le,Wt,R,j,tt)}}function Use(n,e){const t=ag(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class jse{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=ag(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=cg(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class $se{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new jse(r.style,r.options&&r.options.params||{},i))}),Mz(this.states,"true","1"),Mz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Sz(e,r,this.states))}),this.fallbackTransition=function Hse(n,e,t){return new Sz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Mz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qse=new a0;class Wse{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=MA(this._driver,t,i,[]);if(i.length)throw function Qoe(n){return new F(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=hz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=OA(this._driver,t,o,CA,Xb,new Map,new Map,i,qse,r),s.forEach(h=>{const p=qr(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Yoe(){return new F(3300,!1)}()),s=[]),r.length)throw function Xoe(n){return new F(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(p,y,la))})});const c=yl(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Joe(n){return new F(3301,!1)}();return t}listen(e,t,i,r){const o=wA(t,"","","");return bA(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Rz="ng-animate-queued",LA="ng-animate-disabled",Yse=[],Pz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bo="__ng_removed";class VA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function nae(n){return n??null}(i?e.value:e),i){const o=ag(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const ug="void",BA=new VA(ug);class Jse{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ese(n,e){return new F(3302,!1)}();if(null==i||0==i.length)throw function tse(n){return new F(3303,!1)}();if(!function iae(n){return"start"==n||"done"==n}(i))throw function nse(n,e){return new F(3400,!1)}();const o=qr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=qr(this._engine.statesByElement,e,new Map);return a.has(t)||(vo(e,Jb),vo(e,Jb+"-"+t),a.set(t,BA)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ise(n){return new F(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new UA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(vo(e,Jb),vo(e,Jb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new VA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=BA),c.value!==ug&&l.value===c.value){if(!function sae(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const x=[],T=o.matchStyles(l.value,l.params,x),N=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Nc(e,T),bs(e,N)})}return}const g=qr(this._engine.playersByElement,e,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let y=o.matchTransition(l.value,c.value,e,c.params),w=!1;if(!y){if(!r)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:s,isFallbackTransition:w}),w||(vo(e,Rz),s.onStart(()=>{Dh(e,Rz)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const T=this._engine.playersByElement.get(e);if(T){let N=T.indexOf(s);N>=0&&T.splice(N,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,e0,!0);i.forEach(r=>{if(r[Bo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,ug,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&yl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||BA,h=new VA(ug),p=new UA(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Bo];(!o||o===Pz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){vo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=wA(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,bA(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class eae{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Jse(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(u0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!u0(t))return;const o=t[Bo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vo(e,LA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Dh(e,LA))}removeNode(e,t,i){if(u0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Bo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return u0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,e0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,TA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bo];if(t&&t.setForRemoval){if(e[Bo]=Pz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)vo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?yl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function rse(n){return new F(3402,!1)}()}_flushAnimations(e,t){const i=new a0,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Oe=>{h.add(Oe);const ze=this.driver.query(Oe,".ng-animate-queued",!0);for(let We=0;We<ze.length;We++)h.add(ze[We])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=Nz(g,this.collectedEnterElements),w=new Map;let x=0;y.forEach((Oe,ze)=>{const We=CA+x++;w.set(ze,We),Oe.forEach(Bt=>vo(Bt,We))});const T=[],N=new Set,R=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const ze=this.collectedLeaveElements[Oe],We=ze[Bo];We&&We.setForRemoval&&(T.push(ze),N.add(ze),We.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(Bt=>N.add(Bt)):R.add(ze))}const j=new Map,J=Nz(g,Array.from(N));J.forEach((Oe,ze)=>{const We=Xb+x++;j.set(ze,We),Oe.forEach(Bt=>vo(Bt,We))}),e.push(()=>{y.forEach((Oe,ze)=>{const We=w.get(ze);Oe.forEach(Bt=>Dh(Bt,We))}),J.forEach((Oe,ze)=>{const We=j.get(ze);Oe.forEach(Bt=>Dh(Bt,We))}),T.forEach(Oe=>{this.processLeaveNode(Oe)})});const he=[],Le=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(t).forEach(We=>{const Bt=We.player,Di=We.element;if(he.push(Bt),this.collectedEnterElements.length){const Ki=Di[Bo];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(We.triggerName)){const Vc=Ki.previousTriggersValues.get(We.triggerName),bo=this.statesByElement.get(We.element);if(bo&&bo.has(We.triggerName)){const p0=bo.get(We.triggerName);p0.value=Vc,bo.set(We.triggerName,p0)}}return void Bt.destroy()}}const Es=!p||!this.driver.containsElement(p,Di),Gr=j.get(Di),bl=w.get(Di),Pn=this._buildInstruction(We,i,bl,Gr,Es);if(Pn.errors&&Pn.errors.length)return void Le.push(Pn);if(Es)return Bt.onStart(()=>Nc(Di,Pn.fromStyles)),Bt.onDestroy(()=>bs(Di,Pn.toStyles)),void r.push(Bt);if(We.isFallbackTransition)return Bt.onStart(()=>Nc(Di,Pn.fromStyles)),Bt.onDestroy(()=>bs(Di,Pn.toStyles)),void r.push(Bt);const Gz=[];Pn.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||Gz.push(Ki)}),Pn.timelines=Gz,i.append(Di,Pn.timelines),s.push({instruction:Pn,player:Bt,element:Di}),Pn.queriedElements.forEach(Ki=>qr(a,Ki,[]).push(Bt)),Pn.preStyleProps.forEach((Ki,Vc)=>{if(Ki.size){let bo=l.get(Vc);bo||l.set(Vc,bo=new Set),Ki.forEach((p0,$A)=>bo.add($A))}}),Pn.postStyleProps.forEach((Ki,Vc)=>{let bo=c.get(Vc);bo||c.set(Vc,bo=new Set),Ki.forEach((p0,$A)=>bo.add($A))})});if(Le.length){const Oe=[];Le.forEach(ze=>{Oe.push(function ose(n,e){return new F(3505,!1)}())}),he.forEach(ze=>ze.destroy()),this.reportError(Oe)}const tt=new Map,Wt=new Map;s.forEach(Oe=>{const ze=Oe.element;i.has(ze)&&(Wt.set(ze,ze),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,tt))}),r.forEach(Oe=>{const ze=Oe.element;this._getPreviousPlayers(ze,!1,Oe.namespaceId,Oe.triggerName,null).forEach(Bt=>{qr(tt,ze,[]).push(Bt),Bt.destroy()})});const gr=T.filter(Oe=>Lz(Oe,l,c)),Dr=new Map;kz(Dr,this.driver,R,c,la).forEach(Oe=>{Lz(Oe,l,c)&&gr.push(Oe)});const dg=new Map;y.forEach((Oe,ze)=>{kz(dg,this.driver,new Set(Oe),l,"!")}),gr.forEach(Oe=>{const ze=Dr.get(Oe),We=dg.get(Oe);Dr.set(Oe,new Map([...ze?.entries()??[],...We?.entries()??[]]))});const Lc=[],qz=[],Wz={};s.forEach(Oe=>{const{element:ze,player:We,instruction:Bt}=Oe;if(i.has(ze)){if(h.has(ze))return We.onDestroy(()=>bs(ze,Bt.toStyles)),We.disabled=!0,We.overrideTotalTime(Bt.totalTime),void r.push(We);let Di=Wz;if(Wt.size>1){let Gr=ze;const bl=[];for(;Gr=Gr.parentNode;){const Pn=Wt.get(Gr);if(Pn){Di=Pn;break}bl.push(Gr)}bl.forEach(Pn=>Wt.set(Pn,Di))}const Es=this._buildAnimation(We.namespaceId,Bt,tt,o,dg,Dr);if(We.setRealPlayer(Es),Di===Wz)Lc.push(We);else{const Gr=this.playersByElement.get(Di);Gr&&Gr.length&&(We.parentPlayer=yl(Gr)),r.push(We)}}else Nc(ze,Bt.fromStyles),We.onDestroy(()=>bs(ze,Bt.toStyles)),qz.push(We),h.has(ze)&&r.push(We)}),qz.forEach(Oe=>{const ze=o.get(Oe.element);if(ze&&ze.length){const We=yl(ze);Oe.setRealPlayer(We)}}),r.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<T.length;Oe++){const ze=T[Oe],We=ze[Bo];if(Dh(ze,Xb),We&&We.hasAnimation)continue;let Bt=[];if(a.size){let Es=a.get(ze);Es&&Es.length&&Bt.push(...Es);let Gr=this.driver.query(ze,TA,!0);for(let bl=0;bl<Gr.length;bl++){let Pn=a.get(Gr[bl]);Pn&&Pn.length&&Bt.push(...Pn)}}const Di=Bt.filter(Es=>!Es.destroyed);Di.length?rae(this,ze,Di):this.processLeaveNode(ze)}return T.length=0,Lc.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const ze=this.players.indexOf(Oe);this.players.splice(ze,1)}),Oe.play()}),Lc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==ug;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==o,p=qr(i,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}Nc(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],h=new Set,p=new Set,g=t.timelines.map(w=>{const x=w.element;h.add(x);const T=x[Bo];if(T&&T.removedBeforeQueried)return new Xm(w.duration,w.delay);const N=x!==l,R=function oae(n){const e=[];return Fz(n,e),e}((i.get(x)||Yse).map(tt=>tt.getRealPlayer())).filter(tt=>!!tt.element&&tt.element===x),j=o.get(x),J=s.get(x),he=hz(this._normalizer,w.keyframes,j,J),Le=this._buildPlayer(w,he,R);if(w.subTimeline&&r&&p.add(x),N){const tt=new UA(e,a,x);tt.setRealPlayer(Le),c.push(tt)}return Le});c.forEach(w=>{qr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function tae(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>vo(w,vz));const y=yl(g);return y.onDestroy(()=>{h.forEach(w=>Dh(w,vz)),bs(l,t.toStyles)}),p.forEach(w=>{qr(r,w,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xm(e.duration,e.delay)}}class UA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Xm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>bA(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function u0(n){return n&&1===n.nodeType}function Oz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function kz(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Oz(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(p=>{const g=e.computeStyle(c,p,r);h.set(p,g),(!g||0==g.length)&&(c[Bo]=Xse,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>Oz(l,o[a++])),s}function Nz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function vo(n,e){n.classList?.add(e)}function Dh(n,e){n.classList?.remove(e)}function rae(n,e,t){yl(t).onDone(()=>n.processLeaveNode(e))}function Fz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof RU?Fz(i.players,e):e.push(i)}}function Lz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class d0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new eae(e,t,i),this._timelineEngine=new Wse(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=MA(this._driver,o,l,[]);if(l.length)throw function Zoe(n,e){return new F(3404,!1)}();a=function zse(n,e,t){return new $se(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=fz(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=fz(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let lae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&bs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bs(this._element,this._initialStyles),this._endStyles&&(bs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nc(this._element,this._endStyles),this._endStyles=null),bs(this._element,this._initialStyles),this._state=3)}}return n})();function jA(n){let e=null;return n.forEach((t,i)=>{(function cae(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Vz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Iz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class uae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return mz(e,t)}getParentElement(e){return IA(e)}query(e,t,i){return gz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(y=>y instanceof Vz);(function _se(n,e){return 0===n||0===e})(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((w,x)=>c.set(x,w))});let p=function pse(n){return n.length?n[0]instanceof Map?n:n.map(e=>bz(e)):[]}(t).map(y=>vl(y));p=function yse(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Iz(n,a)))}}return e}(e,p,c);const g=function aae(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=jA(e[0]),e.length>1&&(i=jA(e[e.length-1]))):e instanceof Map&&(t=jA(e)),t||i?new lae(n,t,i):null}(e,p);return new Vz(e,p,l,g)}}let dae=(()=>{class n extends CU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:_r.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?AU(t):t;return Bz(this._renderer,null,i,"register",[r]),new hae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(V(qf),V(kt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class hae extends Fne{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fae(this._id,e,t||{},this._renderer)}}class fae{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Bz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Bz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Uz="@.disabled";let pae=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new jz("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new mae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(V(qf),V(d0),V(Xe))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class jz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Uz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mae extends jz{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Uz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function _ae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let yae=(()=>{class n extends d0{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(xA),V(NA),V(Ba))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const zz=[{provide:CU,useClass:dae},{provide:NA,useFactory:function vae(){return new Vse}},{provide:d0,useClass:yae},{provide:qf,useFactory:function bae(n,e,t){return new pae(n,e,t)},deps:[zI,d0,Xe]}],zA=[{provide:xA,useFactory:()=>new uae},{provide:zf,useValue:"BrowserAnimations"},...zz],$z=[{provide:xA,useClass:_z},{provide:zf,useValue:"NoopAnimations"},...zz];let Eae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$z:zA}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({providers:zA,imports:[xk]})}return n})(),wae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({})}return n})(),Hz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[_s,ok,nU,_s]})}return n})(),Sae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[_s,Hz,Hz,wae,_s]})}return n})(),Pae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n});static#n=this.\u0275inj=Rt({imports:[_s,Nne,_s]})}return n})();var Oae=Wa.Z.initializeApp;let kae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=It({type:n,bootstrap:[hre]});static#n=this.\u0275inj=Rt({providers:[Wb],imports:[xk,Zie,WK(()=>Oae(Zj_firebase)),Gee(()=>Kee()),DK.initializeApp(Zj_firebase),UK,Qre,Eoe,Eae,Qne,Sae,Pae]})}return n})();I9().bootstrapModule(kae).catch(n=>console.error(n))},106:(Zr,Bn,Ue)=>{Ue.d(Bn,{Z:()=>Un});var C=Ue(58),K=Ue(537),k=Ue(534),Pe=Ue(879);class gt{constructor(Ge,Ze){this._delegate=Ge,this.firebase=Ze,(0,k._addComponent)(Ge,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ge,Ze=k._DEFAULT_ENTRY_NAME){var jn;this._delegate.checkDestroyed();const dn=this._delegate.container.getProvider(Ge);return!dn.isInitialized()&&"EXPLICIT"===(null===(jn=dn.getComponent())||void 0===jn?void 0:jn.instantiationMode)&&dn.initialize(),dn.getImmediate({identifier:Ze})}_removeServiceInstance(Ge,Ze=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Ze)}_addComponent(Ge){(0,k._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,k._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Tn=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Ct(){const _t=function Yt(_t){const Ge={},Ze={__esModule:!0,initializeApp:function ft(st,ae={}){const Et=k.initializeApp(st,ae);if((0,C.r3)(Ge,Et.name))return Ge[Et.name];const en=new _t(Et,Ze);return Ge[Et.name]=en,en},app:dn,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Qi(st){const ae=st.name,Et=ae.replace("-compat","");if(k._registerComponent(st)&&"PUBLIC"===st.type){const en=(En=dn())=>{if("function"!=typeof En[Et])throw Tn.create("invalid-app-argument",{appName:ae});return En[Et]()};void 0!==st.serviceProps&&(0,C.ZB)(en,st.serviceProps),Ze[Et]=en,_t.prototype[Et]=function(...En){return this._getService.bind(this,ae).apply(this,st.multipleInstances?En:[])}}return"PUBLIC"===st.type?Ze[Et]:null},removeApp:function jn(st){delete Ge[st]},useAsService:function On(st,ae){return"serverAuth"===ae?null:ae},modularAPIs:k}};function dn(st){if(!(0,C.r3)(Ge,st=st||k._DEFAULT_ENTRY_NAME))throw Tn.create("no-app",{appName:st});return Ge[st]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function jt(){return Object.keys(Ge).map(st=>Ge[st])}}),dn.App=_t,Ze}(gt);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ct,extendNamespace:function Ge(Ze){(0,C.ZB)(_t,Ze)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),_t}(),ue=new Pe.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Un=ee;!function Mt(_t){(0,k.registerVersion)("@firebase/app-compat","0.2.25",_t)}()},534:(Zr,Bn,Ue)=>{Ue.r(Bn),Ue.d(Bn,{FirebaseError:()=>Pe.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>Rr,_addComponent:()=>Ji,_addOrOverwriteComponent:()=>er,_apps:()=>mi,_clearComponents:()=>An,_components:()=>Xi,_getProvider:()=>Ut,_registerComponent:()=>oi,_removeServiceInstance:()=>tr,deleteApp:()=>kn,getApp:()=>Or,getApps:()=>Hn,initializeApp:()=>Jr,onLog:()=>ua,registerVersion:()=>nr,setLogLevel:()=>Uo});var C=Ue(861),K=Ue(537),k=Ue(879),Pe=Ue(58);const gt=(U,P)=>P.some(se=>U instanceof se);let un,Tn;const ee=new WeakMap,ue=new WeakMap,Re=new WeakMap,nt=new WeakMap,Mt=new WeakMap;let Ge={get(U,P,se){if(U instanceof IDBTransaction){if("done"===P)return ue.get(U);if("objectStoreNames"===P)return U.objectStoreNames||Re.get(U);if("store"===P)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return ft(U[P])},set:(U,P,se)=>(U[P]=se,!0),has:(U,P)=>U instanceof IDBTransaction&&("done"===P||"store"===P)||P in U};function dn(U){return"function"==typeof U?function jn(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ct(){return Tn||(Tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...P){return U.apply(jt(this),P),ft(ee.get(this))}:function(...P){return ft(U.apply(jt(this),P))}:function(P,...se){const Ie=U.call(jt(this),P,...se);return Re.set(Ie,P.sort?P.sort():[P]),ft(Ie)}}(U):(U instanceof IDBTransaction&&function _t(U){if(ue.has(U))return;const P=new Promise((se,Ie)=>{const ct=()=>{U.removeEventListener("complete",pt),U.removeEventListener("error",F),U.removeEventListener("abort",F)},pt=()=>{se(),ct()},F=()=>{Ie(U.error||new DOMException("AbortError","AbortError")),ct()};U.addEventListener("complete",pt),U.addEventListener("error",F),U.addEventListener("abort",F)});ue.set(U,P)}(U),gt(U,function Yt(){return un||(un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ge):U)}function ft(U){if(U instanceof IDBRequest)return function Un(U){const P=new Promise((se,Ie)=>{const ct=()=>{U.removeEventListener("success",pt),U.removeEventListener("error",F)},pt=()=>{se(ft(U.result)),ct()},F=()=>{Ie(U.error),ct()};U.addEventListener("success",pt),U.addEventListener("error",F)});return P.then(se=>{se instanceof IDBCursor&&ee.set(se,U)}).catch(()=>{}),Mt.set(P,U),P}(U);if(nt.has(U))return nt.get(U);const P=dn(U);return P!==U&&(nt.set(U,P),Mt.set(P,U)),P}const jt=U=>Mt.get(U),st=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],Et=new Map;function en(U,P){if(!(U instanceof IDBDatabase)||P in U||"string"!=typeof P)return;if(Et.get(P))return Et.get(P);const se=P.replace(/FromIndex$/,""),Ie=P!==se,ct=ae.includes(se);if(!(se in(Ie?IDBIndex:IDBObjectStore).prototype)||!ct&&!st.includes(se))return;const pt=function(){var F=(0,C.Z)(function*(pn,...Ae){const ut=this.transaction(pn,ct?"readwrite":"readonly");let wl=ut.store;return Ie&&(wl=wl.index(Ae.shift())),(yield Promise.all([wl[se](...Ae),ct&&ut.done]))[0]});return function(Ae){return F.apply(this,arguments)}}();return Et.set(P,pt),pt}!function Ze(U){Ge=U(Ge)}(U=>({...U,get:(P,se,Ie)=>en(P,se)||U.get(P,se,Ie),has:(P,se)=>!!en(P,se)||U.has(P,se)}));class En{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(se=>{if(function Dn(U){const P=U.getComponent();return"VERSION"===P?.type}(se)){const Ie=se.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(se=>se).join(" ")}}const Ar="@firebase/app",Ke=new k.Yd("@firebase/app"),Rr="[DEFAULT]",Pr={[Ar]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mi=new Map,Xi=new Map;function Ji(U,P){try{U.container.addComponent(P)}catch(se){Ke.debug(`Component ${P.name} failed to register with FirebaseApp ${U.name}`,se)}}function er(U,P){U.container.addOrOverwriteComponent(P)}function oi(U){const P=U.name;if(Xi.has(P))return Ke.debug(`There were multiple attempts to register component ${P}.`),!1;Xi.set(P,U);for(const se of mi.values())Ji(se,U);return!0}function Ut(U,P){const se=U.container.getProvider("heartbeat").getImmediate({optional:!0});return se&&se.triggerHeartbeat(),U.container.getProvider(P)}function tr(U,P,se=Rr){Ut(U,P).clearInstance(se)}function An(){Xi.clear()}const fn=new Pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wn{constructor(P,se,Ie){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},se),this._name=se.name,this._automaticDataCollectionEnabled=se.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}const Xr="10.7.1";function Jr(U,P={}){let se=U;"object"!=typeof P&&(P={name:P});const Ie=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},P),ct=Ie.name;if("string"!=typeof ct||!ct)throw fn.create("bad-app-name",{appName:String(ct)});if(se||(se=(0,Pe.aH)()),!se)throw fn.create("no-options");const pt=mi.get(ct);if(pt){if((0,Pe.vZ)(se,pt.options)&&(0,Pe.vZ)(Ie,pt.config))return pt;throw fn.create("duplicate-app",{appName:ct})}const F=new K.H0(ct);for(const Ae of Xi.values())F.addComponent(Ae);const pn=new wn(se,Ie,F);return mi.set(ct,pn),pn}function Or(U=Rr){const P=mi.get(U);if(!P&&U===Rr&&(0,Pe.aH)())return Jr();if(!P)throw fn.create("no-app",{appName:U});return P}function Hn(){return Array.from(mi.values())}function kn(U){return gi.apply(this,arguments)}function gi(){return(gi=(0,C.Z)(function*(U){const P=U.name;mi.has(P)&&(mi.delete(P),yield Promise.all(U.container.getProviders().map(se=>se.delete())),U.isDeleted=!0)})).apply(this,arguments)}function nr(U,P,se){var Ie;let ct=null!==(Ie=Pr[U])&&void 0!==Ie?Ie:U;se&&(ct+=`-${se}`);const pt=ct.match(/\s|\//),F=P.match(/\s|\//);if(pt||F){const pn=[`Unable to register library "${ct}" with version "${P}":`];return pt&&pn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),pt&&F&&pn.push("and"),F&&pn.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void Ke.warn(pn.join(" "))}oi(new K.wA(`${ct}-version`,()=>({library:ct,version:P}),"VERSION"))}function ua(U,P){if(null!==U&&"function"!=typeof U)throw fn.create("invalid-log-argument");(0,k.Am)(U,P)}function Uo(U){(0,k.Ub)(U)}const ws="firebase-heartbeat-database",eo=1,M="firebase-heartbeat-store";let D=null;function b(){return D||(D=function Qi(U,P,{blocked:se,upgrade:Ie,blocking:ct,terminated:pt}={}){const F=indexedDB.open(U,P),pn=ft(F);return Ie&&F.addEventListener("upgradeneeded",Ae=>{Ie(ft(F.result),Ae.oldVersion,Ae.newVersion,ft(F.transaction),Ae)}),se&&F.addEventListener("blocked",Ae=>se(Ae.oldVersion,Ae.newVersion,Ae)),pn.then(Ae=>{pt&&Ae.addEventListener("close",()=>pt()),ct&&Ae.addEventListener("versionchange",ut=>ct(ut.oldVersion,ut.newVersion,ut))}).catch(()=>{}),pn}(ws,eo,{upgrade:(U,P)=>{0===P&&U.createObjectStore(M)}}).catch(U=>{throw fn.create("idb-open",{originalErrorMessage:U.message})})),D}function v(){return(v=(0,C.Z)(function*(U){try{return yield(yield b()).transaction(M).objectStore(M).get(Ce(U))}catch(P){if(P instanceof Pe.ZR)Ke.warn(P.message);else{const se=fn.create("idb-get",{originalErrorMessage:P?.message});Ke.warn(se.message)}}})).apply(this,arguments)}function S(U,P){return Q.apply(this,arguments)}function Q(){return(Q=(0,C.Z)(function*(U,P){try{const Ie=(yield b()).transaction(M,"readwrite");yield Ie.objectStore(M).put(P,Ce(U)),yield Ie.done}catch(se){if(se instanceof Pe.ZR)Ke.warn(se.message);else{const Ie=fn.create("idb-set",{originalErrorMessage:se?.message});Ke.warn(Ie.message)}}})).apply(this,arguments)}function Ce(U){return`${U.name}!${U.options.appId}`}class Tt{constructor(P){this.container=P,this._heartbeatsCache=null;const se=this.container.getProvider("app").getImmediate();this._storage=new ke(se),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var P=this;return(0,C.Z)(function*(){var se,Ie;const pt=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),F=ye();if((null!=(null===(se=P._heartbeatsCache)||void 0===se?void 0:se.heartbeats)||(P._heartbeatsCache=yield P._heartbeatsCachePromise,null!=(null===(Ie=P._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)))&&P._heartbeatsCache.lastSentHeartbeatDate!==F&&!P._heartbeatsCache.heartbeats.some(pn=>pn.date===F))return P._heartbeatsCache.heartbeats.push({date:F,agent:pt}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(pn=>{const Ae=new Date(pn.date).valueOf();return Date.now()-Ae<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,C.Z)(function*(){var se;if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null==(null===(se=P._heartbeatsCache)||void 0===se?void 0:se.heartbeats)||0===P._heartbeatsCache.heartbeats.length)return"";const Ie=ye(),{heartbeatsToSend:ct,unsentEntries:pt}=function Ht(U,P=1024){const se=[];let Ie=U.slice();for(const ct of U){const pt=se.find(F=>F.agent===ct.agent);if(pt){if(pt.dates.push(ct.date),Jn(se)>P){pt.dates.pop();break}}else if(se.push({agent:ct.agent,dates:[ct.date]}),Jn(se)>P){se.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:se,unsentEntries:Ie}}(P._heartbeatsCache.heartbeats),F=(0,Pe.L)(JSON.stringify({version:2,heartbeats:ct}));return P._heartbeatsCache.lastSentHeartbeatDate=Ie,pt.length>0?(P._heartbeatsCache.heartbeats=pt,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),F})()}}function ye(){return(new Date).toISOString().substring(0,10)}class ke{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Pe.hl)()&&(0,Pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,C.Z)(function*(){if(yield P._canUseIndexedDBPromise){const Ie=yield function I(U){return v.apply(this,arguments)}(P.app);return Ie?.heartbeats?Ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(P){var se=this;return(0,C.Z)(function*(){var Ie;if(yield se._canUseIndexedDBPromise){const pt=yield se.read();return S(se.app,{lastSentHeartbeatDate:null!==(Ie=P.lastSentHeartbeatDate)&&void 0!==Ie?Ie:pt.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var se=this;return(0,C.Z)(function*(){var Ie;if(yield se._canUseIndexedDBPromise){const pt=yield se.read();return S(se.app,{lastSentHeartbeatDate:null!==(Ie=P.lastSentHeartbeatDate)&&void 0!==Ie?Ie:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...P.heartbeats]})}})()}}function Jn(U){return(0,Pe.L)(JSON.stringify({version:2,heartbeats:U})).length}!function Is(U){oi(new K.wA("platform-logger",P=>new En(P),"PRIVATE")),oi(new K.wA("heartbeat",P=>new Tt(P),"PRIVATE")),nr(Ar,"0.9.25",U),nr(Ar,"0.9.25","esm2017"),nr("fire-js","")}("")},537:(Zr,Bn,Ue)=>{Ue.d(Bn,{H0:()=>Yt,wA:()=>k});var C=Ue(861),K=Ue(58);class k{constructor(ee,ue,Re){this.name=ee,this.instanceFactory=ue,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Pe="[DEFAULT]";class gt{constructor(ee,ue){this.name=ee,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ue=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ue)){const Re=new K.BH;if(this.instancesDeferred.set(ue,Re),this.isInitialized(ue)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:ue});nt&&Re.resolve(nt)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ee){var ue;const Re=this.normalizeInstanceIdentifier(ee?.identifier),nt=null!==(ue=ee?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Mt){if(nt)return null;throw Mt}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Tn(Ct){return"EAGER"===Ct.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch{}for(const[ue,Re]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(ue);try{const Mt=this.getOrInitializeService({instanceIdentifier:nt});Re.resolve(Mt)}catch{}}}}clearInstance(ee=Pe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,C.Z)(function*(){const ue=Array.from(ee.instances.values());yield Promise.all([...ue.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ue.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Pe){return this.instances.has(ee)}getOptions(ee=Pe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ue={}}=ee,Re=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:Re,options:ue});for(const[Mt,Un]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Mt)&&Un.resolve(nt);return nt}onInit(ee,ue){var Re;const nt=this.normalizeInstanceIdentifier(ue),Mt=null!==(Re=this.onInitCallbacks.get(nt))&&void 0!==Re?Re:new Set;Mt.add(ee),this.onInitCallbacks.set(nt,Mt);const Un=this.instances.get(nt);return Un&&ee(Un,nt),()=>{Mt.delete(ee)}}invokeOnInitCallbacks(ee,ue){const Re=this.onInitCallbacks.get(ue);if(Re)for(const nt of Re)try{nt(ee,ue)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ue={}}){let Re=this.instances.get(ee);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ct=ee,Ct===Pe?void 0:Ct),options:ue}),this.instances.set(ee,Re),this.instancesOptions.set(ee,ue),this.invokeOnInitCallbacks(Re,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Re)}catch{}var Ct;return Re||null}normalizeInstanceIdentifier(ee=Pe){return this.component?this.component.multipleInstances?ee:Pe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yt{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ue=this.getProvider(ee.name);if(ue.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ue.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ue=new gt(ee,this);return this.providers.set(ee,ue),ue}getProviders(){return Array.from(this.providers.values())}}},879:(Zr,Bn,Ue)=>{Ue.d(Bn,{Am:()=>Ct,Ub:()=>Yt,Yd:()=>Tn,in:()=>K});const C=[];var K=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(K||{});const k={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Pe=K.INFO,gt={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},un=(ee,ue,...Re)=>{if(ue<ee.logLevel)return;const nt=(new Date).toISOString(),Mt=gt[ue];if(!Mt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Mt](`[${nt}]  ${ee.name}:`,...Re)};class Tn{constructor(ue){this.name=ue,this._logLevel=Pe,this._logHandler=un,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in K))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?k[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...ue),this._logHandler(this,K.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...ue),this._logHandler(this,K.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,K.INFO,...ue),this._logHandler(this,K.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,K.WARN,...ue),this._logHandler(this,K.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...ue),this._logHandler(this,K.ERROR,...ue)}}function Yt(ee){C.forEach(ue=>{ue.setLogLevel(ee)})}function Ct(ee,ue){for(const Re of C){let nt=null;ue&&ue.level&&(nt=k[ue.level]),Re.userLogHandler=null===ee?null:(Mt,Un,..._t)=>{const Ge=_t.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");Un>=(nt??Mt.logLevel)&&ee({level:K[Un].toLowerCase(),message:Ge,args:_t,type:Mt.name})}}}},365:(Zr,Bn,Ue)=>{Ue.r(Bn);var C=Ue(861),K=Ue(106),k=Ue(217),Pe=Ue(58),Tn=(Ue(534),Ue(879),Ue(537));function Yt(){return window}function ue(){return ue=(0,C.Z)(function*(b,I,v){var S;const{BuildInfo:Q}=Yt();(0,k.au)(I.sessionId,"AuthEvent did not contain a session ID");const Ce=yield function Ze(b){return jn.apply(this,arguments)}(I.sessionId),De={};return(0,k.av)()?De.ibi=Q.packageName:(0,k.aw)()?De.apn=Q.packageName:(0,k.ax)(b,"operation-not-supported-in-this-environment"),Q.displayName&&(De.appDisplayName=Q.displayName),De.sessionId=Ce,(0,k.ay)(b,v,I.type,void 0,null!==(S=I.eventId)&&void 0!==S?S:void 0,De)}),ue.apply(this,arguments)}function nt(){return(nt=(0,C.Z)(function*(b){const{BuildInfo:I}=Yt(),v={};(0,k.av)()?v.iosBundleId=I.packageName:(0,k.aw)()?v.androidPackageName=I.packageName:(0,k.ax)(b,"operation-not-supported-in-this-environment"),yield(0,k.az)(b,v)})).apply(this,arguments)}function _t(){return(_t=(0,C.Z)(function*(b,I,v){const{cordova:S}=Yt();let Q=()=>{};try{yield new Promise((Ce,De)=>{let He=null;function Tt(){var ke;Ce();const Jn=null===(ke=S.plugins.browsertab)||void 0===ke?void 0:ke.close;"function"==typeof Jn&&Jn(),"function"==typeof v?.close&&v.close()}function ye(){He||(He=window.setTimeout(()=>{De((0,k.aB)(b,"redirect-cancelled-by-user"))},2e3))}function Ht(){"visible"===document?.visibilityState&&ye()}I.addPassiveListener(Tt),document.addEventListener("resume",ye,!1),(0,k.aw)()&&document.addEventListener("visibilitychange",Ht,!1),Q=()=>{I.removePassiveListener(Tt),document.removeEventListener("resume",ye,!1),document.removeEventListener("visibilitychange",Ht,!1),He&&window.clearTimeout(He)}})}finally{Q()}})).apply(this,arguments)}function jn(){return(jn=(0,C.Z)(function*(b){const I=function dn(b){if((0,k.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const I=new ArrayBuffer(b.length),v=new Uint8Array(I);for(let S=0;S<b.length;S++)v[S]=b.charCodeAt(S);return v}(b),v=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(v)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class jt extends k.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(I)),super.onEvent(I)}initialized(){var I=this;return(0,C.Z)(function*(){yield I.initPromise})()}}function st(b){return ae.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(b){const I=yield En()._get(Dn(b));return I&&(yield En()._remove(Dn(b))),I})).apply(this,arguments)}function en(){const b=[];for(let v=0;v<20;v++){const S=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(S))}return b.join("")}function En(){return(0,k.aE)(k.b)}function Dn(b){return(0,k.aF)("authEvent",b.config.apiKey,b.name)}function Ke(b){if(!b?.includes("?"))return{};const[I,...v]=b.split("?");return(0,Pe.zd)(v.join("?"))}const q=class Eo{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){const S=I._key();let Q=v.eventManagers.get(S);return Q||(Q=new jt(I),v.eventManagers.set(S,Q),v.attachCallbackListeners(I,Q)),Q})()}_openPopup(I){(0,k.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,v,S,Q){var Ce=this;return(0,C.Z)(function*(){!function Ge(b){var I,v,S,Q,Ce,De,He,Tt,ye,Ht;const ke=Yt();(0,k.aC)("function"==typeof(null===(I=ke?.universalLinks)||void 0===I?void 0:I.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aC)(typeof(null===(v=ke?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aC)("function"==typeof(null===(Ce=null===(Q=null===(S=ke?.cordova)||void 0===S?void 0:S.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Ce?void 0:Ce.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(Tt=null===(He=null===(De=ke?.cordova)||void 0===De?void 0:De.plugins)||void 0===He?void 0:He.browsertab)||void 0===Tt?void 0:Tt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(Ht=null===(ye=ke?.cordova)||void 0===ye?void 0:ye.InAppBrowser)||void 0===Ht?void 0:Ht.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const De=yield Ce._initialize(I);yield De.initialized(),De.resetRedirect(),(0,k.aI)(),yield Ce._originValidation(I);const He=function Qi(b,I,v=null){return{type:I,eventId:v,urlResponse:null,sessionId:en(),postBody:null,tenantId:b.tenantId,error:(0,k.aB)(b,"no-auth-event")}}(I,S,Q);yield function On(b,I){return En()._set(Dn(b),I)}(I,He);const Tt=yield function ee(b,I,v){return ue.apply(this,arguments)}(I,He,v),ye=yield function Mt(b){const{cordova:I}=Yt();return new Promise(v=>{I.plugins.browsertab.isAvailable(S=>{let Q=null;S?I.plugins.browsertab.openUrl(b):Q=I.InAppBrowser.open(b,(0,k.aA)()?"_blank":"_system","location=yes"),v(Q)})})}(Tt);return function Un(b,I,v){return _t.apply(this,arguments)}(I,De,ye)})()}_isIframeWebStorageSupported(I,v){throw new Error("Method not implemented.")}_originValidation(I){const v=I._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Re(b){return nt.apply(this,arguments)}(I)),this.originValidationPromises[v]}attachCallbackListeners(I,v){const{universalLinks:S,handleOpenURL:Q,BuildInfo:Ce}=Yt(),De=setTimeout((0,C.Z)(function*(){yield st(I),v.onEvent(G())}),500),He=function(){var Ht=(0,C.Z)(function*(ke){clearTimeout(De);const Jn=yield st(I);let Is=null;Jn&&ke?.url&&(Is=function Et(b,I){var v,S;const Q=function Sr(b){const I=Ke(b),v=I.link?decodeURIComponent(I.link):void 0,S=Ke(v).link,Q=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return Ke(Q).link||Q||S||v||b}(I);if(Q.includes("/__/auth/callback")){const Ce=Ke(Q),De=Ce.firebaseError?function Ar(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(Ce.firebaseError)):null,He=null===(S=null===(v=De?.code)||void 0===v?void 0:v.split("auth/"))||void 0===S?void 0:S[1],Tt=He?(0,k.aB)(He):null;return Tt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:Q,postBody:null}}return null}(Jn,ke.url)),v.onEvent(Is||G())});return function(Jn){return Ht.apply(this,arguments)}}();typeof S<"u"&&"function"==typeof S.subscribe&&S.subscribe(null,He);const Tt=Q,ye=`${Ce.packageName.toLowerCase()}://`;Yt().handleOpenURL=function(){var Ht=(0,C.Z)(function*(ke){if(ke.toLowerCase().startsWith(ye)&&He({url:ke}),"function"==typeof Tt)try{Tt(ke)}catch(Jn){console.error(Jn)}});return function(ke){return Ht.apply(this,arguments)}}()}};function G(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aB)("no-auth-event")}}function fe(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Te(b=(0,Pe.z$)()){return!("file:"!==fe()&&"ionic:"!==fe()&&"capacitor:"!==fe()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function hn(){try{const b=self.localStorage,I=k.aN();if(b)return b.setItem(I,"1"),b.removeItem(I),!function Gt(b=(0,Pe.z$)()){return function wt(){return(0,Pe.w1)()&&11===document?.documentMode}()||function nn(b=(0,Pe.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Pe.hl)()}catch{return zn()&&(0,Pe.hl)()}return!1}function zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function ht(){return"http:"===fe()||"https:"===fe()}()||(0,Pe.ru)()||Te())&&!function Ve(){return(0,Pe.b$)()||(0,Pe.UG)()}()&&hn()&&!zn()}function ri(){return Te()&&typeof document<"u"}function Mr(){return(Mr=(0,C.Z)(function*(){return!!ri()&&new Promise(b=>{const I=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),b(!0)})})})).apply(this,arguments)}const yt={LOCAL:"local",NONE:"none",SESSION:"session"},Qr=k.aC,Yr="persistence";function Pr(b){return mi.apply(this,arguments)}function mi(){return(mi=(0,C.Z)(function*(b){yield b._initializationPromise;const I=Ji(),v=k.aF(Yr,b.config.apiKey,b.name);I&&I.setItem(v,b._getPersistence())})).apply(this,arguments)}function Ji(){var b;try{return(null===(b=function Kr(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const er=k.aC;class oi{constructor(){this.browserResolver=k.aE(k.k),this.cordovaResolver=k.aE(q),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,v,S,Q){var Ce=this;return(0,C.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openPopup(I,v,S,Q)})()}_openRedirect(I,v,S,Q){var Ce=this;return(0,C.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openRedirect(I,v,S,Q)})()}_isIframeWebStorageSupported(I,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,v)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return ri()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return er(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,C.Z)(function*(){if(I.underlyingResolver)return;const v=yield function Bi(){return Mr.apply(this,arguments)}();I.underlyingResolver=v?I.cordovaResolver:I.browserResolver})()}}function Ut(b){return b.unwrap()}function An(b){return fn(b)}function fn(b){const{_tokenResponse:I}=b instanceof Pe.ZR?b.customData:b;if(!I)return null;if(!(b instanceof Pe.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return k.P.credentialFromResult(b);const v=I.providerId;if(!v||v===k.p.PASSWORD)return null;let S;switch(v){case k.p.GOOGLE:S=k.X;break;case k.p.FACEBOOK:S=k.W;break;case k.p.GITHUB:S=k.Y;break;case k.p.TWITTER:S=k.$;break;default:const{oauthIdToken:Q,oauthAccessToken:Ce,oauthTokenSecret:De,pendingToken:He,nonce:Tt}=I;return Ce||De||Q||He?He?v.startsWith("saml.")?k.aQ._create(v,He):k.N._fromParams({providerId:v,signInMethod:v,pendingToken:He,idToken:Q,accessToken:Ce}):new k.Z(v).credential({idToken:Q,accessToken:Ce,rawNonce:Tt}):null}return b instanceof Pe.ZR?S.credentialFromError(b):S.credentialFromResult(b)}function wn(b,I){return I.catch(v=>{throw v instanceof Pe.ZR&&function El(b,I){var v;const S=null===(v=I.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new Or(b,k.as(b,I));else if(S){const Q=fn(I),Ce=I;Q&&(Ce.credential=Q,Ce.tenantId=S.tenantId||void 0,Ce.email=S.email||void 0,Ce.phoneNumber=S.phoneNumber||void 0)}}(b,v),v}).then(v=>{const Q=v.user;return{operationType:v.operationType,credential:An(v),additionalUserInfo:k.aq(v),user:Hn.getOrCreate(Q)}})}function Xr(b,I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,C.Z)(function*(b,I){const v=yield I;return{verificationId:v.verificationId,confirm:S=>wn(b,v.confirm(S))}})).apply(this,arguments)}class Or{constructor(I,v){this.resolver=v,this.auth=function tr(b){return b.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return wn(Ut(this.auth),this.resolver.resolveSignIn(I))}}class Hn{constructor(I){this._delegate=I,this.multiFactor=k.at(I)}static getOrCreate(I){return Hn.USER_MAP.has(I)||Hn.USER_MAP.set(I,new Hn(I)),Hn.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var v=this;return(0,C.Z)(function*(){return wn(v.auth,k.a2(v._delegate,I))})()}linkWithPhoneNumber(I,v){var S=this;return(0,C.Z)(function*(){return Xr(S.auth,k.l(S._delegate,I,v))})()}linkWithPopup(I){var v=this;return(0,C.Z)(function*(){return wn(v.auth,k.d(v._delegate,I,oi))})()}linkWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield Pr(k.aJ(v.auth)),k.g(v._delegate,I,oi)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var v=this;return(0,C.Z)(function*(){return wn(v.auth,k.a3(v._delegate,I))})()}reauthenticateWithPhoneNumber(I,v){return Xr(this.auth,k.r(this._delegate,I,v))}reauthenticateWithPopup(I){return wn(this.auth,k.e(this._delegate,I,oi))}reauthenticateWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield Pr(k.aJ(v.auth)),k.h(v._delegate,I,oi)})()}sendEmailVerification(I){return k.ag(this._delegate,I)}unlink(I){var v=this;return(0,C.Z)(function*(){return yield k.ap(v._delegate,I),v})()}updateEmail(I){return k.al(this._delegate,I)}updatePassword(I){return k.am(this._delegate,I)}updatePhoneNumber(I){return k.u(this._delegate,I)}updateProfile(I){return k.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,v){return k.ah(this._delegate,I,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const kn=k.aC;let gi=(()=>{class b{constructor(v,S){if(this.app=v,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=v.options;kn(Q,"invalid-api-key",{appName:v.name}),kn(Q,"invalid-api-key",{appName:v.name});const Ce=typeof window<"u"?oi:void 0;this._delegate=S.initialize({options:{persistence:ua(Q,v.name),popupRedirectResolver:Ce}}),this._delegate._updateErrorMap(k.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,S){k.K(this._delegate,v,S)}applyActionCode(v){return k.a7(this._delegate,v)}checkActionCode(v){return k.a8(this._delegate,v)}confirmPasswordReset(v,S){return k.a6(this._delegate,v,S)}createUserWithEmailAndPassword(v,S){var Q=this;return(0,C.Z)(function*(){return wn(Q._delegate,k.aa(Q._delegate,v,S))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return k.af(this._delegate,v)}isSignInWithEmailLink(v){return k.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){kn($n(),v._delegate,"operation-not-supported-in-this-environment");const S=yield k.j(v._delegate,oi);return S?wn(v._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function z(b,I){(0,k.aJ)(b)._logFramework(I)}(this._delegate,v)}onAuthStateChanged(v,S,Q){const{next:Ce,error:De,complete:He}=nr(v,S,Q);return this._delegate.onAuthStateChanged(Ce,De,He)}onIdTokenChanged(v,S,Q){const{next:Ce,error:De,complete:He}=nr(v,S,Q);return this._delegate.onIdTokenChanged(Ce,De,He)}sendSignInLinkToEmail(v,S){return k.ac(this._delegate,v,S)}sendPasswordResetEmail(v,S){return k.a5(this._delegate,v,S||void 0)}setPersistence(v){var S=this;return(0,C.Z)(function*(){let Q;switch(function Rr(b,I){Qr(Object.values(yt).includes(I),b,"invalid-persistence-type"),(0,Pe.b$)()?Qr(I!==yt.SESSION,b,"unsupported-persistence-type"):(0,Pe.UG)()?Qr(I===yt.NONE,b,"unsupported-persistence-type"):zn()?Qr(I===yt.NONE||I===yt.LOCAL&&(0,Pe.hl)(),b,"unsupported-persistence-type"):Qr(I===yt.NONE||hn(),b,"unsupported-persistence-type")}(S._delegate,v),v){case yt.SESSION:Q=k.a;break;case yt.LOCAL:Q=(yield k.aE(k.i)._isAvailable())?k.i:k.b;break;case yt.NONE:Q=k.U;break;default:return k.ax("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return wn(this._delegate,k.a0(this._delegate))}signInWithCredential(v){return wn(this._delegate,k.a1(this._delegate,v))}signInWithCustomToken(v){return wn(this._delegate,k.a4(this._delegate,v))}signInWithEmailAndPassword(v,S){return wn(this._delegate,k.ab(this._delegate,v,S))}signInWithEmailLink(v,S){return wn(this._delegate,k.ae(this._delegate,v,S))}signInWithPhoneNumber(v,S){return Xr(this._delegate,k.s(this._delegate,v,S))}signInWithPopup(v){var S=this;return(0,C.Z)(function*(){return kn($n(),S._delegate,"operation-not-supported-in-this-environment"),wn(S._delegate,k.c(S._delegate,v,oi))})()}signInWithRedirect(v){var S=this;return(0,C.Z)(function*(){return kn($n(),S._delegate,"operation-not-supported-in-this-environment"),yield Pr(S._delegate),k.f(S._delegate,v,oi)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return k.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=yt,b})();function nr(b,I,v){let S=b;"function"!=typeof b&&({next:S,error:I,complete:v}=b);const Q=S;return{next:De=>Q(De&&Hn.getOrCreate(De)),error:I,complete:v}}function ua(b,I){const v=function Xi(b,I){const v=Ji();if(!v)return[];const S=k.aF(Yr,b,I);switch(v.getItem(S)){case yt.NONE:return[k.U];case yt.LOCAL:return[k.i,k.a];case yt.SESSION:return[k.a];default:return[]}}(b,I);if(typeof self<"u"&&!v.includes(k.i)&&v.push(k.i),typeof window<"u")for(const S of[k.b,k.a])v.includes(S)||v.push(S);return v.includes(k.U)||v.push(k.U),v}class Uo{constructor(){this.providerId="phone",this._delegate=new k.P(Ut(K.Z.auth()))}static credential(I,v){return k.P.credential(I,v)}verifyPhoneNumber(I,v){return this._delegate.verifyPhoneNumber(I,v)}unwrap(){return this._delegate}}Uo.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Uo.PROVIDER_ID=k.P.PROVIDER_ID;const ws=k.aC;class eo{constructor(I,v,S=K.Z.app()){var Q;ws(null===(Q=S.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new k.R(S.auth(),I,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(b){b.INTERNAL.registerComponent(new Tn.wA("auth-compat",I=>{const v=I.getProvider("app-compat").getImmediate(),S=I.getProvider("auth");return new gi(v,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.V,FacebookAuthProvider:k.W,GithubAuthProvider:k.Y,GoogleAuthProvider:k.X,OAuthProvider:k.Z,SAMLAuthProvider:k._,PhoneAuthProvider:Uo,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:eo,TwitterAuthProvider:k.$,Auth:gi,AuthCredential:k.L,Error:Pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.1")}(K.Z)},861:(Zr,Bn,Ue)=>{function C(k,Pe,gt,un,Tn,Yt,Ct){try{var ee=k[Yt](Ct),ue=ee.value}catch(Re){return void gt(Re)}ee.done?Pe(ue):Promise.resolve(ue).then(un,Tn)}function K(k){return function(){var Pe=this,gt=arguments;return new Promise(function(un,Tn){var Yt=k.apply(Pe,gt);function Ct(ue){C(Yt,un,Tn,Ct,ee,"next",ue)}function ee(ue){C(Yt,un,Tn,Ct,ee,"throw",ue)}Ct(void 0)})}}Ue.d(Bn,{Z:()=>K})},582:(Zr,Bn,Ue)=>{function Pe(q,G){var z={};for(var $ in q)Object.prototype.hasOwnProperty.call(q,$)&&G.indexOf($)<0&&(z[$]=q[$]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for($=Object.getOwnPropertySymbols(q);ne<$.length;ne++)G.indexOf($[ne])<0&&Object.prototype.propertyIsEnumerable.call(q,$[ne])&&(z[$[ne]]=q[$[ne]])}return z}function Re(q,G,z,$){return new(z||(z=Promise))(function(te,fe){function ht(wt){try{Ve($.next(wt))}catch(nn){fe(nn)}}function Te(wt){try{Ve($.throw(wt))}catch(nn){fe(nn)}}function Ve(wt){wt.done?te(wt.value):function ne(te){return te instanceof z?te:new z(function(fe){fe(te)})}(wt.value).then(ht,Te)}Ve(($=$.apply(q,G||[])).next())})}function ft(q){return this instanceof ft?(this.v=q,this):new ft(q)}function jt(q,G,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,$=z.apply(q,G||[]),te=[];return ne={},fe("next"),fe("throw"),fe("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function fe(Gt){$[Gt]&&(ne[Gt]=function(hn){return new Promise(function(zn,$n){te.push([Gt,hn,zn,$n])>1||ht(Gt,hn)})})}function ht(Gt,hn){try{!function Te(Gt){Gt.value instanceof ft?Promise.resolve(Gt.value.v).then(Ve,wt):nn(te[0][2],Gt)}($[Gt](hn))}catch(zn){nn(te[0][3],zn)}}function Ve(Gt){ht("next",Gt)}function wt(Gt){ht("throw",Gt)}function nn(Gt,hn){Gt(hn),te.shift(),te.length&&ht(te[0][0],te[0][1])}}function On(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,G=q[Symbol.asyncIterator];return G?G.call(q):(q=function _t(q){var G="function"==typeof Symbol&&Symbol.iterator,z=G&&q[G],$=0;if(z)return z.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&$>=q.length&&(q=void 0),{value:q&&q[$++],done:!q}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),z={},$("next"),$("throw"),$("return"),z[Symbol.asyncIterator]=function(){return this},z);function $(te){z[te]=q[te]&&function(fe){return new Promise(function(ht,Te){!function ne(te,fe,ht,Te){Promise.resolve(Te).then(function(Ve){te({value:Ve,done:ht})},fe)}(ht,Te,(fe=q[te](fe)).done,fe.value)})}}}Ue.d(Bn,{FC:()=>jt,KL:()=>On,_T:()=>Pe,mG:()=>Re,qq:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},Zr=>{Zr(Zr.s=27)}]);