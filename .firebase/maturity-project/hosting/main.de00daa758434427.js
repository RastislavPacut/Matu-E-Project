"use strict";(self.webpackChunkangular_school_project=self.webpackChunkangular_school_project||[]).push([[179],{217:(Yr,zn,je)=>{je.d(zn,{$:()=>Ig,A:()=>ue,C:()=>L0,G:()=>Pt,K:()=>M0,L:()=>fa,N:()=>or,P:()=>mu,R:()=>Gg,U:()=>De,V:()=>zh,W:()=>Yc,X:()=>yr,Y:()=>ro,Z:()=>sr,_:()=>_a,a:()=>lo,a0:()=>qh,a1:()=>nu,a2:()=>Yh,a3:()=>Dg,a4:()=>N0,a5:()=>li,a6:()=>va,a7:()=>Ag,a8:()=>Al,a9:()=>F0,aA:()=>ut,aB:()=>zt,aC:()=>ae,aD:()=>ho,aE:()=>Q,aF:()=>He,aG:()=>Bl,aH:()=>Xg,aI:()=>Aa,aJ:()=>_n,aN:()=>Pn,aQ:()=>To,aa:()=>be,ab:()=>sn,ac:()=>Fr,ad:()=>bi,ae:()=>ba,af:()=>et,ag:()=>Sg,ah:()=>Rn,ak:()=>Sl,al:()=>Zo,am:()=>Do,ap:()=>xg,aq:()=>Rl,as:()=>aS,at:()=>hS,au:()=>tn,av:()=>Ie,aw:()=>U,ax:()=>pt,ay:()=>Ma,az:()=>n_,b:()=>B0,c:()=>Yo,d:()=>Yg,e:()=>X0,f:()=>eE,g:()=>di,h:()=>St,i:()=>hu,j:()=>uo,k:()=>h_,l:()=>Z0,m:()=>hE,o:()=>IS,p:()=>Xt,r:()=>Q0,s:()=>Kg,u:()=>Jt});var C=je(861),K=je(58),O=je(534),Pe=je(879),yt=je(582),hn=je(537);const Xt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pt=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},$n=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new Pe.Yd("@firebase/auth");function fn(f,...u){Ye.logLevel<=Pe.in.ERROR&&Ye.error(`Auth (${O.SDK_VERSION}): ${f}`,...u)}function pt(f,...u){throw at(f,...u)}function zt(f,...u){return at(f,...u)}function Yi(f,u,d){const m=Object.assign(Object.assign({},$n()),{[u]:d});return new K.LL("auth","Firebase",m).create(u,{appName:f.name})}function Nn(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&pt(f,"argument-error"),Yi(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(f,...u){if("string"!=typeof f){const d=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return vt.create(f,...u)}function ae(f,u,...d){if(!f)throw at(u,...d)}function xt(f){const u="INTERNAL ASSERTION FAILED: "+f;throw fn(u),new Error(u)}function tn(f,u){f||xt(u)}function In(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Sn(){return"http:"===Mr()||"https:"===Mr()}function Mr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Xi{constructor(u,d){this.shortDelay=u,this.longDelay=d,tn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Rr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Sn()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xo(f,u){tn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class q{static initialize(u,d,m){this.fetchImpl=u,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new Xi(3e4,6e4);function $(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ne(f,u,d,m){return te.apply(this,arguments)}function te(){return(te=(0,C.Z)(function*(f,u,d,m,_={}){return me(f,_,(0,C.Z)(function*(){let E={},k={};m&&("GET"===u?k=m:E={body:JSON.stringify(m)});const H=(0,K.xO)(Object.assign({key:f.config.apiKey},k)).slice(1),oe=yield f._getAdditionalHeaders();return oe["Content-Type"]="application/json",f.languageCode&&(oe["X-Firebase-Locale"]=f.languageCode),q.fetch()(Ct(f,f.config.apiHost,d,H),Object.assign({method:u,headers:oe,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function me(f,u,d){return ft.apply(this,arguments)}function ft(){return(ft=(0,C.Z)(function*(f,u,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},G),u);try{const _=new Kt(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const k=yield E.json();if("needConfirmation"in k)throw pn(f,"account-exists-with-different-credential",k);if(E.ok&&!("errorMessage"in k))return k;{const H=E.ok?k.errorMessage:k.error.message,[oe,xe]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===oe)throw pn(f,"credential-already-in-use",k);if("EMAIL_EXISTS"===oe)throw pn(f,"email-already-in-use",k);if("USER_DISABLED"===oe)throw pn(f,"user-disabled",k);const Ue=m[oe]||oe.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw Yi(f,Ue,xe);pt(f,Ue)}}catch(_){if(_ instanceof K.ZR)throw _;pt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Te(f,u,d,m){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,C.Z)(function*(f,u,d,m,_={}){const E=yield ne(f,u,d,m,_);return"mfaPendingCredential"in E&&pt(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function Ct(f,u,d,m){const _=`${u}${d}?${m}`;return f.config.emulator?xo(f.config,_):`${f.config.apiScheme}://${_}`}function rn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(zt(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(f,u,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=zt(f,u,m);return _.customData._tokenResponse=d,_}function qn(f){return void 0!==f&&void 0!==f.getResponse}function Wn(f){return void 0!==f&&void 0!==f.enterprise}class oi{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return rn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Pr(){return(Pr=(0,C.Z)(function*(f){return(yield ne(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xr(f,u){return bt.apply(this,arguments)}function bt(){return(bt=(0,C.Z)(function*(f,u){return ne(f,"GET","/v2/recaptchaConfig",$(f,u))})).apply(this,arguments)}function eo(){return(eo=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Or(){return(Or=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ji(){return(Ji=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function er(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function jt(){return(jt=(0,C.Z)(function*(f,u=!1){const d=(0,K.m9)(f),m=yield d.getIdToken(u),_=Mn(m);ae(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,k=E?.sign_in_provider;return{claims:_,token:m,authTime:er(nr(_.auth_time)),issuedAtTime:er(nr(_.iat)),expirationTime:er(nr(_.exp)),signInProvider:k||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function nr(f){return 1e3*Number(f)}function Mn(f){const[u,d,m]=f.split(".");if(void 0===u||void 0===d||void 0===m)return fn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,K.tV)(d);return _?JSON.parse(_):(fn("Failed to decode base64 JWT payload"),null)}catch(_){return fn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function mn(f,u){return xn.apply(this,arguments)}function xn(){return(xn=(0,C.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(m){throw m instanceof K.ZR&&function to({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class no{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),m)}iteration(){var u=this;return(0,C.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Nr{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gn(f){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,C.Z)(function*(f){var u;const d=f.auth,m=yield f.getIdToken(),_=yield mn(f,function _i(f,u){return Ji.apply(this,arguments)}(d,{idToken:m}));ae(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const k=null!==(u=E.providerUserInfo)&&void 0!==u&&u.length?function zo(f){return f.map(u=>{var{providerId:d}=u,m=(0,yt._T)(u,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(E.providerUserInfo):[],H=function ha(f,u){return[...f.filter(m=>!u.some(_=>_.providerId===m.providerId)),...u]}(f.providerData,k),Ue=!!f.isAnonymous&&!(f.email&&E.passwordHash||H?.length),wt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:H,metadata:new Nr(E.createdAt,E.lastLoginAt),isAnonymous:Ue};Object.assign(f,wt)}),Fn.apply(this,arguments)}function ir(){return(ir=(0,C.Z)(function*(f){const u=(0,K.m9)(f);yield Gn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function io(){return(io=(0,C.Z)(function*(f,u){const d=yield me(f,{},(0,C.Z)(function*(){const m=(0,K.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,k=Ct(f,_,"/v1/token",`key=${E}`),H=yield f._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",q.fetch()(k,{method:"POST",headers:H,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,C.Z)(function*(f,u){return ne(f,"POST","/v2/accounts:revokeToken",$(f,u))})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ae(u.idToken,"internal-error"),ae(typeof u.idToken<"u","internal-error"),ae(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Il(f){const u=Mn(f);return ae(u,"internal-error"),ae(typeof u.exp<"u","internal-error"),ae(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var m=this;return(0,C.Z)(function*(){return ae(!m.accessToken||m.refreshToken,u,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var m=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:k}=yield function Ts(f,u){return io.apply(this,arguments)}(u,d);m.updateTokensAndExpiration(_,E,Number(k))})()}updateTokensAndExpiration(u,d,m){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,d){const{refreshToken:m,accessToken:_,expirationTime:E}=d,k=new b;return m&&(ae("string"==typeof m,"internal-error",{appName:u}),k.refreshToken=m),_&&(ae("string"==typeof _,"internal-error",{appName:u}),k.accessToken=_),E&&(ae("number"==typeof E,"internal-error",{appName:u}),k.expirationTime=E),k}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return xt("not implemented")}}function I(f,u){ae("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class v{constructor(u){var{uid:d,auth:m,stsTokenManager:_}=u,E=(0,yt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new no(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Nr(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,C.Z)(function*(){const m=yield mn(d,d.stsTokenManager.getToken(d.auth,u));return ae(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(u){return function si(f){return jt.apply(this,arguments)}(this,u)}reload(){return function yi(f){return ir.apply(this,arguments)}(this)}_assign(u){this!==u&&(ae(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new v(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var m=this;return(0,C.Z)(function*(){let _=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Gn(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,C.Z)(function*(){const d=yield u.getIdToken();return yield mn(u,function Jr(f,u){return eo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var m,_,E,k,H,oe,xe,Ue;const wt=null!==(m=d.displayName)&&void 0!==m?m:void 0,Pi=null!==(_=d.email)&&void 0!==_?_:void 0,Mo=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,Hl=null!==(k=d.photoURL)&&void 0!==k?k:void 0,p_=null!==(H=d.tenantId)&&void 0!==H?H:void 0,ka=null!==(oe=d._redirectEventId)&&void 0!==oe?oe:void 0,Jo=null!==(xe=d.createdAt)&&void 0!==xe?xe:void 0,m_=null!==(Ue=d.lastLoginAt)&&void 0!==Ue?Ue:void 0,{uid:Au,emailVerified:Mf,isAnonymous:Oa,providerData:Rf,stsTokenManager:wi}=d;ae(Au&&wi,u,"internal-error");const gE=b.fromJSON(this.name,wi);ae("string"==typeof Au,u,"internal-error"),I(wt,u.name),I(Pi,u.name),ae("boolean"==typeof Mf,u,"internal-error"),ae("boolean"==typeof Oa,u,"internal-error"),I(Mo,u.name),I(Hl,u.name),I(p_,u.name),I(ka,u.name),I(Jo,u.name),I(m_,u.name);const Kn=new v({uid:Au,auth:u,email:Pi,emailVerified:Mf,displayName:wt,isAnonymous:Oa,photoURL:Hl,phoneNumber:Mo,tenantId:p_,stsTokenManager:gE,createdAt:Jo,lastLoginAt:m_});return Rf&&Array.isArray(Rf)&&(Kn.providerData=Rf.map(Pf=>Object.assign({},Pf))),ka&&(Kn._redirectEventId=ka),Kn}static _fromIdTokenResponse(u,d,m=!1){return(0,C.Z)(function*(){const _=new b;_.updateFromServerResponse(d);const E=new v({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:m});return yield Gn(E),E})()}}const S=new Map;function Q(f){tn(f instanceof Function,"Expected a class definition");let u=S.get(f);return u?(tn(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,S.set(f,u),u)}const De=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,C.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,C.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function He(f,u,d){return`firebase:${f}:${u}:${d}`}class At{constructor(u,d,m){this.persistence=u,this.auth=d,this.userKey=m;const{config:_,name:E}=this.auth;this.fullUserKey=He(this.userKey,_.apiKey,E),this.fullPersistenceKey=He("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,C.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?v._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,C.Z)(function*(){if(d.persistence===u)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,m="authUser"){return(0,C.Z)(function*(){if(!d.length)return new At(Q(De),u,m);const _=(yield Promise.all(d.map(function(){var xe=(0,C.Z)(function*(Ue){if(yield Ue._isAvailable())return Ue});return function(Ue){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let E=_[0]||Q(De);const k=He(m,u.config.apiKey,u.name);let H=null;for(const xe of d)try{const Ue=yield xe._get(k);if(Ue){const wt=v._fromJSON(u,Ue);xe!==E&&(H=wt),E=xe;break}}catch{}const oe=_.filter(xe=>xe._shouldAllowMigration);return E._shouldAllowMigration&&oe.length?(E=oe[0],H&&(yield E._set(k,H.toJSON())),yield Promise.all(d.map(function(){var xe=(0,C.Z)(function*(Ue){if(Ue!==E)try{yield Ue._remove(k)}catch{}});return function(Ue){return xe.apply(this,arguments)}}())),new At(E,u,m)):new At(E,u,m)})()}}function ve(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Ds(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(qt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(P(u))return"Blackberry";if(se(u))return"Webos";if(Oe(u))return"Safari";if((u.includes("chrome/")||ti(u))&&!u.includes("edge/"))return"Chrome";if(U(u))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function qt(f=(0,K.z$)()){return/firefox\//i.test(f)}function Oe(f=(0,K.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function ti(f=(0,K.z$)()){return/crios\//i.test(f)}function Ds(f=(0,K.z$)()){return/iemobile/i.test(f)}function U(f=(0,K.z$)()){return/android/i.test(f)}function P(f=(0,K.z$)()){return/blackberry/i.test(f)}function se(f=(0,K.z$)()){return/webos/i.test(f)}function Ie(f=(0,K.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function ut(f=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function gn(f=(0,K.z$)()){return Ie(f)||U(f)||se(f)||P(f)||/windows phone/i.test(f)||Ds(f)}function dt(f,u=[]){let d;switch(f){case"Browser":d=ve((0,K.z$)());break;case"Worker":d=`${ve((0,K.z$)())}-${f}`;break;default:d=f}const m=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${O.SDK_VERSION}/${m}`}class xl{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const m=E=>new Promise((k,H)=>{try{k(u(E))}catch(oe){H(oe)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===u)return;const m=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const E of m)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Mh(){return(Mh=(0,C.Z)(function*(f,u={}){return ne(f,"GET","/v2/passwordPolicy",$(f,u))})).apply(this,arguments)}class rr{constructor(u){var d,m,_,E;const k=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=k.minPasswordLength)&&void 0!==d?d:6,k.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=k.maxPasswordLength),void 0!==k.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=k.containsLowercaseCharacter),void 0!==k.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=k.containsUppercaseCharacter),void 0!==k.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=k.containsNumericCharacter),void 0!==k.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=k.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=u.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,m,_,E,k,H;const oe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,oe),this.validatePasswordCharacterOptions(u,oe),oe.isValid&&(oe.isValid=null===(d=oe.meetsMinPasswordLength)||void 0===d||d),oe.isValid&&(oe.isValid=null===(m=oe.meetsMaxPasswordLength)||void 0===m||m),oe.isValid&&(oe.isValid=null===(_=oe.containsLowercaseLetter)||void 0===_||_),oe.isValid&&(oe.isValid=null===(E=oe.containsUppercaseLetter)||void 0===E||E),oe.isValid&&(oe.isValid=null===(k=oe.containsNumericCharacter)||void 0===k||k),oe.isValid&&(oe.isValid=null===(H=oe.containsNonAlphanumericCharacter)||void 0===H||H),oe}validatePasswordLengthOptions(u,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=u.length>=m),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)m=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,d,m,_,E){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=E))}}class JA{constructor(u,d,m,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new xl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var m=this;return d&&(this._popupRedirectResolver=Q(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!m._deleted&&(m.persistenceManager=yield At.create(m,u),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(E=m.currentUser)||void 0===E?void 0:E.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,C.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,C.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let E=_,k=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const H=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,oe=E?._redirectEventId,xe=yield d.tryRedirectSignIn(u);(!H||H===oe)&&xe?.user&&(E=xe.user,k=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(k)try{yield d.beforeStateQueue.runMiddleware(E)}catch(H){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(H))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return ae(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(u){var d=this;return(0,C.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,C.Z)(function*(){try{yield Gn(u)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,C.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,C.Z)(function*(){const m=u?(0,K.m9)(u):null;return m&&ae(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(u,d=!1){var m=this;return(0,C.Z)(function*(){if(!m._deleted)return u&&ae(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,C.Z)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,C.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(Q(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,C.Z)(function*(){const d=yield function XA(f){return Mh.apply(this,arguments)}(u),m=new rr(d);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new K.LL("auth","Firebase",u())}onAuthStateChanged(u,d,m){return this.registerStateListener(this.authStateSubscription,u,d,m)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,m){return this.registerStateListener(this.idTokenSubscription,u,d,m)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,C.Z)(function*(){if(d.currentUser){const m=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function M(f,u){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var m=this;return(0,C.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const m=u&&Q(u)||d._popupRedirectResolver;ae(m,d,"argument-error"),d.redirectPersistenceManager=yield At.create(d,[Q(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,C.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,C.Z)(function*(){if(u===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,m,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let k=!1;const H=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(H,this,"internal-error"),H.then(()=>{k||E(this.currentUser)}),"function"==typeof d){const oe=u.addObserver(d,m,_);return()=>{k=!0,oe()}}{const oe=u.addObserver(d);return()=>{k=!0,oe()}}}directlySetCurrentUser(u){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,C.Z)(function*(){var d;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const E=yield u._getAppCheckToken();return E&&(m["X-Firebase-AppCheck"]=E),m})()}_getAppCheckToken(){var u=this;return(0,C.Z)(function*(){var d;const m=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function Hn(f,...u){Ye.logLevel<=Pe.in.WARN&&Ye.warn(`Auth (${O.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function _n(f){return(0,K.m9)(f)}class T0{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,K.ne)(d=>this.observer=d)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pg(f){return new Promise((u,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=u,m.onerror=_=>{const E=zt("internal-error");E.customData=_,d(E)},m.type="text/javascript",m.charset="UTF-8",function As(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(m)})}function D0(f){return`__${f}${Math.floor(1e6*Math.random())}`}class S0{constructor(u){this.type="recaptcha-enterprise",this.auth=_n(u)}verify(u="verify",d=!1){var m=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(H){if(!d){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var oe=(0,C.Z)(function*(xe,Ue){Xr(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const Pi=new oi(wt);return null==H.tenantId?H._agentRecaptchaConfig=Pi:H._tenantRecaptchaConfigs[H.tenantId]=Pi,xe(Pi.siteKey)}Ue(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{Ue(wt)})});return function(xe,Ue){return oe.apply(this,arguments)}}())}),E.apply(this,arguments)}function k(H,oe,xe){const Ue=window.grecaptcha;Wn(Ue)?Ue.enterprise.ready(()=>{Ue.enterprise.execute(H,{action:u}).then(wt=>{oe(wt)}).catch(()=>{oe("NO_RECAPTCHA")})}):xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,oe)=>{(function _(H){return E.apply(this,arguments)})(m.auth).then(xe=>{if(!d&&Wn(window.grecaptcha))k(xe,H,oe);else{if(typeof window>"u")return void oe(new Error("RecaptchaVerifier is only supported in browser"));pg("https://www.google.com/recaptcha/enterprise.js?render="+xe).then(()=>{k(xe,H,oe)}).catch(Ue=>{oe(Ue)})}}).catch(xe=>{oe(xe)})})})()}}function mg(f,u,d){return gg.apply(this,arguments)}function gg(){return(gg=(0,C.Z)(function*(f,u,d,m=!1){const _=new S0(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const k=Object.assign({},u);return Object.assign(k,m?{captchaResp:E}:{captchaResponse:E}),Object.assign(k,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(k,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),k})).apply(this,arguments)}function vi(f,u,d,m){return $e.apply(this,arguments)}function $e(){return $e=(0,C.Z)(function*(f,u,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield mg(f,u,d,"getOobCode"===d);return m(f,E)}return m(f,u).catch(function(){var E=(0,C.Z)(function*(k){if("auth/missing-recaptcha-token"===k.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=yield mg(f,u,d,"getOobCode"===d);return m(f,H)}return Promise.reject(k)});return function(k){return E.apply(this,arguments)}}())}),$e.apply(this,arguments)}function M0(f,u,d){const m=_n(f);ae(m._canInitEmulator,m,"emulator-config-failed"),ae(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=kt(u),{host:k,port:H}=function zc(f){const u=kt(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const E=_[1];return{host:E,port:yg(m.substr(E.length+1))}}{const[E,k]=m.split(":");return{host:E,port:yg(k)}}}(u);m.config.emulator={url:`${E}//${k}${null===H?"":`:${H}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:k,port:H,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function vg(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function kt(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function yg(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class fa{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return xt("not implemented")}_getIdTokenResponse(u){return xt("not implemented")}_linkToIdToken(u,d){return xt("not implemented")}_getReauthenticationResolver(u){return xt("not implemented")}}function Cl(f,u){return pa.apply(this,arguments)}function pa(){return(pa=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:resetPassword",$(f,u))})).apply(this,arguments)}function $c(){return($c=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function R0(f,u){return ht.apply(this,arguments)}function ht(){return(ht=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Hc(){return(Hc=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",$(f,u))})).apply(this,arguments)}function ji(f,u){return qc.apply(this,arguments)}function qc(){return(qc=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithPassword",$(f,u))})).apply(this,arguments)}function Oh(f,u){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:sendOobCode",$(f,u))})).apply(this,arguments)}function bg(){return(bg=(0,C.Z)(function*(f,u){return Oh(f,u)})).apply(this,arguments)}function re(f,u){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,C.Z)(function*(f,u){return Oh(f,u)})).apply(this,arguments)}function Nh(f,u){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,C.Z)(function*(f,u){return Oh(f,u)})).apply(this,arguments)}function Lh(){return(Lh=(0,C.Z)(function*(f,u){return Oh(f,u)})).apply(this,arguments)}function Eg(){return(Eg=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithEmailLink",$(f,u))})).apply(this,arguments)}function wg(){return(wg=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithEmailLink",$(f,u))})).apply(this,arguments)}class Gc extends fa{constructor(u,d,m,_=null){super("password",m),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new Gc(u,d,"password")}static _fromEmailAndCode(u,d,m=null){return new Gc(u,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return vi(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ji);case"emailLink":return function Vh(f,u){return Eg.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:pt(u,"internal-error")}})()}_linkToIdToken(u,d){var m=this;return(0,C.Z)(function*(){switch(m.signInMethod){case"password":return vi(u,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R0);case"emailLink":return function oS(f,u){return wg.apply(this,arguments)}(u,{idToken:d,email:m._email,oobCode:m._password});default:pt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function $o(f,u){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithIdp",$(f,u))})).apply(this,arguments)}class or extends fa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new or(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):pt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_}=d,E=(0,yt._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const k=new or(m,_);return k.idToken=E.idToken||void 0,k.accessToken=E.accessToken||void 0,k.secret=E.secret,k.nonce=E.nonce,k.pendingToken=E.pendingToken||null,k}_getIdTokenResponse(u){return $o(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,$o(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,$o(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,K.xO)(d)}return u}}function Uh(){return(Uh=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:sendVerificationCode",$(f,u))})).apply(this,arguments)}function Kc(){return(Kc=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,u))})).apply(this,arguments)}function jh(){return(jh=(0,C.Z)(function*(f,u){const d=yield Te(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,u));if(d.temporaryProof)throw pn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Ho={USER_NOT_FOUND:"user-not-found"};function B(){return(B=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Ho)})).apply(this,arguments)}class qo extends fa{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new qo({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new qo({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function k0(f,u){return Kc.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function ma(f,u){return jh.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function O0(f,u){return B.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}=u;return m||d||_||E?new qo({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}):null}}class Ms{constructor(u){var d,m,_,E,k,H;const oe=(0,K.zd)((0,K.pd)(u)),xe=null!==(d=oe.apiKey)&&void 0!==d?d:null,Ue=null!==(m=oe.oobCode)&&void 0!==m?m:null,wt=function fe(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=oe.mode)&&void 0!==_?_:null);ae(xe&&Ue&&wt,"argument-error"),this.apiKey=xe,this.operation=wt,this.code=Ue,this.continueUrl=null!==(E=oe.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(k=oe.languageCode)&&void 0!==k?k:null,this.tenantId=null!==(H=oe.tenantId)&&void 0!==H?H:null}static parseLink(u){const d=function Zc(f){const u=(0,K.zd)((0,K.pd)(f)).link,d=u?(0,K.zd)((0,K.pd)(u)).deep_link_id:null,m=(0,K.zd)((0,K.pd)(f)).deep_link_id;return(m?(0,K.zd)((0,K.pd)(m)).link:null)||m||d||u||f}(u);try{return new Ms(d)}catch{return null}}}let zh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return Gc._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=Ms.parseLink(m);return ae(_,"argument-error"),Gc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Co{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class ga extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class sr extends ga{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ae("providerId"in d&&"signInMethod"in d,"argument-error"),or._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ae(u.idToken||u.accessToken,"argument-error"),or._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return sr.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return sr.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:E,nonce:k,providerId:H}=u;if(!m&&!_&&!d&&!E||!H)return null;try{return new sr(H)._credential({idToken:d,accessToken:m,nonce:k,pendingToken:E})}catch{return null}}}let Yc=(()=>{class f extends ga{constructor(){super("facebook.com")}static credential(d){return or._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),yr=(()=>{class f extends ga{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return or._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),ro=(()=>{class f extends ga{constructor(){super("github.com")}static credential(d){return or._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class To extends fa{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return $o(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,$o(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,$o(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_,pendingToken:E}=d;return m&&_&&E&&m===_?new To(m,E):null}static _create(u,d){return new To(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _a extends Co{constructor(u){ae(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return _a.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return _a.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=To.fromJSON(u);return ae(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:m}=u;if(!d||!m)return null;try{return To._create(m,d)}catch{return null}}}let Ig=(()=>{class f extends ga{constructor(){super("twitter.com")}static credential(d,m){return or._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function oo(f,u){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signUp",$(f,u))})).apply(this,arguments)}class ar{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,m,_=!1){return(0,C.Z)(function*(){const E=yield v._fromIdTokenResponse(u,m,_),k=Hh(m);return new ar({user:E,providerId:k,_tokenResponse:m,operationType:d})})()}static _forOperation(u,d,m){return(0,C.Z)(function*(){yield u._updateTokensIfNecessary(m,!0);const _=Hh(m);return new ar({user:u,providerId:_,_tokenResponse:m,operationType:d})})()}}function Hh(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function qh(f){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,C.Z)(function*(f){var u;const d=_n(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new ar({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield oo(d,{returnSecureToken:!0}),_=yield ar._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Dl extends K.ZR{constructor(u,d,m,_){var E;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,Dl.prototype),this.customData={appName:u.name,tenantId:null!==(E=u.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,d,m,_){return new Dl(u,d,m,_)}}function ya(f,u,d,m){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?Dl._fromErrorAndOperation(f,E,u,m):E})}function Wh(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function xg(f,u){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);yield eu(!0,d,u);const{providerUserInfo:m}=yield function kr(f,u){return Or.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=Wh(m||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Gh.apply(this,arguments)}function Jc(f,u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,C.Z)(function*(f,u,d=!1){const m=yield mn(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return ar._forOperation(f,"link",m)})).apply(this,arguments)}function eu(f,u,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,C.Z)(function*(f,u,d){yield Gn(u);const _=!1===f?"provider-already-linked":"no-such-provider";ae(Wh(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function Cg(f,u){return tu.apply(this,arguments)}function tu(){return(tu=(0,C.Z)(function*(f,u,d=!1){const{auth:m}=f,_="reauthenticate";try{const E=yield mn(f,ya(m,_,u,f),d);ae(E.idToken,m,"internal-error");const k=Mn(E.idToken);ae(k,m,"internal-error");const{sub:H}=k;return ae(f.uid===H,m,"user-mismatch"),ar._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&pt(m,"user-mismatch"),E}})).apply(this,arguments)}function Tg(f,u){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,C.Z)(function*(f,u,d=!1){const m="signIn",_=yield ya(f,m,u),E=yield ar._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function nu(f,u){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,C.Z)(function*(f,u){return Tg(_n(f),u)})).apply(this,arguments)}function Yh(f,u){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);return yield eu(!1,d,u.providerId),Jc(d,u)})).apply(this,arguments)}function Dg(f,u){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,C.Z)(function*(f,u){return Cg((0,K.m9)(f),u)})).apply(this,arguments)}function ef(){return(ef=(0,C.Z)(function*(f,u){return Te(f,"POST","/v1/accounts:signInWithCustomToken",$(f,u))})).apply(this,arguments)}function N0(f,u){return tf.apply(this,arguments)}function tf(){return tf=(0,C.Z)(function*(f,u){const d=_n(f),m=yield function Ln(f,u){return ef.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield ar._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),tf.apply(this,arguments)}class Tt{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?nf._fromServerResponse(u,d):"totpInfo"in d?iu._fromServerResponse(u,d):pt(u,"internal-error")}}class nf extends Tt{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new nf(d)}}class iu extends Tt{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new iu(d)}}function Be(f,u,d){var m;ae((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ae(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ae(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ae(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function ai(f){return Et.apply(this,arguments)}function Et(){return(Et=(0,C.Z)(function*(f){const u=_n(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function li(f,u,d){return ci.apply(this,arguments)}function ci(){return(ci=(0,C.Z)(function*(f,u,d){const m=_n(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Be(m,_,d),yield vi(m,_,"getOobCode",re)})).apply(this,arguments)}function va(f,u,d){return Si.apply(this,arguments)}function Si(){return Si=(0,C.Z)(function*(f,u,d){yield Cl((0,K.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ai(f),_});return function(_){return m.apply(this,arguments)}}())}),Si.apply(this,arguments)}function Ag(f,u){return ru.apply(this,arguments)}function ru(){return ru=(0,C.Z)(function*(f,u){yield function kh(f,u){return Hc.apply(this,arguments)}((0,K.m9)(f),{oobCode:u})}),ru.apply(this,arguments)}function Al(f,u){return rf.apply(this,arguments)}function rf(){return(rf=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),m=yield Cl(d,{oobCode:u}),_=m.requestType;switch(ae(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(m.mfaInfo,d,"internal-error");default:ae(m.email,d,"internal-error")}let E=null;return m.mfaInfo&&(E=Tt._fromServerResponse(_n(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function F0(f,u){return on.apply(this,arguments)}function on(){return(on=(0,C.Z)(function*(f,u){const{data:d}=yield Al((0,K.m9)(f),u);return d.email})).apply(this,arguments)}function be(f,u,d){return Je.apply(this,arguments)}function Je(){return(Je=(0,C.Z)(function*(f,u,d){const m=_n(f),k=yield vi(m,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oo).catch(oe=>{throw"auth/password-does-not-meet-requirements"===oe.code&&ai(f),oe}),H=yield ar._fromIdTokenResponse(m,"signIn",k);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}function sn(f,u,d){return nu((0,K.m9)(f),zh.credential(u,d)).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ai(f),_});return function(_){return m.apply(this,arguments)}}())}function Fr(f,u,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,C.Z)(function*(f,u,d){const m=_n(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function E(k,H){ae(H.handleCodeInApp,m,"argument-error"),H&&Be(m,k,H)})(_,d),yield vi(m,_,"getOobCode",Nh)})).apply(this,arguments)}function bi(f,u){const d=Ms.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function ba(f,u,d){return yn.apply(this,arguments)}function yn(){return(yn=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=zh.credentialWithLink(u,d||In());return ae(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),nu(m,_)})).apply(this,arguments)}function Go(){return(Go=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:createAuthUri",$(f,u))})).apply(this,arguments)}function et(f,u){return ks.apply(this,arguments)}function ks(){return ks=(0,C.Z)(function*(f,u){const m={identifier:u,continueUri:Sn()?In():"http://localhost"},{signinMethods:_}=yield function Wo(f,u){return Go.apply(this,arguments)}((0,K.m9)(f),m);return _||[]}),ks.apply(this,arguments)}function Sg(f,u){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&Be(d.auth,_,u);const{email:E}=yield function rS(f,u){return bg.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),Ko.apply(this,arguments)}function Rn(f,u,d){return Os.apply(this,arguments)}function Os(){return Os=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&Be(m.auth,E,d);const{email:k}=yield function Fh(f,u){return Lh.apply(this,arguments)}(m.auth,E);k!==f.email&&(yield f.reload())}),Os.apply(this,arguments)}function vr(){return(vr=(0,C.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Sl(f,u){return ou.apply(this,arguments)}function ou(){return ou=(0,C.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const m=(0,K.m9)(f),E={idToken:yield m.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},k=yield mn(m,function Ea(f,u){return vr.apply(this,arguments)}(m.auth,E));m.displayName=k.displayName||null,m.photoURL=k.photoUrl||null;const H=m.providerData.find(({providerId:oe})=>"password"===oe);H&&(H.displayName=m.displayName,H.photoURL=m.photoURL),yield m._updateTokensIfNecessary(k)}),ou.apply(this,arguments)}function Zo(f,u){return wa((0,K.m9)(f),u,null)}function Do(f,u){return wa((0,K.m9)(f),null,u)}function wa(f,u,d){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,C.Z)(function*(f,u,d){const{auth:m}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(E.email=u),d&&(E.password=d);const k=yield mn(f,function Ph(f,u){return $c.apply(this,arguments)}(m,E));yield f._updateTokensIfNecessary(k,!0)}),Ns.apply(this,arguments)}class Ml{constructor(u,d,m={}){this.isNewUser=u,this.providerId=d,this.profile=m}}class su extends Ml{constructor(u,d,m,_){super(u,d,m),this.username=_}}class Mg extends Ml{constructor(u,d){super(u,"facebook.com",d)}}class so extends su{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class au extends Ml{constructor(u,d){super(u,"google.com",d)}}class Ia extends su{constructor(u,d,m){super(u,"twitter.com",d,m)}}function Rl(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function gt(f){var u,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const k=null===(d=null===(u=Mn(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(k)return new Ml(E,"anonymous"!==k&&"custom"!==k?k:null)}if(!m)return null;switch(m){case"facebook.com":return new Mg(E,_);case"github.com":return new so(E,_);case"google.com":return new au(E,_);case"twitter.com":return new Ia(E,_,f.screenName||null);case"custom":case"anonymous":return new Ml(E,null);default:return new Ml(E,m,_)}}(d)}function L0(f){return(0,K.m9)(f).signOut()}class Ls{constructor(u,d,m){this.type=u,this.credential=d,this.user=m}static _fromIdtoken(u,d){return new Ls("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ls("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,m;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ls._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return Ls._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Pg{constructor(u,d,m){this.session=u,this.hints=d,this.signInResolver=m}static _fromError(u,d){const m=_n(u),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(H=>Tt._fromServerResponse(m,H));ae(_.mfaPendingCredential,m,"internal-error");const k=Ls._fromMfaPendingCredential(_.mfaPendingCredential);return new Pg(k,E,function(){var H=(0,C.Z)(function*(oe){const xe=yield oe._process(m,k);delete _.mfaInfo,delete _.mfaPendingCredential;const Ue=Object.assign(Object.assign({},_),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(d.operationType){case"signIn":const wt=yield ar._fromIdTokenResponse(m,d.operationType,Ue);return yield m._updateCurrentUser(wt.user),wt;case"reauthenticate":return ae(d.user,m,"internal-error"),ar._forOperation(d.user,d.operationType,Ue);default:pt(m,"internal-error")}});return function(oe){return H.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,C.Z)(function*(){return d.signInResolver(u)})()}}function aS(f,u){var d;const m=(0,K.m9)(f),_=u;return ae(u.customData.operationType,m,"argument-error"),ae(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),Pg._fromError(m,_)}class kg{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>Tt._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new kg(u)}getSession(){var u=this;return(0,C.Z)(function*(){return Ls._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var m=this;return(0,C.Z)(function*(){const _=u,E=yield m.getSession(),k=yield mn(m.user,_._process(m.user.auth,E,d));return yield m.user._updateTokensIfNecessary(k),m.user.reload()})()}unenroll(u){var d=this;return(0,C.Z)(function*(){const m="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const E=yield mn(d.user,function dS(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:withdraw",$(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:k})=>k!==m),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Og=new WeakMap;function hS(f){const u=(0,K.m9)(f);return Og.has(u)||Og.set(u,kg._fromUser(u)),Og.get(u)}const cf="__sak";class V0{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const B0=(()=>{class f extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ng(){const f=(0,K.z$)();return Oe(f)||Ie(f)}()&&function Ae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),E=this.localCache[m];_!==E&&d(m,E,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((H,oe,xe)=>{this.notifyListeners(H,xe)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(_);if(d.newValue!==H)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const E=()=>{const H=this.storage.getItem(_);!m&&this.localCache[_]===H||this.notifyListeners(_,H)},k=this.storage.getItem(_);!function L(){return(0,K.w1)()&&10===document.documentMode}()||k===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,m),E.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield m().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var m=()=>super._remove,_=this;return(0,C.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),lo=(()=>{class f extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let mS=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(E=>E.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:k,data:H}=_.data,oe=m.handlersMap[k];if(!oe?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:k});const xe=Array.from(oe).map(function(){var wt=(0,C.Z)(function*(Pi){return Pi(_.origin,H)});return function(Pi){return wt.apply(this,arguments)}}()),Ue=yield function pS(f){return Promise.all(f.map(function(){var u=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return u.apply(this,arguments)}}()))}(xe);_.ports[0].postMessage({status:"done",eventId:E,eventType:k,response:Ue})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Pn(f="",u=10){let d="";for(let m=0;m<u;m++)d+=Math.floor(10*Math.random());return f+d}class lu{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,m=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let k,H;return new Promise((oe,xe)=>{const Ue=Pn("",20);E.port1.start();const wt=setTimeout(()=>{xe(new Error("unsupported_event"))},m);H={messageChannel:E,onMessage(Pi){const Mo=Pi;if(Mo.data.eventId===Ue)switch(Mo.data.status){case"ack":clearTimeout(wt),k=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(k),oe(Mo.data.response);break;default:clearTimeout(wt),clearTimeout(k),xe(new Error("invalid_response"))}}},_.handlers.add(H),E.port1.addEventListener("message",H.onMessage),_.target.postMessage({eventType:u,eventId:Ue,data:d},[E.port2])}).finally(()=>{H&&_.removeMessageHandler(H)})})()}}function Bt(){return window}function cu(){return typeof Bt().WorkerGlobalScope<"u"&&"function"==typeof Bt().importScripts}function uu(){return(uu=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const du="firebaseLocalStorageDb",Pl="firebaseLocalStorage",hf="fbase_key";class Ca{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Vs(f,u){return f.transaction([Pl],u?"readwrite":"readonly").objectStore(Pl)}function Qo(){const f=indexedDB.open(du,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Pl,{keyPath:hf})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Pl)?u(m):(m.close(),yield function kl(){const f=indexedDB.deleteDatabase(du);return new Ca(f).toPromise()}(),u(yield Qo()))}))})}function ff(f,u,d){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,C.Z)(function*(f,u,d){const m=Vs(f,!0).put({[hf]:u,value:d});return new Ca(m).toPromise()})).apply(this,arguments)}function jg(){return(jg=(0,C.Z)(function*(f,u){const d=Vs(f,!1).get(u),m=yield new Ca(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function zg(f,u){const d=Vs(f,!0).delete(u);return new Ca(d).toPromise()}const hu=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield Qo()),d.db})()}_withRetries(d){var m=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield m._openDb();return yield d(E)}catch(E){if(_++>3)throw E;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return cu()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=mS._getInstance(function Bg(){return cu()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function Vg(){return uu.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new lu(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(m=E[0])&&void 0!==m&&m.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,C.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function uf(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Qo();return yield ff(d,cf,"1"),yield zg(d,cf),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,C.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>ff(E,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=yield m._withRetries(E=>function gS(f,u){return jg.apply(this,arguments)}(E,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,C.Z)(function*(){return m._withPendingWrite((0,C.Z)(function*(){return yield m._withRetries(_=>zg(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const m=yield d._withRetries(k=>{const H=Vs(k,!1).getAll();return new Ca(H).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;if(0!==m.length)for(const{fbase_key:k,value:H}of m)E.add(k),JSON.stringify(d.localCache[k])!==JSON.stringify(H)&&(d.notifyListeners(k,H),_.push(k));for(const k of Object.keys(d.localCache))d.localCache[k]&&!E.has(k)&&(d.notifyListeners(k,null),_.push(k));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Ol=1e12;class $g{constructor(u){this.auth=u,this.counter=Ol,this._widgets=new Map}render(u,d){const m=this.counter;return this._widgets.set(m,new H0(u,this.auth.name,d||{})),this.counter++,m}reset(u){var d;const m=u||Ol;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Ol))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,C.Z)(function*(){var m;return null===(m=d._widgets.get(u||Ol))||void 0===m||m.execute(),""})()}}class H0{constructor(u,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;ae(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function q0(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mf=D0("rcb"),Hg=new Xi(3e4,6e4);class qg{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Bt().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ae(function G0(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&qn(Bt().grecaptcha)?Promise.resolve(Bt().grecaptcha):new Promise((m,_)=>{const E=Bt().setTimeout(()=>{_(zt(u,"network-request-failed"))},Hg.get());Bt()[mf]=()=>{Bt().clearTimeout(E),delete Bt()[mf];const H=Bt().grecaptcha;if(!H||!qn(H))return void _(zt(u,"internal-error"));const oe=H.render;H.render=(xe,Ue)=>{const wt=oe(xe,Ue);return this.counter++,wt},this.hostLanguage=d,m(H)},pg(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:mf,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Bt().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bS{load(u){return(0,C.Z)(function*(){return new $g(u)})()}clearedOneInstance(){}}const Wg="recaptcha",br={theme:"light",type:"image"};class Gg{constructor(u,d,m=Object.assign({},br)){this.parameters=m,this.type=Wg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(u),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ae(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bS:new qg,this.validateStartingState()}verify(){var u=this;return(0,C.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(d)||new Promise(E=>{const k=H=>{H&&(u.tokenChangeListeners.delete(k),E(H))};u.tokenChangeListeners.add(k),u.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof u)u(d);else if("string"==typeof u){const m=Bt()[u];"function"==typeof m&&m(d)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,C.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,C.Z)(function*(){ae(Sn()&&!cu(),u.auth,"internal-error"),yield function K0(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Ui(f){return Pr.apply(this,arguments)}(u.auth);ae(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gf{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=qo._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Kg(f,u,d){return fu.apply(this,arguments)}function fu(){return(fu=(0,C.Z)(function*(f,u,d){const m=_n(f),_=yield Fl(m,u,(0,K.m9)(d));return new gf(_,E=>nu(m,E))})).apply(this,arguments)}function Z0(f,u,d){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);yield eu(!1,m,"phone");const _=yield Fl(m.auth,u,(0,K.m9)(d));return new gf(_,E=>Yh(m,E))})).apply(this,arguments)}function Q0(f,u,d){return Er.apply(this,arguments)}function Er(){return(Er=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=yield Fl(m.auth,u,(0,K.m9)(d));return new gf(_,E=>Dg(m,E))})).apply(this,arguments)}function Fl(f,u,d){return pu.apply(this,arguments)}function pu(){return pu=(0,C.Z)(function*(f,u,d){var m;const _=yield d.verify();try{let E;if(ae("string"==typeof _,f,"argument-error"),ae(d.type===Wg,f,"argument-error"),E="string"==typeof u?{phoneNumber:u}:u,"session"in E){const k=E.session;if("phoneNumber"in E)return ae("enroll"===k.type,f,"internal-error"),(yield function lS(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:start",$(f,u))}(f,{idToken:k.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ae("signin"===k.type,f,"internal-error");const H=(null===(m=E.multiFactorHint)||void 0===m?void 0:m.uid)||E.multiFactorUid;return ae(H,f,"missing-multi-factor-info"),(yield function z0(f,u){return ne(f,"POST","/v2/accounts/mfaSignIn:start",$(f,u))}(f,{mfaPendingCredential:k.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:k}=yield function P0(f,u){return Uh.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return k}}finally{d._reset()}}),pu.apply(this,arguments)}function Jt(f,u){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,C.Z)(function*(f,u){yield Jc((0,K.m9)(f),u)})).apply(this,arguments)}let mu=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=_n(d)}verifyPhoneNumber(d,m){return Fl(this.auth,d,(0,K.m9)(m))}static credential(d,m){return qo._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?qo._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Vn(f,u){return u?Q(u):(ae(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class _f extends fa{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return $o(u,this._buildIdpRequest())}_linkToIdToken(u,d){return $o(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return $o(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Zg(f){return Tg(f.auth,new _f(f),f.bypassAuthState)}function Ta(f){const{auth:u,user:d}=f;return ae(d,u,"internal-error"),Cg(d,new _f(f),f.bypassAuthState)}function ur(f){return yf.apply(this,arguments)}function yf(){return(yf=(0,C.Z)(function*(f){const{auth:u,user:d}=f;return ae(d,u,"internal-error"),Jc(d,new _f(f),f.bypassAuthState)})).apply(this,arguments)}class Qg{constructor(u,d,m,_,E=!1){this.auth=u,this.resolver=m,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,C.Z)(function*(m,_){u.pendingPromise={resolve:m,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(E){u.reject(E)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,C.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:E,tenantId:k,error:H,type:oe}=u;if(H)return void d.reject(H);const xe={auth:d.auth,requestUri:m,sessionId:_,tenantId:k||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(oe)(xe))}catch(Ue){d.reject(Ue)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Zg;case"linkViaPopup":case"linkViaRedirect":return ur;case"reauthViaPopup":case"reauthViaRedirect":return Ta;default:pt(this.auth,"internal-error")}}resolve(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y0=new Xi(2e3,1e4);function Yo(f,u,d){return gu.apply(this,arguments)}function gu(){return(gu=(0,C.Z)(function*(f,u,d){const m=_n(f);Nn(f,u,Co);const _=Vn(m,d);return new vf(m,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function X0(f,u,d){return _u.apply(this,arguments)}function _u(){return(_u=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);Nn(m.auth,u,Co);const _=Vn(m.auth,d);return new vf(m.auth,"reauthViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}function Yg(f,u,d){return yu.apply(this,arguments)}function yu(){return(yu=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);Nn(m.auth,u,Co);const _=Vn(m.auth,d);return new vf(m.auth,"linkViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}let vf=(()=>{class f extends Qg{constructor(d,m,_,E,k){super(d,m,E,k),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const m=yield d.execute();return ae(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,C.Z)(function*(){tn(1===d.filter.length,"Popup operations only handle one event");const m=Pn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Y0.get())};d()}}return f.currentPopupAction=null,f})();const qe="pendingRedirect",Da=new Map;class ES extends Qg{constructor(u,d,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,C.Z)(function*(){let m=Da.get(d.auth._key());if(!m){try{const E=(yield function J0(f,u){return bf.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;m=()=>Promise.resolve(E)}catch(_){m=()=>Promise.reject(_)}Da.set(d.auth._key(),m)}return d.bypassAuthState||Da.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,m=this;return(0,C.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(m,u);if("unknown"!==u.type){if(u.eventId){const _=yield m.auth._redirectUserForId(u.eventId);if(_)return m.user=_,d().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function bf(){return(bf=(0,C.Z)(function*(f,u){const d=e_(u),m=Jg(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function Ef(f,u){return vu.apply(this,arguments)}function vu(){return(vu=(0,C.Z)(function*(f,u){return Jg(f)._set(e_(u),"true")})).apply(this,arguments)}function Aa(){Da.clear()}function Xg(f,u){Da.set(f._key(),u)}function Jg(f){return Q(f._redirectPersistence)}function e_(f){return He(qe,f.config.apiKey,f.name)}function eE(f,u,d){return function tE(f,u,d){return ie.apply(this,arguments)}(f,u,d)}function ie(){return(ie=(0,C.Z)(function*(f,u,d){const m=_n(f);Nn(f,u,Co),yield m._initializationPromise;const _=Vn(m,d);return yield Ef(_,m),_._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function St(f,u,d){return function co(f,u,d){return wr.apply(this,arguments)}(f,u,d)}function wr(){return(wr=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);Nn(m.auth,u,Co),yield m.auth._initializationPromise;const _=Vn(m.auth,d);yield Ef(_,m.auth);const E=yield nE(m);return _._openRedirect(m.auth,u,"reauthViaRedirect",E)})).apply(this,arguments)}function di(f,u,d){return function t_(f,u,d){return Bs.apply(this,arguments)}(f,u,d)}function Bs(){return(Bs=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);Nn(m.auth,u,Co),yield m.auth._initializationPromise;const _=Vn(m.auth,d);yield eu(!1,m,u.providerId),yield Ef(_,m.auth);const E=yield nE(m);return _._openRedirect(m.auth,u,"linkViaRedirect",E)})).apply(this,arguments)}function uo(f,u){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,C.Z)(function*(f,u){return yield _n(f)._initializationPromise,Bl(f,u,!1)})).apply(this,arguments)}function Bl(f,u){return wf.apply(this,arguments)}function wf(){return(wf=(0,C.Z)(function*(f,u,d=!1){const m=_n(f),_=Vn(m,u),k=yield new ES(m,_,d).execute();return k&&!d&&(delete k.user._redirectEventId,yield m._persistUserIfCurrent(k.user),yield m._setRedirectUser(null,u)),k})).apply(this,arguments)}function nE(f){return bu.apply(this,arguments)}function bu(){return(bu=(0,C.Z)(function*(f){const u=Pn(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class ho{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(d=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Ao(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Us(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var m;if(u.error&&!Us(u)){const _=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(zt(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const m=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(If(u))}saveEventToCache(u){this.cachedEventUids.add(If(u)),this.lastProcessedEventTime=Date.now()}}function If(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Us({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function n_(f){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,C.Z)(function*(f,u={}){return ne(f,"GET","/v1/projects",u)})).apply(this,arguments)}const iE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rE=/^https?/;function Ul(){return(Ul=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield n_(f);for(const d of u)try{if(i_(d))return}catch{}pt(f,"unauthorized-domain")})).apply(this,arguments)}function i_(f){const u=In(),{protocol:d,hostname:m}=new URL(u);if(f.startsWith("chrome-extension://")){const k=new URL(f);return""===k.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&k.hostname===m}if(!rE.test(d))return!1;if(iE.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const Cf=new Xi(3e4,6e4);function r_(){const f=Bt().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Sa=null;const a_=new Xi(5e3,15e3),l_="__/auth/iframe",c_="emulator/auth/iframe",Tf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sE(f){const u=f.config;ae(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?xo(u,c_):`https://${f.config.authDomain}/${l_}`,m={apiKey:u.apiKey,appName:f.name,v:O.SDK_VERSION},_=oE.get(f.config.apiHost);_&&(m.eid=_);const E=f._getFrameworks();return E.length&&(m.fw=E.join(",")),`${d}?${(0,K.xO)(m).slice(1)}`}function So(){return So=(0,C.Z)(function*(f){const u=yield function s_(f){return Sa=Sa||function o_(f){return new Promise((u,d)=>{var m,_,E;function k(){r_(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{r_(),d(zt(f,"network-request-failed"))},timeout:Cf.get()})}if(null!==(_=null===(m=Bt().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(E=Bt().gapi)||void 0===E||!E.load){const H=D0("iframefcb");return Bt()[H]=()=>{gapi.load?k():d(zt(f,"network-request-failed"))},pg(`https://apis.google.com/js/api.js?onload=${H}`).catch(oe=>d(oe))}k()}}).catch(u=>{throw Sa=null,u})}(f),Sa}(f),d=Bt().gapi;return ae(d,f,"internal-error"),u.open({where:document.body,url:sE(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tf,dontclear:!0},m=>new Promise(function(){var _=(0,C.Z)(function*(E,k){yield m.restyle({setHideOnLeave:!1});const H=zt(f,"network-request-failed"),oe=Bt().setTimeout(()=>{k(H)},a_.get());function xe(){Bt().clearTimeout(oe),E(m)}m.ping(xe).then(xe,()=>{k(H)})});return function(E,k){return _.apply(this,arguments)}}()))}),So.apply(this,arguments)}const vn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Df{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xo="__/auth/handler",dE="emulator/auth/handler",Iu=encodeURIComponent("fac");function Ma(f,u,d,m,_,E){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,C.Z)(function*(f,u,d,m,_,E){ae(f.config.authDomain,f,"auth-domain-config-required"),ae(f.config.apiKey,f,"invalid-api-key");const k={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:O.SDK_VERSION,eventId:_};if(u instanceof Co){u.setDefaultLanguage(f.languageCode),k.providerId=u.providerId||"",(0,K.xb)(u.getCustomParameters())||(k.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Ue,wt]of Object.entries(E||{}))k[Ue]=wt}if(u instanceof ga){const Ue=u.getScopes().filter(wt=>""!==wt);Ue.length>0&&(k.scopes=Ue.join(","))}f.tenantId&&(k.tid=f.tenantId);const H=k;for(const Ue of Object.keys(H))void 0===H[Ue]&&delete H[Ue];const oe=yield f._getAppCheckToken(),xe=oe?`#${Iu}=${encodeURIComponent(oe)}`:"";return`${function Af({config:f}){return f.emulator?xo(f,dE):`https://${f.authDomain}/${Xo}`}(f)}?${(0,K.xO)(H).slice(1)}${xe}`})).apply(this,arguments)}const xu="webStorageSupport",h_=class d_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=Bl,this._overrideRedirectResult=Xg}_openPopup(u,d,m,_){var E=this;return(0,C.Z)(function*(){var k;tn(null===(k=E.eventManagers[u._key()])||void 0===k?void 0:k.manager,"_initialize() not called before _openPopup()");const H=yield Ma(u,d,m,In(),_);return function u_(f,u,d,m=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),k=Math.max((window.screen.availWidth-m)/2,0).toString();let H="";const oe=Object.assign(Object.assign({},vn),{width:m.toString(),height:_.toString(),top:E,left:k}),xe=(0,K.z$)().toLowerCase();d&&(H=ti(xe)?"_blank":d),qt(xe)&&(u=u||"http://localhost",oe.scrollbars="yes");const Ue=Object.entries(oe).reduce((Pi,[Mo,Hl])=>`${Pi}${Mo}=${Hl},`,"");if(function mt(f=(0,K.z$)()){var u;return Ie(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(xe)&&"_self"!==H)return function wu(f,u){const d=document.createElement("a");d.href=f,d.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(u||"",H),new Df(null);const wt=window.open(u||"",H,Ue);ae(wt,f,"popup-blocked");try{wt.focus()}catch{}return new Df(wt)}(u,H,Pn())})()}_openRedirect(u,d,m,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(u),function Lg(f){Bt().location.href=f}(yield Ma(u,d,m,In(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(tn(E,"If manager is not set, promise should be"),E)}const m=this.initAndGetManager(u);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(u){var d=this;return(0,C.Z)(function*(){const m=yield function Ri(f){return So.apply(this,arguments)}(u),_=new ho(u);return m.register("authEvent",E=>(ae(E?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=m,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(xu,{type:xu},_=>{var E;const k=null===(E=_?.[0])||void 0===E?void 0:E[xu];void 0!==k&&d(!!k),pt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function xf(f){return Ul.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return gn()||Oe()||Ie()}};class Pa{constructor(u){this.factorId=u}_process(u,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,m);case"signin":return this._finalizeSignIn(u,d.credential);default:return xt("unexpected MultiFactorSessionType")}}}class js extends Pa{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new js(u)}_finalizeEnroll(u,d,m){return function cS(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:finalize",$(f,u))}(u,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function pf(f,u){return ne(f,"POST","/v2/accounts/mfaSignIn:finalize",$(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hE=(()=>{class f{constructor(){}static assertion(d){return js._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var f_="@firebase/auth";class wS{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $l=(0,K.Pz)("authIdTokenMaxAge")||300;let Tu=null;const Du=f=>function(){var u=(0,C.Z)(function*(d){const m=d&&(yield d.getIdTokenResult()),_=m&&((new Date).getTime()-Date.parse(m.issuedAtTime))/1e3;if(_&&_>$l)return;const E=m?.token;Tu!==E&&(Tu=E,yield fetch(f,{method:E?"POST":"DELETE",headers:E?{Authorization:`Bearer ${E}`}:{}}))});return function(d){return u.apply(this,arguments)}}();function IS(f=(0,O.getApp)()){const u=(0,O._getProvider)(f,"auth");if(u.isInitialized())return u.getImmediate();const d=function iS(f,u){const d=(0,O._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),E=d.getOptions();if((0,K.vZ)(E,u??{}))return _;pt(_,"already-initialized")}return d.initialize({options:u})}(f,{popupRedirectResolver:h_,persistence:[hu,B0,lo]}),m=(0,K.Pz)("authTokenSyncURL");if(m){const E=Du(m);(function Fs(f,u,d){(0,K.m9)(f).beforeAuthStateChanged(u,d)})(d,E,()=>E(d.currentUser)),function sf(f,u,d,m){(0,K.m9)(f).onIdTokenChanged(u,d,m)}(d,k=>E(k))}const _=(0,K.q4)("auth");return _&&M0(d,`http://${_}`),d}!function zl(f){(0,O._registerComponent)(new hn.wA("auth",(u,{options:d})=>{const m=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),E=u.getProvider("app-check-internal"),{apiKey:k,authDomain:H}=m.options;ae(k&&!k.includes(":"),"invalid-api-key",{appName:m.name});const oe={apiKey:k,authDomain:H,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(f)},xe=new JA(m,_,E,oe);return function he(f,u){const d=u?.persistence||[],m=(Array.isArray(d)?d:[d]).map(Q);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(m,u?.popupRedirectResolver)}(xe,d),xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,m)=>{u.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new hn.wA("auth-internal",u=>{const d=_n(u.getProvider("auth").getImmediate());return new wS(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(f_,"1.5.1",function Sf(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,O.registerVersion)(f_,"1.5.1","esm2017")}("Browser")},58:(Yr,zn,je)=>{je.d(zn,{BH:()=>Yi,L:()=>Dt,LL:()=>te,P0:()=>fn,Pz:()=>zt,Sg:()=>Nn,UG:()=>xt,ZB:()=>Re,ZR:()=>ne,aH:()=>pt,b$:()=>Sn,eu:()=>G,hl:()=>q,jU:()=>tn,m9:()=>io,ne:()=>Ji,pd:()=>Or,q4:()=>Hn,r3:()=>Wn,ru:()=>In,tV:()=>ee,uI:()=>ae,vZ:()=>Xr,w1:()=>Rr,xO:()=>eo,xb:()=>Ui,z$:()=>at,zd:()=>kr});const Pe=function(M){const D=[];let b=0;for(let I=0;I<M.length;I++){let v=M.charCodeAt(I);v<128?D[b++]=v:v<2048?(D[b++]=v>>6|192,D[b++]=63&v|128):55296==(64512&v)&&I+1<M.length&&56320==(64512&M.charCodeAt(I+1))?(v=65536+((1023&v)<<10)+(1023&M.charCodeAt(++I)),D[b++]=v>>18|240,D[b++]=v>>12&63|128,D[b++]=v>>6&63|128,D[b++]=63&v|128):(D[b++]=v>>12|224,D[b++]=v>>6&63|128,D[b++]=63&v|128)}return D},hn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,D){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let v=0;v<M.length;v+=3){const S=M[v],Q=v+1<M.length,Ce=Q?M[v+1]:0,De=v+2<M.length,He=De?M[v+2]:0;let qt=(15&Ce)<<2|He>>6,Oe=63&He;De||(Oe=64,Q||(qt=64)),I.push(b[S>>2],b[(3&S)<<4|Ce>>4],b[qt],b[Oe])}return I.join("")},encodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(M):this.encodeByteArray(Pe(M),D)},decodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(M):function(M){const D=[];let b=0,I=0;for(;b<M.length;){const v=M[b++];if(v<128)D[I++]=String.fromCharCode(v);else if(v>191&&v<224){const S=M[b++];D[I++]=String.fromCharCode((31&v)<<6|63&S)}else if(v>239&&v<365){const De=((7&v)<<18|(63&M[b++])<<12|(63&M[b++])<<6|63&M[b++])-65536;D[I++]=String.fromCharCode(55296+(De>>10)),D[I++]=String.fromCharCode(56320+(1023&De))}else{const S=M[b++],Q=M[b++];D[I++]=String.fromCharCode((15&v)<<12|(63&S)<<6|63&Q)}}return D.join("")}(this.decodeStringToByteArray(M,D))},decodeStringToByteArray(M,D){this.init_();const b=D?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let v=0;v<M.length;){const S=b[M.charAt(v++)],Ce=v<M.length?b[M.charAt(v)]:0;++v;const He=v<M.length?b[M.charAt(v)]:64;++v;const ve=v<M.length?b[M.charAt(v)]:64;if(++v,null==S||null==Ce||null==He||null==ve)throw new An;I.push(S<<2|Ce>>4),64!==He&&(I.push(Ce<<4&240|He>>2),64!==ve&&I.push(He<<6&192|ve))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class An extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dt=function(M){return function(M){const D=Pe(M);return hn.encodeByteArray(D,!0)}(M).replace(/\./g,"")},ee=function(M){try{return hn.decodeString(M,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Re(M,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return D}for(const b in D)!D.hasOwnProperty(b)||!it(b)||(M[b]=Re(M[b],D[b]));return M}function it(M){return"__proto__"!==M}const Ye=()=>{try{return function Pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=M&&ee(M[1]);return D&&JSON.parse(D)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},Hn=M=>{var D,b;return null===(b=null===(D=Ye())||void 0===D?void 0:D.emulatorHosts)||void 0===b?void 0:b[M]},fn=M=>{const D=Hn(M);if(!D)return;const b=D.lastIndexOf(":");if(b<=0||b+1===D.length)throw new Error(`Invalid host ${D} with no separate hostname and port!`);const I=parseInt(D.substring(b+1),10);return"["===D[0]?[D.substring(1,b-1),I]:[D.substring(0,b),I]},pt=()=>{var M;return null===(M=Ye())||void 0===M?void 0:M.config},zt=M=>{var D;return null===(D=Ye())||void 0===D?void 0:D[`_${M}`]};class Yi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,b)=>{this.resolve=D,this.reject=b})}wrapCallback(D){return(b,I)=>{b?this.reject(b):this.resolve(I),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(b):D(b,I))}}}function Nn(M,D){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=D||"demo-project",v=M.iat||0,S=M.sub||M.user_id;if(!S)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Q=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:v,exp:v+3600,auth_time:v,sub:S,user_id:S,firebase:{sign_in_provider:"custom",identities:{}}},M);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(Q)),""].join(".")}function at(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function xt(){var M;const D=null===(M=Ye())||void 0===M?void 0:M.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tn(){return"object"==typeof self&&self.self===self}function In(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function Sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rr(){const M=at();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function q(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((M,D)=>{try{let b=!0;const I="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(I);v.onsuccess=()=>{v.result.close(),b||self.indexedDB.deleteDatabase(I),M(!0)},v.onupgradeneeded=()=>{b=!1},v.onerror=()=>{var S;D((null===(S=v.error)||void 0===S?void 0:S.message)||"")}}catch(b){D(b)}})}class ne extends Error{constructor(D,b,I){super(b),this.code=D,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(D,b,I){this.service=D,this.serviceName=b,this.errors=I}create(D,...b){const I=b[0]||{},v=`${this.service}/${D}`,S=this.errors[D],Q=S?function me(M,D){return M.replace(ft,(b,I)=>{const v=D[I];return null!=v?String(v):`<${I}?>`})}(S,I):"Error";return new ne(v,`${this.serviceName}: ${Q} (${v}).`,I)}}const ft=/\{\$([^}]+)}/g;function Wn(M,D){return Object.prototype.hasOwnProperty.call(M,D)}function Ui(M){for(const D in M)if(Object.prototype.hasOwnProperty.call(M,D))return!1;return!0}function Xr(M,D){if(M===D)return!0;const b=Object.keys(M),I=Object.keys(D);for(const v of b){if(!I.includes(v))return!1;const S=M[v],Q=D[v];if(bt(S)&&bt(Q)){if(!Xr(S,Q))return!1}else if(S!==Q)return!1}for(const v of I)if(!b.includes(v))return!1;return!0}function bt(M){return null!==M&&"object"==typeof M}function eo(M){const D=[];for(const[b,I]of Object.entries(M))Array.isArray(I)?I.forEach(v=>{D.push(encodeURIComponent(b)+"="+encodeURIComponent(v))}):D.push(encodeURIComponent(b)+"="+encodeURIComponent(I));return D.length?"&"+D.join("&"):""}function kr(M){const D={};return M.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[v,S]=I.split("=");D[decodeURIComponent(v)]=decodeURIComponent(S)}}),D}function Or(M){const D=M.indexOf("?");if(!D)return"";const b=M.indexOf("#",D);return M.substring(D,b>0?b:void 0)}function Ji(M,D){const b=new er(M,D);return b.subscribe.bind(b)}class er{constructor(D,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{D(this)}).catch(I=>{this.error(I)})}next(D){this.forEachObserver(b=>{b.next(D)})}error(D){this.forEachObserver(b=>{b.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,b,I){let v;if(void 0===D&&void 0===b&&void 0===I)throw new Error("Missing Observer.");v=function si(M,D){if("object"!=typeof M||null===M)return!1;for(const b of D)if(b in M&&"function"==typeof M[b])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:b,complete:I},void 0===v.next&&(v.next=jt),void 0===v.error&&(v.error=jt),void 0===v.complete&&(v.complete=jt);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),S}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,D)}sendOne(D,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{b(this.observers[D])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}function io(M){return M&&M._delegate?M._delegate:M}},676:(Yr,zn,je)=>{function C(n){return"function"==typeof n}function K(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=K(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Pe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class yt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(C(i))try{i()}catch(o){e=o instanceof O?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Xt(o)}catch(s){e=e??[],s instanceof O?e=[...e,...s.errors]:e.push(s)}}if(e)throw new O(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Xt(e);else{if(e instanceof yt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pe(t,e)}remove(e){const{_finalizers:t}=this;t&&Pe(t,e),e instanceof yt&&e._removeParent(this)}}yt.EMPTY=(()=>{const n=new yt;return n.closed=!0,n})();const hn=yt.EMPTY;function An(n){return n instanceof yt||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function Xt(n){C(n)?n():n.unsubscribe()}const Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(n,e,...t){const{delegate:i}=ee;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ee;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ue(n){ee.setTimeout(()=>{const{onUnhandledError:e}=Dt;if(!e)throw n;e(n)})}function Re(){}const it=vt("C",void 0,void 0);function vt(n,e,t){return{kind:n,value:e,error:t}}let Qe=null;function Ye(n){if(Dt.useDeprecatedSynchronousErrorHandling){const e=!Qe;if(e&&(Qe={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Qe;if(Qe=null,t)throw i}}else n()}class fn extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,An(e)&&e.add(this)):this.destination=tn}static create(e,t,i){return new Nn(e,t,i)}next(e){this.isStopped?xt(function $n(n){return vt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?xt(function Pt(n){return vt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xt(it,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function zt(n,e){return pt.call(n,e)}class Yi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){at(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){at(i)}else at(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){at(t)}}}class Nn extends fn{constructor(e,t,i){let r;if(super(),C(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&zt(e.next,o),error:e.error&&zt(e.error,o),complete:e.complete&&zt(e.complete,o)}):r=e}this.destination=new Yi(r)}}function at(n){Dt.useDeprecatedSynchronousErrorHandling?function Hn(n){Dt.useDeprecatedSynchronousErrorHandling&&Qe&&(Qe.errorThrown=!0,Qe.error=n)}(n):ue(n)}function xt(n,e){const{onStoppedNotification:t}=Dt;t&&ee.setTimeout(()=>t(n,e))}const tn={closed:!0,next:Re,error:function ae(n){throw n},complete:Re},In="function"==typeof Symbol&&Symbol.observable||"@@observable";function Sn(n){return n}function Rr(n){return 0===n.length?Sn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function q(n){return n&&n instanceof fn||function xo(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&An(n)}(t)?t:new Nn(t,i,r);return Ye(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Xi(i))((r,o)=>{const s=new Nn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[In](){return this}pipe(...t){return Rr(t)(this)}toPromise(t){return new(t=Xi(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Xi(n){var e;return null!==(e=n??Dt.Promise)&&void 0!==e?e:Promise}const G=K(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new $(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new G}next(t){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?hn:(this.currentObservers=null,o.push(t),new yt(()=>{this.currentObservers=null,Pe(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Xe;return t.source=this,t}}return n.create=(e,t)=>new $(e,t),n})();class $ extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:hn}}function ne(n){return C(n?.lift)}function te(n){return e=>{if(ne(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,i,r){return new ft(n,e,t,i,r)}class ft extends fn{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(n,e){return te((t,i)=>{let r=0;t.subscribe(me(i,o=>{i.next(n.call(e,o,r++))}))})}var Ve=je(582);const Ct=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function rn(n){return C(n?.then)}function Kt(n){return C(n[In])}function pn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function qn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oi=function Wn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ui(n){return C(n?.[oi])}function Pr(n){return(0,Ve.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ve.qq)(t.read());if(r)return yield(0,Ve.qq)(void 0);yield yield(0,Ve.qq)(i)}}finally{t.releaseLock()}})}function Xr(n){return C(n?.getReader)}function bt(n){if(n instanceof Xe)return n;if(null!=n){if(Kt(n))return function Jr(n){return new Xe(e=>{const t=n[In]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ct(n))return function eo(n){return new Xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(rn(n))return function kr(n){return new Xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ue)})}(n);if(pn(n))return _i(n);if(Ui(n))return function Or(n){return new Xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Xr(n))return function Ji(n){return _i(Pr(n))}(n)}throw qn(n)}function _i(n){return new Xe(e=>{(function er(n,e){var t,i,r,o;return(0,Ve.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ve.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function tr(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function jt(n,e,t=1/0){return C(e)?jt((i,r)=>Te((o,s)=>e(i,o,r,s))(bt(n(i,r))),t):("number"==typeof e&&(t=e),te((i,r)=>function si(n,e,t,i,r,o,s,a){const l=[];let c=0,h=0,p=!1;const g=()=>{p&&!l.length&&!c&&e.complete()},y=x=>c<i?w(x):l.push(x),w=x=>{o&&e.next(x),c++;let T=!1;bt(t(x,h++)).subscribe(me(e,F=>{r?.(F),o?y(F):e.next(F)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<i;){const F=l.shift();s?tr(e,s,()=>w(F)):w(F)}g()}catch(F){e.error(F)}}))};return n.subscribe(me(e,y,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function nr(n=1/0){return jt(Sn,n)}const Mn=new Xe(n=>n.complete());function xn(n){return n&&C(n.schedule)}function to(n){return n[n.length-1]}function no(n){return C(to(n))?n.pop():void 0}function Nr(n){return xn(to(n))?n.pop():void 0}function Fn(n,e=0){return te((t,i)=>{t.subscribe(me(i,r=>tr(i,n,()=>i.next(r),e),()=>tr(i,n,()=>i.complete(),e),r=>tr(i,n,()=>i.error(r),e)))})}function yi(n,e=0){return te((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function io(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xe(t=>{tr(t,e,()=>{const i=n[Symbol.asyncIterator]();tr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function b(n,e){return e?function D(n,e){if(null!=n){if(Kt(n))return function ir(n,e){return bt(n).pipe(yi(e),Fn(e))}(n,e);if(Ct(n))return function zo(n,e){return new Xe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(rn(n))return function ha(n,e){return bt(n).pipe(yi(e),Fn(e))}(n,e);if(pn(n))return io(n,e);if(Ui(n))return function Ts(n,e){return new Xe(t=>{let i;return tr(t,e,()=>{i=n[oi](),tr(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}(n,e);if(Xr(n))return function M(n,e){return io(Pr(n),e)}(n,e)}throw qn(n)}(n,e):bt(n)}function I(...n){const e=Nr(n),t=function Gn(n,e){return"number"==typeof to(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?bt(i[0]):nr(t)(b(i,e)):Mn}class v extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function S(...n){return b(n,Nr(n))}function Q(n={}){const{connector:e=(()=>new z),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,h=p=!1},w=()=>{const x=s;y(),x?.unsubscribe()};return te((x,T)=>{c++,!p&&!h&&g();const F=l=l??e();T.add(()=>{c--,0===c&&!p&&!h&&(a=Ce(w,r))}),F.subscribe(T),!s&&c>0&&(s=new Nn({next:R=>F.next(R),error:R=>{p=!0,g(),a=Ce(y,t,R),F.error(R)},complete:()=>{h=!0,g(),a=Ce(y,i),F.complete()}}),bt(x).subscribe(s))})(o)}}function Ce(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Nn({next:()=>{i.unsubscribe(),n()}});return bt(e(...t)).subscribe(i)}function De(n,e){return te((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(me(i,l=>{r?.unsubscribe();let c=0;const h=o++;bt(n(l,h)).subscribe(r=me(i,p=>i.next(e?e(l,p,h,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function He(n,e=Sn){return n=n??At,te((t,i)=>{let r,o=!0;t.subscribe(me(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function At(n,e){return n===e}function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function qt(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ti(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ds=ve({__forward_ref__:ve});function U(n){return n.__forward_ref__=U,n.toString=function(){return Oe(this())},n}function P(n){return se(n)?n():n}function se(n){return"function"==typeof n&&n.hasOwnProperty(Ds)&&n.__forward_ref__===U}function Ie(n){return n&&!!n.\u0275providers}const mt="https://g.co/ng/security#xss";class L extends Error{constructor(e,t){super(function gn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function Rh(n,e){throw new L(-201,!1)}function vi(n,e){null==n&&function $e(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function he(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function zc(n){return vg(n,pa)||vg(n,$c)}function vg(n,e){return n.hasOwnProperty(e)?n[e]:null}function Cl(n){return n&&(n.hasOwnProperty(Ph)||n.hasOwnProperty(R0))?n[Ph]:null}const pa=ve({\u0275prov:ve}),Ph=ve({\u0275inj:ve}),$c=ve({ngInjectableDef:ve}),R0=ve({ngInjectorDef:ve});var ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ht||{});let kh;function ji(n){const e=kh;return kh=n,e}function qc(n,e,t){const i=zc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ht.Optional?null:void 0!==e?e:void Rh(Oe(n))}const Wt=globalThis;class re{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ss={},Bh="__NG_DI_FLAG__",or="ngTempTokenPath",Uh=/\n/gm,Kc="__source";let ma;function Ho(n){const e=ma;return ma=n,e}function O0(n,e=ht.Default){if(void 0===ma)throw new L(-203,!1);return null===ma?qc(n,void 0,e):ma.get(n,e&ht.Optional?null:void 0,e)}function B(n,e=ht.Default){return(function Hc(){return kh}()||O0)(P(n),e)}function fe(n,e=ht.Default){return B(n,Zc(e))}function Zc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ms(n){const e=[];for(let t=0;t<n.length;t++){const i=P(n[t]);if(Array.isArray(i)){if(0===i.length)throw new L(900,!1);let r,o=ht.Default;for(let s=0;s<i.length;s++){const a=i[s],l=zh(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function Qc(n,e){return n[Bh]=e,n.prototype[Bh]=e,n}function zh(n){return n[Bh]}function sr(n){return{toString:n}.toString()}var Yc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Yc||{}),yr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yr||{});const ro={},Ft=[],To=ve({\u0275cmp:ve}),$h=ve({\u0275dir:ve}),_a=ve({\u0275pipe:ve}),Ig=ve({\u0275mod:ve}),oo=ve({\u0275fac:ve}),Rs=ve({__NG_ELEMENT_ID__:ve}),ar=ve({__NG_ENV_ID__:ve});function Hh(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function qh(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Dl(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Xc(n){return 3===n||4===n||6===n}function Dl(n){return 64===n.charCodeAt(0)}function ya(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Wh(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Wh(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const xg="ng-template";function Gh(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==Hh(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Jc(n){return 4===n.type&&n.value!==xg}function Kh(n,e,t){return e===(4!==n.type||t?n.value:xg)}function eu(n,e,t){let i=4;const r=n.attrs||[],o=function Zh(n){for(let e=0;e<n.length;e++)if(Xc(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Kh(n,l,t)||""===l&&1===e.length){if(lr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!Gh(n.attrs,c,t)){if(lr(i))return!1;s=!0}continue}const p=Cg(8&i?"class":l,r,Jc(n),t);if(-1===p){if(lr(i))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":r[p+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==Hh(y,c,0)||2&i&&c!==g){if(lr(i))return!1;s=!0}}}}else{if(!s&&!lr(i)&&!lr(l))return!1;if(s&&lr(l))continue;s=!1,i=l|1&i}}return lr(i)||s}function lr(n){return 0==(1&n)}function Cg(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function nu(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function tu(n,e,t=!1){for(let i=0;i<e.length;i++)if(eu(n,e[i],t))return!0;return!1}function Qh(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Yh(n,e){return n?":not("+e.trim()+")":e}function Xh(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!lr(s)&&(e+=Yh(o,r),r=""),i=s,o=o||!lr(i);t++}return""!==r&&(e+=Yh(o,r)),e}function Ln(n){return sr(()=>{const e=Ag(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Yc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yr.Emulated,styles:n.styles||Ft,_:null,schemas:n.schemas||null,tView:null,id:""};ru(t);const i=n.dependencies;return t.directiveDefs=Al(i,!1),t.pipeDefs=Al(i,!0),t.id=function F0(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function N0(n){return Et(n)||li(n)}function tf(n){return null!==n}function Tt(n){return sr(()=>({type:n.type,bootstrap:n.bootstrap||Ft,declarations:n.declarations||Ft,imports:n.imports||Ft,exports:n.exports||Ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iu(n,e){if(null==n)return ro;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Be(n){return sr(()=>{const e=Ag(n);return ru(e),e})}function ai(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Et(n){return n[To]||null}function li(n){return n[$h]||null}function ci(n){return n[_a]||null}function Si(n,e){const t=n[Ig]||null;if(!t&&!0===e)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return t}function Ag(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ro,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ft,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iu(n.inputs,e),outputs:iu(n.outputs)}}function ru(n){n.features?.forEach(e=>e(n))}function Al(n,e){if(!n)return null;const t=e?ci:N0;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(tf)}const on=0,be=1,Je=2,sn=3,Fr=4,Ps=5,bi=6,ba=7,yn=8,Wo=9,Go=10,et=11,ks=12,Sg=13,Ko=14,Rn=15,Os=16,Ea=17,vr=18,Sl=19,ou=20,Zo=21,Do=22,wa=23,Ns=24,gt=25,su=1,Mg=2,so=7,Ia=9,Ei=11;function cr(n){return Array.isArray(n)&&"object"==typeof n[su]}function ui(n){return Array.isArray(n)&&!0===n[su]}function sf(n){return 0!=(4&n.flags)}function Fs(n){return n.componentOffset>-1}function af(n){return 1==(1&n.flags)}function ao(n){return!!n.template}function Rg(n){return 0!=(512&n[Je])}function xa(n,e){return n.hasOwnProperty(oo)?n[oo]:null}let Pn=null,lu=!1;function Bt(n){const e=Pn;return Pn=n,e}const Lg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Vg(n){if(!kl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Pl(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Bg(n){n.dirty=!0,function uu(n){if(void 0===n.liveConsumerNode)return;const e=lu;lu=!0;try{for(const t of n.liveConsumerNode)t.dirty||Bg(t)}finally{lu=e}}(n),n.consumerMarkedDirty?.(n)}function du(n){return n&&(n.nextProducerIndex=0),Bt(n)}function df(n,e){if(Bt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(kl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Vs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Pl(n){Qo(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Vg(t),i!==t.version))return!0}return!1}function hf(n){if(Qo(n),kl(n))for(let e=0;e<n.producerNode.length;e++)Vs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Vs(n,e){if(function ff(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Qo(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Vs(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Qo(r),r.producerIndexOfThis[i]=e}}function kl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Qo(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let j0=null;function Hg(n){const e=Bt(null);try{return n()}finally{Bt(e)}}const qg=()=>{},G0=(()=>({...Lg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:qg}))();class Wg{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function br(){return Gg}function Gg(n){return n.type.prototype.ngOnChanges&&(n.setInput=gf),K0}function K0(){const n=fu(this),e=n?.current;if(e){const t=n.previous;if(t===ro)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function gf(n,e,t,i){const r=this.declaredInputs[t],o=fu(n)||function Z0(n,e){return n[Kg]=e}(n,{previous:ro,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new Wg(l&&l.currentValue,e,a===ro),n[i]=e}br.ngInherit=!0;const Kg="__ngSimpleChanges__";function fu(n){return n[Kg]||null}const Er=function(n,e,t){};function Jt(n){for(;Array.isArray(n);)n=n[on];return n}function mu(n,e){return Jt(e[n])}function Vn(n,e){return Jt(e[n.index])}function Zg(n,e){return n.data[e]}function Ta(n,e){return n[e]}function ur(n,e){const t=e[n];return cr(t)?t:t[on]}function Yo(n,e){return null==e?null:n[e]}function gu(n){n[Ea]=0}function X0(n){1024&n[Je]||(n[Je]|=1024,Yg(n,1))}function _u(n){1024&n[Je]&&(n[Je]&=-1025,Yg(n,-1))}function Yg(n,e){let t=n[sn];if(null===t)return;t[Ps]+=e;let i=t;for(t=t[sn];null!==t&&(1===e&&1===i[Ps]||-1===e&&0===i[Ps]);)t[Ps]+=e,i=t,t=t[sn]}const qe={lFrame:a_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vu(){return qe.bindingsEnabled}function Aa(){return null!==qe.skipHydrationRootTNode}function ie(){return qe.lFrame.lView}function St(){return qe.lFrame.tView}function co(n){return qe.lFrame.contextLView=n,n[yn]}function wr(n){return qe.lFrame.contextLView=null,n}function di(){let n=t_();for(;null!==n&&64===n.type;)n=n.parent;return n}function t_(){return qe.lFrame.currentTNode}function uo(n,e){const t=qe.lFrame;t.currentTNode=n,t.isParent=e}function Vl(){return qe.lFrame.isParent}function Bl(){qe.lFrame.isParent=!1}function Mi(){const n=qe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Us(){return qe.lFrame.bindingIndex++}function Ao(n){const e=qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function iE(n,e){const t=qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,xf(e)}function xf(n){qe.lFrame.currentDirectiveIndex=n}function i_(){return qe.lFrame.currentQueryIndex}function Cf(n){qe.lFrame.currentQueryIndex=n}function r_(n){const e=n[be];return 2===e.type?e.declTNode:1===e.type?n[bi]:null}function o_(n,e,t){if(t&ht.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ht.Host||(r=r_(o),null===r||(o=o[Ko],10&r.type))););if(null===r)return!1;e=r,n=o}const i=qe.lFrame=s_();return i.currentTNode=e,i.lView=n,!0}function Sa(n){const e=s_(),t=n[be];qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function s_(){const n=qe.lFrame,e=null===n?null:n.child;return null===e?a_(n):e}function a_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function l_(){const n=qe.lFrame;return qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const c_=l_;function Tf(){const n=l_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ri(){return qe.lFrame.selectedIndex}function So(n){qe.lFrame.selectedIndex=n}function vn(){const n=qe.lFrame;return Zg(n.tView,n.selectedIndex)}let u_=!0;function wu(){return u_}function Xo(n){u_=n}function Iu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Ma(n,e,t){xu(n,e,3,t)}function Ra(n,e,t,i){(3&n[Je])===t&&xu(n,e,t,i)}function Af(n,e){let t=n[Je];(3&t)===e&&(t&=8191,t+=1,n[Je]=t)}function xu(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Ea]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Ea]+=65536),(a<o||-1==o)&&(h_(n,t,e,l),n[Ea]=(4294901760&n[Ea])+l+2),l++}function d_(n,e){Er(4,n,e);const t=Bt(null);try{e.call(n)}finally{Bt(t),Er(5,n,e)}}function h_(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Je]>>13<n[Ea]>>16&&(3&n[Je])===e&&(n[Je]+=8192,d_(a,o)):d_(a,o)}const Pa=-1;class js{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Sf(n){return n!==Pa}function zl(n){return 32767&n}function $l(n,e){let t=function mE(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ko],t--;return i}let Tu=!0;function Du(n){const e=Tu;return Tu=n,e}const f=255,u=5;let d=0;const m={};function E(n,e){const t=H(n,e);if(-1!==t)return t;const i=e[be];i.firstCreatePass&&(n.injectorIndex=e.length,k(i.data,n),k(e,null),k(i.blueprint,null));const r=oe(n,e),o=n.injectorIndex;if(Sf(r)){const s=zl(r),a=$l(r,e),l=a[be].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function k(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function oe(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=xS(r),null===i)return Pa;if(t++,r=r[Ko],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Pa}function xe(n,e,t){!function _(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Rs)&&(i=t[Rs]),null==i&&(i=t[Rs]=d++);const r=i&f;e.data[n+(r>>u)]|=1<<r}(n,e,t)}function wt(n,e,t){if(t&ht.Optional||void 0!==n)return n;Rh()}function Pi(n,e,t,i){if(t&ht.Optional&&void 0===i&&(i=null),!(t&(ht.Self|ht.Host))){const r=n[Wo],o=ji(void 0);try{return r?r.get(e,i,t&ht.Optional):qc(e,i,t&ht.Optional)}finally{ji(o)}}return wt(i,0,t)}function Mo(n,e,t,i=ht.Default,r){if(null!==n){if(2048&e[Je]&&!(i&ht.Self)){const s=function m$(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Je]&&!(512&s[Je]);){const a=Hl(o,s,t,i|ht.Self,m);if(a!==m)return a;let l=o.parent;if(!l){const c=s[ou];if(c){const h=c.get(t,m,i);if(h!==m)return h}l=xS(s),s=s[Ko]}o=l}return r}(n,e,t,i,m);if(s!==m)return s}const o=Hl(n,e,t,i,m);if(o!==m)return o}return Pi(e,t,i,r)}function Hl(n,e,t,i,r){const o=function m_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Rs)?n[Rs]:void 0;return"number"==typeof e?e>=0?e&f:gE:e}(t);if("function"==typeof o){if(!o_(e,n,i))return i&ht.Host?wt(r,0,i):Pi(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ht.Optional)return s;Rh()}finally{c_()}}else if("number"==typeof o){let s=null,a=H(n,e),l=Pa,c=i&ht.Host?e[Rn][bi]:null;for((-1===a||i&ht.SkipSelf)&&(l=-1===a?oe(n,e):e[a+8],l!==Pa&&Mf(i,!1)?(s=e[be],a=zl(l),e=$l(l,e)):a=-1);-1!==a;){const h=e[be];if(Au(o,a,h.data)){const p=p_(a,e,t,s,i,c);if(p!==m)return p}l=e[a+8],l!==Pa&&Mf(i,e[be].data[a+8]===c)&&Au(o,a,e)?(s=h,a=zl(l),e=$l(l,e)):a=-1}}return r}function p_(n,e,t,i,r,o){const s=e[be],a=s.data[n+8],h=ka(a,s,t,null==i?Fs(a)&&Tu:i!=s&&0!=(3&a.type),r&ht.Host&&o===a);return null!==h?Jo(e,s,h,a):m}function ka(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let y=i?a:a+h;y<g;y++){const w=s[y];if(y<l&&t===w||y>=l&&w.type===t)return y}if(r){const y=s[l];if(y&&ao(y)&&y.type===t)return l}return null}function Jo(n,e,t,i){let r=n[t];const o=e.data;if(function hE(n){return n instanceof js}(r)){const s=r;s.resolving&&function xl(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new L(-200,`Circular dependency in DI detected for ${n}${t}`)}(function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(o[t]));const a=Du(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ji(s.injectImpl):null;o_(n,i,ht.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function dE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Gg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&ji(c),Du(a),s.resolving=!1,c_()}}return r}function Au(n,e,t){return!!(t[e+(n>>u)]&1<<n)}function Mf(n,e){return!(n&ht.Self||n&ht.Host&&e)}class wi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Mo(this._tNode,this._lView,e,Zc(i),t)}}function gE(){return new wi(di(),ie())}function Kn(n){return sr(()=>{const e=n.prototype.constructor,t=e[oo]||Pf(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[oo]||Pf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Pf(n){return se(n)?()=>{const e=Pf(P(n));return e&&e()}:xa(n)}function xS(n){const e=n[be],t=e.type;return 2===t?e.declTNode:1===t?n[bi]:null}const Mu="__parameters__";function Pu(n,e,t){return sr(()=>{const i=function _E(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const p=l.hasOwnProperty(Mu)?l[Mu]:Object.defineProperty(l,Mu,{value:[]})[Mu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ou(n,e){n.forEach(t=>Array.isArray(t)?Ou(t,e):e(t))}function TS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function __(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Of(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Lr(n,e,t){let i=Nu(n,e);return i>=0?n[1|i]=t:(i=~i,function w$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function yE(n,e){const t=Nu(n,e);if(t>=0)return n[1|t]}function Nu(n,e){return function DS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Vr=Qc(Pu("Optional"),8),v_=Qc(Pu("SkipSelf"),4);function x_(n){return 128==(128&n.flags)}var Na=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Na||{});const $$=/^>|^->|<!--|-->|--!>|<!-$/g,H$=/(<|>)/g,q$="\u200b$1\u200b";const IE=new Map;let W$=0;const CE="__ngContext__";function zi(n,e){cr(e)?(n[CE]=e[Sl],function K$(n){IE.set(n[Sl],n)}(e)):n[CE]=e}let TE;function DE(n,e){return TE(n,e)}function Lf(n){const e=n[sn];return ui(e)?e[sn]:e}function GS(n){return ZS(n[ks])}function KS(n){return ZS(n[Fr])}function ZS(n){for(;null!==n&&!ui(n);)n=n[Fr];return n}function Vu(n,e,t,i,r){if(null!=i){let o,s=!1;ui(i)?o=i:cr(i)&&(s=!0,i=i[on]);const a=Jt(i);0===n&&null!==t?null==r?JS(e,t,a):ql(e,t,a,r||null,!0):1===n&&null!==t?ql(e,t,a,r||null,!0):2===n?function R_(n,e,t){const i=S_(n,e);i&&function fH(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function gH(n,e,t,i,r){const o=t[so];o!==Jt(t)&&Vu(e,n,i,o,r);for(let a=Ei;a<t.length;a++){const l=t[a];Bf(l[be],l,n,e,i,o)}}(e,n,o,t,r)}}function AE(n,e){return n.createComment(function BS(n){return n.replace($$,e=>e.replace(H$,q$))}(e))}function D_(n,e,t){return n.createElement(e,t)}function YS(n,e){const t=n[Ia],i=t.indexOf(e);_u(e),t.splice(i,1)}function A_(n,e){if(n.length<=Ei)return;const t=Ei+e,i=n[t];if(i){const r=i[Os];null!==r&&r!==n&&YS(r,i),e>0&&(n[t-1][Fr]=i[Fr]);const o=__(n,Ei+e);!function oH(n,e){Bf(n,e,e[et],2,null,null),e[on]=null,e[bi]=null}(i[be],i);const s=o[vr];null!==s&&s.detachView(o[be]),i[sn]=null,i[Fr]=null,i[Je]&=-129}return i}function SE(n,e){if(!(256&e[Je])){const t=e[et];e[wa]&&hf(e[wa]),e[Ns]&&hf(e[Ns]),t.destroyNode&&Bf(n,e,t,3,null,null),function lH(n){let e=n[ks];if(!e)return ME(n[be],n);for(;e;){let t=null;if(cr(e))t=e[ks];else{const i=e[Ei];i&&(t=i)}if(!t){for(;e&&!e[Fr]&&e!==n;)cr(e)&&ME(e[be],e),e=e[sn];null===e&&(e=n),cr(e)&&ME(e[be],e),t=e&&e[Fr]}e=t}}(e)}}function ME(n,e){if(!(256&e[Je])){e[Je]&=-129,e[Je]|=256,function hH(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof js)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Er(4,a,l);try{l.call(a)}finally{Er(5,a,l)}}else{Er(4,r,o);try{o.call(r)}finally{Er(5,r,o)}}}}}(n,e),function dH(n,e){const t=n.cleanup,i=e[ba];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[ba]=null);const r=e[Zo];if(null!==r){e[Zo]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[be].type&&e[et].destroy();const t=e[Os];if(null!==t&&ui(e[sn])){t!==e[sn]&&YS(t,e);const i=e[vr];null!==i&&i.detachView(n)}!function Z$(n){IE.delete(n[Sl])}(e)}}function RE(n,e,t){return function XS(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[on];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===yr.None||o===yr.Emulated)return null}return Vn(i,t)}}(n,e.parent,t)}function ql(n,e,t,i,r){n.insertBefore(e,t,i,r)}function JS(n,e,t){n.appendChild(e,t)}function eM(n,e,t,i,r){null!==i?ql(n,e,t,i,r):JS(n,e,t)}function S_(n,e){return n.parentNode(e)}function tM(n,e,t){return iM(n,e,t)}let PE,P_,FE,k_,iM=function nM(n,e,t){return 40&n.type?Vn(n,t):null};function M_(n,e,t,i){const r=RE(n,i,e),o=e[et],a=tM(i.parent||e[bi],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)eM(o,r,t[l],a,!1);else eM(o,r,t,a,!1);void 0!==PE&&PE(o,i,e,t,r)}function Vf(n,e){if(null!==e){const t=e.type;if(3&t)return Vn(e,n);if(4&t)return kE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Vf(n,i);{const r=n[e.index];return ui(r)?kE(-1,r):Jt(r)}}if(32&t)return DE(e,n)()||Jt(n[e.index]);{const i=oM(n,e);return null!==i?Array.isArray(i)?i[0]:Vf(Lf(n[Rn]),i):Vf(n,e.next)}}return null}function oM(n,e){return null!==e?n[Rn][bi].projection[e.projection]:null}function kE(n,e){const t=Ei+n+1;if(t<e.length){const i=e[t],r=i[be].firstChild;if(null!==r)return Vf(i,r)}return e[so]}function OE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&zi(Jt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)OE(n,e,t.child,i,r,o,!1),Vu(e,n,r,a,o);else if(32&l){const c=DE(t,i);let h;for(;h=c();)Vu(e,n,r,h,o);Vu(e,n,r,a,o)}else 16&l?aM(n,e,i,t,r,o):Vu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Bf(n,e,t,i,r,o){OE(t,i,n.firstChild,e,r,o,!1)}function aM(n,e,t,i,r,o){const s=t[Rn],l=s[bi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Vu(e,n,r,l[c],o);else{let c=l;const h=s[sn];x_(i)&&(c.flags|=128),OE(n,e,c,h,r,o,!0)}}function lM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function cM(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&qh(n,e,i),null!==r&&lM(n,e,r),null!==o&&function yH(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Bu(n){return function NE(){if(void 0===P_&&(P_=null,Wt.trustedTypes))try{P_=Wt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return P_}()?.createHTML(n)||n}function Uu(){if(void 0!==FE)return FE;if(typeof document<"u")return document;throw new L(210,!1)}function LE(){if(void 0===k_&&(k_=null,Wt.trustedTypes))try{k_=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return k_}function uM(n){return LE()?.createHTML(n)||n}function hM(n){return LE()?.createScriptURL(n)||n}class fM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function Fa(n){return n instanceof fM?n.changingThisBreaksApplicationSecurity:n}function Uf(n,e){const t=function AH(n){return n instanceof fM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mt})`)}return t===e}class SH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Bu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class MH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Bu(e),t}}const PH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function VE(n){return(n=String(n)).match(PH)?n:"unsafe:"+n}function zs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function jf(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const mM=zs("area,br,col,hr,img,wbr"),gM=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_M=zs("rp,rt"),BE=jf(mM,jf(gM,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jf(_M,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jf(_M,gM)),UE=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yM=jf(UE,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kH=zs("script,style,template");class OH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!BE.hasOwnProperty(t))return this.sanitizedSomething=!0,!kH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!yM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;UE[a]&&(l=VE(l)),this.buf.push(" ",s,'="',vM(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();BE.hasOwnProperty(t)&&!mM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const NH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FH=/([^\#-~ |!])/g;function vM(n){return n.replace(/&/g,"&amp;").replace(NH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(FH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let O_;function jE(n){return"content"in n&&function VH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ju=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ju||{});function Ro(n){const e=zf();return e?uM(e.sanitize(ju.HTML,n)||""):Uf(n,"HTML")?uM(Fa(n)):function LH(n,e){let t=null;try{O_=O_||function pM(n){const e=new MH(n);return function RH(){try{return!!(new window.DOMParser).parseFromString(Bu(""),"text/html")}catch{return!1}}()?new SH(e):e}(n);let i=e?String(e):"";t=O_.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=O_.getInertBodyElement(i)}while(i!==o);return Bu((new OH).sanitizeChildren(jE(t)||t))}finally{if(t){const i=jE(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Uu(),Ae(n))}function es(n){const e=zf();return e?e.sanitize(ju.URL,n)||"":Uf(n,"URL")?Fa(n):VE(Ae(n))}function bM(n){const e=zf();if(e)return hM(e.sanitize(ju.RESOURCE_URL,n)||"");if(Uf(n,"ResourceURL"))return hM(Fa(n));throw new L(904,!1)}function zf(){const n=ie();return n&&n[Go].sanitizer}const $f=new re("ENVIRONMENT_INITIALIZER"),wM=new re("INJECTOR",-1),IM=new re("INJECTOR_DEF_TYPES");class zE{get(e,t=Ss){if(t===Ss){const i=new Error(`NullInjectorError: No provider for ${Oe(e)}!`);throw i.name="NullInjectorError",i}return t}}function HH(...n){return{\u0275providers:xM(0,n),\u0275fromNgModule:!0}}function xM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Ou(e,s=>{const a=s;N_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&CM(r,o),t}function CM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];HE(r,o=>{e(o,i)})}}function N_(n,e,t,i){if(!(n=P(n)))return!1;let r=null,o=Cl(n);const s=!o&&Et(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Cl(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)N_(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Ou(o.imports,h=>{N_(h,e,t,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&CM(c,e)}if(!a){const c=xa(r)||(()=>new r);e({provide:r,useFactory:c,deps:Ft},r),e({provide:IM,useValue:r,multi:!0},r),e({provide:$f,useValue:()=>B(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;HE(l,h=>{e(h,c)})}}}return r!==n&&void 0!==n.providers}function HE(n,e){for(let t of n)Ie(t)&&(t=t.\u0275providers),Array.isArray(t)?HE(t,e):e(t)}const qH=ve({provide:String,useValue:ve});function qE(n){return null!==n&&"object"==typeof n&&qH in n}function Wl(n){return"function"==typeof n}const WE=new re("Set Injector scope."),F_={},GH={};let GE;function L_(){return void 0===GE&&(GE=new zE),GE}class Br{}class zu extends Br{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ZE(e,s=>this.processProvider(s)),this.records.set(wM,$u(void 0,this)),r.has("environment")&&this.records.set(Br,$u(void 0,this));const o=this.records.get(WE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IM.multi,Ft,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ho(this),i=ji(void 0);try{return e()}finally{Ho(t),ji(i)}}get(e,t=Ss,i=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ar))return e[ar](this);i=Zc(i);const o=Ho(this),s=ji(void 0);try{if(!(i&ht.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function XH(n){return"function"==typeof n||"object"==typeof n&&n instanceof re}(e)&&zc(e);l=c&&this.injectableDefInScope(c)?$u(KE(e),F_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&ht.Self?L_():this.parent).get(e,t=i&ht.Optional&&t===Ss?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[or]=a[or]||[]).unshift(Oe(e)),o)throw a;return function Co(n,e,t,i){const r=n[or];throw e[Kc]&&r.unshift(e[Kc]),n.message=function ga(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Oe(e);if(Array.isArray(e))r=e.map(Oe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Uh,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[or]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{ji(s),Ho(o)}}resolveInjectorInitializers(){const e=Ho(this),t=ji(void 0);try{const r=this.get($f.multi,Ft,ht.Self);for(const o of r)o()}finally{Ho(e),ji(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Oe(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){let t=Wl(e=P(e))?e:P(e&&e.provide);const i=function ZH(n){return qE(n)?$u(void 0,n.useValue):$u(AM(n),F_)}(e);if(Wl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=$u(void 0,F_,!0),r.factory=()=>Ms(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===F_&&(t.value=GH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function YH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=P(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function KE(n){const e=zc(n),t=null!==e?e.factory:xa(n);if(null!==t)return t;if(n instanceof re)throw new L(204,!1);if(n instanceof Function)return function KH(n){const e=n.length;if(e>0)throw Of(e,"?"),new L(204,!1);const t=function fa(n){return n&&(n[pa]||n[$c])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new L(204,!1)}function AM(n,e,t){let i;if(Wl(n)){const r=P(n);return xa(r)||KE(r)}if(qE(n))i=()=>P(n.useValue);else if(function DM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ms(n.deps||[]));else if(function TM(n){return!(!n||!n.useExisting)}(n))i=()=>B(P(n.useExisting));else{const r=P(n&&(n.useClass||n.provide));if(!function QH(n){return!!n.deps}(n))return xa(r)||KE(r);i=()=>new r(...Ms(n.deps))}return i}function $u(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ZE(n,e){for(const t of n)Array.isArray(t)?ZE(t,e):t&&Ie(t)?ZE(t.\u0275providers,e):e(t)}const V_=new re("AppId",{providedIn:"root",factory:()=>JH}),JH="ng",SM=new re("Platform Initializer"),Po=new re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),La=new re("AnimationModuleType"),QE=new re("CSP nonce",{providedIn:"root",factory:()=>Uu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let MM=(n,e,t)=>null;function rw(n,e,t=!1){return MM(n,e,t)}class u4{}class kM{}class h4{resolveComponentFactory(e){throw function d4(n){const e=Error(`No component factory found for ${Oe(n)}.`);return e.ngComponent=n,e}(e)}}let Wu=(()=>{class n{static#e=this.NULL=new h4}return n})();function f4(){return Gu(di(),ie())}function Gu(n,e){return new an(Vn(n,e))}let an=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=f4}return n})();function p4(n){return n instanceof an?n.nativeElement:n}class Wf{}let ts=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function m4(){const n=ie(),t=ur(di().index,n);return(cr(t)?t:n)[et]}()}return n})(),g4=(()=>{class n{static#e=this.\u0275prov=he({token:n,providedIn:"root",factory:()=>null})}return n})();class Va{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aw=new Va("16.2.12"),lw={};function VM(n,e=null,t=null,i){const r=BM(n,e,t,i);return r.resolveInjectorInitializers(),r}function BM(n,e=null,t=null,i,r=new Set){const o=[t||Ft,HH(n)];return i=i||("object"==typeof n?void 0:Oe(n)),new zu(o,e||L_(),i||null,r)}let Zn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ss;static#t=this.NULL=new zE;static create(t,i){if(Array.isArray(t))return VM({name:""},i,t,"");{const r=t.name??"";return VM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=he({token:n,providedIn:"any",factory:()=>B(wM)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function uw(n){return n.ngOriginalError}class $s{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&uw(e);for(;t&&uw(t);)t=uw(t);return t||null}}function hw(n){return e=>{setTimeout(n,void 0,e)}}const bn=class I4 extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=hw(o),r&&(r=hw(r)),s&&(s=hw(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof yt&&e.add(a),a}};function jM(...n){}class We{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bn(!1),this.onMicrotaskEmpty=new bn(!1),this.onStable=new bn(!1),this.onError=new bn(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function x4(){const n="function"==typeof Wt.requestAnimationFrame;let e=Wt[n?"requestAnimationFrame":"setTimeout"],t=Wt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function D4(n){const e=()=>{!function T4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,pw(n),n.isCheckStableRunning=!0,fw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),pw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function S4(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return zM(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),$M(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return zM(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),$M(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,pw(n),fw(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new L(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,C4,jM,jM);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const C4={};function fw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $M(n){n._nesting--,fw(n)}class A4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bn,this.onMicrotaskEmpty=new bn,this.onStable=new bn,this.onError=new bn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const HM=new re("",{providedIn:"root",factory:qM});function qM(){const n=fe(We);let e=!0;return I(new Xe(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Xe(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{We.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Q()))}function WM(n){return n.ownerDocument.defaultView}function mw(n){return n.ownerDocument}function Hs(n){return n instanceof Function?n():n}let gw=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=he({token:n,providedIn:"root",factory:()=>new n})}return n})();function Gf(n){for(;n;){n[Je]|=64;const e=Lf(n);if(Rg(n)&&!e)return n;n=e}return null}const YM=new re("",{providedIn:"root",factory:()=>!1});let q_=null;function tR(n,e){return n[e]??rR()}function nR(n,e){const t=rR();t.producerNode?.length&&(n[e]=q_,t.lView=n,q_=iR())}const L4={...Lg,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gf(n.lView)},lView:null};function iR(){return Object.create(L4)}function rR(){return q_??=iR(),q_}const ot={};function de(n){oR(St(),ie(),Ri()+n,!1)}function oR(n,e,t,i){if(!i)if(3==(3&e[Je])){const o=n.preOrderCheckHooks;null!==o&&Ma(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Ra(e,o,0,t)}So(t)}function N(n,e=ht.Default){const t=ie();return null===t?B(n,e):Mo(di(),t,P(n),e)}function W_(){throw new Error("invalid")}function G_(n,e,t,i,r,o,s,a,l,c,h){const p=e.blueprint.slice();return p[on]=r,p[Je]=140|i,(null!==c||n&&2048&n[Je])&&(p[Je]|=2048),gu(p),p[sn]=p[Ko]=n,p[yn]=t,p[Go]=s||n&&n[Go],p[et]=a||n&&n[et],p[Wo]=l||n&&n[Wo]||null,p[bi]=o,p[Sl]=function G$(){return W$++}(),p[Do]=h,p[ou]=c,p[Rn]=2==e.type?n[Rn]:p,p}function Qu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function _w(n,e,t,i,r){const o=t_(),s=Vl(),l=n.data[e]=function q4(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Aa()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function n_(){return qe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Bs(){const n=qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return uo(o,!0),o}function Kf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function sR(n,e,t,i,r){const o=tR(e,wa),s=Ri(),a=2&i;try{So(-1),a&&e.length>gt&&oR(n,e,gt,!1),Er(a?2:0,r);const c=a?o:null,h=du(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{df(c,h)}}finally{a&&null===e[wa]&&nR(e,wa),So(s),Er(a?3:1,r)}}function yw(n,e,t){if(sf(e)){const i=Bt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Bt(i)}}}function vw(n,e,t){vu()&&(function X4(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Fs(t)&&function s3(n,e,t){const i=Vn(e,n),r=aR(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=K_(n,G_(n,r,null,s,i,e,null,n[Go].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||E(t,e),zi(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Jo(e,n,a,t);zi(c,e),null!==s&&a3(0,a-r,c,l,0,s),ao(l)&&(ur(t.index,e)[yn]=Jo(e,n,a,t))}}(n,e,t,Vn(t,e)),64==(64&t.flags)&&hR(n,e,t))}function bw(n,e,t=Vn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function aR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ew(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ew(n,e,t,i,r,o,s,a,l,c,h){const p=gt+i,g=p+r,y=function B4(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:ot);return t}(p,g),w="function"==typeof c?c():c;return y[be]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:h}}let lR=n=>null;function cR(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?uR(t,e,r,o):i.hasOwnProperty(r)&&uR(t,e,i[r],o)}return t}function uR(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Ur(n,e,t,i,r,o,s,a){const l=Vn(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[i])?(Tw(n,t,h,i,r),Fs(e)&&function K4(n,e){const t=ur(e,n);16&t[Je]||(t[Je]|=64)}(t,e.index)):3&e.type&&(i=function G4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function ww(n,e,t,i){if(vu()){const r=null===i?null:{"":-1},o=function e3(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(tu(e,s.selectors,!1))if(i||(i=[]),ao(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Iw(n,e,a.length)}else i.unshift(s),Iw(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dR(n,e,t,s,r,a),r&&function t3(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new L(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ya(t.mergedAttrs,t.attrs)}function dR(n,e,t,i,r,o){for(let c=0;c<i.length;c++)xe(E(t,e),n,i[c].type);!function r3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Kf(n,e,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];t.mergedAttrs=ya(t.mergedAttrs,h.hostAttrs),o3(n,t,e,l,h),n3(l,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function W4(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,w=g?g.outputs:null;l=cR(p.inputs,h,l,g?g.inputs:null),c=cR(p.outputs,h,c,w);const x=null===l||null===s||Jc(e)?null:l3(l,h,s);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function hR(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function rE(){return qe.lFrame.currentDirectiveIndex}();try{So(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];xf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&J4(l,c)}}finally{So(-1),xf(s)}}function J4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Iw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function n3(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;ao(e)&&(t[""]=n)}}function o3(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=xa(r.type)),s=new js(o,ao(r),N);n.blueprint[i]=s,t[i]=s,function Q4(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Y4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Kf(n,t,r.hostVars,ot),r)}function ns(n,e,t,i,r,o){const s=Vn(n,e);!function xw(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ae(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[et],s,o,n.value,t,i,r)}function a3(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)fR(i,t,s[a++],s[a++],s[a++])}function fR(n,e,t,i,r){const o=Bt(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Bt(o)}}function l3(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function pR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function mR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];Cf(t[i]),s.contentQueries(2,e[o],o)}}}function K_(n,e){return n[ks]?n[Sg][Fr]=e:n[ks]=e,n[Sg]=e,e}function Cw(n,e,t){Cf(0);const i=Bt(null);try{e(n,t)}finally{Bt(i)}}function gR(n){return n[ba]||(n[ba]=[])}function _R(n){return n.cleanup||(n.cleanup=[])}function vR(n,e){const t=n[Wo],i=t?t.get($s,null):null;i&&i.handleError(e)}function Tw(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];fR(n.data[s],e[s],i,a,r)}}function c3(n,e){const t=ur(e,n),i=t[be];!function u3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[on];null!==r&&null===t[Do]&&(t[Do]=rw(r,t[Wo])),Dw(i,t,t[yn])}function Dw(n,e,t){Sa(e);try{const i=n.viewQuery;null!==i&&Cw(1,i,t);const r=n.template;null!==r&&sR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mR(n,e),n.staticViewQueries&&Cw(2,n.viewQuery,t);const o=n.components;null!==o&&function d3(n,e){for(let t=0;t<e.length;t++)c3(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Je]&=-5,Tf()}}let bR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function W0(n,e,t){const i=Object.create(G0);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Bg(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Pl(i))return;i.hasRun=!0;const s=du(i);try{i.cleanupFn(),i.cleanupFn=qg,i.fn(r)}finally{df(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=he({token:n,providedIn:"root",factory:()=>new n})}return n})();function Z_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=ti(r,a):2==o&&(i=ti(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Zf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Jt(o)),ui(o)&&ER(o,i);const s=t.type;if(8&s)Zf(n,e,t.child,i);else if(32&s){const a=DE(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=oM(e,t);if(Array.isArray(a))i.push(...a);else{const l=Lf(e[Rn]);Zf(l[be],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function ER(n,e){for(let t=Ei;t<n.length;t++){const i=n[t],r=i[be].firstChild;null!==r&&Zf(i[be],i,r,e)}n[so]!==n[on]&&e.push(n[so])}function Q_(n,e,t,i=!0){const r=e[Go],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{wR(n,e,n.template,t)}catch(l){throw i&&vR(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function wR(n,e,t,i){const r=e[Je];if(256!=(256&r)){e[Go].effectManager?.flush(),Sa(e);try{gu(e),function If(n){return qe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&sR(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Ma(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ra(e,c,0,null),Af(e,0)}if(function p3(n){for(let e=GS(n);null!==e;e=KS(e)){if(!e[Mg])continue;const t=e[Ia];for(let i=0;i<t.length;i++){X0(t[i])}}}(e),IR(e,2),null!==n.contentQueries&&mR(n,e),s){const c=n.contentCheckHooks;null!==c&&Ma(e,c)}else{const c=n.contentHooks;null!==c&&Ra(e,c,1),Af(e,1)}!function V4(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=tR(e,Ns);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)So(~o);else{const s=o,a=t[++r],l=t[++r];iE(a,s),i.dirty=!1;const c=du(i);try{l(2,e[s])}finally{df(i,c)}}}}finally{null===e[Ns]&&nR(e,Ns),So(-1)}}(n,e);const a=n.components;null!==a&&CR(e,a,0);const l=n.viewQuery;if(null!==l&&Cw(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Ma(e,c)}else{const c=n.viewHooks;null!==c&&Ra(e,c,2),Af(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Je]&=-73,_u(e)}finally{Tf()}}}function IR(n,e){for(let t=GS(n);null!==t;t=KS(t))for(let i=Ei;i<t.length;i++)xR(t[i],e)}function m3(n,e,t){xR(ur(e,n),t)}function xR(n,e){if(!function Qg(n){return 128==(128&n[Je])}(n))return;const t=n[be],i=n[Je];if(80&i&&0===e||1024&i||2===e)wR(t,n,t.template,n[yn]);else if(n[Ps]>0){IR(n,1);const r=t.components;null!==r&&CR(n,r,1)}}function CR(n,e,t){for(let i=0;i<e.length;i++)m3(n,e[i],t)}class Qf{get rootNodes(){const e=this._lView,t=e[be];return Zf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yn]}set context(e){this._lView[yn]=e}get destroyed(){return 256==(256&this._lView[Je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[sn];if(ui(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(A_(e,i),__(t,i))}this._attachedToViewContainer=!1}SE(this._lView[be],this._lView)}onDestroy(e){!function yu(n,e){if(256==(256&n[Je]))throw new L(911,!1);null===n[Zo]&&(n[Zo]=[]),n[Zo].push(e)}(this._lView,e)}markForCheck(){Gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Je]&=-129}reattach(){this._lView[Je]|=128}detectChanges(){Q_(this._lView[be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aH(n,e){Bf(n,e,e[et],2,null,null)}(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e}}class g3 extends Qf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Q_(e[be],e,e[yn],!1)}checkNoChanges(){}get context(){return null}}class TR extends Wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Et(e);return new Yf(t,this.ngModule)}}function DR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class y3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Zc(i);const r=this.injector.get(e,lw,i);return r!==lw||t===lw?r:this.parentInjector.get(e,t,i)}}class Yf extends kM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=DR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return DR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Dg(n){return n.map(Xh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Br?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new y3(e,o):e,a=s.get(Wf,null);if(null===a)throw new L(407,!1);const p={rendererFactory:a,sanitizer:s.get(g4,null),effectManager:s.get(bR,null),afterRenderEventManager:s.get(gw,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=i?function U4(n,e,t,i){const o=i.get(YM,!1)||t===yr.ShadowDom,s=n.selectRootElement(e,o);return function j4(n){lR(n)}(s),s}(g,i,this.componentDef.encapsulation,s):D_(g,y,function _3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),F=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==w&&(R=rw(w,s,!0));const j=Ew(0,null,null,1,0,null,null,null,null,null,null),J=G_(null,j,null,F,null,null,p,g,s,null,R);let pe,Le;Sa(J);try{const nt=this.componentDef;let Gt,_r=null;nt.findHostDirectiveDefs?(Gt=[],_r=new Map,nt.findHostDirectiveDefs(nt,Gt,_r),Gt.push(nt)):Gt=[nt];const Sr=function b3(n,e){const t=n[be],i=gt;return n[i]=e,Qu(t,i,2,"#host",null)}(J,w),x0=function E3(n,e,t,i,r,o,s){const a=r[be];!function w3(n,e,t,i){for(const r of n)e.mergedAttrs=ya(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Z_(e,e.mergedAttrs,!0),null!==t&&cM(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=rw(e,r[Wo]));const c=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=G_(r,aR(t),null,h,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Iw(a,n,i.length-1),K_(r,p),r[n.index]=p}(Sr,w,nt,Gt,J,p,g);Le=Zg(j,gt),w&&function x3(n,e,t,i){if(i)qh(n,t,["ng-version",aw.full]);else{const{attrs:r,classes:o}=function Jh(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!lr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&qh(n,t,r),o&&o.length>0&&lM(n,t,o.join(" "))}}(g,nt,w,i),void 0!==t&&function C3(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Le,this.ngContentSelectors,t),pe=function I3(n,e,t,i,r,o){const s=di(),a=r[be],l=Vn(s,r);dR(a,r,s,t,null,i);for(let h=0;h<t.length;h++)zi(Jo(r,a,s.directiveStart+h,s),r);hR(a,r,s),l&&zi(l,r);const c=Jo(r,a,s.directiveStart+s.componentOffset,s);if(n[yn]=r[yn]=c,null!==o)for(const h of o)h(c,e);return yw(a,s,n),c}(x0,nt,Gt,_r,J,[T3]),Dw(j,J,null)}finally{Tf()}return new v3(this.componentType,pe,Gu(Le,J),J,Le)}}class v3 extends u4{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new g3(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Tw(o[be],o,r,e,t),this.previousInputValues.set(e,t),Gf(ur(this._tNode.index,o))}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function T3(){const n=di();Iu(ie()[be],n)}function Ot(n){let e=function AR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(ao(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Y_(n.inputs),s.inputTransforms=Y_(n.inputTransforms),s.declaredInputs=Y_(n.declaredInputs),s.outputs=Y_(n.outputs);const a=r.hostBindings;a&&M3(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&A3(n,l),c&&S3(n,c),qt(n.inputs,r.inputs),qt(n.declaredInputs,r.declaredInputs),qt(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),qt(s.inputTransforms,r.inputTransforms)),ao(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ot&&(t=!1)}}e=Object.getPrototypeOf(e)}!function D3(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ya(r.hostAttrs,t=ya(t,r.hostAttrs))}}(i)}function Y_(n){return n===ro?{}:n===Ft?[]:n}function A3(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function S3(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function M3(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function PR(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function X_(n){return!!Aw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Aw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function is(n,e,t){return n[e]=t}function $i(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function jr(n,e,t,i){const r=ie();return $i(r,Us(),e)&&(St(),ns(vn(),r,n,e,t,i)),jr}function Xu(n,e,t,i){return $i(n,Us(),t)?e+Ae(t)+i:ot}function st(n,e,t,i,r,o,s,a){const l=ie(),c=St(),h=n+gt,p=c.firstCreatePass?function t5(n,e,t,i,r,o,s,a,l){const c=e.consts,h=Qu(e,n,4,s||null,Yo(c,a));ww(e,t,h,Yo(c,l)),Iu(e,h);const p=h.tView=Ew(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,i,r,o,s):c.data[h];uo(p,!1);const g=qR(c,l,p,n);wu()&&M_(c,l,g,p),zi(g,l),K_(l,l[h]=pR(g,l,g,p)),af(p)&&vw(c,l,p),null!=s&&bw(l,p,a)}let qR=function WR(n,e,t,i){return Xo(!0),e[et].createComment("")};function _e(n,e,t){const i=ie();return $i(i,Us(),e)&&Ur(St(),vn(),i,n,e,i[et],t,!1),_e}function Ow(n,e,t,i,r){const s=r?"class":"style";Tw(n,t,e.inputs[s],s,i)}function Y(n,e,t,i){const r=ie(),o=St(),s=gt+n,a=r[et],l=o.firstCreatePass?function s5(n,e,t,i,r,o){const s=e.consts,l=Qu(e,n,2,i,Yo(s,r));return ww(e,t,l,Yo(s,o)),null!==l.attrs&&Z_(l,l.attrs,!1),null!==l.mergedAttrs&&Z_(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=KR(o,r,l,a,e,n);r[s]=c;const h=af(l);return uo(l,!0),cM(a,c,l),32!=(32&l.flags)&&wu()&&M_(o,r,c,l),0===function J0(){return qe.lFrame.elementDepthCount}()&&zi(c,r),function bf(){qe.lFrame.elementDepthCount++}(),h&&(vw(o,r,l),yw(o,l,r)),null!==i&&bw(r,l),Y}function X(){let n=di();Vl()?Bl():(n=n.parent,uo(n,!1));const e=n;(function Xg(n){return qe.skipHydrationRootTNode===n})(e)&&function tE(){qe.skipHydrationRootTNode=null}(),function Ef(){qe.lFrame.elementDepthCount--}();const t=St();return t.firstCreatePass&&(Iu(t,n),sf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Cu(n){return 0!=(8&n.flags)}(e)&&Ow(t,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function f_(n){return 0!=(16&n.flags)}(e)&&Ow(t,e,ie(),e.stylesWithoutHost,!1),X}function It(n,e,t,i){return Y(n,e,t,i),X(),It}let KR=(n,e,t,i,r,o)=>(Xo(!0),D_(i,r,function Df(){return qe.lFrame.currentNamespace}()));function sd(n,e,t){const i=ie(),r=St(),o=n+gt,s=r.firstCreatePass?function c5(n,e,t,i,r){const o=e.consts,s=Yo(o,i),a=Qu(e,n,8,"ng-container",s);return null!==s&&Z_(a,s,!0),ww(e,t,a,Yo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];uo(s,!0);const a=ZR(r,i,s,n);return i[o]=a,wu()&&M_(r,i,a,s),zi(a,i),af(s)&&(vw(r,i,s),yw(r,s,i)),null!=t&&bw(i,s),sd}function ad(){let n=di();const e=St();return Vl()?Bl():(n=n.parent,uo(n,!1)),e.firstCreatePass&&(Iu(e,n),sf(n)&&e.queries.elementEnd(n)),ad}function Nw(n,e,t){return sd(n,e,t),ad(),Nw}let ZR=(n,e,t,i)=>(Xo(!0),AE(e[et],""));function rs(){return ie()}function np(n){return!!n&&"function"==typeof n.then}function QR(n){return!!n&&"function"==typeof n.subscribe}function Ge(n,e,t,i){const r=ie(),o=St(),s=di();return function XR(n,e,t,i,r,o,s){const a=af(i),c=n.firstCreatePass&&_R(n),h=e[yn],p=gR(e);let g=!0;if(3&i.type||s){const x=Vn(i,e),T=s?s(x):x,F=p.length,R=s?J=>s(Jt(J[i.index])):i.index;let j=null;if(!s&&a&&(j=function h5(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[ba],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,g=!1;else{o=eP(i,e,h,o,!1);const J=t.listen(T,r,o);p.push(o,J),c&&c.push(r,R,F,F+1)}}else o=eP(i,e,h,o,!1);const y=i.outputs;let w;if(g&&null!==y&&(w=y[r])){const x=w.length;if(x)for(let T=0;T<x;T+=2){const pe=e[w[T]][w[T+1]].subscribe(o),Le=p.length;p.push(o,pe),c&&c.push(r,i.index,Le,-(Le+1))}}}(o,r,r[et],s,n,e,i),Ge}function JR(n,e,t,i){try{return Er(6,e,t),!1!==t(i)}catch(r){return vR(n,r),!1}finally{Er(7,e,t)}}function eP(n,e,t,i,r){return function o(s){if(s===Function)return i;Gf(n.componentOffset>-1?ur(n.index,e):e);let l=JR(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=JR(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function _t(n=1){return function oE(n){return(qe.lFrame.contextLView=function sE(n,e){for(;n>0;)e=e[Ko],n--;return e}(n,qe.lFrame.contextLView))[yn]}(n)}function f5(n,e){let t=null;const i=function Tg(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?tu(n,o,!0):Qh(i,o))return r}else t=r}return t}function iy(n,e=0,t){const i=ie(),r=St(),o=Qu(r,gt+n,16,null,t||null);null===o.projection&&(o.projection=e),Bl(),(!i[Do]||Aa())&&32!=(32&o.flags)&&function mH(n,e,t){aM(e[et],0,e,t,RE(n,t,e),tM(t.parent||e[bi],t,e))}(r,i,o)}function ry(n,e,t,i,r){const o=ie(),s=Xu(o,e,t,i);return s!==ot&&Ur(St(),vn(),o,n,s,o[et],r,!1),ry}function oy(n,e){return n<<17|e<<2}function Ba(n){return n>>17&32767}function Fw(n){return 2|n}function Kl(n){return(131068&n)>>2}function Lw(n,e){return-131069&n|e<<2}function Vw(n){return 1|n}function dP(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Ba(o):Kl(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];v5(n[a],e)&&(l=!0,n[a+1]=i?Vw(h):Fw(h)),a=i?Ba(h):Kl(h)}l&&(n[t+1]=i?Fw(o):Vw(o))}function v5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Nu(n,e)>=0}const fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hP(n){return n.substring(fi.key,fi.keyEnd)}function fP(n,e){const t=fi.textEnd;return t===e?-1:(e=fi.keyEnd=function I5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,fi.key=e,t),ld(n,e,t))}function ld(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ke(n,e){return function ko(n,e,t,i){const r=ie(),o=St(),s=Ao(2);o.firstUpdatePass&&EP(o,n,s,i),e!==ot&&$i(r,s,e)&&IP(o,o.data[Ri()],r,r[et],n,r[s+1]=function O5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Oe(Fa(n)))),n}(e,t),i,s)}(n,e,null,!0),Ke}function vP(n){!function Oo(n,e,t,i){const r=St(),o=Ao(2);r.firstUpdatePass&&EP(r,null,o,i);const s=ie();if(t!==ot&&$i(s,o,t)){const a=r.data[Ri()];if(CP(a,i)&&!bP(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=ti(l,t||"")),Ow(r,a,s,t,i)}else!function k5(n,e,t,i,r,o,s,a){r===ot&&(r=Ft);let l=0,c=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;null!==h||null!==p;){const g=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0;let x,w=null;h===p?(l+=2,c+=2,g!==y&&(w=p,x=y)):null===p||null!==h&&h<p?(l+=2,w=h):(c+=2,w=p,x=y),null!==w&&IP(n,e,t,i,w,x,s,a),h=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}(r,a,s,s[et],s[o+1],s[o+1]=function R5(n,e,t){if(null==t||""===t)return Ft;const i=[],r=Fa(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(P5,ss,n,!0)}function ss(n,e){for(let t=function E5(n){return function mP(n){fi.key=0,fi.keyEnd=0,fi.value=0,fi.valueEnd=0,fi.textEnd=n.length}(n),fP(n,ld(n,0,fi.textEnd))}(e);t>=0;t=fP(e,t))Lr(n,hP(e),!0)}function bP(n,e){return e>=n.expandoStartIndex}function EP(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ri()],s=bP(n,t);CP(o,i)&&null===e&&!s&&(e=!1),e=function D5(n,e,t,i){const r=function Ul(n){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=ip(t=Bw(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Bw(r,n,e,t,i),null===o){let l=function A5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Kl(i))return n[Ba(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Bw(null,n,e,l[1],i),l=ip(l,e.attrs,i),function S5(n,e,t,i){n[Ba(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function M5(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=ip(i,n[o].hostAttrs,t);return ip(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function _5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ba(s),l=Kl(s);n[i]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||Nu(t,h)>0)&&(c=!0)):h=t,r)if(0!==l){const g=Ba(n[a+1]);n[i+1]=oy(g,a),0!==g&&(n[g+1]=Lw(n[g+1],i)),n[a+1]=function m5(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=oy(a,0),0!==a&&(n[a+1]=Lw(n[a+1],i)),a=i;else n[i+1]=oy(l,0),0===a?a=i:n[l+1]=Lw(n[l+1],i),l=i;c&&(n[i+1]=Fw(n[i+1])),dP(n,h,i,!0),dP(n,h,i,!1),function y5(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Nu(o,e)>=0&&(t[i+1]=Vw(t[i+1]))}(e,h,n,i,o),s=oy(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function Bw(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=ip(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function ip(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Lr(n,s,!!t||e[++o]))}return void 0===n?null:n}function P5(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Lr(n,i,t)}function IP(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],h=function g5(n){return 1==(1&n)}(c)?xP(l,e,t,r,Kl(c),s):void 0;sy(h)||(sy(o)||function p5(n){return 2==(2&n)}(c)&&(o=xP(l,null,t,r,a,s)),function _H(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Na.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Na.Important),n.setStyle(t,i,r,o))}}(i,s,mu(Ri(),t),r,o))}function xP(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let g=t[r+1];g===ot&&(g=p?Ft:void 0);let y=p?yE(g,i):h===i?g:void 0;if(c&&!sy(y)&&(y=yE(l,i)),sy(y)&&(a=y,s))return a;const w=n[r+1];r=s?Ba(w):Kl(w)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=yE(l,i))}return a}function sy(n){return void 0!==n}function CP(n,e){return 0!=(n.flags&(e?8:16))}function we(n,e=""){const t=ie(),i=St(),r=n+gt,o=i.firstCreatePass?Qu(i,r,1,e,null):i.data[r],s=TP(i,t,o,e,n);t[r]=s,wu()&&M_(i,t,s,o),uo(o,!1)}let TP=(n,e,t,i,r)=>(Xo(!0),function T_(n,e){return n.createText(e)}(e[et],i));function rp(n){return as("",n,""),rp}function as(n,e,t){const i=ie(),r=Xu(i,n,e,t);return r!==ot&&function qs(n,e,t){const i=mu(e,n);!function QS(n,e,t){n.setValue(e,t)}(n[et],i,t)}(i,Ri(),r),as}function ay(n,e,t){const i=ie();return $i(i,Us(),e)&&Ur(St(),vn(),i,n,e,i[et],t,!0),ay}const Zl=void 0;var nq=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tq(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let cd={};function dr(n){const e=function iq(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=WP(e);if(t)return t;const i=e.split("-")[0];if(t=WP(i),t)return t;if("en"===i)return nq;throw new L(701,!1)}function WP(n){return n in cd||(cd[n]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[n]),cd[n]}var ln=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ln||{});const ud="en-US";let GP=ud;function zw(n,e,t,i,r){if(n=P(n),Array.isArray(n))for(let o=0;o<n.length;o++)zw(n[o],e,t,i,r);else{const o=St(),s=ie(),a=di();let l=Wl(n)?n:P(n.provide);const c=AM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Wl(n)||!n.multi){const y=new js(c,r,N),w=Hw(l,e,r?h:h+g,p);-1===w?(xe(E(a,s),o,l),$w(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=Hw(l,e,h+g,p),w=Hw(l,e,h,h+g),T=w>=0&&t[w];if(r&&!T||!r&&!(y>=0&&t[y])){xe(E(a,s),o,l);const F=function t6(n,e,t,i,r){const o=new js(n,t,N);return o.multi=[],o.index=e,o.componentProviders=0,v1(o,r,i&&!t),o}(r?e6:Jq,t.length,r,i,c);!r&&T&&(t[w].providerFactory=F),$w(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else $w(o,n,y>-1?y:w,v1(t[r?w:y],c,!r&&i));!r&&i&&T&&t[w].componentProviders++}}}function $w(n,e,t,i){const r=Wl(e),o=function WH(n){return!!n.useClass}(e);if(r||o){const l=(o?P(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[i,l]):c[h+1].push(i,l)}else c.push(t,l)}}}function v1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Jq(n,e,t,i){return qw(this.multi,[])}function e6(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Jo(t,t[be],this.providerFactory.index,i);o=a.slice(0,s),qw(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],qw(r,o);return o}function qw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Cn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Xq(n,e,t){const i=St();if(i.firstCreatePass){const r=ao(n);zw(t,i.data,i.blueprint,r,!0),zw(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Ql{}class b1{}class Ww extends Ql{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TR(this);const r=Si(e);this._bootstrapComponents=Hs(r.bootstrap),this._r3Injector=BM(e,t,[{provide:Ql,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver},...i],Oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Gw extends b1{constructor(e){super(),this.moduleType=e}create(e){return new Ww(this.moduleType,e,[])}}class E1 extends Ql{constructor(e){super(),this.componentFactoryResolver=new TR(this),this.instance=null;const t=new zu([...e.providers,{provide:Ql,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver}],e.parent||L_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Kw(n,e,t=null){return new E1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let r6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=xM(0,t.type),r=i.length>0?Kw([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=he({token:n,providedIn:"environment",factory:()=>new n(B(Br))})}return n})();function w1(n){n.getStandaloneInjector=e=>e.get(r6).getOrCreateStandaloneInjector(n)}function up(n,e,t,i){return S1(ie(),Mi(),n,e,t,i)}function Ws(n,e,t,i,r){return M1(ie(),Mi(),n,e,t,i,r)}function dp(n,e){const t=n[e];return t===ot?void 0:t}function S1(n,e,t,i,r,o){const s=e+t;return $i(n,s,r)?is(n,s+1,o?i.call(o,r):i(r)):dp(n,s+1)}function M1(n,e,t,i,r,o,s){const a=e+t;return function Gl(n,e,t,i){const r=$i(n,e,t);return $i(n,e+1,i)||r}(n,a,r,o)?is(n,a+2,s?i.call(s,r,o):i(r,o)):dp(n,a+2)}function hp(n,e){const t=St();let i;const r=n+gt;t.firstCreatePass?(i=function E6(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=xa(i.type)),a=ji(N);try{const l=Du(!1),c=o();return Du(l),function o5(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,ie(),r,c),c}finally{ji(a)}}function hy(n,e,t){const i=n+gt,r=ie(),o=Ta(r,i);return fp(r,i)?S1(r,Mi(),e,o.transform,t,o):o.transform(t)}function fp(n,e){return n[be].data[e].pure}function C6(){return this._results[Symbol.iterator]()}class Qw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new bn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=C6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function fo(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function b$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function D6(n,e,t,i=!0){const r=e[be];if(function cH(n,e,t,i){const r=Ei+i,o=t.length;i>0&&(t[r-1][Fr]=e),i<o-Ei?(e[Fr]=t[r],TS(t,Ei+i,e)):(t.push(e),e[Fr]=null),e[sn]=t;const s=e[Os];null!==s&&t!==s&&function uH(n,e){const t=n[Ia];e[Rn]!==e[sn][sn][Rn]&&(n[Mg]=!0),null===t?n[Ia]=[e]:t.push(e)}(s,e);const a=e[vr];null!==a&&a.insertView(n),e[Je]|=128}(r,e,n,t),i){const o=kE(t,n),s=e[et],a=S_(s,n[so]);null!==a&&function sH(n,e,t,i,r,o){i[on]=r,i[bi]=e,Bf(n,i,t,1,r,o)}(r,n[bi],s,e,a,o)}}let ls=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=M6}return n})();const A6=ls,S6=class extends A6{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function T6(n,e,t,i){const r=e.tView,a=G_(n,r,t,4096&n[Je]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Os]=n[e.index];const c=n[vr];return null!==c&&(a[vr]=c.createEmbeddedView(r)),Dw(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Qf(r)}};function M6(){return fy(di(),ie())}function fy(n,e){return 4&n.type?new S6(e,n,Gu(n,e)):null}let mo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=F6}return n})();function F6(){return j1(di(),ie())}const L6=mo,B1=class extends L6{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){const e=oe(this._hostTNode,this._hostLView);if(Sf(e)){const t=$l(e,this._hostLView),i=zl(e);return new wi(t[be].data[i+8],t)}return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=U1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ei}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function kf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const l=s?e:new Yf(Et(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const T=(s?c:this.parentInjector).get(Br,null);T&&(o=T)}Et(l.componentType??{});const y=l.create(c,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function Y0(n){return ui(n[sn])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[sn],h=new B1(c,c[bi],c[sn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return D6(a,r,s,!i),e.attachToViewContainerRef(),TS(Yw(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=U1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=A_(this._lContainer,t);i&&(__(Yw(this._lContainer),t),SE(i[be],i))}detach(e){const t=this._adjustIndex(e,-1),i=A_(this._lContainer,t);return i&&null!=__(Yw(this._lContainer),t)?new Qf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function U1(n){return n[8]}function Yw(n){return n[8]||(n[8]=[])}function j1(n,e){let t;const i=e[n.index];return ui(i)?t=i:(t=pR(i,e,null,n),e[n.index]=t,K_(e,t)),z1(t,e,n,i),new B1(t,n,e)}let z1=function $1(n,e,t,i){if(n[so])return;let r;r=8&t.type?Jt(i):function V6(n,e){const t=n[et],i=t.createComment(""),r=Vn(e,n);return ql(t,S_(t,r),i,function pH(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[so]=r};class Xw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Xw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Jw(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Q1(e,t).matches&&this.queries[t].setDirty()}}class H1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class eI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new eI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class tI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new tI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,j6(t,o)),this.matchTNodeWithReadOption(e,t,ka(t,e,o,!1,!1))}else i===ls?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ka(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===an||r===mo||r===ls&&4&t.type)this.addMatch(t.index,-2);else{const o=ka(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function j6(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function $6(n,e,t,i){return-1===t?function z6(n,e){return 11&n.type?Gu(n,e):4&n.type?fy(n,e):null}(e,n):-2===t?function H6(n,e,t){return t===an?Gu(e,n):t===ls?fy(e,n):t===mo?j1(e,n):void 0}(n,e,i):Jo(n,n[be],t,e)}function q1(n,e,t,i){const r=e[vr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:$6(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function nI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=q1(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=e[-l];for(let p=Ei;p<h.length;p++){const g=h[p];g[Os]===g[sn]&&nI(g[be],g,c,i)}if(null!==h[Ia]){const p=h[Ia];for(let g=0;g<p.length;g++){const y=p[g];nI(y[be],y,c,i)}}}}}return i}function iI(n){const e=ie(),t=St(),i=i_();Cf(i+1);const r=Q1(t,i);if(n.dirty&&function yf(n){return 4==(4&n[Je])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?nI(t,e,i,[]):q1(t,e,r,i);n.reset(o,p4),n.notifyOnChanges()}return!0}return!1}function W1(n,e,t){const i=St();i.firstCreatePass&&(function Z1(n,e,t){null===n.queries&&(n.queries=new eI),n.queries.track(new tI(e,t))}(i,new H1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function K1(n,e,t){const i=new Qw(4==(4&t));(function H4(n,e,t,i){const r=gR(e);r.push(t),n.firstCreatePass&&_R(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[vr]&&(e[vr]=new Jw),e[vr].queries.push(new Xw(i))}(i,ie(),e)}function Q1(n,e){return n.queries.getByIndex(e)}function Y1(n,e){return fy(n,e)}const uI=new re("Application Initializer");let dI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=fe(uI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(np(o))t.push(o);else if(QR(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const cs=new re("LocaleId",{providedIn:"root",factory:()=>fe(cs,ht.Optional|ht.SkipSelf)||function fW(){return typeof $localize<"u"&&$localize.locale||ud}()});let gy=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let mk=(()=>{class n{compileModuleSync(t){return new Gw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Hs(Si(t).declarations).reduce((s,a)=>{const l=Et(a);return l&&s.push(new Yf(l)),s},[]);return new gW(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vk=new re(""),yy=new re("");let gI,pI=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gI||(function VW(n){gI=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(B(We),B(mI),B(yy))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})(),mI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return gI?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ua=null;const bk=new re("AllowMultipleToken"),_I=new re("PlatformDestroyListeners"),yI=new re("appBootstrapListener");class wk{constructor(e,t){this.name=e,this.token=t}}function xk(n,e,t=[]){const i=`Platform: ${e}`,r=new re(i);return(o=[])=>{let s=vI();if(!s||s.injector.get(bk,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function jW(n){if(Ua&&!Ua.get(bk,!1))throw new L(400,!1);(function Ek(){!function z0(n){j0=n}(()=>{throw new L(600,!1)})})(),Ua=n;const e=n.get(Tk);(function Ik(n){n.get(SM,null)?.forEach(t=>t())})(n)}(function Ck(n=[],e){return Zn.create({name:e,providers:[{provide:WE,useValue:"platform"},{provide:_I,useValue:new Set([()=>Ua=null])},...n]})}(a,i))}return function $W(n){const e=vI();if(!e)throw new L(401,!1);return e}()}}function vI(){return Ua?.get(Tk)??null}let Tk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function HW(n="zone.js",e){return"noop"===n?new A4:"zone.js"===n?new We(e):n}(i?.ngZone,function Dk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function i6(n,e,t){return new Ww(n,e,t)}(t.moduleType,this.injector,function Pk(n){return[{provide:We,useFactory:n},{provide:$f,multi:!0,useFactory:()=>{const e=fe(WW,{optional:!0});return()=>e.initialize()}},{provide:Rk,useFactory:qW},{provide:HM,useFactory:qM}]}(()=>r)),s=o.injector.get($s,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{vy(this._modules,o),a.unsubscribe()})}),function Ak(n,e,t){try{const i=t();return np(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(dI);return a.runInitializers(),a.donePromise.then(()=>(function KP(n){vi(n,"Expected localeId to be defined"),"string"==typeof n&&(GP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(cs,ud)||ud),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=Sk({},i);return function BW(n,e,t){const i=new Gw(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ja);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new L(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(_I,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(B(Zn))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Sk(n,e){return Array.isArray(e)?e.reduce(Sk,n):{...n,...e}}let ja=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(Rk),this.zoneIsStable=fe(HM),this.componentTypes=[],this.components=[],this.isStable=fe(gy).hasPendingTasks.pipe(De(t=>t?S(!1):this.zoneIsStable),He(),Q()),this._injector=fe(Br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof kM;if(!this._injector.get(dI).done)throw!r&&function va(n){const e=Et(n)||li(n)||ci(n);return null!==e&&e.standalone}(t),new L(405,!1);let s;s=r?t:this._injector.get(Wu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function UW(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ql),c=s.create(Zn.NULL,[],i||s.selector,a),h=c.location.nativeElement,p=c.injector.get(vk,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),vy(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;vy(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(yI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Rk=new re("",{providedIn:"root",factory:()=>fe($s).handleError.bind(void 0)});function qW(){const n=fe(We),e=fe($s);return t=>n.runOutsideAngular(()=>e.handleError(t))}let WW=(()=>{class n{constructor(){this.zone=fe(We),this.applicationRef=fe(ja)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let by=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=KW}return n})();function KW(n){return function ZW(n,e,t){if(Fs(n)&&!t){const i=ur(n.index,e);return new Qf(i,i)}return 47&n.type?new Qf(e[Rn],e):null}(di(),ie(),16==(16&n))}class Lk{constructor(){}supports(e){return X_(e)}create(e){return new tG(e)}}const eG=(n,e)=>e;class tG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<Bk(i,r,o)?t:i,a=Bk(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=h-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!X_(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function L3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new nG(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Vk),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nG{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Vk{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new iG,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bk(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class Uk{constructor(){}supports(e){return e instanceof Map||Aw(e)}create(){return new rG}}class rG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Aw(e)))throw new L(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new oG(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class oG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jk(){return new Iy([new Lk])}let Iy=(()=>{class n{static#e=this.\u0275prov=he({token:n,providedIn:"root",factory:jk});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||jk()),deps:[[n,new v_,new Vr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new L(901,!1)}}return n})();function zk(){return new gp([new Uk])}let gp=(()=>{class n{static#e=this.\u0275prov=he({token:n,providedIn:"root",factory:zk});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||zk()),deps:[[n,new v_,new Vr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new L(901,!1)}}return n})();const lG=xk(null,"core",[]);let cG=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(B(ja))};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})();function fd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let CI=null;function za(){return CI}class IG{}const Nt=new re("DocumentToken");let TI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return fe(CG)},providedIn:"platform"})}return n})();const xG=new re("Location Initialized");let CG=(()=>{class n extends TI{constructor(){super(),this._doc=fe(Nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return za().getBaseHref(this._doc)}onPopState(t){const i=za().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=za().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function DI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Yk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Gs(n){return n&&"?"!==n[0]?"?"+n:n}let Xl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return fe(Jk)},providedIn:"root"})}return n})();const Xk=new re("appBaseHref");let Jk=(()=>{class n extends Xl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??fe(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return DI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Gs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Gs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Gs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(TI),B(Xk,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TG=(()=>{class n extends Xl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=DI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Gs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Gs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(TI),B(Xk,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})(),_p=(()=>{class n{constructor(t){this._subject=new bn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function SG(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Yk(eO(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Gs(i))}normalize(t){return n.stripTrailingSlash(function AG(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,eO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Gs;static#t=this.joinWithSlash=DI;static#n=this.stripTrailingSlash=Yk;static#i=this.\u0275fac=function(i){return new(i||n)(B(Xl))};static#r=this.\u0275prov=he({token:n,factory:function(){return function DG(){return new _p(B(Xl))}()},providedIn:"root"})}return n})();function eO(n){return n.replace(/\/index.html$/,"")}var Cy=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Cy||{}),Qn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Qn||{});function go(n,e){const t=dr(n),i=t[ln.NumberSymbols][e];if(typeof i>"u"){if(e===Qn.CurrencyDecimal)return t[ln.NumberSymbols][Qn.Decimal];if(e===Qn.CurrencyGroup)return t[ln.NumberSymbols][Qn.Group]}return i}const n8=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function NI(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function cO(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const LI=/\s+/,uO=[];let Jl=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=uO,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(LI):uO}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(LI):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(LI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(N(Iy),N(gp),N(an),N(ts))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class p8{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ec=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new p8(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),hO(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{hO(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(N(mo),N(ls),N(Iy))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function hO(n,e){n.context.$implicit=e.item}let Qs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new m8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(N(mo),N(ls))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class m8{constructor(){this.$implicit=null,this.ngIf=null}}function fO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(e)}'.`)}function Fo(n,e){return new L(2100,!1)}class y8{createSubscription(e,t){return Hg(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){Hg(()=>e.unsubscribe())}}class v8{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const b8=new v8,E8=new y8;let mO=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(np(t))return b8;if(QR(t))return E8;throw Fo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(N(by,16))};static#t=this.\u0275pipe=ai({name:"async",type:n,pure:!1,standalone:!0})}return n})(),_O=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function UI(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return function l8(n,e,t){return function kI(n,e,t,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function u8(n){let i,r,o,s,a,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);s&&(c=function c8(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){const R=o.match(n8);if(null===R)throw new Error(`${o} is not a valid digit info`);const j=R[1],J=R[3],pe=R[5];null!=j&&(h=NI(j)),null!=J&&(p=NI(J)),null!=pe?g=NI(pe):null!=J&&p>g&&(g=p)}!function d8(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(e,r),t);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let p=s;p<i.length;p++)i[p]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let p=1;p<s;p++)i[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=e+n.integerLen,h=i.reduceRight(function(p,g,y,w){return w[y]=(g+=p)<10?g:g-10,l&&(0===w[y]&&y>=c?w.pop():l=!1),g>=10?1:0},0);h&&(i.unshift(h),n.integerLen++)}(c,p,g);let y=c.digits,w=c.integerLen;const x=c.exponent;let T=[];for(l=y.every(R=>!R);w<h;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?T=y.splice(w,y.length):(T=y,y=[0]);const F=[];for(y.length>=e.lgSize&&F.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)F.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&F.unshift(y.join("")),a=F.join(go(t,i)),T.length&&(a+=go(t,r)+T.join("")),x&&(a+=go(t,Qn.Exponential)+"+"+x)}else a=go(t,Qn.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function OI(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const p=l.charAt(h);"0"===p?t.minFrac=t.maxFrac=h+1:"#"===p?t.maxFrac=h+1:t.posSuf+=p}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const h=r.length-t.posPre.length-t.posSuf.length,p=o.indexOf("#");t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function AI(n,e){return dr(n)[ln.NumberFormats][e]}(e,Cy.Decimal),go(e,Qn.MinusSign)),e,Qn.Group,Qn.Decimal,t)}(function jI(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(o){throw Fo()}}static#e=this.\u0275fac=function(i){return new(i||n)(N(cs,16))};static#t=this.\u0275pipe=ai({name:"number",type:n,pure:!0,standalone:!0})}return n})();let yO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})();const vO="browser";function zI(n){return"server"===n}let z8=(()=>{class n{static#e=this.\u0275prov=he({token:n,providedIn:"root",factory:()=>new $8(B(Nt),window)})}return n})();class $8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function H8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class bO{}class f9 extends IG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qI extends f9{static makeCurrent(){!function wG(n){CI||(CI=n)}(new qI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function p9(){return Ep=Ep||document.querySelector("base"),Ep?Ep.getAttribute("href"):null}();return null==t?null:function m9(n){Ly=Ly||document.createElement("a"),Ly.setAttribute("href",n);const e=Ly.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ep=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cO(document.cookie,e)}}let Ly,Ep=null,_9=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const WI=new re("EventManagerPlugins");let CO=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(B(WI),B(We))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();class TO{constructor(e){this._doc=e}}const GI="ng-app-id";let DO=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zI(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${GI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(GI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(GI,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt),B(V_),B(QE,8),B(Po))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const KI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ZI=/%COMP%/g,E9=new re("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function SO(n,e){return e.map(t=>t.replace(ZI,n))}let QI=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=zI(a),this.defaultRenderer=new YI(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yr.ShadowDom&&(i={...i,encapsulation:yr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof RO?r.applyToHost(t):r instanceof XI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case yr.Emulated:o=new RO(l,c,i,this.appId,h,s,a,p);break;case yr.ShadowDom:return new C9(l,c,t,i,s,a,this.nonce,p);default:o=new XI(l,c,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(B(CO),B(DO),B(V_),B(E9),B(Nt),B(Po),B(We),B(QE))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();class YI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(KI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(MO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(MO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new L(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=KI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=KI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Na.DashCase|Na.Important)?e.style.setProperty(t,i,r&Na.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Na.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=za().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function MO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class C9 extends YI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=SO(r.id,r.styles);for(const h of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class XI extends YI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?SO(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RO extends XI{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function w9(n){return"_ngcontent-%COMP%".replace(ZI,n)}(c),this.hostAttr=function I9(n){return"_nghost-%COMP%".replace(ZI,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let T9=(()=>{class n extends TO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const PO=["alt","control","meta","shift"],D9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let S9=(()=>{class n extends TO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>za().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),PO.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=D9[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),PO.forEach(s=>{s!==r&&(0,A9[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const OO=[{provide:Po,useValue:vO},{provide:SM,useValue:function M9(){qI.makeCurrent()},multi:!0},{provide:Nt,useFactory:function P9(){return function wH(n){FE=n}(document),document},deps:[]}],k9=xk(lG,"browser",OO),O9=new re(""),NO=[{provide:yy,useClass:class g9{addToWindow(e){Wt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new L(5103,!1);return o},Wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Wt.getAllAngularRootElements=()=>e.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(i=>{const r=Wt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?za().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:vk,useClass:pI,deps:[We,mI,yy]},{provide:pI,useClass:pI,deps:[We,mI,yy]}],FO=[{provide:WE,useValue:"root"},{provide:$s,useFactory:function R9(){return new $s},deps:[]},{provide:WI,useClass:T9,multi:!0,deps:[Nt,We,Po]},{provide:WI,useClass:S9,multi:!0,deps:[Nt]},QI,DO,CO,{provide:Wf,useExisting:QI},{provide:bO,useClass:_9,deps:[]},[]];let LO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:V_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(B(O9,12))};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:[...FO,...NO],imports:[yO,cG]})}return n})(),VO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt))};static#t=this.\u0275prov=he({token:n,factory:function(i){let r=null;return r=i?new i:function F9(){return new VO(B(Nt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;var Me=je(861),tc=je(217),Ha=je(58),Tr=je(534),Ys=je(879),j9=je(537);je(365),(0,Tr.registerVersion)("firebase","10.7.1","app");class H9 extends yt{constructor(e,t){super()}schedule(e,t=0){return this}}const Vy={setInterval(n,e,...t){const{delegate:i}=Vy;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Vy;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class By extends H9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Vy.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Vy.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pe(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const ex={now:()=>(ex.delegate||Date).now(),delegate:void 0};class wp{constructor(e,t=wp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}wp.now=ex.now;class Uy extends wp{constructor(e,t=wp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const G9=new class W9 extends Uy{}(class q9 extends By{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),jy=new Uy(By),K9=jy;function ki(n,e,t){const i=C(n)||e||t?{next:n,error:e,complete:t}:n;return i?te((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(me(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Sn}const md=new Va("ANGULARFIRE2_VERSION");const tx=(n,e)=>{const t=e?[e]:(0,Tr.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class $O{constructor(){return tx(Z9)}}const Z9="app-check";function gd(){}class HO{zone;delegate;constructor(e,t=G9){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class Q9{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gd,{},gd,gd)),t.pipe(ki({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nx=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new HO(Zone.current)),this.insideAngular=t.run(()=>new HO(Zone.current,jy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(B(We))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _d(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function nc(n){return _d().ngZone.run(()=>n())}function qO(n){return function X9(n){return function(t){return(t=t.lift(new Q9(n.ngZone))).pipe(yi(n.outsideAngular),Fn(n.insideAngular))}}(_d())(n)}const J9=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),nc(()=>n.apply(void 0,i))},ic=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||=nc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gd,{},gd,gd))),i[o]=J9(i[o],t));const r=function Y9(n){return _d().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Xe){const o=_d();return r.pipe(yi(o.outsideAngular),Fn(o.insideAngular))}return nc(()=>r)}return r instanceof Xe?r.pipe(qO):r instanceof Promise?nc(()=>new Promise((o,s)=>r.then(a=>nc(()=>o(a)),a=>nc(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:nc(()=>r)};var qa=je(106);qa.Z.registerVersion("firebase","10.7.1","app-compat");const n7=["ngOnDestroy"];class WO{constructor(e){return e}}const ix=new re("angularfire2.app.options"),rx=new re("angularfire2.app.name");function GO(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=qa.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>qa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;o7("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new WO(s)}const o7=(n,...e)=>{},s7={provide:WO,useFactory:GO,deps:[ix,We,[new Vr,rx]]};let a7=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:ix,useValue:t},{provide:rx,useValue:i}]}}constructor(t){qa.Z.registerVersion("angularfire",md.full,"core"),qa.Z.registerVersion("angularfire",md.full,"app-compat"),qa.Z.registerVersion("angular",aw.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(Po))};static \u0275mod=Tt({type:n});static \u0275inj=kt({providers:[s7]})}return n})();typeof module<"u"&&module;globalThis.\u0275AngularfireInstanceCache||=[];class d7 extends z{constructor(e=1/0,t=1/0,i=ex){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function ZO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Q({connector:()=>new d7(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const zy=K(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Oi(n,e){return te((t,i)=>{let r=0;t.subscribe(me(i,o=>n.call(e,o,r++)&&i.next(o)))})}function yo(n){return n<=0?()=>Mn:te((e,t)=>{let i=0;e.subscribe(me(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function $y(n){return te((e,t)=>{let i=!1;e.subscribe(me(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function QO(n=h7){return te((e,t)=>{let i=!1;e.subscribe(me(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function h7(){return new zy}function Wa(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Oi((r,o)=>n(r,o,i)):Sn,yo(1),t?$y(e):QO(()=>new zy))}function YO(n,e){return C(e)?De(()=>n,e):De(()=>n)}const p7=new re("angularfire2.auth.use-emulator"),m7=new re("angularfire2.auth.settings"),g7=new re("angularfire2.auth.tenant-id"),_7=new re("angularfire2.auth.langugage-code"),y7=new re("angularfire2.auth.use-device-language"),v7=new re("angularfire.auth.persistence");let ox=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,h,p,g,y){const w=new z,x=S(void 0).pipe(Fn(s.outsideAngular),De(()=>o.runOutsideAngular(()=>Promise.resolve().then(je.bind(je,365)))),Te(()=>GO(t,o,i)),Te(T=>((n,e,t,i,r,o,s,a)=>function l7(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function c7(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}(`${n.name}.auth`,0,0,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,h]of Object.entries(s))l.settings[c]=h;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]))(T,o,a,c,h,p,l,g)),ZO({bufferSize:1,refCount:!1}));if(zI(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{x.pipe(Wa()).subscribe();const T=x.pipe(De(j=>j.getRedirectResult().then(J=>J,()=>null)),qO,ZO({bufferSize:1,refCount:!1})),F=x.pipe(De(j=>new Xe(J=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(pe=>J.next(pe),pe=>J.error(pe),()=>J.complete()))})))),R=x.pipe(De(j=>new Xe(J=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(pe=>J.next(pe),pe=>J.error(pe),()=>J.complete()))}))));this.authState=T.pipe(YO(F),yi(s.outsideAngular),Fn(s.insideAngular)),this.user=T.pipe(YO(R),yi(s.outsideAngular),Fn(s.insideAngular)),this.idToken=this.user.pipe(De(j=>j?b(j.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(De(j=>j?b(j.getIdTokenResult()):S(null))),this.credential=I(T,w,this.authState.pipe(Oi(j=>!j))).pipe(Te(j=>j?.user?j:null),yi(s.outsideAngular),Fn(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(n7.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(h=>{const p=h?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,p),p})})})}))(this,x,o,{spy:{apply:(T,F,R)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&R.then(j=>w.next(j))}}})}static \u0275fac=function(i){return new(i||n)(B(ix),B(rx,8),B(Po),B(We),B(nx),B(p7,8),B(m7,8),B(g7,8),B(_7,8),B(y7,8),B(v7,8),B($O,8))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),E7=(()=>{class n{constructor(){qa.Z.registerVersion("angularfire",md.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Tt({type:n});static \u0275inj=kt({providers:[ox]})}return n})(),Ga=(()=>{class n{constructor(t){this.afAuth=t,this.isLoggedIn=!1,this.userData=t.authState,this.afAuth.setPersistence("session"),this.checkAuthState()}googleSignIn(){const t=new tc.X;return(0,tc.c)((0,tc.o)(),t).then(i=>(localStorage.setItem("uid",i.user?.uid),console.log(i),this.isLoggedIn=!0,i)).catch(i=>(console.log(i),{}))}googleSignOut(){(0,tc.C)((0,tc.o)())}register(t,i,r,o){return this.afAuth.createUserWithEmailAndPassword(t,i).then(s=>(this.isLoggedIn=!0,s.user?.updateProfile({displayName:`${r} ${o}`})))}login(t,i,r){var o=this;return(0,Me.Z)(function*(){const s=yield o.afAuth.signInWithEmailAndPassword(t,i);s.user&&(localStorage.setItem("uid",s.user.uid),localStorage.setItem("User_info",JSON.stringify(s.user)),o.isLoggedIn=!0,r?localStorage.setItem("rememberMe",JSON.stringify({email:t,password:i})):localStorage.removeItem("rememberMe"))})()}logout(){this.isLoggedIn=!1,this.afAuth.signOut().then(t=>{localStorage.removeItem("User_info"),localStorage.removeItem("uid")})}checkAuthState(){this.afAuth.authState.subscribe(t=>{this.isLoggedIn=!!t})}static#e=this.\u0275fac=function(i){return new(i||n)(B(ox))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const{isArray:I7}=Array,{getPrototypeOf:x7,prototype:C7,keys:T7}=Object;function XO(n){if(1===n.length){const e=n[0];if(I7(e))return{args:e,keys:null};if(function D7(n){return n&&"object"==typeof n&&x7(n)===C7}(e)){const t=T7(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:A7}=Array;function sx(n){return Te(e=>function S7(n,e){return A7(e)?n(...e):n(e)}(n,e))}function JO(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Hy(...n){const e=Nr(n),t=no(n),{args:i,keys:r}=XO(n);if(0===i.length)return b([],e);const o=new Xe(function M7(n,e,t=Sn){return i=>{eN(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)eN(e,()=>{const c=b(n[l],e);let h=!1;c.subscribe(me(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>JO(r,s):Sn));return t?o.pipe(sx(t)):o}function eN(n,e,t){n?tr(t,n,e):e()}function qy(...n){return function R7(){return nr(1)}()(b(n,Nr(n)))}function Wy(n){return new Xe(e=>{bt(n()).subscribe(e)})}function Ip(n,e){const t=C(n)?n:()=>n,i=r=>r.error(t());return new Xe(e?r=>e.schedule(i,0,r):i)}function ax(){return te((n,e)=>{let t=null;n._refCount++;const i=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class tN extends Xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;const t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return ax()(this)}}function Gy(...n){const e=Nr(n);return te((t,i)=>{(e?qy(n,t,e):qy(n,t)).subscribe(i)})}function yd(n,e){return C(e)?jt(n,e,1):jt(n,1)}function rc(n){return te((e,t)=>{let o,i=null,r=!1;i=e.subscribe(me(t,void 0,void 0,s=>{o=bt(n(s,rc(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function lx(n){return n<=0?()=>Mn:te((e,t)=>{let i=[];e.subscribe(me(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function xp(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ky(n){return te((e,t)=>{bt(n).subscribe(me(t,()=>t.complete(),Re)),!t.closed&&e.subscribe(t)})}const lt="primary",Cp=Symbol("RouteTitle");class F7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vd(n){return new F7(n)}function L7(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function us(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!nN(n[r],e[r]))return!1;return!0}function nN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function iN(n){return n.length>0?n[n.length-1]:null}function Ka(n){return function w7(n){return!!n&&(n instanceof Xe||C(n.lift)&&C(n.subscribe))}(n)?n:np(n)?b(Promise.resolve(n)):S(n)}const B7={exact:function sN(n,e,t){if(!oc(n.segments,e.segments)||!Zy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!sN(n.children[i],e.children[i],t))return!1;return!0},subset:aN},rN={exact:function U7(n,e){return us(n,e)},subset:function j7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nN(n[t],e[t]))},ignored:()=>!0};function oN(n,e,t){return B7[t.paths](n.root,e.root,t.matrixParams)&&rN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function aN(n,e,t){return lN(n,e,e.segments,t)}function lN(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!oc(r,t)||e.hasChildren()||!Zy(r,t,i))}if(n.segments.length===t.length){if(!oc(n.segments,t)||!Zy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!aN(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(oc(n.segments,r)&&Zy(n.segments,r,i)&&n.children[lt])&&lN(n.children[lt],e,o,i)}}function Zy(n,e,t){return e.every((i,r)=>rN[t](n[r].parameters,i.parameters))}class bd{constructor(e=new Zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vd(this.queryParams)),this._queryParamMap}toString(){return H7.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qy(this)}}class Tp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vd(this.parameters)),this._parameterMap}toString(){return dN(this)}}function oc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Dp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return new cx},providedIn:"root"})}return n})();class cx{parse(e){const t=new tK(e);return new bd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ap(e.root,!0)}`,i=function G7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Yy(t)}=${Yy(r)}`).join("&"):`${Yy(t)}=${Yy(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function q7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const H7=new cx;function Qy(n){return n.segments.map(e=>dN(e)).join("/")}function Ap(n,e){if(!n.hasChildren())return Qy(n);if(e){const t=n.children[lt]?Ap(n.children[lt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==lt&&i.push(`${r}:${Ap(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function $7(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===lt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==lt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===lt?[Ap(n.children[lt],!1)]:[`${r}:${Ap(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[lt]?`${Qy(n)}/${t[0]}`:`${Qy(n)}/(${t.join("//")})`}}function cN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yy(n){return cN(n).replace(/%3B/gi,";")}function ux(n){return cN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xy(n){return decodeURIComponent(n)}function uN(n){return Xy(n.replace(/\+/g,"%20"))}function dN(n){return`${ux(n.path)}${function W7(n){return Object.keys(n).map(e=>`;${ux(e)}=${ux(n[e])}`).join("")}(n.parameters)}`}const K7=/^[^\/()?;#]+/;function dx(n){const e=n.match(K7);return e?e[0]:""}const Z7=/^[^\/()?;=#]+/,Y7=/^[^=?&#]+/,J7=/^[^&#]+/;class tK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[lt]=new Zt(e,t)),i}parseSegment(){const e=dx(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Tp(Xy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Q7(n){const e=n.match(Z7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=dx(this.remaining);r&&(i=r,this.capture(i))}e[Xy(t)]=Xy(i)}parseQueryParam(e){const t=function X7(n){const e=n.match(Y7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function eK(n){const e=n.match(J7);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=uN(t),o=uN(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dx(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new L(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=lt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[lt]:new Zt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}}function hN(n){return n.segments.length>0?new Zt([],{[lt]:n}):n}function fN(n){const e={};for(const i of Object.keys(n.children)){const o=fN(n.children[i]);if(i===lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function nK(n){if(1===n.numberOfChildren&&n.children[lt]){const e=n.children[lt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function sc(n){return n instanceof bd}function pN(n){let e;const r=hN(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Zt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function mN(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return hx(r,r,r,t,i);const o=function rK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _N(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new _N(t,e,i)}(e);if(o.toRoot())return hx(r,r,new Zt([],{}),t,i);const s=function oK(n,e,t){if(n.isAbsolute)return new ev(e,!0,0);if(!t)return new ev(e,!1,NaN);if(null===t.parent)return new ev(t,!0,0);const i=Jy(n.commands[0])?0:1;return function sK(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new L(4005,!1);r=i.segments.length}return new ev(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Mp(s.segmentGroup,s.index,o.commands):yN(s.segmentGroup,s.index,o.commands);return hx(r,s.segmentGroup,a,t,i)}function Jy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sp(n){return"object"==typeof n&&null!=n&&n.outlets}function hx(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=n===e?t:gN(n,e,t);const a=hN(fN(s));return new bd(a,o,r)}function gN(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:gN(o,e,t)}),new Zt(n.segments,i)}class _N{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Jy(i[0]))throw new L(4003,!1);const r=i.find(Sp);if(r&&r!==iN(i))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ev{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function yN(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return Mp(n,e,t);const i=function lK(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Sp(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!bN(l,c,s))return o;i+=2}else{if(!bN(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Zt(n.segments.slice(0,i.pathIndex),{});return o.children[lt]=new Zt(n.segments.slice(i.pathIndex),n.children),Mp(o,0,r)}return i.match&&0===r.length?new Zt(n.segments,{}):i.match&&!n.hasChildren()?fx(n,e,t):i.match?Mp(n,0,r):fx(n,e,t)}function Mp(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const i=function aK(n){return Sp(n[0])?n[0].outlets:{[lt]:n}}(t),r={};if(Object.keys(i).some(o=>o!==lt)&&n.children[lt]&&1===n.numberOfChildren&&0===n.children[lt].segments.length){const o=Mp(n.children[lt],e,t);return new Zt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=yN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Zt(n.segments,r)}}function fx(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Sp(o)){const l=cK(o.outlets);return new Zt(i,l)}if(0===r&&Jy(t[0])){i.push(new Tp(n.segments[e].path,vN(t[0]))),r++;continue}const s=Sp(o)?o.outlets[lt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Jy(a)?(i.push(new Tp(s,vN(a))),r+=2):(i.push(new Tp(s,{})),r++)}return new Zt(i,{})}function cK(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=fx(new Zt([],{}),0,i))}),e}function vN(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function bN(n,e,t){return n==t.path&&us(e,t.parameters)}const Rp="imperative";class ds{constructor(e,t){this.id=e,this.url=t}}class tv extends ds{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends ds{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pp extends ds{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ed extends ds{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class nv extends ds{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EN extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uK extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dK extends ds{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hK extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fK extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _K{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class px{}class mx{constructor(e){this.url=e}}class bK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kp,this.attachRef=null}}let kp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new bK,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class IN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gx(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=gx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_x(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _x(e,this._root).map(t=>t.value)}}function gx(n,e){if(n===e.value)return e;for(const t of e.children){const i=gx(n,t);if(i)return i}return null}function _x(n,e){if(n===e.value)return[e];for(const t of e.children){const i=_x(n,t);if(i.length)return i.unshift(e),i}return[]}class Js{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xN extends IN{constructor(e,t){super(e),this.snapshot=t,yx(this,e)}toString(){return this.snapshot.toString()}}function CN(n,e){const t=function EK(n,e){const s=new iv([],{},{},"",{},lt,e,null,{});return new DN("",new Js(s,[]))}(0,e),i=new v([new Tp("",{})]),r=new v({}),o=new v({}),s=new v({}),a=new v(""),l=new Za(i,r,s,a,o,lt,e,t.root);return l.snapshot=t.root,new xN(new Js(l,[]),t)}class Za{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Te(c=>c[Cp]))??S(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>vd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>vd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TN(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function wK(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class iv{get title(){return this.data?.[Cp]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DN extends IN{constructor(e,t){super(t),this.url=e,yx(this,t)}toString(){return AN(this._root)}}function yx(n,e){e.value._routerState=n,e.children.forEach(t=>yx(n,t))}function AN(n){const e=n.children.length>0?` { ${n.children.map(AN).join(", ")} } `:"";return`${n.value}${e}`}function vx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,us(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),us(e.params,t.params)||n.paramsSubject.next(t.params),function V7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!us(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),us(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function bx(n,e){const t=us(n.params,e.params)&&function z7(n,e){return oc(n,e)&&n.every((t,i)=>us(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bx(n.parent,e.parent))}let Ex=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new bn,this.deactivateEvents=new bn,this.attachEvents=new bn,this.detachEvents=new bn,this.parentContexts=fe(kp),this.location=fe(mo),this.changeDetector=fe(by),this.environmentInjector=fe(Br),this.inputBinder=fe(rv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new IK(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[br]})}return n})();class IK{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Za?this.route:e===kp?this.childContexts:this.parent.get(e,t)}}const rv=new re("");let SN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Hy([i.queryParams,i.params,i.data]).pipe(De(([o,s,a],l)=>(a={...o,...s,...a},0===l?S(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function EG(n){const e=Et(n);if(!e)return null;const t=new Yf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();function Op(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function CK(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Op(n,i,r);return Op(n,i)})}(n,e,t);return new Js(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Op(n,a)),s}}const i=function TK(n){return new Za(new v(n.url),new v(n.params),new v(n.queryParams),new v(n.fragment),new v(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Op(n,o));return new Js(i,r)}}const wx="ngNavigationCancelingError";function MN(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=RN(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function RN(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[wx]=!0,i.cancellationCode=e,t&&(i.url=t),i}function PN(n){return n&&n[wx]}let kN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ln({type:n,selectors:[["ng-component"]],standalone:!0,features:[w1],decls:1,vars:0,template:function(i,r){1&i&&It(0,"router-outlet")},dependencies:[Ex],encapsulation:2})}return n})();function Ix(n){const e=n.children&&n.children.map(Ix),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==lt&&(t.component=kN),t}function Lo(n){return n.outlet||lt}function Np(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class OK{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vx(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=wd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=wd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=wd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=wd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new vK(o.value.snapshot))}),e.children.length&&this.forwardEvent(new _K(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(vx(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vx(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Np(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class ON{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ov{constructor(e,t){this.component=e,this.route=t}}function NK(n,e,t){const i=n._root;return Fp(i,e?e._root:null,t,[i.value])}function Id(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function yg(n){return null!==zc(n)}(n)?e.get(n):n:i}function Fp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=wd(e);return n.children.forEach(s=>{(function LK(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function VK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oc(n.url,e.url)||!us(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bx(n,e)||!us(n.queryParams,e.queryParams);default:return!bx(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ON(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Fp(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ov(a.outlet.component,s))}else s&&Lp(e,a,r),r.canActivateChecks.push(new ON(i)),Fp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Lp(a,t.getContext(s),r)),r}function Lp(n,e,t){const i=wd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Lp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ov(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Vp(n){return"function"==typeof n}function NN(n){return n instanceof zy||"EmptyError"===n?.name}const sv=Symbol("INITIAL_VALUE");function xd(){return De(n=>Hy(n.map(e=>e.pipe(yo(1),Gy(sv)))).pipe(Te(e=>{for(const t of e)if(!0!==t){if(t===sv)return sv;if(!1===t||t instanceof bd)return t}return!0}),Oi(e=>e!==sv),yo(1)))}function FN(n){return function Mr(...n){return Rr(n)}(ki(e=>{if(sc(e))throw MN(0,e)}),Te(e=>!0===e))}class av{constructor(e){this.segmentGroup=e||null}}class LN{constructor(e){this.urlTree=e}}function Cd(n){return Ip(new av(n))}function VN(n){return Ip(new LN(n))}class rZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new L(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return S(i);if(r.numberOfChildren>1||!r.children[lt])return Ip(new L(4e3,!1));r=r.children[lt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new bd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Zt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new L(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const xx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oZ(n,e,t,i,r){const o=Cx(n,e,t);return o.matched?(i=function AK(n,e){return n.providers&&!n._injector&&(n._injector=Kw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function tZ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?S(r.map(s=>{const a=Id(s,n);return Ka(function HK(n){return n&&Vp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(xd(),FN()):S(!0)}(i,e,t).pipe(Te(s=>!0===s?o:{...xx}))):S(o)}function Cx(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...xx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||L7)(t,n,e);if(!r)return{...xx};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function BN(n,e,t,i){return t.length>0&&function lZ(n,e,t){return t.some(i=>lv(n,e,i)&&Lo(i)!==lt)}(n,t,i)?{segmentGroup:new Zt(e,aZ(i,new Zt(t,n.children))),slicedSegments:[]}:0===t.length&&function cZ(n,e,t){return t.some(i=>lv(n,e,i))}(n,t,i)?{segmentGroup:new Zt(n.segments,sZ(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Zt(n.segments,n.children),slicedSegments:t}}function sZ(n,e,t,i,r){const o={};for(const s of i)if(lv(n,t,s)&&!r[Lo(s)]){const a=new Zt([],{});o[Lo(s)]=a}return{...r,...o}}function aZ(n,e){const t={};t[lt]=e;for(const i of n)if(""===i.path&&Lo(i)!==lt){const r=new Zt([],{});t[Lo(i)]=r}return t}function lv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class fZ{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new rZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,!1)}recognize(){const e=BN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,lt).pipe(rc(t=>{if(t instanceof LN)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof av?this.noMatchError(t):t}),Te(t=>{const i=new iv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),r=new Js(i,t),o=new DN("",r),s=function iK(n,e,t=null,i=null){return mN(pN(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,lt).pipe(rc(i=>{throw i instanceof av?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=TN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return b(r).pipe(yd(o=>{const s=i.children[o],a=function PK(n,e){const t=n.filter(i=>Lo(i)===e);return t.push(...n.filter(i=>Lo(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function k7(n,e){return te(function P7(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(me(s,h=>{const p=c++;l=a?n(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),$y(null),function O7(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Oi((r,o)=>n(r,o,i)):Sn,lx(1),t?$y(e):QO(()=>new zy))}(),jt(o=>{if(null===o)return Cd(i);const s=UN(o);return function pZ(n){n.sort((e,t)=>e.value.outlet===lt?-1:t.value.outlet===lt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),S(s)}))}processSegment(e,t,i,r,o,s){return b(t).pipe(yd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(rc(l=>{if(l instanceof av)return S(null);throw l}))),Wa(a=>!!a),rc(a=>{if(NN(a))return function dZ(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?S([]):Cd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function uZ(n,e,t,i){return!!(Lo(n)===i||i!==lt&&lv(e,t,n))&&("**"===n.path||Cx(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Cd(r):Cd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?VN(o):this.applyRedirects.lineralizeSegments(i,o).pipe(jt(s=>{const a=new Zt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=Cx(t,r,o);if(!a)return Cd(t);const p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?VN(p):this.applyRedirects.lineralizeSegments(r,p).pipe(jt(g=>this.processSegment(e,i,t,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?iN(r).parameters:{};a=S({snapshot:new iv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jN(i),Lo(i),i.component??i._loadedComponent??null,i,zN(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=oZ(t,i,r,e).pipe(Te(({matched:l,consumedSegments:c,remainingSegments:h,parameters:p})=>l?{snapshot:new iv(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jN(i),Lo(i),i.component??i._loadedComponent??null,i,zN(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(De(l=>null===l?Cd(t):this.getChildConfig(e=i._injector??e,i,r).pipe(De(({routes:c})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:w,slicedSegments:x}=BN(t,g,y,c);if(0===x.length&&w.hasChildren())return this.processChildren(h,c,w).pipe(Te(F=>null===F?null:[new Js(p,F)]));if(0===c.length&&0===x.length)return S([new Js(p,[])]);const T=Lo(i)===o;return this.processSegment(h,c,w,x,T?lt:o,!0).pipe(Te(F=>[new Js(p,F)]))}))))}getChildConfig(e,t,i){return t.children?S({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?S({routes:t._loadedRoutes,injector:t._loadedInjector}):function eZ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?S(!0):S(r.map(s=>{const a=Id(s,n);return Ka(function UK(n){return n&&Vp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(xd(),FN())}(e,t,i).pipe(jt(r=>r?this.configLoader.loadChildren(e,t).pipe(ki(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function iZ(n){return Ip(RN(!1,3))}())):S({routes:[],injector:e})}}function mZ(n){const e=n.value.routeConfig;return e&&""===e.path}function UN(n){const e=[],t=new Set;for(const i of n){if(!mZ(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=UN(i.children);e.push(new Js(i.value,r))}return e.filter(i=>!t.has(i))}function jN(n){return n.data||{}}function zN(n){return n.resolve||{}}function $N(n){return"string"==typeof n.title||null===n.title}function Tx(n){return De(e=>{const t=n(e);return t?b(t).pipe(Te(()=>e)):S(e)})}const Td=new re("ROUTES");let Dx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(mk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ka(t.loadComponent()).pipe(Te(HN),ki(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),xp(()=>{this.componentLoaders.delete(t)})),r=new tN(i,()=>new z).pipe(ax());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function wZ(n,e,t,i){return Ka(n.loadChildren()).pipe(Te(HN),jt(r=>r instanceof b1||Array.isArray(r)?S(r):b(e.compileModuleAsync(r))),Te(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Td,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ix),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(xp(()=>{this.childrenLoaders.delete(i)})),s=new tN(o,()=>new z).pipe(ax());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HN(n){return function IZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=fe(Dx),this.environmentInjector=fe(Br),this.urlSerializer=fe(Dp),this.rootContexts=fe(kp),this.inputBindingEnabled=null!==fe(rv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new mK(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new pK(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new v({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oi(o=>0!==o.id),Te(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),De(o=>{this.currentTransition=o;let s=!1,a=!1;return S(o).pipe(ki(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),De(l=>{const c=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Ed(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),Mn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return S(l).pipe(De(g=>{const y=this.transitions?.getValue();return this.events.next(new tv(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Mn:Promise.resolve(g)}),function gZ(n,e,t,i,r,o){return jt(s=>function hZ(n,e,t,i,r,o,s="emptyOnly"){return new fZ(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Te(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ki(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new EN(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:w,restoredState:x,extras:T}=l,F=new tv(g,this.urlSerializer.serialize(y),w,x);this.events.next(F);const R=CN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:R,urlAfterRedirects:y,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},S(o)}{const g="";return this.events.next(new Ed(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),Mn}}),ki(l=>{const c=new uK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Te(l=>(this.currentTransition=o={...l,guards:NK(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function WK(n,e){return jt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?S({...t,guardsResult:!0}):function GK(n,e,t,i){return b(n).pipe(jt(r=>function JK(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?S(o.map(a=>{const l=Np(e)??r,c=Id(a,l);return Ka(function $K(n){return n&&Vp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Wa())})).pipe(xd()):S(!0)}(r.component,r.route,t,e,i)),Wa(r=>!0!==r,!0))}(s,i,r,n).pipe(jt(a=>a&&function BK(n){return"boolean"==typeof n}(a)?function KK(n,e,t,i){return b(e).pipe(yd(r=>qy(function QK(n,e){return null!==n&&e&&e(new gK(n)),S(!0)}(r.route.parent,i),function ZK(n,e){return null!==n&&e&&e(new yK(n)),S(!0)}(r.route,i),function XK(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function FK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Wy(()=>S(s.guards.map(l=>{const c=Np(s.node)??t,h=Id(l,c);return Ka(function zK(n){return n&&Vp(n.canActivateChild)}(h)?h.canActivateChild(i,n):c.runInContext(()=>h(i,n))).pipe(Wa())})).pipe(xd())));return S(o).pipe(xd())}(n,r.path,t),function YK(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return S(!0);const r=i.map(o=>Wy(()=>{const s=Np(e)??t,a=Id(o,s);return Ka(function jK(n){return n&&Vp(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Wa())}));return S(r).pipe(xd())}(n,r.route,t))),Wa(r=>!0!==r,!0))}(i,o,n,e):S(a)),Te(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ki(l=>{if(o.guardsResult=l.guardsResult,sc(l.guardsResult))throw MN(0,l.guardsResult);const c=new dK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Oi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Tx(l=>{if(l.guards.canActivateChecks.length)return S(l).pipe(ki(c=>{const h=new hK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),De(c=>{let h=!1;return S(c).pipe(function _Z(n,e){return jt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return S(t);let o=0;return b(r).pipe(yd(s=>function yZ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!$N(r)&&(o[Cp]=r.title),function vZ(n,e,t,i){const r=function bZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return S({});const o={};return b(r).pipe(jt(s=>function EZ(n,e,t,i){const r=Np(e)??i,o=Id(n,r);return Ka(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Wa(),ki(a=>{o[s]=a}))),lx(1),function N7(n){return Te(()=>n)}(o),rc(s=>NN(s)?Mn:Ip(s)))}(o,n,e,i).pipe(Te(s=>(n._resolvedData=s,n.data=TN(n,t).resolve,r&&$N(r)&&(n.data[Cp]=r.title),null)))}(s.route,i,n,e)),ki(()=>o++),lx(1),jt(s=>o===r.length?S(t):Mn))})}(t.paramsInheritanceStrategy,this.environmentInjector),ki({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),ki(c=>{const h=new fK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),Tx(l=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ki(g=>{h.component=g}),Te(()=>{})));for(const g of h.children)p.push(...c(g));return p};return Hy(c(l.targetSnapshot.root)).pipe($y(),yo(1))}),Tx(()=>this.afterPreactivation()),Te(l=>{const c=function xK(n,e,t){const i=Op(n,e._root,t?t._root:void 0);return new xN(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),ki(()=>{this.events.next(new px)}),((n,e,t,i)=>Te(r=>(new OK(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),yo(1),ki({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ky(this.transitionAbortSubject.pipe(ki(l=>{throw l}))),xp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),rc(l=>{if(a=!0,PN(l))this.events.next(new Pp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function DK(n){return PN(n)&&sc(n.url)}(l)?this.events.next(new mx(l.url)):o.resolve(!1);else{this.events.next(new nv(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return Mn}))}))}cancelNavigationTransition(t,i,r){const o=new Pp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qN(n){return n!==Rp}let WN=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===lt);return i}getResolvedTitleForRoute(t){return t.data[Cp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return fe(xZ)},providedIn:"root"})}return n})(),xZ=(()=>{class n extends WN{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(VO))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return fe(DZ)},providedIn:"root"})}return n})();class TZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let DZ=(()=>{class n extends TZ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Kn(n)))(r||n)}}();static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uv=new re("",{providedIn:"root",factory:()=>({})});let AZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:function(){return fe(SZ)},providedIn:"root"})}return n})(),SZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Bp||{});function GN(n,e){n.events.pipe(Oi(t=>t instanceof Xs||t instanceof Pp||t instanceof nv||t instanceof Ed),Te(t=>t instanceof Xs||t instanceof Ed?Bp.COMPLETE:t instanceof Pp&&(0===t.code||1===t.code)?Bp.REDIRECTING:Bp.FAILED),Oi(t=>t!==Bp.REDIRECTING),yo(1)).subscribe(()=>{e()})}function MZ(n){throw n}function RZ(n,e,t){return e.parse("/")}const PZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(pk),this.isNgZoneEnabled=!1,this._events=new z,this.options=fe(uv,{optional:!0})||{},this.pendingTasks=fe(gy),this.errorHandler=this.options.errorHandler||MZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(AZ),this.routeReuseStrategy=fe(CZ),this.titleStrategy=fe(WN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fe(Td,{optional:!0})?.flat()??[],this.navigationTransitions=fe(cv),this.urlSerializer=fe(Dp),this.location=fe(_p),this.componentInputBindingEnabled=!!fe(rv,{optional:!0}),this.eventsSubscription=new yt,this.isNgZoneEnabled=fe(We)instanceof We&&We.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(KN(i)&&this._events.next(i));if(i instanceof tv)qN(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Ed)this.rawUrlTree=r.rawUrl;else if(i instanceof EN){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof px)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Pp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof mx){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qN(r.source)};this.scheduleNavigation(o,Rp,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof nv&&this.restoreHistory(r,!0),i instanceof Xs&&(this.navigated=!0),KN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ix),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=pN(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return mN(p,t,h,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=sc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Rp,null,i)}navigate(t,i={skipLocationChange:!1}){return function OZ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new L(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...PZ}:!1===i?{...kZ}:i,sc(t))return oN(this.currentUrlTree,t,r);const o=this.parseUrl(t);return oN(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});const h=this.pendingTasks.add();return GN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KN(n){return!(n instanceof px||n instanceof mx)}let ea=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Xs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function EM(n,e,t){return function $H(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?bM:es}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(N(pi),N(Za),function g_(n){return function Ue(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Xc(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(di(),n)}("tabindex"),N(ts),N(an),N(Xl))};static#t=this.\u0275dir=Be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ge("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&jr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",fd],skipLocationChange:["skipLocationChange","skipLocationChange",fd],replaceUrl:["replaceUrl","replaceUrl",fd],routerLink:"routerLink"},standalone:!0,features:[PR,br]})}return n})();class ZN{}let LZ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(t=>t instanceof Xs),yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Kw(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return b(r).pipe(nr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):S(null);const o=r.pipe(jt(s=>null===s?S(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?b([o,this.loader.loadComponent(i)]).pipe(nr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(B(pi),B(mk),B(Br),B(ZN),B(Dx))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ax=new re("");let QN=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ed&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){W_()};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();function ta(n,e){return{\u0275kind:n,\u0275providers:e}}function XN(){const n=fe(Zn);return e=>{const t=n.get(ja);if(e!==t.components[0])return;const i=n.get(pi),r=n.get(JN);1===n.get(Sx)&&i.initialNavigation(),n.get(eF,null,ht.Optional)?.setUpPreloading(),n.get(Ax,null,ht.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const JN=new re("",{factory:()=>new z}),Sx=new re("",{providedIn:"root",factory:()=>1}),eF=new re("");function jZ(n){return ta(0,[{provide:eF,useExisting:LZ},{provide:ZN,useExisting:n}])}const tF=new re("ROUTER_FORROOT_GUARD"),$Z=[_p,{provide:Dp,useClass:cx},pi,kp,{provide:Za,useFactory:function YN(n){return n.routerState.root},deps:[pi]},Dx,[]];function HZ(){return new wk("Router",pi)}let nF=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[$Z,[],{provide:Td,multi:!0,useValue:t},{provide:tF,useFactory:KZ,deps:[[pi,new Vr,new v_]]},{provide:uv,useValue:i||{}},i?.useHash?{provide:Xl,useClass:TG}:{provide:Xl,useClass:Jk},{provide:Ax,useFactory:()=>{const n=fe(z8),e=fe(We),t=fe(uv),i=fe(cv),r=fe(Dp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QN(r,i,n,e,t)}},i?.preloadingStrategy?jZ(i.preloadingStrategy).\u0275providers:[],{provide:wk,multi:!0,useFactory:HZ},i?.initialNavigation?ZZ(i):[],i?.bindToComponentInputs?ta(8,[SN,{provide:rv,useExisting:SN}]).\u0275providers:[],[{provide:iF,useFactory:XN},{provide:yI,multi:!0,useExisting:iF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Td,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(B(tF,8))};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})();function KZ(n){return"guarded"}function ZZ(n){return["disabled"===n.initialNavigation?ta(3,[{provide:uI,multi:!0,useFactory:()=>{const e=fe(pi);return()=>{e.setUpLocationChangeListener()}}},{provide:Sx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ta(2,[{provide:Sx,useValue:0},{provide:uI,multi:!0,deps:[Zn],useFactory:e=>{const t=e.get(xG,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(pi),o=e.get(JN);GN(r,()=>{i(!0)}),e.get(cv).afterPreactivation=()=>(i(!0),o.closed?S(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const iF=new re("");let vo=(()=>{class n{constructor(){this.isDarkModeSubject=new v(!1),this.isDarkMode$=this.isDarkModeSubject.asObservable()}toggleDarkMode(){this.isDarkModeSubject.next(!this.isDarkModeSubject.value)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dv(n){return null!=n&&"false"!=`${n}`}function rF(n,e=0){return function YZ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function hv(n){return Array.isArray(n)?n:[n]}function ii(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Dd(n){return n instanceof an?n.nativeElement:n}const XZ=["addListener","removeListener"],JZ=["addEventListener","removeEventListener"],eQ=["on","off"];function Mx(n,e,t,i){if(C(t)&&(i=t,t=void 0),i)return Mx(n,e,t).pipe(sx(i));const[r,o]=function iQ(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?JZ.map(s=>a=>n[s](e,a,t)):function tQ(n){return C(n.addListener)&&C(n.removeListener)}(n)?XZ.map(oF(n,e)):function nQ(n){return C(n.on)&&C(n.off)}(n)?eQ.map(oF(n,e)):[];if(!r&&Ct(n))return jt(s=>Mx(s,e,t))(bt(n));if(!r)throw new TypeError("Invalid event target");return new Xe(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function oF(n,e){return t=>i=>n[t](e,i)}const Up={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Up;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new yt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Up;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Up;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class oQ extends Uy{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class rQ extends By{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Up.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Up.cancelAnimationFrame(t),e._scheduled=void 0)}});let Rx,aQ=1;const fv={};function sF(n){return n in fv&&(delete fv[n],!0)}const lQ={setImmediate(n){const e=aQ++;return fv[e]=!0,Rx||(Rx=Promise.resolve()),Rx.then(()=>sF(e)&&n()),e},clearImmediate(n){sF(n)}},{setImmediate:cQ,clearImmediate:uQ}=lQ,pv={setImmediate(...n){const{delegate:e}=pv;return(e?.setImmediate||cQ)(...n)},clearImmediate(n){const{delegate:e}=pv;return(e?.clearImmediate||uQ)(n)},delegate:void 0};new class hQ extends Uy{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dQ extends By{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=pv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(pv.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function aF(n,e=jy){return function pQ(n){return te((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(me(t,c=>{i=!0,r=c,o||bt(n(c)).subscribe(o=me(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function gQ(n=0,e,t=K9){let i=-1;return null!=e&&(xn(e)?t=e:i=e),new Xe(r=>{let o=function mQ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let Px;try{Px=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Px=!1}let jp,ac,kx,$r=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function j8(n){return n===vO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Px)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(B(Po))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zp(n){return function _Q(){if(null==jp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jp=!0}))}finally{jp=jp||!1}return jp}()?n:!!n.capture}function yQ(){if(null==ac){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ac=!1,ac;if("scrollBehavior"in document.documentElement.style)ac=!0;else{const n=Element.prototype.scrollTo;ac=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ac}function Ox(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Qa(n){return n.composedPath?n.composedPath()[0]:n.target}function Nx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const EQ=new re("cdk-dir-doc",{providedIn:"root",factory:function wQ(){return fe(Nt)}}),IQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Fx=(()=>{class n{constructor(t){this.value="ltr",this.change=new bn,t&&(this.value=function xQ(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?IQ.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(B(EQ,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$p=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})(),TQ=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xe(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(aF(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):S()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Oi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Dd(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(B(We),B($r),B(Nt,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cF=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(aF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(B($r),B(We),B(Nt,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})(),dF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[$p,uF,$p,uF]})}return n})();class Lx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Vx extends Lx{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class hF extends Lx{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class AQ extends Lx{constructor(e){super(),this.element=e instanceof an?e.nativeElement:e}}class Bx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Vx?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof hF?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof AQ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class SQ extends Bx{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Zn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ux=(()=>{class n extends Bx{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new bn,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(N(Wu),N(mo),N(Nt))};static#t=this.\u0275dir=Be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ot]})}return n})(),gv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})();const fF=yQ();class MQ{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ii(-this._previousScrollPosition.left),e.style.top=ii(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fF&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class RQ{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Oi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pF{enable(){}disable(){}attach(){}}function jx(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mF(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class PQ{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jx(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kQ=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pF,this.close=s=>new RQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new MQ(this._viewportRuler,this._document),this.reposition=s=>new PQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(B(TQ),B(cF),B(We),B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gF{constructor(e){if(this.scrollStrategy=new pF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class OQ{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let _F=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NQ=(()=>{class n extends _F{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt),B(We,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FQ=(()=>{class n extends _F{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Qa(o)},this._clickListener=o=>{const s=Qa(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt),B($r),B(We,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_v=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Nx()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),Nx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt),B($r))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Hp{constructor(e,t,i,r,o,s,a,l,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=yt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ii(this._config.width),e.height=ii(this._config.height),e.minWidth=ii(this._config.minWidth),e.minHeight=ii(this._config.minHeight),e.maxWidth=ii(this._config.maxWidth),e.maxHeight=ii(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=hv(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ky(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yF="cdk-overlay-connected-position-bounding-box",LQ=/([A-Za-z%]+)$/;class VQ{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=yt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(yF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=bF(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,y=a+o.height-i.height,w=this._subtractOverflows(o.width,0-s,s+o.width-i.width),x=this._subtractOverflows(o.height,g,y),T=w*x;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=vF(this._overlayRef.getConfig().minHeight),a=vF(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=bF(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new OQ(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const y=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const y=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;h=2*y,p=e.x-y,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ii(i.height),r.top=ii(i.top),r.bottom=ii(i.bottom),r.width=ii(i.width),r.left=ii(i.left),r.right=ii(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ii(o)),s&&(r.maxWidth=ii(s))}this._lastBoundingBoxSize=i,lc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){lc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();lc(i,this._getExactOverlayY(t,e,h)),lc(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ii(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ii(s.maxWidth):o&&(i.maxWidth="")),lc(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ii(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ii(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mF(e,i),isOriginOutsideView:jx(e,i),isOverlayClipped:mF(t,i),isOverlayOutsideView:jx(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&hv(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof an)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function lc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(LQ);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const EF="cdk-global-overlay-wrapper";class BQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(EF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",x="";l?x="flex-start":"center"===h?(x="center",g?w=p:y=p):g?"left"===h||"end"===h?(x="flex-end",y=p):("right"===h||"start"===h)&&(x="flex-start",w=p):"left"===h||"start"===h?(x="flex-start",y=p):("right"===h||"end"===h)&&(x="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":w,t.justifyContent=x,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(EF),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let UQ=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new BQ}flexibleConnectedTo(t){return new VQ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(B(cF),B(Nt),B($r),B(_v))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jQ=0,Sd=(()=>{class n{constructor(t,i,r,o,s,a,l,c,h,p,g,y){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new gF(t);return s.direction=s.direction||this._directionality.value,new Hp(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jQ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ja)),new SQ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(B(kQ),B(_v),B(Wu),B(UQ),B(NQ),B(Zn),B(We),B(Nt),B(Fx),B(_p),B(FQ),B(La,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HQ={provide:new re("cdk-connected-overlay-scroll-strategy"),deps:[Sd],useFactory:function $Q(n){return()=>n.scrollStrategies.reposition()}};let wF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:[Sd,HQ],imports:[$p,gv,dF,dF]})}return n})();function xF(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function CF(n){return Oi((e,t)=>n<=t)}let QQ=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:[QQ]})}return n})();const DF=new Set;let cc,XQ=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eY}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function JQ(n,e){if(!DF.has(n))try{cc||(cc=document.createElement("style"),e&&(cc.nonce=e),cc.setAttribute("type","text/css"),document.head.appendChild(cc)),cc.sheet&&(cc.sheet.insertRule(`@media ${n} {body{ }}`,0),DF.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B($r),B(QE,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tY=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return AF(hv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Hy(AF(hv(t)).map(s=>this._registerQuery(s).observable));return o=qy(o.pipe(yo(1)),o.pipe(CF(1),function YQ(n,e=jy){return te((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,h=e.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}t.subscribe(me(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Te(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Xe(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Gy(i),Te(({matches:s})=>({query:t,matches:s})),Ky(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(B(XQ),B(We))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let yv=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function oY(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function rY(n){try{return n.frameElement}catch{return null}}(function fY(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===PF(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=PF(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function dY(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function hY(n){return!function aY(n){return function cY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function sY(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function lY(n){return function uY(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||RF(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(B($r))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RF(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function PF(n){if(!RF(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pY{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(yo(1)).subscribe(e)}}let zx=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new pY(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(yv),B(We),B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kF(n){return 0===n.buttons||0===n.detail}function OF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const mY=new re("cdk-input-modality-detector-options"),gY={ignoreKeys:[18,17,224,91,16]},Md=zp({passive:!0,capture:!0});let _Y=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new v(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Qa(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kF(s)?"keyboard":"mouse"),this._mostRecentTarget=Qa(s))},this._onTouchstart=s=>{OF(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qa(s))},this._options={...gY,...o},this.modalityDetected=this._modality.pipe(CF(1)),this.modalityChanged=this.modalityDetected.pipe(He()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Md),r.addEventListener("mousedown",this._onMousedown,Md),r.addEventListener("touchstart",this._onTouchstart,Md)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Md),document.removeEventListener("mousedown",this._onMousedown,Md),document.removeEventListener("touchstart",this._onTouchstart,Md))}static#e=this.\u0275fac=function(i){return new(i||n)(B($r),B(We),B(Nt),B(mY,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vY=new re("cdk-focus-monitor-default-options"),vv=zp({passive:!0,capture:!0});let bv=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z,this._rootNodeFocusAndBlurListener=a=>{for(let c=Qa(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Dd(t);if(!this._platform.isBrowser||1!==r.nodeType)return S();const o=function bQ(n){if(function vQ(){if(null==kx){const n=typeof document<"u"?document.head:null;kx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kx}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Dd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Dd(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Qa(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ky(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(B(We),B($r),B(_Y),B(Nt,8),B(vY,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const FF="cdk-high-contrast-black-on-white",LF="cdk-high-contrast-white-on-black",$x="cdk-high-contrast-active";let VF=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=fe(tY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove($x,FF,LF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add($x,FF):2===i&&t.add($x,LF)}}static#e=this.\u0275fac=function(i){return new(i||n)(B($r),B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bY=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(B(VF))};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[TF]})}return n})();function EY(n,e){}class Ev{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let BF=(()=>{class n extends Bx{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Ox(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Ox();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ox())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(N(an),N(zx),N(Nt,8),N(Ev),N(yv),N(We),N(Hp),N(bv))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&W1(Ux,7),2&i){let o;iI(o=function rI(){return function q6(n,e){return n[vr].queries[e].queryList}(ie(),i_())}())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&jr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ot],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&st(0,EY,0,0,"ng-template",0)},dependencies:[Ux],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Hx{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new z,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!xF(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const UF=new re("DialogScrollStrategy"),wY=new re("DialogData"),IY=new re("DefaultDialogConfig"),CY={provide:UF,deps:[Sd],useFactory:function xY(n){return()=>n.scrollStrategies.block()}};let TY=0,jF=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._ariaHiddenElements=new Map,this.afterAllClosed=Wy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gy(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new Ev,...i}).id=i.id||"cdk-dialog-"+TY++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new Hx(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){qx(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){qx(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),qx(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new gF({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Ev,useValue:r},{provide:Hx,useValue:i},{provide:Hp,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=BF;const l=new Vx(a,r.viewContainerRef,Zn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof ls){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new hF(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Vx(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:wY,useValue:t.data},{provide:Hx,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Fx,null,{optional:!0}))&&a.push({provide:Fx,useValue:{value:t.direction,change:S()}}),Zn.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(B(Sd),B(Zn),B(IY,8),B(n,12),B(_v),B(UF))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();function qx(n,e){let t=n.length;for(;t--;)e(n[t])}let DY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:[jF,CY],imports:[wF,gv,bY,gv]})}return n})();const SY=new re("mat-sanity-checks",{providedIn:"root",factory:function AY(){return!0}});let hs=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Nx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(B(VF),B(SY,8),B(Nt))};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[$p,$p]})}return n})();function MY(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=dv(e)}constructor(...e){super(...e),this._disabled=!1}}}function RY(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function PY(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=dv(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class OY{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HF=zp({passive:!0,capture:!0});class NY{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Qa(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,HF)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,HF)))}}const qF={enterDuration:225,exitDuration:150},WF=zp({passive:!0,capture:!0}),GF=["mousedown","touchstart"],KF=["mouseup","mouseleave","touchend","touchcancel"];class wv{static#e=this._eventManager=new NY;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Dd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...qF,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function LY(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,x=new OY(this,h,i,w);h.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let T=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>this._finishRippleTransition(x),R=()=>this._destroyRipple(x);h.addEventListener("transitionend",F),h.addEventListener("transitioncancel",R),T={onTransitionEnd:F,onTransitionCancel:R}}),this._activeRipples.set(x,T),(w||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...qF,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Dd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,GF.forEach(i=>{wv._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{KF.forEach(t=>{this._triggerElement.addEventListener(t,this,WF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=kF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!OF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(GF.forEach(t=>wv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&KF.forEach(t=>e.removeEventListener(t,this,WF)))}}const ZF=new re("mat-ripple-global-options");let VY=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new wv(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(N(an),N(We),N($r),N(ZF,8),N(La,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Ke("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),BY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[hs,hs]})}return n})();const QF={capture:!0},YF=["focus","click","mouseenter","touchstart"],Wx="mat-ripple-loader-uninitialized",Gx="mat-ripple-loader-class-name",XF="mat-ripple-loader-centered",Iv="mat-ripple-loader-disabled";let UY=(()=>{class n{constructor(){this._document=fe(Nt,{optional:!0}),this._animationMode=fe(La,{optional:!0}),this._globalRippleOptions=fe(ZF,{optional:!0}),this._platform=fe($r),this._ngZone=fe(We),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${Wx}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of YF)this._document?.addEventListener(t,this._onInteraction,QF)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of YF)this._document?.removeEventListener(i,this._onInteraction,QF)}configureRipple(t,i){t.setAttribute(Wx,""),(i.className||!t.hasAttribute(Gx))&&t.setAttribute(Gx,i.className||""),i.centered&&t.setAttribute(XF,""),i.disabled&&t.setAttribute(Iv,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(Iv,""):t.removeAttribute(Iv)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(Gx)),t.append(r);const o=new VY(new an(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(XF),o.disabled=t.hasAttribute(Iv),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(Wx),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class JF{}class jY{}const na="*";function Kx(n,e){return{type:7,name:n,definitions:e,options:{}}}function xv(n,e=null){return{type:4,styles:e,timings:n}}function tL(n,e=null){return{type:2,steps:n,options:e}}function fs(n){return{type:6,styles:n,offset:null}}function Wp(n,e,t){return{type:0,name:n,styles:e,options:t}}function Cv(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Gp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class rL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function zY(n,e){}class Tv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Qx="mdc-dialog--open",oL="mdc-dialog--opening",sL="mdc-dialog--closing";let qY=(()=>{class n extends BF{constructor(t,i,r,o,s,a,l,c){super(t,i,r,o,s,a,l,c),this._animationStateChanged=new bn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(i){return new(i||n)(N(an),N(zx),N(Nt,8),N(Tv),N(yv),N(We),N(Hp),N(bv))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["ng-component"]],features:[Ot],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const aL="--mat-dialog-transition-duration";function lL(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?rF(n.substring(0,n.length-2)):n.endsWith("s")?1e3*rF(n.substring(0,n.length-1)):"0"===n?0:null}let WY=(()=>{class n extends qY{constructor(t,i,r,o,s,a,l,c,h){super(t,i,r,o,s,a,l,h),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?lL(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?lL(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(aL,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oL,Qx)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Qx),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Qx),this._animationsEnabled?(this._hostElement.style.setProperty(aL,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(sL)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(oL,sL)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(i){return new(i||n)(N(an),N(zx),N(Nt,8),N(Tv),N(yv),N(We),N(Hp),N(La,8),N(bv))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(ay("id",r._config.id),jr("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ke("_mat-animation-noopable",!r._animationsEnabled))},features:[Ot],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1),st(2,zY,0,0,"ng-template",2),X()())},dependencies:[Ux],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class Yx{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new z,this._beforeClosed=new z,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Oi(r=>"opened"===r.state),yo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Oi(r=>"closed"===r.state),yo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),I(this.backdropClick(),this.keydownEvents().pipe(Oi(r=>27===r.keyCode&&!this.disableClose&&!xF(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function GY(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Oi(t=>"closing"===t.state),yo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const cL=new re("MatMdcDialogData"),KY=new re("mat-mdc-dialog-default-options"),uL=new re("mat-mdc-dialog-scroll-strategy"),QY={provide:uL,deps:[Sd],useFactory:function ZY(n){return()=>n.scrollStrategies.block()}};let YY=0,XY=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c,h,p){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._idPrefix="mat-dialog-",this.dialogConfigClass=Tv,this.afterAllClosed=Wy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gy(void 0))),this._scrollStrategy=a,this._dialog=i.get(jF)}open(t,i){let r;(i={...this._defaultOptions||new Tv,...i}).id=i.id||`${this._idPrefix}${YY++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ev,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){W_()};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})(),Xx=(()=>{class n extends XY{constructor(t,i,r,o,s,a,l,c){super(t,i,o,a,l,s,Yx,WY,cL,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(B(Sd),B(Zn),B(_p,8),B(KY,8),B(uL),B(n,12),B(_v),B(La,8))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})(),JY=0,eX=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+JY++}ngOnInit(){this._dialogRef||(this._dialogRef=function iX(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yx,8),N(an),N(Xx))};static#t=this.\u0275dir=Be({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&ay("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return n})(),tX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Be({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return n})(),nX=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Be({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Ke("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}return n})(),rX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:[Xx,QY],imports:[DY,wF,gv,hs,hs]})}return n})();function hL(...n){const e=no(n),{args:t,keys:i}=XO(n),r=new Xe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let p=!1;bt(t[h]).subscribe(me(o,g=>{p||(p=!0,c--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?JO(i,a):a),o.complete())}))}});return e?r.pipe(sx(e)):r}class Kp{constructor(e){return e}}class fL{constructor(){return(0,Tr.getApps)()}}const Jx=new re("angularfire2._apps"),sX={provide:Kp,useFactory:function oX(n){return n&&1===n.length?n[0]:new Kp((0,Tr.getApp)())},deps:[[new Vr,Jx]]},aX={provide:fL,deps:[[new Vr,Jx]]};function lX(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Kp(i)}}let cX=(()=>{class n{constructor(t){(0,Tr.registerVersion)("angularfire",md.full,"core"),(0,Tr.registerVersion)("angularfire",md.full,"app"),(0,Tr.registerVersion)("angular",aw.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(Po))};static \u0275mod=Tt({type:n});static \u0275inj=kt({providers:[sX,aX]})}return n})();function uX(n,...e){return{ngModule:cX,providers:[{provide:Jx,useFactory:lX(n),multi:!0,deps:[We,Zn,nx,...e]}]}}class mL{constructor(){return tx("auth")}}var Ee,pX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vo={},nC=nC||{},rt=pX||self;function Dv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var iC="closure_uid_"+(1e9*Math.random()>>>0),gX=0;function _X(n,e,t){return n.call.apply(n.bind,arguments)}function yX(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Hi(n,e,t){return(Hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_X:yX).apply(null,arguments)}function Av(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ii(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ya(){this.s=this.s,this.o=this.o}Ya.prototype.s=!1,Ya.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mX(n){Object.prototype.hasOwnProperty.call(n,iC)&&n[iC]||(n[iC]=++gX)}(this)},Ya.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rC(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function _L(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Dv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}qi.prototype.h=function(){this.defaultPrevented=!0};var bX=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};rt.addEventListener("test",t,e),rt.removeEventListener("test",t,e)}catch{}return n}();function Qp(n){return/^[\s\xa0]*$/.test(n)}function Sv(){var n=rt.navigator;return n&&(n=n.userAgent)?n:""}function ps(n){return-1!=Sv().indexOf(n)}function oC(n){return oC[" "](n),n}oC[" "]=function(){};var aC,n,wX=ps("Opera"),Rd=ps("Trident")||ps("MSIE"),yL=ps("Edge"),sC=yL||Rd,vL=ps("Gecko")&&!(-1!=Sv().toLowerCase().indexOf("webkit")&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),IX=-1!=Sv().toLowerCase().indexOf("webkit")&&!ps("Edge");function bL(){var n=rt.document;return n?n.documentMode:void 0}e:{var lC="",cC=(n=Sv(),vL?/rv:([^\);]+)(\)|;)/.exec(n):yL?/Edge\/([\d\.]+)/.exec(n):Rd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):IX?/WebKit\/(\S+)/.exec(n):wX?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cC&&(lC=cC?cC[1]:""),Rd){var uC=bL();if(null!=uC&&uC>parseFloat(lC)){aC=String(uC);break e}}aC=lC}var xX=rt.document&&Rd&&(bL()||parseInt(aC,10))||void 0;function Yp(n,e){if(qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vL){e:{try{oC(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CX[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yp.$.h.call(this)}}Ii(Yp,qi);var CX={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xp="closure_listenable_"+(1e6*Math.random()|0),TX=0;function DX(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++TX,this.fa=this.ia=!1}function Mv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hC(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function wL(n){const e={};for(const t in n)e[t]=n[t];return e}const IL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xL(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<IL.length;o++)t=IL[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Rv(n){this.src=n,this.g={},this.h=0}function fC(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=gL(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Mv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pC(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Rv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=pC(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new DX(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var mC="closure_lm_"+(1e6*Math.random()|0),gC={};function CL(n,e,t,i,r){if(i&&i.once)return DL(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)CL(n,e[o],t,i,r);return null}return t=bC(t),n&&n[Xp]?n.O(e,t,Zp(i)?!!i.capture:!!i,r):TL(n,e,t,!1,i,r)}function TL(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Zp(r)?!!r.capture:!!r,a=yC(n);if(a||(n[mC]=a=new Rv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function SX(){const e=MX;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)bX||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(SL(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function DL(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)DL(n,e[o],t,i,r);return null}return t=bC(t),n&&n[Xp]?n.P(e,t,Zp(i)?!!i.capture:!!i,r):TL(n,e,t,!0,i,r)}function AL(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)AL(n,e[o],t,i,r);else i=Zp(i)?!!i.capture:!!i,t=bC(t),n&&n[Xp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pC(o=n.g[e],t,i,r))&&(Mv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=yC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pC(e,t,i,r)),(t=-1<n?e[n]:null)&&_C(t))}function _C(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Xp])fC(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(SL(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=yC(e))?(fC(t,n),0==t.h&&(t.src=null,e[mC]=null)):Mv(n)}}}function SL(n){return n in gC?gC[n]:gC[n]="on"+n}function MX(n,e){if(n.fa)n=!0;else{e=new Yp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&_C(n),n=t.call(i,e)}return n}function yC(n){return(n=n[mC])instanceof Rv?n:null}var vC="__closure_events_fn_"+(1e9*Math.random()>>>0);function bC(n){return"function"==typeof n?n:(n[vC]||(n[vC]=function(e){return n.handleEvent(e)}),n[vC])}function xi(){Ya.call(this),this.i=new Rv(this),this.S=this,this.J=null}function Ni(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new qi(e,n);else if(e instanceof qi)e.target=e.target||n;else{var r=e;xL(e=new qi(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Pv(s,i,!0,e)&&r}if(r=Pv(s=e.g=n,i,!0,e)&&r,r=Pv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Pv(s=e.g=t[o],i,!1,e)&&r}function Pv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&fC(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Ii(xi,Ya),xi.prototype[Xp]=!0,xi.prototype.removeEventListener=function(n,e,t,i){AL(this,n,e,t,i)},xi.prototype.N=function(){if(xi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Mv(t[i]);delete n.g[e],n.h--}}this.J=null},xi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},xi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var EC=rt.JSON.stringify;function PX(){var n=wC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ML=new class RX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new OX,n=>n.reset());class OX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function NX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function FX(n){rt.setTimeout(()=>{throw n},0)}let Jp,em=!1,wC=new class kX{constructor(){this.h=this.g=null}add(e,t){const i=ML.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},RL=()=>{const n=rt.Promise.resolve(void 0);Jp=()=>{n.then(LX)}};var LX=()=>{for(var n;n=PX();){try{n.h.call(n.g)}catch(t){FX(t)}var e=ML;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}em=!1};function kv(n,e){xi.call(this),this.h=n||1,this.g=e||rt,this.j=Hi(this.qb,this),this.l=Date.now()}function IC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function xC(n,e,t){if("function"==typeof n)t&&(n=Hi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hi(n.handleEvent,n)}return 2147483647<Number(e)?-1:rt.setTimeout(n,e||0)}function PL(n){n.g=xC(()=>{n.g=null,n.i&&(n.i=!1,PL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ii(kv,xi),(Ee=kv.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ni(this,"tick"),this.ga&&(IC(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){kv.$.N.call(this),IC(this),delete this.g};class VX extends Ya{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PL(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tm(n){Ya.call(this),this.h=n,this.g={}}Ii(tm,Ya);var kL=[];function OL(n,e,t,i){Array.isArray(t)||(t&&(kL[0]=t.toString()),t=kL);for(var r=0;r<t.length;r++){var o=CL(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function NL(n){hC(n.g,function(e,t){this.g.hasOwnProperty(t)&&_C(e)},n),n.g={}}function Ov(){this.g=!0}function Pd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return EC(t)}catch{return e}}(n,t)+(i?" "+i:"")})}tm.prototype.N=function(){tm.$.N.call(this),NL(this)},tm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ov.prototype.Ea=function(){this.g=!1},Ov.prototype.info=function(){};var uc={},FL=null;function Nv(){return FL=FL||new xi}function LL(n){qi.call(this,uc.Ta,n)}function nm(n){const e=Nv();Ni(e,new LL(e))}function VL(n,e){qi.call(this,uc.STAT_EVENT,n),this.stat=e}function pr(n){const e=Nv();Ni(e,new VL(e,n))}function BL(n,e){qi.call(this,uc.Ua,n),this.size=e}function im(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){n()},e)}uc.Ta="serverreachability",Ii(LL,qi),uc.STAT_EVENT="statevent",Ii(VL,qi),uc.Ua="timingevent",Ii(BL,qi);var Fv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CC(){}function zL(){}CC.prototype.h=null;var AC,rm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TC(){qi.call(this,"d")}function DC(){qi.call(this,"c")}function Lv(){}function om(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new tm(this),this.P=$X,this.V=new kv(n=sC?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $L}function $L(){this.i=null,this.g="",this.h=!1}Ii(TC,qi),Ii(DC,qi),Ii(Lv,CC),Lv.prototype.g=function(){return new XMLHttpRequest},Lv.prototype.i=function(){return{}},AC=new Lv;var $X=45e3,HL={},SC={};function MC(n,e,t){n.L=1,n.A=jv(ia(e)),n.u=t,n.S=!0,qL(n,null)}function qL(n,e){n.G=Date.now(),sm(n),n.B=ia(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),tV(t.i,"t",i),n.o=0,t=n.l.J,n.h=new $L,n.g=CV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new VX(Hi(n.Pa,n,n.g),n.O)),OL(n.U,n.g,"readystatechange",n.nb),e=n.I?wL(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),nm(),function BX(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function WL(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function GL(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=HX(n,t),r==SC){4==e&&(n.s=4,pr(14),i=!1),Pd(n.j,n.m,null,"[Incomplete Response]");break}if(r==HL){n.s=4,pr(15),Pd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Pd(n.j,n.m,r,null),RC(n,r)}WL(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),VC(e),e.M=!0,pr(11))):(Pd(n.j,n.m,t,"[Invalid Chunked Response]"),dc(n),am(n))}function HX(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?SC:(t=Number(e.substring(t,i)),isNaN(t)?HL:(i+=1)+t>e.length?SC:(e=e.slice(i,i+t),n.o=i+t,e))}function sm(n){n.Y=Date.now()+n.P,KL(n,n.P)}function KL(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=im(Hi(n.lb,n),e)}function Vv(n){n.C&&(rt.clearTimeout(n.C),n.C=null)}function am(n){0==n.l.H||n.J||EV(n.l,n)}function dc(n){Vv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,IC(n.V),NL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function RC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||PC(t.i,n)))if(!n.K&&PC(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Gv(t),qv(t)}LC(t),pr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=im(Hi(t.ib,t),6e3));if(1>=rV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else fc(t,11)}else if((n.K||t.g==n)&&Gv(t),!Qp(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=c[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=c[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(kC(o,o.h),o.h=null))}if(i.F){const x=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,En(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=xV(i,i.J?i.pa:null,i.Y),s.K){oV(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(Vv(a),sm(a)),i.g=s}else vV(i);0<t.j.length&&Wv(t)}else"stop"!=c[0]&&"close"!=c[0]||fc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?fc(t,7):FC(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}nm()}catch{}}function ZL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function WX(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function qX(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(Ee=om.prototype).setTimeout=function(n){this.P=n},Ee.nb=function(n){n=n.target;const e=this.M;e&&3==ms(n)?e.l():this.Pa(n)},Ee.Pa=function(n){try{if(n==this.g)e:{const h=ms(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||sC||this.g&&(this.h.h||this.g.ja()||fV(this.g)))){this.J||4!=h||7==e||nm(),Vv(this);var t=this.g.da();this.ca=t;t:if(WL(this)){var i=fV(this.g);n="";var r=i.length,o=4==ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dc(this),am(this);var s="";break t}this.h.i=new rt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function UX(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qp(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,pr(12),dc(this),am(this);break e}Pd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RC(this,t)}this.S?(GL(this,h,s),sC&&this.i&&3==h&&(OL(this.U,this.V,"tick",this.mb),this.V.start())):(Pd(this.j,this.m,s,null),RC(this,s)),4==h&&dc(this),this.i&&!this.J&&(4==h?EV(this.l,this):(this.i=!1,sm(this)))}else(function uJ(n){const e={};n=(n.g&&2<=ms(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Qp(n[i]))continue;var t=NX(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function AX(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,pr(12)):(this.s=0,pr(13)),dc(this),am(this)}}}catch{}},Ee.mb=function(){if(this.g){var n=ms(this.g),e=this.g.ja();this.o<e.length&&(Vv(this),GL(this,n,e),this.i&&4!=n&&sm(this))}},Ee.cancel=function(){this.J=!0,dc(this)},Ee.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function jX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(nm(),pr(17)),dc(this),this.s=2,am(this)):KL(this,this.Y-n)};var QL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof hc){this.h=n.h,Bv(this,n.j),this.s=n.s,this.g=n.g,Uv(this,n.m),this.l=n.l;var e=n.i,t=new um;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),YL(this,t),this.o=n.o}else n&&(e=String(n).match(QL))?(this.h=!1,Bv(this,e[1]||"",!0),this.s=lm(e[2]||""),this.g=lm(e[3]||"",!0),Uv(this,e[4]),this.l=lm(e[5]||"",!0),YL(this,e[6]||"",!0),this.o=lm(e[7]||"")):(this.h=!1,this.i=new um(null,this.h))}function ia(n){return new hc(n)}function Bv(n,e,t){n.j=t?lm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YL(n,e,t){e instanceof um?(n.i=e,function JX(n,e){e&&!n.j&&(Xa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(JL(this,i),tV(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=cm(e,YX)),n.i=new um(e,n.h))}function En(n,e,t){n.i.set(e,t)}function jv(n){return En(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,KX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function KX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cm(e,XL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cm(e,XL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(cm(t,"/"==t.charAt(0)?QX:ZX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cm(t,XX)),n.join("")};var XL=/[#\/\?@]/g,ZX=/[#\?:]/g,QX=/[#\?]/g,YX=/[#\?@]/g,XX=/#/g;function um(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xa(n){n.g||(n.g=new Map,n.h=0,n.i&&function GX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function JL(n,e){Xa(n),e=kd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function eV(n,e){return Xa(n),e=kd(n,e),n.g.has(e)}function tV(n,e,t){JL(n,e),0<t.length&&(n.i=null,n.g.set(kd(n,e),rC(t)),n.h+=t.length)}function kd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function nV(n){this.l=n||tJ,n=rt.PerformanceNavigationTiming?0<(n=rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=um.prototype).add=function(n,e){Xa(this),this.i=null,n=kd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(n,e){Xa(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Ee.ta=function(){Xa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},Ee.Z=function(n){Xa(this);let e=[];if("string"==typeof n)eV(this,n)&&(e=e.concat(this.g.get(kd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ee.set=function(n,e){return Xa(this),this.i=null,eV(this,n=kd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ee.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var tJ=10;function iV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function rV(n){return n.h?1:n.g?n.g.size:0}function PC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function kC(n,e){n.g?n.g.add(e):n.h=e}function oV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function sV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rC(n.i)}nV.prototype.cancel=function(){if(this.i=sV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var nJ=class{stringify(n){return rt.JSON.stringify(n,void 0)}parse(n){return rt.JSON.parse(n,void 0)}};function iJ(){this.g=new nJ}function rJ(n,e,t){const i=t||"";try{ZL(n,function(r,o){let s=r;Zp(r)&&(s=EC(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function zv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function dm(n){this.l=n.ec||null,this.j=n.ob||!1}function $v(n,e){xi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=OC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ii(dm,CC),dm.prototype.g=function(){return new $v(this.l,this.j)},dm.prototype.i=function(n){return function(){return n}}({}),Ii($v,xi);var OC=0;function aV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fm(n)}function fm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ee=$v.prototype).open=function(n,e){if(this.readyState!=OC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fm(this)},Ee.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=OC},Ee.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fm(this)),this.g&&(this.readyState=3,fm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hm(this):fm(this),3==this.readyState&&aV(this)}},Ee.Za=function(n){this.g&&(this.response=this.responseText=n,hm(this))},Ee.Ya=function(n){this.g&&(this.response=n,hm(this))},Ee.ka=function(){this.g&&hm(this)},Ee.setRequestHeader=function(n,e){this.v.append(n,e)},Ee.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($v.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sJ=rt.JSON.parse;function Un(n){xi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lV,this.L=this.M=!1}Ii(Un,xi);var lV="",aJ=/^https?$/i,lJ=["POST","PUT"];function cV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uV(n),Hv(n)}function uV(n){n.F||(n.F=!0,Ni(n,"complete"),Ni(n,"error"))}function dV(n){if(n.h&&typeof nC<"u"&&(!n.C[1]||4!=ms(n)||2!=n.da()))if(n.v&&4==ms(n))xC(n.La,0,n);else if(Ni(n,"readystatechange"),4==ms(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(QL)[1]||null;!r&&rt.self&&rt.self.location&&(r=rt.self.location.protocol.slice(0,-1)),i=!aJ.test(r?r.toLowerCase():"")}t=i}if(t)Ni(n,"complete"),Ni(n,"success");else{n.m=6;try{var o=2<ms(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",uV(n)}}finally{Hv(n)}}}function Hv(n,e){if(n.g){hV(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ni(n,"ready");try{t.onreadystatechange=i}catch{}}}function hV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rt.clearTimeout(n.A),n.A=null)}function ms(n){return n.g?n.g.readyState:0}function fV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case lV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pV(n){let e="";return hC(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function NC(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=pV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):En(n,e,t))}function pm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mV(n){this.Ga=0,this.j=[],this.l=new Ov,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pm("baseRetryDelayMs",5e3,n),this.hb=pm("retryDelaySeedMs",1e4,n),this.eb=pm("forwardChannelMaxRetries",2,n),this.xa=pm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new nV(n&&n.concurrentRequestLimit),this.Ja=new iJ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function FC(n){if(gV(n),3==n.H){var e=n.W++,t=ia(n.I);if(En(t,"SID",n.K),En(t,"RID",e),En(t,"TYPE","terminate"),mm(n,t),(e=new om(n,n.l,e)).L=2,e.A=jv(ia(t)),t=!1,rt.navigator&&rt.navigator.sendBeacon)try{t=rt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&rt.Image&&((new Image).src=e.A,t=!0),t||(e.g=CV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),sm(e)}IV(n)}function qv(n){n.g&&(VC(n),n.g.cancel(),n.g=null)}function gV(n){qv(n),n.u&&(rt.clearTimeout(n.u),n.u=null),Gv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rt.clearTimeout(n.m),n.m=null)}function Wv(n){if(!iV(n.i)&&!n.m){n.m=!0;var e=n.Na;Jp||RL(),em||(Jp(),em=!0),wC.add(e,n),n.C=0}}function _V(n,e){var t;t=e?e.m:n.W++;const i=ia(n.I);En(i,"SID",n.K),En(i,"RID",t),En(i,"AID",n.V),mm(n,i),n.o&&n.s&&NC(i,n.o,n.s),t=new om(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=yV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),kC(n.i,t),MC(t,i,e)}function mm(n,e){n.na&&hC(n.na,function(t,i){En(e,i,t)}),n.h&&ZL({},function(t,i){En(e,i,t)})}function yV(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Hi(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const h=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{rJ(h,s,"req"+c+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function vV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Jp||RL(),em||(Jp(),em=!0),wC.add(e,n),n.A=0}}function LC(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=im(Hi(n.Ma,n),wV(n,n.A)),n.A++,0))}function VC(n){null!=n.B&&(rt.clearTimeout(n.B),n.B=null)}function bV(n){n.g=new om(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ia(n.wa);En(e,"RID","rpc"),En(e,"SID",n.K),En(e,"AID",n.V),En(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&En(e,"TO",n.qa),En(e,"TYPE","xmlhttp"),mm(n,e),n.o&&n.s&&NC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=jv(ia(e)),t.u=null,t.S=!0,qL(t,n)}function Gv(n){null!=n.v&&(rt.clearTimeout(n.v),n.v=null)}function EV(n,e){var t=null;if(n.g==e){Gv(n),VC(n),n.g=null;var i=2}else{if(!PC(n.i,e))return;t=e.F,oV(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;Ni(i=Nv(),new BL(i,t)),Wv(n)}else vV(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function dJ(n,e){return!(rV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=im(Hi(n.Na,n,e),wV(n,n.C)),n.C++,0)))}(n,e)||2==i&&LC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:fc(n,5);break;case 4:fc(n,10);break;case 3:fc(n,6);break;default:fc(n,2)}}function wV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function fc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Hi(n.pb,n);t||(t=new hc("//www.google.com/images/cleardot.gif"),rt.location&&"http"==rt.location.protocol||Bv(t,"https"),jv(t)),function oJ(n,e){const t=new Ov;if(rt.Image){const i=new Image;i.onload=Av(zv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Av(zv,t,i,"TestLoadImage: error",!1,e),i.onabort=Av(zv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Av(zv,t,i,"TestLoadImage: timeout",!1,e),rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else pr(2);n.H=0,n.h&&n.h.za(e),IV(n),gV(n)}function IV(n){if(n.H=0,n.ma=[],n.h){const e=sV(n.i);(0!=e.length||0!=n.j.length)&&(_L(n.ma,e),_L(n.ma,n.j),n.i.i.length=0,rC(n.j),n.j.length=0),n.h.ya()}}function xV(n,e,t){var i=t instanceof hc?ia(t):new hc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Uv(i,i.m);else{var r=rt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new hc(null);i&&Bv(o,i),e&&(o.g=e),r&&Uv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&En(i,t,e),En(i,"VER",n.ra),mm(n,i),i}function CV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(n.Ha&&!n.va?new dm({ob:t}):n.va)).Oa(n.J),e}function TV(){}function Kv(){if(Rd&&!(10<=Number(xX)))throw Error("Environmental error: no available transport.")}function Hr(n,e){xi.call(this),this.g=new mV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Qp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Od(this)}function DV(n){TC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function AV(){DC.call(this),this.status=1}function Od(n){this.g=n}function Bo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function BC(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Qt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(Ee=Un.prototype).Oa=function(n){this.M=n},Ee.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AC.g(),this.C=function jL(n){return n.h||(n.h=n.i())}(this.u?this.u:AC),this.g.onreadystatechange=Hi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void cV(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=rt.FormData&&n instanceof rt.FormData,!(0<=gL(lJ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hV(this),0<this.B&&((this.L=function cJ(n){return Rd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hi(this.ua,this)):this.A=xC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){cV(this,o)}},Ee.ua=function(){typeof nC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ni(this,"timeout"),this.abort(8))},Ee.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ni(this,"complete"),Ni(this,"abort"),Hv(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hv(this,!0)),Un.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?dV(this):this.kb())},Ee.kb=function(){dV(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sJ(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=mV.prototype).ra=8,Ee.H=1,Ee.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new om(this,this.l,n);let o=this.s;if(this.U&&(o?(o=wL(o),xL(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yV(this,r,e),En(t=ia(this.I),"RID",n),En(t,"CVER",22),this.F&&En(t,"X-HTTP-Session-Id",this.F),mm(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(pV(o)))+"&"+e:this.o&&NC(t,this.o,o)),kC(this.i,r),this.bb&&En(t,"TYPE","init"),this.P?(En(t,"$req",e),En(t,"SID","null"),r.aa=!0,MC(r,t,null)):MC(r,t,e),this.H=2}}else 3==this.H&&(n?_V(this,n):0==this.j.length||iV(this.i)||_V(this))},Ee.Ma=function(){if(this.u=null,bV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=im(Hi(this.jb,this),n)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),qv(this),bV(this))},Ee.ib=function(){null!=this.v&&(this.v=null,qv(this),LC(this),pr(19))},Ee.pb=function(n){n?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=TV.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},Kv.prototype.g=function(n,e){return new Hr(n,e)},Ii(Hr,xi),Hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;pr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xV(n,null,n.Y),Wv(n)},Hr.prototype.close=function(){FC(this.g)},Hr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=EC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Wv(e)},Hr.prototype.N=function(){this.g.h=null,delete this.j,FC(this.g),delete this.g,Hr.$.N.call(this)},Ii(DV,TC),Ii(AV,DC),Ii(Od,TV),Od.prototype.Ba=function(){Ni(this.g,"a")},Od.prototype.Aa=function(n){Ni(this.g,new DV(n))},Od.prototype.za=function(n){Ni(this.g,new AV)},Od.prototype.ya=function(){Ni(this.g,"b")},Ii(Bo,function hJ(){this.blockSize=-1}),Bo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)BC(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){BC(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){BC(this,i),r=0;break}}this.h=r,this.i+=e},Bo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var fJ={};function UC(n){return-128<=n&&128>n?function EX(n,e){var t=fJ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qt([0|e],0>e?-1:0)}):new Qt([0|n],0>n?-1:0)}function gs(n){if(isNaN(n)||!isFinite(n))return Nd;if(0>n)return Fi(gs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=jC;return new Qt(e,0)}var jC=4294967296,Nd=UC(0),zC=UC(1),MV=UC(16777216);function ra(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bo(n){return-1==n.h}function Fi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Qt(t,~n.h).add(zC)}function Zv(n,e){return n.add(Fi(e))}function Qv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function gm(n,e){this.g=n,this.h=e}function Yv(n,e){if(ra(e))throw Error("division by zero");if(ra(n))return new gm(Nd,Nd);if(bo(n))return e=Yv(Fi(n),e),new gm(Fi(e.g),Fi(e.h));if(bo(e))return e=Yv(n,Fi(e)),new gm(Fi(e.g),e.h);if(30<n.g.length){if(bo(n)||bo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=zC,i=e;0>=i.X(n);)t=RV(t),i=RV(i);var r=Fd(t,1),o=Fd(i,1);for(i=Fd(i,2),t=Fd(t,2);!ra(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Fd(i,1),t=Fd(t,1)}return e=Zv(n,r.R(e)),new gm(r,e)}for(r=Nd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=gs(t)).R(e);bo(s)||0<s.X(n);)s=(o=gs(t-=i)).R(e);ra(o)&&(o=zC),r=r.add(o),n=Zv(n,s)}return new gm(r,n)}function RV(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Qt(t,n.h)}function Fd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Qt(r,n.h)}(Ee=Qt.prototype).ea=function(){if(bo(this))return-Fi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:jC+i)*e,e*=jC}return n},Ee.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ra(this))return"0";if(bo(this))return"-"+Fi(this).toString(n);for(var e=gs(Math.pow(n,6)),t=this,i="";;){var r=Yv(t,e).g,o=((0<(t=Zv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ra(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Ee.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ee.X=function(n){return bo(n=Zv(this,n))?-1:ra(n)?0:1},Ee.abs=function(){return bo(this)?Fi(this):this},Ee.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Qt(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(n){if(ra(this)||ra(n))return Nd;if(bo(this))return bo(n)?Fi(this).R(Fi(n)):Fi(Fi(this).R(n));if(bo(n))return Fi(this.R(Fi(n)));if(0>this.X(MV)&&0>n.X(MV))return gs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,Qv(t,2*i+2*r),t[2*i+2*r+1]+=o*l,Qv(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Qv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Qv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Qt(t,0)},Ee.gb=function(n){return Yv(this,n).h},Ee.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Qt(t,this.h&n.h)},Ee.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Qt(t,this.h|n.h)},Ee.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Qt(t,this.h^n.h)},Kv.prototype.createWebChannel=Kv.prototype.g,Hr.prototype.send=Hr.prototype.u,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,Fv.NO_ERROR=0,Fv.TIMEOUT=8,Fv.HTTP_ERROR=6,UL.COMPLETE="complete",zL.EventType=rm,rm.OPEN="a",rm.CLOSE="b",rm.ERROR="c",rm.MESSAGE="d",xi.prototype.listen=xi.prototype.O,Un.prototype.listenOnce=Un.prototype.P,Un.prototype.getLastError=Un.prototype.Sa,Un.prototype.getLastErrorCode=Un.prototype.Ia,Un.prototype.getStatus=Un.prototype.da,Un.prototype.getResponseJson=Un.prototype.Wa,Un.prototype.getResponseText=Un.prototype.ja,Un.prototype.send=Un.prototype.ha,Un.prototype.setWithCredentials=Un.prototype.Oa,Bo.prototype.digest=Bo.prototype.l,Bo.prototype.reset=Bo.prototype.reset,Bo.prototype.update=Bo.prototype.j,Qt.prototype.add=Qt.prototype.add,Qt.prototype.multiply=Qt.prototype.R,Qt.prototype.modulo=Qt.prototype.gb,Qt.prototype.compare=Qt.prototype.X,Qt.prototype.toNumber=Qt.prototype.ea,Qt.prototype.toString=Qt.prototype.toString,Qt.prototype.getBits=Qt.prototype.D,Qt.fromNumber=gs,Qt.fromString=function SV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Fi(SV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=gs(Math.pow(e,8)),i=Nd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=gs(Math.pow(e,o)),i=i.R(o).add(gs(s))):i=(i=i.R(t)).add(gs(s))}return i};var pJ=Vo.createWebChannelTransport=function(){return new Kv},mJ=Vo.getStatEventTarget=function(){return Nv()},$C=Vo.ErrorCode=Fv,gJ=Vo.EventType=UL,_J=Vo.Event=uc,PV=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xv=(Vo.FetchXmlHttpFactory=dm,Vo.WebChannel=zL),yJ=Vo.XhrIo=Un,vJ=Vo.Md5=Bo,Ld=Vo.Integer=Qt;const kV="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let Vd="10.7.0";const Ja=new Ys.Yd("@firebase/firestore");function Bd(){return Ja.logLevel}function le(n,...e){if(Ja.logLevel<=Ys.in.DEBUG){const t=e.map(HC);Ja.debug(`Firestore (${Vd}): ${n}`,...t)}}function Yn(n,...e){if(Ja.logLevel<=Ys.in.ERROR){const t=e.map(HC);Ja.error(`Firestore (${Vd}): ${n}`,...t)}}function qr(n,...e){if(Ja.logLevel<=Ys.in.WARN){const t=e.map(HC);Ja.warn(`Firestore (${Vd}): ${n}`,...t)}}function HC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Se(n="Unexpected state"){const e=`FIRESTORE (${Vd}) INTERNAL ASSERTION FAILED: `+n;throw Yn(e),new Error(e)}function Ne(n,e){n||Se()}function ge(n,e){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ha.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class OV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ci.UNAUTHENTICATED))}shutdown(){}}class EJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wJ{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,Me.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ne("string"==typeof i.accessToken),new OV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new Ci(e)}}class IJ{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xJ{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new IJ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne("string"==typeof t.token),this.R=t.token,new NV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class FV{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=TJ(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function tt(n,e){return n<e?-1:n>e?1:0}function Ud(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new kn(0,0))}static max(){return new Fe(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _m{constructor(e,t,i){void 0===t?t=0:t>e.length&&Se(),void 0===i?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===_m.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _m?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lt extends _m{construct(e,t,i){return new Lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const DJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends _m{construct(e,t,i){return new Tn(e,t,i)}static isValidIdentifier(e){return DJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Lt.fromString(e))}static fromName(e){return new ye(Lt.fromString(e).popFirst(5))}static empty(){return new ye(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Lt(e.slice()))}}function BV(n){return new Wr(n.readTime,n.key,-1)}class Wr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Wr(Fe.min(),ye.empty(),-1)}static max(){return new Wr(Fe.max(),ye.empty(),-1)}}function WC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ye.comparator(n.documentKey,e.documentKey),0!==t?t:tt(n.largestBatchId,e.largestBatchId))}const UV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function el(n){return GC.apply(this,arguments)}function GC(){return GC=(0,Me.Z)(function*(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==UV)throw n;le("LocalStore","Unexpectedly lost primary lease")}),GC.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,i)=>{t(e)})}static reject(e){return new V((t,i)=>{i(e)})}static waitFor(e){return new V((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=V.resolve(!1);for(const i of e)t=t.next(r=>r?V.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new V((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new V((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function tl(n){return"IndexedDbTransactionError"===n.name}let Gr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function vm(n){return null==n}function bm(n){return 0===n&&1/n==-1/0}function ZV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class un{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tb(this.root,e,this.comparator,!1)}getReverseIterator(){return new tb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tb(this.root,e,this.comparator,!0)}}class tb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Li.RED,this.left=r??Li.EMPTY,this.right=o??Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Li(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Li.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YV(this.data.getIterator())}getIteratorFrom(e){return new YV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class YV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new en(Tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ud(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class XV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new XV("Invalid base64 string: "+o):o}}(e);return new gi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const JJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(Ne(!!n),"string"==typeof n){let e=0;const t=JJ.exec(n);if(Ne(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jn(n.seconds),nanos:jn(n.nanos)}}function jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oa(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}function nb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ib(n){const e=n.mapValue.fields.__previous_value__;return nb(e)?ib(e):e}function Em(n){const e=il(n.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}class eee{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class _c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nb(n)?4:n2(n)?9007199254740991:10:Se()}function ys(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Em(n).isEqual(Em(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=il(r.timestampValue),a=il(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,oa(n.bytesValue).isEqual(oa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return jn(r.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(r.geoPointValue.longitude)===jn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jn(r.integerValue)===jn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=jn(r.doubleValue),a=jn(o.doubleValue);return s===a?bm(s)===bm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ud(n.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(ZV(s)!==ZV(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ys(s[l],a[l])))return!1;return!0}(n,e);default:return Se()}var o}function wm(n,e){return void 0!==(n.values||[]).find(t=>ys(t,e))}function sl(n,e){if(n===e)return 0;const t=ol(n),i=ol(e);if(t!==i)return tt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=jn(o.integerValue||o.doubleValue),l=jn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return JV(n.timestampValue,e.timestampValue);case 4:return JV(Em(n),Em(e));case 5:return tt(n.stringValue,e.stringValue);case 6:return function(o,s){const a=oa(o),l=oa(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=tt(a[c],l[c]);if(0!==h)return h}return tt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=tt(jn(o.latitude),jn(s.latitude));return 0!==a?a:tt(jn(o.longitude),jn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=sl(a[c],l[c]);if(h)return h}return tt(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===rl.mapValue&&s===rl.mapValue)return 0;if(o===rl.mapValue)return 1;if(s===rl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=tt(l[p],h[p]);if(0!==g)return g;const y=sl(a[l[p]],c[h[p]]);if(0!==y)return y}return tt(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Se()}}function JV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tt(n,e);const t=il(n),i=il(e),r=tt(t.seconds,i.seconds);return 0!==r?r:tt(t.nanos,i.nanos)}function Hd(n){return QC(n)}function QC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=il(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oa(n.bytesValue).toBase64():"referenceValue"in n?ye.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=QC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${QC(t.fields[s])}`;return r+"}"}(n.mapValue):Se()}function YC(n){return!!n&&"integerValue"in n}function Im(n){return!!n&&"arrayValue"in n}function e2(n){return!!n&&"nullValue"in n}function t2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sb(n){return!!n&&"mapValue"in n}function xm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function n2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!sb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xm(t)}setAll(e){let t=Tn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=xm(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];sb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){nl(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Vi(xm(this.value))}}function s2(n){const e=[];return nl(n.fields,(t,i)=>{const r=new Tn([t]);if(sb(i)){const o=s2(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Dr(e)}class wn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),Vi.empty(),0)}static newFoundDocument(e,t,i,r){return new wn(e,1,t,Fe.min(),i,r,0)}static newNoDocument(e,t){return new wn(e,2,t,Fe.min(),Fe.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Fe.min(),Fe.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class al{constructor(e,t){this.position=e,this.inclusive=t}}function a2(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ye.comparator(ye.fromName(s.referenceValue),t.key):sl(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function l2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ys(n.position[t],e.position[t]))return!1;return!0}class Cm{constructor(e,t="asc"){this.field=e,this.dir=t}}function iee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class c2{}class Mt extends c2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new ree(e,t,i):"array-contains"===t?new aee(e,i):"in"===t?new m2(e,i):"not-in"===t?new lee(e,i):"array-contains-any"===t?new cee(e,i):new Mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new oee(e,i):new see(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sl(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.matchesComparison(sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends c2{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Yt(e,t)}matches(e){return qd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function qd(n){return"and"===n.op}function JC(n){return function u2(n){for(const e of n.filters)if(e instanceof Yt)return!1;return!0}(n)&&qd(n)}function eT(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Hd(n.value);if(JC(n))return n.filters.map(e=>eT(e)).join(",");{const e=n.filters.map(t=>eT(t)).join(",");return`${n.op}(${e})`}}function d2(n,e){return n instanceof Mt?(i=n,(r=e)instanceof Mt&&i.op===r.op&&i.field.isEqual(r.field)&&ys(i.value,r.value)):n instanceof Yt?function(i,r){return r instanceof Yt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&d2(s,r.filters[a]),!0)}(n,e):void Se();var i,r}function f2(n){return n instanceof Mt?`${(t=n).field.canonicalString()} ${t.op} ${Hd(t.value)}`:n instanceof Yt?function(t){return t.op.toString()+" {"+t.getFilters().map(f2).join(" ,")+"}"}(n):"Filter";var t}class ree extends Mt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class oee extends Mt{constructor(e,t){super(e,"in",t),this.keys=p2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class see extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=p2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class aee extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Im(t)&&wm(t.arrayValue,this.value)}}class m2 extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wm(this.value.arrayValue,t)}}class lee extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wm(this.value.arrayValue,t)}}class cee extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Im(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>wm(this.value.arrayValue,i))}}class uee{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function tT(n,e=null,t=[],i=[],r=null,o=null,s=null){return new uee(n,e,t,i,r,o,s)}function vc(n){const e=ge(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>eT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),vm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Hd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Hd(i)).join(",")),e.ce=t}return e.ce}function Tm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!d2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l2(n.startAt,e.startAt)&&l2(n.endAt,e.endAt)}function ab(n){return ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class sa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Wd(n){return new sa(n)}function v2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Gd(n){const e=ge(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new en(Tn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Cm(o,i))}),t.has(Tn.keyField().canonicalString())||e.le.push(new Cm(Tn.keyField(),i))}return e.le}function mr(n){const e=ge(n);return e.he||(e.he=function b2(n,e){if("F"===n.limitType)return tT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new Cm(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new al(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new al(n.startAt.position,n.startAt.inclusive):null;return tT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Gd(n))),e.he}function cb(n,e,t){return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dm(n,e){return Tm(mr(n),mr(e))&&n.limitType===e.limitType}function E2(n){return`${vc(mr(n))}|lt:${n.limitType}`}function Kd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>f2(r)).join(", ")}]`),vm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Hd(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Hd(r)).join(",")),`Target(${i})`}(mr(n))}; limitType=${n.limitType})`}function Am(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ye.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Gd(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const c=a2(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Gd(i),r)||i.endAt&&!function(s,a,l){const c=a2(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Gd(i),r)));var i,r}function I2(n){return(e,t)=>{let i=!1;for(const r of Gd(n)){const o=dee(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function dee(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?sl(l,c):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return QV(this.inner)}size(){return this.innerSize}}const hee=new un(ye.comparator);function Ar(){return hee}const x2=new un(ye.comparator);function Sm(...n){let e=x2;for(const t of n)e=e.insert(t.key,t);return e}function C2(n){let e=x2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function vs(){return Mm()}function T2(){return Mm()}function Mm(){return new aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const fee=new un(ye.comparator),pee=new en(ye.comparator);function ct(...n){let e=pee;for(const t of n)e=e.add(t);return e}const mee=new en(tt);function D2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bm(e)?"-0":e}}function A2(n){return{integerValue:""+n}}function S2(n,e){return function zV(n){return"number"==typeof n&&Number.isInteger(n)&&!bm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?A2(e):D2(n,e)}class ub{constructor(){this._=void 0}}function gee(n,e,t){return n instanceof Zd?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&nb(o)&&(o=ib(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof bc?R2(n,e):n instanceof Ec?P2(n,e):function(r,o){const s=M2(r,o),a=k2(s)+k2(r.Ie);return YC(s)&&YC(r.Ie)?A2(a):D2(r.serializer,a)}(n,e)}function _ee(n,e,t){return n instanceof bc?R2(n,e):n instanceof Ec?P2(n,e):t}function M2(n,e){return n instanceof Qd?YC(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Zd extends ub{}class bc extends ub{constructor(e){super(),this.elements=e}}function R2(n,e){const t=O2(e);for(const i of n.elements)t.some(r=>ys(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ec extends ub{constructor(e){super(),this.elements=e}}function P2(n,e){let t=O2(e);for(const i of n.elements)t=t.filter(r=>!ys(r,i));return{arrayValue:{values:t}}}class Qd extends ub{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function k2(n){return jn(n.integerValue||n.doubleValue)}function O2(n){return Im(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vee{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function db(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class hb{}function N2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Xd(n.key,Dn.none()):new Yd(n.key,n.data,Dn.none());{const t=n.data,i=Vi.empty();let r=new en(Tn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new la(n.key,i,new Dr(r.toArray()),Dn.none())}}function bee(n,e,t){n instanceof Yd?function(r,o,s){const a=r.value.clone(),l=V2(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof la?function(r,o,s){if(!db(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=V2(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(L2(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pm(n,e,t,i){return n instanceof Yd?function(o,s,a,l){if(!db(o.precondition,s))return a;const c=o.value.clone(),h=B2(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof la?function(o,s,a,l){if(!db(o.precondition,s))return a;const c=B2(o.fieldTransforms,l,s),h=s.data;return h.setAll(L2(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,db(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Eee(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=M2(i.transform,r||null);null!=o&&(null===t&&(t=Vi.empty()),t.set(i.field,o))}return t||null}function F2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Ud(i,r,(o,s)=>function yee(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof bc&&r instanceof bc||i instanceof Ec&&r instanceof Ec?Ud(i.elements,r.elements,ys):i instanceof Qd&&r instanceof Qd?ys(i.Ie,r.Ie):i instanceof Zd&&r instanceof Zd);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Yd extends hb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class la extends hb{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function V2(n,e,t){const i=new Map;Ne(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,_ee(s,a,t[r]))}return i}function B2(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,gee(o,s,e))}return i}class Xd extends hb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oT extends hb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&bee(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=T2();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=N2(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&Ud(this.mutations,e.mutations,(t,i)=>F2(t,i))&&Ud(this.baseMutations,e.baseMutations,(t,i)=>F2(t,i))}}class aT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ne(e.mutations.length===i.length);let r=fee;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new aT(e,t,i,r)}}class lT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iee{constructor(e,t){this.count=e,this.unchangedNames=t}}var ri,Vt;function j2(n){if(void 0===n)return Yn("GRPC error has no .code"),W.UNKNOWN;switch(n){case ri.OK:return W.OK;case ri.CANCELLED:return W.CANCELLED;case ri.UNKNOWN:return W.UNKNOWN;case ri.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ri.INTERNAL:return W.INTERNAL;case ri.UNAVAILABLE:return W.UNAVAILABLE;case ri.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ri.NOT_FOUND:return W.NOT_FOUND;case ri.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ri.ABORTED:return W.ABORTED;case ri.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ri.DATA_LOSS:return W.DATA_LOSS;default:return Se()}}(Vt=ri||(ri={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";const xee=new Ld([4294967295,4294967295],0);function $2(n){const e=function z2(){return new TextEncoder}().encode(n),t=new vJ;return t.update(e),new Uint8Array(t.digest())}function H2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ld([t,i],0),new Ld([r,o],0)]}class cT{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new km(`Invalid padding: ${t}`);if(i<0)throw new km(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new km(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new km(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ld.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Ld.fromNumber(i)));return 1===r.compare(xee)&&(r=new Ld([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=$2(e),[i,r]=H2(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cT(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=$2(e),[i,r]=H2(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class km extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Om{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Nm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Om(Fe.min(),r,new un(tt),Ar(),ct())}}class Nm{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nm(i,t,ct(),ct(),ct())}}class pb{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class q2{constructor(e,t){this.targetId=e,this.fe=t}}class W2{constructor(e,t,i=gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class G2{constructor(){this.ge=0,this.pe=Z2(),this.ye=gi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ct(),t=ct(),i=ct();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Se()}}),new Nm(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=Z2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ne(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Cee{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ar(),this.Qe=K2(),this.Ke=new un(tt)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(ab(o))if(0===i){const s=new ye(o.path);this.We(t,s,wn.newNoDocument(s,Fe.min()))}else Ne(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=oa(i).toUint8Array()}catch(l){if(l instanceof XV)return qr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cT(s,r,o)}catch(l){return qr(l instanceof km?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&ab(a.target)){const l=new ye(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,wn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ct();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Om(e,t,this.Ke,this.qe,i);return this.qe=Ar(),this.Qe=K2(),this.Ke=new un(tt),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new G2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new en(tt),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new G2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function K2(){return new un(ye.comparator)}function Z2(){return new un(ye.comparator)}const Tee={asc:"ASCENDING",desc:"DESCENDING"},Dee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aee={and:"AND",or:"OR"};class See{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uT(n,e){return n.useProto3Json||vm(e)?e:{value:e}}function Jd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mee(n,e){return Jd(n,e.toTimestamp())}function Xn(n){return Ne(!!n),Fe.fromTimestamp(function(t){const i=il(t);return new kn(i.seconds,i.nanos)}(n))}function dT(n,e){return(i=n,new Lt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Y2(n){const e=Lt.fromString(n);return Ne(sB(e)),e}function Fm(n,e){return dT(n.databaseId,e.path)}function bs(n,e){const t=Y2(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(J2(t))}function hT(n,e){return dT(n.databaseId,e)}function Lm(n){return new Lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J2(n){return Ne(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eB(n,e,t){return{name:Fm(n,e),fields:t.value.mapValue.fields}}function nB(n,e){return{documents:[hT(n,e.path)]}}function pT(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=hT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return oB(Yt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:ll((p=c).field),direction:Nee(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=uT(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function iB(n){let e=function X2(n){const e=Y2(n);return 4===e.length?Lt.emptyPath():J2(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ne(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=rB(p);return g instanceof Yt&&JC(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new Cm(eh((w=g).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,vm(g)?null:g}(t.limit));let l=null;var p;t.startAt&&(l=new al((p=t.startAt).values||[],!!p.before));let c=null;return t.endAt&&(c=function(p){return new al(p.values||[],!p.before)}(t.endAt)),function y2(n,e,t,i,r,o,s,a){return new sa(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function rB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=eh(t.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=eh(t.unaryFilter.field);return Mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=eh(t.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eh(t.unaryFilter.field);return Mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):void 0!==n.fieldFilter?Mt.create(eh((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Yt.create(t.compositeFilter.filters.map(i=>rB(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se();var t}function Nee(n){return Tee[n]}function Fee(n){return Dee[n]}function Lee(n){return Aee[n]}function ll(n){return{fieldPath:n.canonicalString()}}function eh(n){return Tn.fromServerFormat(n.fieldPath)}function oB(n){return n instanceof Mt?function(t){if("=="===t.op){if(t2(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NAN"}};if(e2(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(t2(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NOT_NAN"}};if(e2(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(t.field),op:Fee(t.op),value:t.value}}}(n):n instanceof Yt?function(t){const i=t.getFilters().map(r=>oB(r));return 1===i.length?i[0]:{compositeFilter:{op:Lee(t.op),filters:i}}}(n):Se()}function Vee(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ca{constructor(e,t,i,r,o=Fe.min(),s=Fe.min(),a=gi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aB{constructor(e){this.ut=e}}function mT(n){const e=iB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?cb(e,e.limit,"L"):e}class Cc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(jn(e.integerValue));else if("doubleValue"in e){const i=jn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),bm(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(oa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?n2(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Se()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ye.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Cc.St=new Cc;class Wee{constructor(){this.on=new ET}addToCollectionParentIndex(e,t){return this.on.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Wr.min())}updateCollectionGroup(e,t,i){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class ET{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new en(Lt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new en(Lt.comparator)).toArray()}}new Uint8Array(0);class Gi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class Dc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Dc(0)}static Nn(){return new Dc(-1)}}class Xee{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?V.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OB{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Pm(i.mutation,r,Dr.empty(),kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ct()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ct()){const r=vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Sm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ct()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Ar();const s=Mm(),a=Mm();return t.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof la)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),Pm(h.mutation,c,h.mutation.getFieldMask(),kn.now())):s.set(c.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),t.forEach((c,h)=>{var p;return a.set(c,new tte(h,null!==(p=s.get(c))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Mm();let r=new un((s,a)=>s-a),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let h=i.get(l)||Dr.empty();h=a.applyToLocalView(c,h),i.set(l,h);const p=(r.get(a.batchId)||ct()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=T2();h.forEach(g=>{if(!o.has(g)){const y=N2(t.get(g),i.get(g));null!==y&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return V.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ye.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function nT(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):V.resolve(vs());let a=-1,l=o;return s.next(c=>V.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ct())).next(h=>({batchId:a,changes:C2(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let r=Sm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Sm();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const c=(p=t,g=l.child(o),new sa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,wn.newInvalidDocument(h)))});let a=Sm();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&Pm(h.mutation,c,Dr.empty(),kn.now()),Am(t,c)&&(a=a.insert(l,c))}),a})}}class nte{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return V.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Xn(r.createTime)}),V.resolve();var r}getNamedQuery(e,t){return V.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:mT(r.bundledQuery),readTime:Xn(r.readTime)}),V.resolve();var r}}class ite{constructor(){this.overlays=new un(ye.comparator),this.lr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vs();return V.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),V.resolve()}getOverlaysForCollection(e,t,i){const r=vs(),o=t.length+1,s=new ye(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new un((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=vs(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return V.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new lT(t,i));let o=this.lr.get(t);void 0===o&&(o=ct(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class wT{constructor(){this.hr=new en(Di.Pr),this.Ir=new en(Di.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Di(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Di(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ye(new Lt([])),i=new Di(t,e),r=new Di(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ye(new Lt([])),i=new Di(t,e),r=new Di(t,e+1);let o=ct();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Di(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Di{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ye.comparator(e.key,t.key)||tt(e.gr,t.gr)}static Tr(e,t){return tt(e.gr,t.gr)||ye.comparator(e.key,t.key)}}class rte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new en(Di.Pr)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new sT(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Di(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Di(t,0),r=new Di(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(tt);return t.forEach(r=>{const o=new Di(r,0),s=new Di(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),V.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ye.isDocumentKey(o)||(o=o.child(""));const s=new Di(new ye(o),0);let a=new en(tt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),V.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ne(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return V.forEach(t.mutations,r=>{const o=new Di(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Di(t,0),r=this.yr.firstAfterOrEqual(i);return V.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return V.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ote{constructor(e){this.Cr=e,this.docs=new un(ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return V.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Ar();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():wn.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Ar();const s=t.path,a=new ye(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||WC(BV(h),i)<=0||(r.has(h.key)||Am(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Se()}vr(e,t){return V.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ste(this)}getSize(e){return V.resolve(this.size)}}class ste extends Xee{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),V.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class ate{constructor(e){this.persistence=e,this.Fr=new aa(t=>vc(t),Tm),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new wT,this.targetCount=0,this.Nr=Dc.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),V.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Dc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.kn(t),V.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),V.waitFor(o).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return V.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),V.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),V.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return V.resolve(i)}containsKey(e,t){return V.resolve(this.Or.containsKey(t))}}class IT{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Gr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new ate(this),this.indexManager=new Wee,this.remoteDocumentCache=new ote(i=>this.referenceDelegate.Qr(i)),this.serializer=new aB(t),this.Kr=new nte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ite,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new rte(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new lte(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return V.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class lte extends MJ{constructor(e){super(),this.currentSequenceNumber=e}}class wb{constructor(e){this.persistence=e,this.Gr=new wT,this.zr=null}static jr(e){return new wb(e)}get Hr(){if(this.zr)return this.zr;throw Se()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),V.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),V.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,i=>{const r=ye.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Fe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return V.or([()=>V.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class DT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ct(),r=ct();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new DT(e,t.fromCache,i,r)}}class ute{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new ute;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Bd()<=Ys.in.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Kd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Bd()<=Ys.in.DEBUG&&le("QueryEngine","Query:",Kd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Bd()<=Ys.in.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Kd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):V.resolve())}zi(e,t){if(v2(t))return V.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=cb(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ct(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,s,l.readTime)?this.zi(e,cb(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,i,r){return v2(t)||r.isEqual(Fe.min())?V.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?V.resolve(null):(Bd()<=Ys.in.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kd(t)),this.Xi(e,s,t,function VV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Fe.fromTimestamp(1e9===i?new kn(t+1,0):new kn(t,i));return new Wr(r,ye.empty(),e)}(r,-1)).next(a=>a))})}Yi(e,t){let i=new en(I2(e));return t.forEach((r,o)=>{Am(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return Bd()<=Ys.in.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Kd(t)),this.Gi.getDocumentsMatchingQuery(e,t,Wr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class dte{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new un(tt),this.ns=new aa(o=>vc(o),Tm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function VB(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,Me.Z)(function*(n,e){const t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ct();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),AT.apply(this,arguments)}function BB(n){const e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function pte(n,e){const t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function sh(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=(0,Me.Z)(function*(n,e,t){const i=ge(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!tl(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),ST.apply(this,arguments)}function Cb(n,e,t){const i=ge(n);let r=Fe.min(),o=ct();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const p=ge(l),g=p.ns.get(h);return void 0!==g?V.resolve(p.ts.get(g)):p.qr.getTargetData(c,h)}(i,s,mr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Fe.min(),t?o:ct())).next(a=>(function $B(n,e,t){let i=n.rs.get(e)||Fe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}(i,function w2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class OT{constructor(){this.activeTargetIds=function rT(){return mee}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WB{constructor(){this.eo=new OT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new OT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _te{ro(e){}shutdown(){}}class GB{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ab=null;function FT(){return null===Ab?Ab=268435456+Math.round(2147483648*Math.random()):Ab++,"0x"+Ab.toString(16)}const yte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vte{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ki="WebChannelConnection";class bte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=FT(),l=this.So(t,i);le("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,l,c,r).then(h=>(le("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw qr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Vd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${yte[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=FT();return new Promise((s,a)=>{const l=new yJ;l.setWithCredentials(!0),l.listenOnce(gJ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $C.NO_ERROR:const h=l.getResponseJson();le(Ki,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case $C.TIMEOUT:le(Ki,`RPC '${e}' ${o} timed out`),a(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case $C.HTTP_ERROR:const p=l.getStatus();if(le(Ki,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const w=function(T){const F=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(F)>=0?F:W.UNKNOWN}(y.status);a(new ce(w,y.message))}else a(new ce(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{le(Ki,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);le(Ki,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}vo(e,t,i){const r=FT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pJ(),a=mJ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=o.join("");le(Ki,`Creating RPC '${e}' stream ${r}: ${h}`,l);const p=s.createWebChannel(h,l);let g=!1,y=!1;const w=new vte({co:T=>{y?le(Ki,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(g||(le(Ki,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),le(Ki,`RPC '${e}' stream ${r} sending:`,T),p.send(T))},lo:()=>p.close()}),x=(T,F,R)=>{T.listen(F,j=>{try{R(j)}catch(J){setTimeout(()=>{throw J},0)}})};return x(p,Xv.EventType.OPEN,()=>{y||le(Ki,`RPC '${e}' stream ${r} transport opened.`)}),x(p,Xv.EventType.CLOSE,()=>{y||(y=!0,le(Ki,`RPC '${e}' stream ${r} transport closed`),w.Ro())}),x(p,Xv.EventType.ERROR,T=>{y||(y=!0,qr(Ki,`RPC '${e}' stream ${r} transport errored:`,T),w.Ro(new ce(W.UNAVAILABLE,"The operation could not be completed")))}),x(p,Xv.EventType.MESSAGE,T=>{var F;if(!y){const R=T.data[0];Ne(!!R);const J=R.error||(null===(F=R[0])||void 0===F?void 0:F.error);if(J){le(Ki,`RPC '${e}' stream ${r} received error:`,J);const pe=J.status;let Le=function(_r){const Sr=ri[_r];if(void 0!==Sr)return j2(Sr)}(pe),nt=J.message;void 0===Le&&(Le=W.INTERNAL,nt="Unknown error status: "+pe+" with message "+J.message),y=!0,w.Ro(new ce(Le,nt)),p.close()}else le(Ki,`RPC '${e}' stream ${r} received:`,R),w.Vo(R)}}),x(a,_J.STAT_EVENT,T=>{T.stat===PV.PROXY?le(Ki,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===PV.NOPROXY&&le(Ki,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function Sb(){return typeof document<"u"?document:null}function Wm(n){return new See(n,!0)}class LT{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ZB{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new LT(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Me.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Me.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,Me.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Yn(t.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===W.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ce(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Me.Z)(function*(){e.state=0,e.start()}))}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ete extends ZB{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Pee(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Se(),r=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Ne(void 0===h||"string"==typeof h),gi.fromBase64String(h||"")):(Ne(void 0===h||h instanceof Uint8Array),gi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=void 0===c.code?W.UNKNOWN:j2(c.code);return new ce(h,c.message||"")}(s);t=new W2(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=bs(n,i.document.name),o=Xn(i.document.updateTime),s=i.document.createTime?Xn(i.document.createTime):Fe.min(),a=new Vi({mapValue:{fields:i.document.fields}}),l=wn.newFoundDocument(r,o,s,a);t=new pb(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=bs(n,i.document),o=i.readTime?Xn(i.readTime):Fe.min(),s=wn.newNoDocument(r,o);t=new pb([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=bs(n,i.document);t=new pb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Se();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Iee(r,o);t=new q2(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Xn(s.readTime):Fe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Lm(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=ab(l)?{documents:nB(o,l)}:{query:pT(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Q2(o,s.resumeToken);const c=uT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Fe.min())>0){a.readTime=Jd(o,s.snapshotVersion.toTimestamp());const c=uT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const i=function Oee(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Lm(this.serializer),t.removeTarget=e,this.e_(t)}}class wte extends ZB{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function kee(n,e){return n&&n.length>0?(Ne(void 0!==e),n.map(t=>function(r,o){let s=Xn(r.updateTime?r.updateTime:o);return s.isEqual(Fe.min())&&(s=Xn(o)),new vee(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Xn(e.commitTime);return this.listener.I_(i,t)}return Ne(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Lm(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Vm(n,e){let t;if(e instanceof Yd)t={update:eB(n,e.key,e.value)};else if(e instanceof Xd)t={delete:Fm(n,e.key)};else if(e instanceof la)t={update:eB(n,e.key,e.data),updateMask:Vee(e.fieldMask)};else{if(!(e instanceof oT))return Se();t={verify:Fm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Zd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ec)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Mee(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Se()),t;var o}(this.serializer,i))};this.e_(t)}}class Ite extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ce(W.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(W.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Cte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yn(t),this.f_=!1):le("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Tte{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,Me.Z)(function*(){var l;hl(s)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Me.Z)(function*(h){const p=ge(h);p.C_.add(4),yield ah(p),p.M_.set("Unknown"),p.C_.delete(4),yield Gm(p)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.M_=new Cte(i,r)}}function Gm(n){return BT.apply(this,arguments)}function BT(){return BT=(0,Me.Z)(function*(n){if(hl(n))for(const e of n.v_)yield e(!0)}),BT.apply(this,arguments)}function ah(n){return UT.apply(this,arguments)}function UT(){return UT=(0,Me.Z)(function*(n){for(const e of n.v_)yield e(!1)}),UT.apply(this,arguments)}function Mb(n,e){const t=ge(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),$T(t)?zT(t):ch(t).Ho()&&jT(t,e))}function Km(n,e){const t=ge(n),i=ch(t);t.D_.delete(e),i.Ho()&&QB(t,e),0===t.D_.size&&(i.Ho()?i.Zo():hl(t)&&t.M_.set("Unknown"))}function jT(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ch(n).u_(e)}function QB(n,e){n.x_.Oe(e),ch(n).c_(e)}function zT(n){n.x_=new Cee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ch(n).start(),n.M_.g_()}function $T(n){return hl(n)&&!ch(n).jo()&&n.D_.size>0}function hl(n){return 0===ge(n).C_.size}function YB(n){n.x_=void 0}function Dte(n){return HT.apply(this,arguments)}function HT(){return HT=(0,Me.Z)(function*(n){n.D_.forEach((e,t)=>{jT(n,e)})}),HT.apply(this,arguments)}function Ate(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,Me.Z)(function*(n,e){YB(n),$T(n)?(n.M_.w_(e),zT(n)):n.M_.set("Unknown")}),qT.apply(this,arguments)}function Ste(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,Me.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof W2&&2===e.state&&e.cause)try{yield(i=(0,Me.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Rb(n,i)}else if(e instanceof pb?n.x_.$e(e):e instanceof q2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Fe.min()))try{const i=yield BB(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.D_.get(c);h&&o.D_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.D_.get(l);if(!h)return;o.D_.set(l,h.withResumeToken(gi.EMPTY_BYTE_STRING,h.snapshotVersion)),QB(o,l);const p=new ca(h.target,l,c,h.sequenceNumber);jT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield Rb(n,i)}var i}),WT.apply(this,arguments)}function Rb(n,e,t){return GT.apply(this,arguments)}function GT(){return GT=(0,Me.Z)(function*(n,e,t){if(!tl(e))throw e;n.C_.add(1),yield ah(n),n.M_.set("Offline"),t||(t=()=>BB(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Gm(n)}))}),GT.apply(this,arguments)}function XB(n,e){return e().catch(t=>Rb(n,t,e))}function lh(n){return KT.apply(this,arguments)}function KT(){return KT=(0,Me.Z)(function*(n){const e=ge(n),t=fl(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Mte(e);)try{const r=yield pte(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Rte(e,r)}catch(r){yield Rb(e,r)}JB(e)&&eU(e)}),KT.apply(this,arguments)}function Mte(n){return hl(n)&&n.b_.length<10}function Rte(n,e){n.b_.push(e);const t=fl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function JB(n){return hl(n)&&!fl(n).jo()&&n.b_.length>0}function eU(n){fl(n).start()}function Pte(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Me.Z)(function*(n){fl(n).E_()}),ZT.apply(this,arguments)}function kte(n){return QT.apply(this,arguments)}function QT(){return QT=(0,Me.Z)(function*(n){const e=fl(n);for(const t of n.b_)e.P_(t.mutations)}),QT.apply(this,arguments)}function Ote(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,Me.Z)(function*(n,e,t){const i=n.b_.shift(),r=aT.from(i,e,t);yield XB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield lh(n)}),YT.apply(this,arguments)}function Nte(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,Me.Z)(function*(n,e){var t;e&&fl(n).h_&&(yield(t=(0,Me.Z)(function*(r,o){if(function U2(n){switch(n){default:return Se();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}(a=o.code)&&a!==W.ABORTED){const s=r.b_.shift();fl(r).Yo(),yield XB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield lh(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),JB(n)&&eU(n)}),XT.apply(this,arguments)}function tU(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,Me.Z)(function*(n,e){const t=ge(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=hl(t);t.C_.add(3),yield ah(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Gm(t)}),JT.apply(this,arguments)}function tD(){return tD=(0,Me.Z)(function*(n,e){const t=ge(n);e?(t.C_.delete(2),yield Gm(t)):e||(t.C_.add(2),yield ah(t),t.M_.set("Unknown"))}),tD.apply(this,arguments)}function ch(n){return n.O_||(n.O_=function(t,i,r){const o=ge(t);return o.A_(),new Ete(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Dte.bind(null,n),Io:Ate.bind(null,n),a_:Ste.bind(null,n)}),n.v_.push(function(){var e=(0,Me.Z)(function*(t){t?(n.O_.Yo(),$T(n)?zT(n):n.M_.set("Unknown")):(yield n.O_.stop(),YB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function fl(n){return n.N_||(n.N_=function(t,i,r){const o=ge(t);return o.A_(),new wte(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Pte.bind(null,n),Io:Nte.bind(null,n),T_:kte.bind(null,n),I_:Ote.bind(null,n)}),n.v_.push(function(){var e=(0,Me.Z)(function*(t){t?(n.N_.Yo(),yield lh(n)):(yield n.N_.stop(),n.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class nD{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new nD(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uh(n,e){if(Yn("AsyncQueue",`${e}: ${n}`),tl(n))return new ce(W.UNAVAILABLE,`${e}: ${n}`);throw n}class dh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Sm(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new dh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new dh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nU{constructor(){this.B_=new un(ye.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Se():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class hh{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new hh(e,t,dh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Fte{constructor(){this.k_=void 0,this.listeners=[]}}class Lte{constructor(){this.queries=new aa(e=>E2(e),Dm),this.onlineState="Unknown",this.q_=new Set}}function iD(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,Me.Z)(function*(n,e){const t=ge(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new Fte),r)try{o.k_=yield t.onListen(i)}catch(s){const a=uh(s,`Initialization of query '${Kd(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&aD(t)}),rD.apply(this,arguments)}function oD(n,e){return sD.apply(this,arguments)}function sD(){return sD=(0,Me.Z)(function*(n,e){const t=ge(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),sD.apply(this,arguments)}function Vte(n,e){const t=ge(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&aD(t)}function Bte(n,e,t){const i=ge(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function aD(n){n.q_.forEach(e=>{e.next()})}class lD{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new hh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class oU{constructor(e){this.key=e}}class sU{constructor(e){this.key=e}}class aU{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ct(),this.mutatedKeys=ct(),this._a=I2(e),this.aa=new dh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new nU,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),y=Am(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;g&&y?g.data.isEqual(y.data)?w!==x&&(i.track({type:3,doc:y}),T=!0):this.ha(g,y)||(i.track({type:2,doc:y}),T=!0,(l&&this._a(y,l)>0||c&&this._a(y,c)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),T=!0):g&&!y&&(i.track({type:1,doc:g}),T=!0,(l||c)&&(a=!0)),T&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((h,p)=>function(y,w){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return x(y)-x(w)}(h.type,p.type)||this._a(h.doc,p.doc)),this.Pa(i),r=null!=r&&r;const a=t&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==s.length||c?{snapshot:new hh(this.query,e.aa,o,s,e.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new nU,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ct(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new sU(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new oU(i))}),t}da(e){this.ia=e.ls,this.oa=ct();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return hh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class zte{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $te{constructor(e){this.key=e,this.Ra=!1}}class Hte{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new aa(a=>E2(a),Dm),this.fa=new Map,this.ga=new Set,this.pa=new un(ye.comparator),this.ya=new Map,this.wa=new wT,this.Sa={},this.ba=new Map,this.Da=Dc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function qte(n,e){return cD.apply(this,arguments)}function cD(){return cD=(0,Me.Z)(function*(n,e){const t=function PD(n){const e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ene.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kte.bind(null,e),e.Va.a_=Vte.bind(null,e.eventManager),e.Va.Fa=Bte.bind(null,e.eventManager),e}(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield function oh(n,e){const t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,V.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new ca(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}(t.localStore,mr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function uD(n,e,t,i,r){return dD.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Mb(t.remoteStore,s)}return r}),cD.apply(this,arguments)}function dD(){return dD=(0,Me.Z)(function*(n,e,t,i,r){n.va=(p,g,y)=>{return(w=(0,Me.Z)(function*(T,F,R,j){let J=F.view.ca(R);J.Zi&&(J=yield Cb(T.localStore,F.query,!1).then(({documents:Gt})=>F.view.ca(Gt,J)));const pe=j&&j.targetChanges.get(F.targetId),Le=j&&null!=j.targetMismatches.get(F.targetId),nt=F.view.applyChanges(J,T.isPrimaryClient,pe,Le);return ED(T,F.targetId,nt.Ta),nt.snapshot}),function x(T,F,R,j){return w.apply(this,arguments)})(n,p,g,y);var w};const o=yield Cb(n.localStore,e,!0),s=new aU(e,o.ls),a=s.ca(o.documents),l=Nm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);ED(n,t,c.Ta);const h=new zte(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),dD.apply(this,arguments)}function Wte(n,e){return hD.apply(this,arguments)}function hD(){return hD=(0,Me.Z)(function*(n,e){const t=ge(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Dm(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Km(t.remoteStore,i.targetId),fh(t,i.targetId)}).catch(el))):(fh(t,i.targetId),yield sh(t.localStore,i.targetId,!0))}),hD.apply(this,arguments)}function fD(){return fD=(0,Me.Z)(function*(n,e,t){const i=function kD(n){const e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qte.bind(null,e),e}(n);try{const r=yield function(s,a){const l=ge(s),c=kn.now(),h=a.reduce((y,w)=>y.add(w.key),ct());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Ar(),x=ct();return l.ss.getEntries(y,h).next(T=>{w=T,w.forEach((F,R)=>{R.isValidDocument()||(x=x.add(F))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(T=>{p=T;const F=[];for(const R of a){const j=Eee(R,p.get(R.key).overlayedDocument);null!=j&&F.push(new la(R.key,j,s2(j.value.mapValue),Dn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,F,a)}).next(T=>{g=T;const F=T.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(y,T.batchId,F)})}).then(()=>({batchId:g.batchId,changes:C2(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new un(tt)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,t),yield ua(i,r.changes),yield lh(i.remoteStore)}catch(r){const o=uh(r,"Failed to persist write");t.reject(o)}}),fD.apply(this,arguments)}function lU(n,e){return pD.apply(this,arguments)}function pD(){return pD=(0,Me.Z)(function*(n,e){const t=ge(n);try{const i=yield function fte(n,e){const t=ge(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);var x,T,F;null!==e.targetMismatches.get(p)?y=y.withResumeToken(gi.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(p,y),T=y,F=h,(0===(x=g).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,y))});let l=Ar(),c=ct();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(function UB(n,e,t){let i=ct(),r=ct();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Ar();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}(o,s,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!i.isEqual(Fe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Ne(s.Ra):r.removedDocuments.size>0&&(Ne(s.Ra),s.Ra=!1))}),yield ua(t,i,e)}catch(i){yield el(i)}}),pD.apply(this,arguments)}function cU(n,e,t){const i=ge(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=ge(s);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(c=!0)}),c&&aD(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Kte(n,e,t){return mD.apply(this,arguments)}function mD(){return mD=(0,Me.Z)(function*(n,e,t){const i=ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new un(ye.comparator);s=s.insert(o,wn.newNoDocument(o,Fe.min()));const a=ct().add(o),l=new Om(Fe.min(),new Map,new un(tt),s,a);yield lU(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),wD(i)}else yield sh(i.localStore,e,!1).then(()=>fh(i,e,t)).catch(el)}),mD.apply(this,arguments)}function Zte(n,e){return gD.apply(this,arguments)}function gD(){return gD=(0,Me.Z)(function*(n,e){const t=ge(n),i=e.batch.batchId;try{const r=yield function hte(n,e){const t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,g=p.keys();let y=V.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(l,w)).next(x=>{const T=c.docVersions.get(w);Ne(null!==T),x.version.compareTo(T)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ct();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);bD(t,i,null),vD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ua(t,r)}catch(r){yield el(r)}}),gD.apply(this,arguments)}function Qte(n,e,t){return _D.apply(this,arguments)}function _D(){return _D=(0,Me.Z)(function*(n,e,t){const i=ge(n);try{const r=yield function(s,a){const l=ge(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ne(null!==p),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);bD(i,e,t),vD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ua(i,r)}catch(r){yield el(r)}}),_D.apply(this,arguments)}function vD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function bD(n,e,t){const i=ge(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function fh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||uU(n,i)})}function uU(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Km(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),wD(n))}function ED(n,e,t){for(const i of t)i instanceof oU?(n.wa.addReference(i.key,e),Xte(n,i)):i instanceof sU?(le("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||uU(n,i.key)):Se()}function Xte(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(le("SyncEngine","New document in limbo: "+t),n.ga.add(i),wD(n))}function wD(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ye(Lt.fromString(e)),i=n.Da.next();n.ya.set(i,new $te(t)),n.pa=n.pa.insert(t,i),Mb(n.remoteStore,new ca(mr(Wd(t.path)),i,"TargetPurposeLimboResolution",Gr._e))}}function ua(n,e,t){return ID.apply(this,arguments)}function ID(){return ID=(0,Me.Z)(function*(n,e,t){const i=ge(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const h=DT.Qi(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,Me.Z)(function*(c,h){const p=ge(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(h,y=>V.forEach(y.ki,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>V.forEach(y.qi,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!tl(g))throw g;le("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.ts.get(y),T=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);p.ts=p.ts.insert(y,T)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),ID.apply(this,arguments)}function Jte(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,Me.Z)(function*(n,e){const t=ge(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=yield VB(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ce(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ua(t,i._s)}var o}),xD.apply(this,arguments)}function ene(n,e){const t=ge(n),i=t.ya.get(e);if(i&&i.Ra)return ct().add(i.key);{let r=ct();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}class Pb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.serializer=Wm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function LB(n,e,t,i){return new dte(n,e,t,i)}(this.persistence,new FB,e.initialUser,this.serializer)}createPersistence(e){return new IT(wb.jr,this.serializer)}createSharedClientState(e){return new WB}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ph{initialize(e,t){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cU(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Jte.bind(null,i.syncEngine),yield function eD(n,e){return tD.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Lte}createDatastore(e){const t=Wm(e.databaseInfo.databaseId),i=new bte(e.databaseInfo);return new Ite(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>cU(this.syncEngine,t,0),a=GB.D()?new GB:new _te,new Tte(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,c,h){const p=new Hte(r,o,s,a,l,c);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(i){const r=ge(i);le("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield ah(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}class kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fne{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ci.UNAUTHENTICATED,this.clientId=FV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,Me.Z)(function*(a){le("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=uh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Ob(n,e){return OD.apply(this,arguments)}function OD(){return OD=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(o){i.isEqual(o)||(yield VB(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OD.apply(this,arguments)}function ND(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function LD(n){return VD.apply(this,arguments)}(n);le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>tU(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>tU(e.remoteStore,o)),n._onlineComponents=e}),FD.apply(this,arguments)}function VD(){return VD=(0,Me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ob(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function gU(n){return"FirebaseError"===n.name?n.code===W.FAILED_PRECONDITION||n.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;qr("Error using user provided cache. Falling back to memory cache: "+t),yield Ob(n,new Pb)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield Ob(n,new Pb);return n._offlineComponents}),VD.apply(this,arguments)}function Nb(n){return BD.apply(this,arguments)}function BD(){return BD=(0,Me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield ND(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield ND(n,new ph))),n._onlineComponents}),BD.apply(this,arguments)}function gh(n){return jD.apply(this,arguments)}function jD(){return jD=(0,Me.Z)(function*(n){const e=yield Nb(n),t=e.eventManager;return t.onListen=qte.bind(null,e.syncEngine),t.onUnlisten=Wte.bind(null,e.syncEngine),t}),jD.apply(this,arguments)}function wU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const IU=new Map;function zD(n,e,t){if(!t)throw new ce(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xU(n){if(!ye.isDocumentKey(n))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CU(n){if(ye.isDocumentKey(n))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Se()}function Rt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fb(n);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class DU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function xne(n,e,t,i){if(!0===e&&!0===i)throw new ce(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DU(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new bJ;switch(i.type){case"firstParty":return new xJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=IU.get(t);i&&(le("ComponentProvider","Removing Datastore"),IU.delete(t),i.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class Jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Es extends Bi{constructor(e,t,i){super(e,t,Wd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ye(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Tne(n,e,...t){if(n=(0,Ha.m9)(n),zD("collection","path",e),n instanceof Zm){const i=Lt.fromString(e,...t);return CU(i),new Es(n,null,i)}{if(!(n instanceof Jn||n instanceof Es))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Lt.fromString(e,...t));return CU(i),new Es(n.firestore,null,i)}}function AU(n,e,...t){if(n=(0,Ha.m9)(n),1===arguments.length&&(e=FV.newId()),zD("doc","path",e),n instanceof Zm){const i=Lt.fromString(e,...t);return xU(i),new Jn(n,null,new ye(i))}{if(!(n instanceof Jn||n instanceof Es))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Lt.fromString(e,...t));return xU(i),new Jn(n.firestore,n instanceof Es?n.converter:null,new ye(i))}}class Dne{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new LT(this,"async_queue_retry"),this.iu=()=>{const t=Sb();t&&le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Sb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Sb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new mi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!tl(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Yn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=nD.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Se()}verifyOperationInProgress(){}uu(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class dn extends Zm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Dne,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||MU(this),this._firestoreClient.terminate()}}function Sne(n,e){const t="object"==typeof n?n:(0,Tr.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Tr._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,Ha.P0)("firestore");o&&function Cne(n,e,t,i={}){var r;const o=(n=Rt(n,Zm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Ci.MOCK_USER;else{a=(0,Ha.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ci(c)}n._authCredentials=new EJ(new OV(a,l))}}(r,...o)}return r}function ei(n){return n._firestoreClient||MU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MU(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new eee(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wU(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new fne(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(gi.fromBase64String(e))}catch(t){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _h{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kU{constructor(e){this._methodName=e}}class HD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}const Rne=/^__.*__$/;class Pne{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new la(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yd(e,this.data,t,this.fieldTransforms)}}function NU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Lb{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Bb(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(NU(this.Iu)&&Rne.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kne{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Wm(e)}pu(e,t,i,r=!1){return new Lb({Iu:e,methodName:t,gu:i,path:Tn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(n){const e=n._freezeSettings(),t=Wm(n._databaseId);return new kne(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qD(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);GD("Data must be an object, but it was:",s,i);const a=UU(i,s);let l,c;if(o.merge)l=new Dr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=Xm(e,p,t);if(!s.contains(g))throw new ce(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);zU(h,g)||h.push(g)}l=new Dr(h),c=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=s.fieldTransforms;return new Pne(new Vi(a),l,c)}function Mc(n,e){if(jU(n=(0,Ha.m9)(n)))return GD("Unsupported field value:",e,n),UU(n,e);if(n instanceof kU)return function(i,r){if(!NU(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Mc(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,Ha.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return S2(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=kn.fromDate(i);return{timestampValue:Jd(r.serializer,o)}}if(i instanceof kn){const o=new kn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jd(r.serializer,o)}}if(i instanceof HD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sc)return{bytesValue:Q2(r.serializer,i._byteString)};if(i instanceof Jn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dT(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Fb(i)}`)}(n,e)}function UU(n,e){const t={};return QV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(n,(i,r)=>{const o=Mc(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function jU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kn||n instanceof HD||n instanceof Sc||n instanceof Jn||n instanceof kU)}function GD(n,e,t){if(!jU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=Fb(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Xm(n,e,t){if((e=(0,Ha.m9)(e))instanceof _h)return e._internalPath;if("string"==typeof e)return Vb(n,e);throw Bb("Field path arguments must be of type string or ",n,!1,void 0,t)}const Lne=new RegExp("[~\\*/\\[\\]]");function Vb(n,e,t){if(e.search(Lne)>=0)throw Bb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw Bb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bb(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ce(W.INVALID_ARGUMENT,a+n+l)}function zU(n,e){return n.some(t=>t.isEqual(e))}class KD{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ub("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vne extends KD{data(){return super.data()}}function Ub(n,e){return"string"==typeof e?Vb(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}class Une{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return nl(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new HD(jn(e.latitude),jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ib(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Em(e));default:return null}}convertTimestamp(e){const t=il(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Lt.fromString(e);Ne(sB(i));const r=new _c(i.get(1),i.get(3)),o=new ye(i.popFirst(5));return r.isEqual(t)||Yn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bh extends KD{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ub("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Hb extends bh{data(e={}){return super.data(e)}}class Eh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Hb(this._firestore,this._userDataWriter,i.key,i,new Rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Hb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Rc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Hb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Rc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:zne(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function $ne(n){n=Rt(n,Jn);const e=Rt(n.firestore,dn);return function bU(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,s,a,l,c){const h=new kb({next:g=>{s.enqueueAndForget(()=>oD(o,p));const y=g.docs.has(a);!y&&g.fromCache?c.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?c.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new lD(Wd(a.path),h,{includeMetadataChanges:!0,J_:!0});return iD(o,p)}(yield gh(n),n.asyncQueue,e,t,i)})),i.promise}(ei(e),n._key).then(t=>function YD(n,e,t){const i=t.docs.get(e._key),r=new pl(n);return new bh(n,r,e._key,i,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class pl extends Une{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function Hne(n){n=Rt(n,Bi);const e=Rt(n.firestore,dn),t=ei(e),i=new pl(e);return function $U(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function EU(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,s,a,l,c){const h=new kb({next:g=>{s.enqueueAndForget(()=>oD(o,p)),g.fromCache&&"server"===l.source?c.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new lD(a,h,{includeMetadataChanges:!0,J_:!0});return iD(o,p)}(yield gh(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(r=>new Eh(e,i,n,r))}function qne(n,e,t){n=Rt(n,Jn);const i=Rt(n.firestore,dn),r=function QD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return eg(i,[qD(yh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Dn.none())])}function Wne(n){return eg(Rt(n.firestore,dn),[new Xd(n._key,Dn.none())])}function eg(n,e){return function(i,r){const o=new mi;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function Gte(n,e,t){return fD.apply(this,arguments)}(yield function UD(n){return Nb(n).then(e=>e.syncEngine)}(i),r,o)})),o.promise}(ei(n),e)}!function(e,t=!0){Vd=Tr.SDK_VERSION,(0,Tr._registerComponent)(new j9.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new dn(new wJ(i.getProvider("auth-internal")),new CJ(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Tr.registerVersion)(kV,"4.4.0",e),(0,Tr.registerVersion)(kV,"4.4.0","esm2017")}();class wh{constructor(e){return e}}const XU="firestore",JD=new re("angularfire2.firestore-instances");function aie(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new wh(i)}}const lie={provide:class oie{constructor(){return tx(XU)}},deps:[[new Vr,JD]]},cie={provide:wh,useFactory:function sie(n,e){const t=function zO(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(XU,n,e);return t&&new wh(t)},deps:[[new Vr,JD],Kp]};let uie=(()=>{class n{constructor(){(0,Tr.registerVersion)("angularfire",md.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Tt({type:n});static \u0275inj=kt({providers:[cie,lie]})}return n})();function die(n,...e){return{ngModule:uie,providers:[{provide:JD,useFactory:aie(n),multi:!0,deps:[We,Zn,nx,fL,[new Vr,mL],[new Vr,$O],...e]}]}}const Eo=ic(Tne,!0),hie=ic(Wne,!0),Pc=ic(AU,!0),JU=ic($ne,!0),Ih=ic(Hne,!0),fie=ic(Sne,!0),pie=ic(qne,!0);let eA=(()=>{class n{constructor(){this.timerIsOn=new v(!1),this.timeLeft=new v(0)}setTimerIsOn(t){this.timerIsOn.next(t)}getTimerIsOn(){return this.timerIsOn.asObservable()}setTimeLeft(t){this.timeLeft.next(t)}getTimeLeft(){return this.timeLeft.asObservable()}getCurrentTimeLeft(){return this.timeLeft.getValue()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tA=(()=>{class n{constructor(t,i){this.firestore=t,this.timerService=i}getTestsYears(t){const i=Eo(this.firestore,"test");return b(Ih(i).then(r=>r.docs.filter(o=>{const s=o.id.split("-"),a=s.length>1?s[1].toLowerCase():"";return t===a}).map(o=>o.id.split("-")[0])))}getTest(t,i){const r=Eo(this.firestore,"test"),o=i+"-"+t.toUpperCase(),s=Pc(r,o),a=Eo(s,"articles"),l=Eo(s,"questions");return hL([b(JU(s).then(c=>{if(c.exists())return c.id;throw new Error("Document not found")})),b(Ih(a).then(c=>c.docs.map(p=>({id:p.id,url:p.data().url})).sort((p,g)=>p.id.localeCompare(g.id)))),b(Ih(l).then(c=>c.docs.map(p=>{const g=p.data().options;return{id:p.id,articleId:p.data().articleId,correctAnswer:p.data().correctAnswer,options:g,text:p.data().text,image:p.data().image}})))]).pipe(Te(([c,h,p])=>({id:c,articles:h,questions:p})))}saveUserTest(t,i){const r=Eo(this.firestore,"users"),o=Pc(r,t),s=Eo(o,"savedTests"),a=Pc(s);i.timeLeft=5400-this.timerService.getCurrentTimeLeft(),pie(a,i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(wh),B(eA))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mie=["mat-button",""],gie=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_ie=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],yie=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vie=RY(MY(PY(class{constructor(n){this._elementRef=n}})));let bie=(()=>{class n extends vie{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=dv(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=dv(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=fe(bv),this._rippleLoader=fe(UY),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of yie)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){W_()};static#t=this.\u0275dir=Be({type:n,features:[Ot]})}return n})(),ej=(()=>{class n extends bie{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(N(an),N($r),N(We),N(La,8))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(jr("disabled",r.disabled||null),Ke("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ot],attrs:mie,ngContentSelectors:_ie,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(function tP(n){const e=ie()[Rn][bi];if(!e.projection){const i=e.projection=Of(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?f5(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(gie),It(0,"span",0),iy(1),Y(2,"span",1),iy(3,1),X(),iy(4,2),It(5,"span",2)(6,"span",3)),2&i&&Ke("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Iie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[hs,BY,hs]})}return n})();function xie(n,e){if(1&n){const t=rs();Y(0,"button",5),Ge("click",function(){return co(t),wr(_t().onClick())}),we(1," Detaily testu "),X()}}let Cie=(()=>{class n{constructor(t,i,r,o,s,a){this.dialogRef=t,this.data=i,this.testService=r,this.darkModeService=s,this.router=a,this.isDarkMode=!1,this.authService=o}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t}),this.onSave()}onClick(){this.dialogRef.close()}homepageRedirect(){window.scrollTo({top:100,behavior:"auto"}),this.dialogRef.close()}onSave(){const t=localStorage.getItem("uid");console.log(t),console.log(this.data.savedTest),t?this.testService.saveUserTest(t,this.data.savedTest):console.error("User is not logged in")}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yx),N(cL),N(tA),N(Ga),N(vo),N(pi))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-modal-window"]],decls:15,vars:17,consts:[[1,"main_container"],["mat-dialog-title",""],[1,"dialog-content"],["mat-button","","routerLink","",3,"click"],["mat-button","","routerLink","/old-saved-tests-page",3,"click",4,"ngIf"],["mat-button","","routerLink","/old-saved-tests-page",3,"click"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"h2",1),we(2," V\xfdsledok "),X(),Y(3,"div",2)(4,"mat-dialog-content")(5,"p"),we(6,"V teste ste dosiahli:"),X(),Y(7,"p")(8,"b"),we(9),hp(10,"number"),X()()(),Y(11,"mat-dialog-actions")(12,"button",3),Ge("click",function(){return r.homepageRedirect()}),we(13," Domovsk\xe1 str\xe1nka "),X(),st(14,xie,2,0,"button",4),X()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(3),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(5),as("",function O1(n,e,t,i){const r=n+gt,o=ie(),s=Ta(o,r);return fp(o,r)?M1(o,Mi(),e,s.transform,t,i,s):s.transform(t,i)}(10,14,r.data.score/r.data.total*100,"1.0-2"),"%"),de(5),_e("ngIf",r.authService.isLoggedIn))},dependencies:[Qs,ea,eX,tX,nX,ej,_O],styles:[".main_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:column;padding:8px 16px 16px;width:30rem;height:20rem}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}mat-dialog-content.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}h2.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:100%}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin-top:1rem}.dialog-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.percentage-output[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#000}button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}"]})}return n})(),nA=(()=>{class n{constructor(){this.savedQuestionsSubject=new v([]),this.savedQuestions$=this.savedQuestionsSubject.asObservable(),this.localStorageKey="savedQuestions",this.loadSavedQuestionsFromLocalStorage()}saveQuestion(t){t.isSaved=!0,this.savedQuestionsSubject.next([...this.savedQuestionsSubject.value,t]),this.saveQuestionsToLocalStorage(this.savedQuestionsSubject.value)}removeQuestion(t){t.isSaved=!1;const i=this.savedQuestionsSubject.value.filter(r=>r.id!==t.id);this.savedQuestionsSubject.next(i),this.saveQuestionsToLocalStorage(i)}saveQuestionsToLocalStorage(t){localStorage.setItem(this.localStorageKey,JSON.stringify(t))}loadSavedQuestionsFromLocalStorage(){const t=localStorage.getItem(this.localStorageKey);if(t){const i=JSON.parse(t);this.savedQuestionsSubject.next(i)}}getAvailableIcons(){return["assets/user_icons/boy.png","assets/user_icons/girl.png","assets/user_icons/default.png"]}getSelectedIcon(){return this.selectedIcon||"assets/user_icons/default.png"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(ts),N(an))};static#t=this.\u0275dir=Be({type:n})}return n})(),kc=(()=>{class n extends tj{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Kn(n)))(r||n)}}();static#t=this.\u0275dir=Be({type:n,features:[Ot]})}return n})();const ws=new re("NgValueAccessor"),Tie={provide:ws,useExisting:U(()=>iA),multi:!0};let iA=(()=>{class n extends kc{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Kn(n)))(r||n)}}();static#t=this.\u0275dir=Be({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Ge("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Cn([Tie]),Ot]})}return n})();const Die={provide:ws,useExisting:U(()=>Oc),multi:!0},Sie=new re("CompositionEventMode");let Oc=(()=>{class n extends tj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Aie(){const n=za()?za().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(ts),N(an),N(Sie,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ge("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Cn([Die]),Ot]})}return n})();const Zi=new re("NgValidators"),gl=new re("NgAsyncValidators");function oj(n){return function ml(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Gb(n){return null}function dj(n){return null!=n}function hj(n){return np(n)?b(n):n}function fj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function pj(n,e){return e.map(t=>t(n))}function mj(n){return n.map(e=>function Rie(n){return!n.validate}(e)?e:t=>e.validate(t))}function rA(n){return null!=n?function gj(n){if(!n)return null;const e=n.filter(dj);return 0==e.length?null:function(t){return fj(pj(t,e))}}(mj(n)):null}function oA(n){return null!=n?function _j(n){if(!n)return null;const e=n.filter(dj);return 0==e.length?null:function(t){return hL(pj(t,e).map(hj)).pipe(Te(fj))}}(mj(n)):null}function yj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sA(n){return n?Array.isArray(n)?n:[n]:[]}function Kb(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ej(n,e){const t=sA(e);return sA(n).forEach(r=>{Kb(t,r)||t.push(r)}),t}function wj(n,e){return sA(e).filter(t=>!Kb(n,t))}class Ij{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gr extends Ij{get formDirective(){return null}get path(){return null}}class _l extends Ij{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tg=(()=>{class n extends xj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(_l,2))};static#t=this.\u0275dir=Be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Ke("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ot]})}return n})();const ng="VALID",Qb="INVALID",xh="PENDING",ig="DISABLED";function Yb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Aj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ng}get invalid(){return this.status===Qb}get pending(){return this.status==xh}get disabled(){return this.status===ig}get enabled(){return this.status!==ig}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ej(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ej(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wj(e,this._rawAsyncValidators))}hasValidator(e){return Kb(this._rawValidators,e)}hasAsyncValidator(e){return Kb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ig,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ng,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ng||this.status===xh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ig:ng}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xh,this._hasOwnPendingAsyncValidator=!0;const t=hj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new bn,this.statusChanges=new bn}_calculateStatus(){return this._allControlsDisabled()?ig:this.errors?Qb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xh)?xh:this._anyControlsHaveStatus(Qb)?Qb:ng}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Fie(n){return Array.isArray(n)?rA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Lie(n){return Array.isArray(n)?oA(n):n||null}(this._rawAsyncValidators)}}const Ch=new re("CallSetDisabledState",{providedIn:"root",factory:()=>Xb}),Xb="always";function rg(n,e,t=Xb){(function hA(n,e){const t=function vj(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(yj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function bj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(yj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();t0(e._rawValidators,r),t0(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Uie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Sj(n,e)})}(n,e),function zie(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Sj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Bie(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function t0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Pj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function kj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Oj=class extends Aj{constructor(e=null,t,i){super(function cA(n){return(Yb(n)?n.validators:n)||null}(t),function uA(n,e){return(Yb(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=kj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){kj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Qie={provide:_l,useExisting:U(()=>Th)},Lj=(()=>Promise.resolve())();let Th=(()=>{class n extends _l{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Oj,this._registered=!1,this.name="",this.update=new bn,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mA(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Oc?t=o:function qie(n){return Object.getPrototypeOf(n.constructor)===kc}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function pA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&fd(i);Lj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Jb(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(N(gr,9),N(Zi,10),N(gl,10),N(ws,10),N(by,8),N(Ch,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cn([Qie]),Ot,br]})}return n})();const Jie={provide:ws,useExisting:U(()=>_A),multi:!0};let Bj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})(),ere=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:Bj})}return n})(),_A=(()=>{class n extends kc{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=fe(Ch,{optional:!0})??Xb}ngOnInit(){this._control=this._injector.get(_l),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(N(ts),N(an),N(ere),N(Zn))};static#t=this.\u0275dir=Be({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&Ge("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Cn([Jie]),Ot]})}return n})(),Nc=(()=>{class n{constructor(){this._validator=Gb}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Be({type:n,features:[br]})}return n})();const mre={provide:Zi,useExisting:U(()=>sg),multi:!0};let sg=(()=>{class n extends Nc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fd,this.createValidator=t=>oj}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Kn(n)))(r||n)}}();static#t=this.\u0275dir=Be({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&jr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Cn([mre]),Ot]})}return n})(),Ere=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[Bj]})}return n})(),Ire=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ch,useValue:t.callSetDisabledState??Xb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[Ere]})}return n})();function xre(n,e){1&n&&It(0,"p",22),2&n&&_e("innerHTML",_t(2).$implicit.text,Ro)}function Cre(n,e){if(1&n){const t=rs();Y(0,"p",23),Ge("click",function(){co(t);const r=_t(2).$implicit;return wr(_t(3).toggleStar(r))}),X()}2&n&&_e("innerHTML",_t(2).$implicit.isStarFilled?"\u2605":"\u2606",Ro)}function Tre(n,e){1&n&&It(0,"img",24),2&n&&_e("src",_t(2).$implicit.image,es)}function Dre(n,e){1&n&&Nw(0)}function Are(n,e){if(1&n){const t=rs();sd(0),Y(1,"input",25),Ge("ngModelChange",function(r){return co(t),wr(_t(2).$implicit.userAnswer=r)}),X(),ad()}if(2&n){const t=_t(2).$implicit;de(1),_e("ngModel",t.userAnswer)}}function Sre(n,e){if(1&n){const t=rs();Y(0,"div",27)(1,"input",28),Ge("ngModelChange",function(r){return co(t),wr(_t(3).$implicit.userAnswer=r)}),X(),It(2,"label",29),X()}if(2&n){const t=e.$implicit,i=_t(3).$implicit;de(1),_e("name",i.id)("value",t)("id",t)("ngModel",i.userAnswer),de(1),_e("for",t)("innerHTML",t,Ro)}}function Mre(n,e){1&n&&st(0,Sre,3,6,"div",26),2&n&&_e("ngForOf",_t(2).$implicit.options)}function Rre(n,e){if(1&n&&(Y(0,"div",10)(1,"div",11)(2,"p",12),we(3),X(),Y(4,"div",13)(5,"div",14),st(6,xre,1,1,"p",15),st(7,Cre,1,1,"p",16),X(),Y(8,"div",17),st(9,Tre,1,1,"img",18),X()()(),st(10,Dre,1,0,"ng-container",19),st(11,Are,2,1,"ng-container",20),st(12,Mre,1,1,"ng-template",null,21,Y1),X()),2&n){const t=function GR(n){return Ta(function wf(){return qe.lFrame.contextLView}(),gt+n)}(13),i=_t().$implicit,r=_t(3);de(3),as("",i.id,"."),de(3),_e("ngIf",i.text),de(1),_e("ngIf",r.authService.isLoggedIn),de(2),_e("ngIf",i.image),de(1),_e("ngIf","Zru\u0161en\xe1 ot\xe1zka"===i.text),de(1),_e("ngIf",r.isTextInput(i)&&"Zru\u0161en\xe1 ot\xe1zka"!==i.text)("ngIfElse",t)}}function Pre(n,e){if(1&n&&(Y(0,"div",8),st(1,Rre,14,7,"div",9),X()),2&n){const t=e.$implicit;de(1),_e("ngIf",t.text||t.image)}}function kre(n,e){if(1&n&&(Y(0,"div",4)(1,"div",5),It(2,"img",6),X(),st(3,Pre,2,1,"div",7),X()),2&n){const t=e.$implicit,i=_t(2);Ke("light",!i.isDarkMode)("dark",i.isDarkMode),de(2),_e("src",t.article.url,es),de(1),_e("ngForOf",t.questions)}}function Ore(n,e){if(1&n){const t=rs();Y(0,"div",1),st(1,kre,4,6,"div",2),Y(2,"button",3),Ge("click",function(){return co(t),wr(_t().openDialog())}),we(3,"Vyhodnotenie"),X()()}if(2&n){const t=_t();Ke("light",!t.isDarkMode)("dark",t.isDarkMode),de(1),_e("ngForOf",t.articleWithQuestions)}}let r0=(()=>{class n{ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}ngOnDestroy(){this.pauseTimer()}constructor(t,i,r,o,s,a,l,c){this.route=t,this.router=i,this.testService=r,this.dialog=o,this.authService=s,this.darkModeService=a,this.userAccountService=l,this.timerService=c,this.isStarFilled=!1,this.isDarkMode=!1,this.score=0,this.total=0,this.timeLeft=5400,this.timerIsOn=!1,this.route.params.subscribe(h=>{h&&h.subCat&&h.year?(this.subCat=h.subCat,this.year=h.year,this.startTimer(),this.fetchTest().then(p=>{p.subscribe(g=>{this.test=g,this.articleWithQuestions=this.getTestObject(),console.log(this.articleWithQuestions),this.fillStarsForSavedQuestions()})})):console.error("subCat and year are required")})}toggleStar(t){t.isStarFilled=!t.isStarFilled,t.isStarFilled?this.userAccountService.saveQuestion(t):this.userAccountService.removeQuestion(t)}startTimer(){console.log("timer started"),this.timerService.setTimeLeft(5400),this.timerIsOn=!0,this.timerIsOn&&(this.timerService.setTimerIsOn(this.timerIsOn),console.log("startTimer"),this.interval=setInterval(()=>{this.timerService.setTimeLeft(this.timeLeft),this.timeLeft>0?this.timeLeft--:this.timeLeft=5400},1e3))}pauseTimer(){clearInterval(this.interval),this.timerIsOn=!1,this.timerService.setTimerIsOn(this.timerIsOn)}fillStarsForSavedQuestions(){if(this.articleWithQuestions)for(const t of this.articleWithQuestions)for(const i of t.questions)i.isStarFilled=!!this.userAccountService.savedQuestionsSubject.value.find(o=>o.id===i.id)}openDialog(){this.scrollTop();const t=this.checkAnswers(),i=this.dialog.open(Cie,{data:{score:this.score,total:this.total,savedTest:t}});this.pauseTimer(),i.afterClosed().subscribe(r=>{console.log("The dialog was closed")})}isTextInput(t){return!t.options||t.options.every(i=>!i)}fetchTest(){var t=this;return(0,Me.Z)(function*(){return t.testService.getTest(t.subCat,t.year)})()}getTestObject(){const t=[];return this.test?.articles.forEach(i=>{const r=[];this.test?.questions.forEach(o=>{o.articleId===parseInt(i.id)&&(o.isStarFilled=!1,r.push(o))}),t.push({article:i,questions:r})}),t}checkAnswers(){const t={};"sk"===this.subCat?t.testName="Sloven\u010dina "+this.year+" ":"aj"===this.subCat?t.testName="Angli\u010dtina "+this.year+" ":"mat"===this.subCat&&(t.testName="Matematika "+this.year+" "),t.id=this.year+"-"+this.subCat,t.questions=[],t.finishedAt=new Date;const i=[];for(const r of this.articleWithQuestions||[])for(const o of r.questions){const s={questionId:o.id,text:o.text,image:o.image,isCorrect:!1,correctAnswer:o.correctAnswer,userAnswer:o.userAnswer,options:o.options};if(void 0===s.image&&(s.image=""),void 0===s.correctAnswer&&(s.correctAnswer="Zru\u0161ena otazka"),void 0===s.text&&""===s.image?s.text="Zru\u0161en\xe1 ot\xe1zka":void 0===s.text&&(s.text="Rie\u0161enie ot\xe1zky s obr\xe1zkom"),void 0===s.options&&(s.options=[]),(void 0===s.userAnswer||""===s.userAnswer)&&(s.userAnswer="Nevyplnene"),"Zru\u0161en\xe1 ot\xe1zka"===o.text)s.isCorrect=!0;else if(o.correctAnswer instanceof Array){for(const a of o.correctAnswer)if(o.userAnswer===a){s.isCorrect=!0;break}}else o.userAnswer===o.correctAnswer&&(s.isCorrect=!0);t.questions.push(s),i.push(s)}return this.calculateScore(i),t}calculateScore(t){let i=0,r=t.length;for(const o of t)o.isCorrect&&i++;this.score=i,this.total=r,console.log(`Score: ${i}/${r}`)}scrollTop(){window.scrollTo({top:0,behavior:"instant"})}static#e=this.\u0275fac=function(i){return new(i||n)(N(Za),N(pi),N(tA),N(Xx),N(Ga),N(vo),N(nA),N(eA))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-old-test-page"]],decls:1,vars:1,consts:[["id","main_page_container",3,"light","dark",4,"ngIf"],["id","main_page_container"],["class","test",3,"light","dark",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[1,"test"],[1,"article"],[3,"src"],["class","question",4,"ngFor","ngForOf"],[1,"question"],["class","questions",4,"ngIf"],[1,"questions"],[1,"test_question"],[1,"question_id"],[1,"question_content"],[1,"queston_with_star"],["class","question_text",3,"innerHTML",4,"ngIf"],["class","star",3,"innerHTML","click",4,"ngIf"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["radioOptions",""],[1,"question_text",3,"innerHTML"],[1,"star",3,"innerHTML","click"],[1,"question_image",3,"src"],["type","text","placeholder","Sem nap\xed\u0161te svoju odpove\u010f",1,"input_text",3,"ngModel","ngModelChange"],["class","radio_options",4,"ngFor","ngForOf"],[1,"radio_options"],["type","radio",3,"name","value","id","ngModel","ngModelChange"],[3,"for","innerHTML"]],template:function(i,r){1&i&&st(0,Ore,4,5,"div",0),2&i&&_e("ngIf",r.articleWithQuestions)},dependencies:[ec,Qs,Oc,_A,tg,Th,ej],styles:["app-old-test-page[_nghost-%COMP%]{width:100%}#main_page_container[_ngcontent-%COMP%]{display:flex;flex-flow:column;border-radius:10px;width:100%;padding:2% 20%;box-shadow:0 0 10px var(--box-shadow-color-light);border:1px solid var(--border-color-light)}#main_page_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}#main_page_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.test[_ngcontent-%COMP%]{border:2px solid var(--test-border-color-light);background-color:var(--main-bg-color-light)}.test.dark[_ngcontent-%COMP%]{background-color:#ccc}.article[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid var(--test-border-color-light)}.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:31rem}.question[_ngcontent-%COMP%]{padding:0 15% 1.5rem;margin:1.5rem 0;border-bottom:1px solid gray}.question[_ngcontent-%COMP%]:last-child{border:none}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.2rem}.input_text[_ngcontent-%COMP%]{width:100%;padding:5px}.radio_options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.3rem}.test_question[_ngcontent-%COMP%]{display:flex;width:100%;align-items:flex-start;gap:.5rem}.question_id[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.question_content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}.question_image_container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;margin-bottom:1rem}.question_image[_ngcontent-%COMP%]{max-width:20rem}.queston_with_star[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.star[_ngcontent-%COMP%]{font-size:170%;color:#3369f3;font-weight:600;cursor:pointer;transition:all .5s ease-in-out}.star[_ngcontent-%COMP%]:focus, .star[_ngcontent-%COMP%]:hover{transform:scale(1.3)}@media (max-width: 830px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .question_image[_ngcontent-%COMP%]{width:25rem}}@media (max-width: 670px){#main_page_container[_ngcontent-%COMP%]{padding:0}.test[_ngcontent-%COMP%]{border-radius:10px}}@media (max-width: 405px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:18rem}.question_image[_ngcontent-%COMP%]{width:13rem}}"]})}return n})();const Nre=function(n,e){return{displayed:n,hidden:e}};let Fre=(()=>{class n{constructor(t,i){this.router=t,this.darkModeService=i,this.displayed=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}changeSubCat(){this.displayed=!this.displayed}addSubCat(t){console.log(t),this.router.navigate(["/years-page/"+t])}static#e=this.\u0275fac=function(i){return new(i||n)(N(pi),N(vo))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-navbar"]],decls:21,vars:40,consts:[["id","nav_menu",1,"navmenu"],[1,"main"],["id","nav_menu_home","routerLink","/",1,"menuitem"],["src","assets/icons/home.png","alt","","width","28px","height","28px"],["id","nav_menu_tests",1,"expandable_ul",3,"click"],["src","assets/icons/tests.png","alt","","width","28px","height","28px"],[3,"ngClass"],[1,"types",3,"click"],["id","nav_menu_scripts","routerLink","/education-materials"],["src","assets/icons/notes.png","alt","","width","28px","height","28px"],["id","nav_menu_savedtests","routerLink","/old-saved-tests-page"],["src","assets/icons/saved.png","alt","","width","28px","height","28px"]],template:function(i,r){1&i&&(Y(0,"nav",0)(1,"ul",1)(2,"li",2),It(3,"img",3),we(4,"Domov "),X(),Y(5,"ul",4),Ge("click",function(){return r.changeSubCat()}),It(6,"img",5),we(7,"Maturitn\xe9 testy "),X(),Y(8,"div",6)(9,"li",7),Ge("click",function(){return r.addSubCat("sk")}),we(10," Slovensk\xfd jazyk a literat\xfara "),X(),Y(11,"li",7),Ge("click",function(){return r.addSubCat("aj")}),we(12,"Anglick\xfd jazyk "),X(),Y(13,"li",7),Ge("click",function(){return r.addSubCat("mat")}),we(14,"Matematika"),X()(),Y(15,"li",8),It(16,"img",9),we(17,"U\u010debn\xe9 materi\xe1ly "),X(),Y(18,"li",10),It(19,"img",11),we(20," Hist\xf3ria testov "),X()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(3),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(3),_e("ngClass",Ws(37,Nre,r.displayed,!r.displayed)),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(2),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(2),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(2),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(3),Ke("light",!r.isDarkMode)("dark",r.isDarkMode))},dependencies:[Jl,ea],styles:["nav[_ngcontent-%COMP%]{border:1px solid rgba(121,120,120,.541);border-radius:10px;width:20rem}nav.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}nav.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark);color:var(--main-text-color-dark)}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}ul.main[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}li[_ngcontent-%COMP%], .expandable_ul[_ngcontent-%COMP%]{font-size:1.2rem;box-shadow:0 4px 4px -2px #00000049;display:flex;gap:6px;align-items:center;padding-left:25%;height:3rem}.hidden[_ngcontent-%COMP%]{display:none}.displayed[_ngcontent-%COMP%]{display:block}li[_ngcontent-%COMP%]:hover.light, li[_ngcontent-%COMP%]:focus.light, ul.expandable_ul[_ngcontent-%COMP%]:hover.light, ul.expandable_ul[_ngcontent-%COMP%]:focus.light{background-color:#497bfa;cursor:pointer}li[_ngcontent-%COMP%]:hover.dark, ul.expandable_ul[_ngcontent-%COMP%]:hover.dark, ul.expandable_ul[_ngcontent-%COMP%]:focus.dark, li[_ngcontent-%COMP%]:focus.dark{background-color:#8eabf6;cursor:pointer}.menuitem[_ngcontent-%COMP%]:hover:last-child, .menuitem[_ngcontent-%COMP%]:focus:last-child{border-radius:0 0 10px 10px}.menuitem[_ngcontent-%COMP%]:focus:first-child, .menuitem[_ngcontent-%COMP%]:hover:first-child{border-radius:10px 10px 0 0}.types[_ngcontent-%COMP%]{font-size:1rem;height:2.2rem}@media (max-width: 375px){nav[_ngcontent-%COMP%]{width:19.3rem}}"]})}return n})(),nz=(()=>{class n{transform(t){return`${Math.floor(t/60)}m ${Math.floor(t%60).toString().padStart(2,"0")}s`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=ai({name:"timeFormat",type:n,pure:!0})}return n})();function Lre(n,e){1&n&&(Y(0,"div",9)(1,"button",10)(2,"p"),we(3,"\xda\u010det"),X()()())}function Vre(n,e){if(1&n){const t=rs();Y(0,"div",11)(1,"p",12),It(2,"img",13),X(),Y(3,"p",14),Ge("click",function(){return co(t),wr(_t().onLogout())}),It(4,"img",15),X()()}}function Bre(n,e){if(1&n&&(Y(0,"div",16)(1,"button"),we(2),hp(3,"timeFormat"),X()()),2&n){const t=_t();de(2),as("\u010cas: ",hy(3,1,t.timeLeft),"")}}const Ure=function(n){return{expanded:n}};let jre=(()=>{class n{constructor(t,i,r,o,s,a){this.el=i,this.router=r,this.darkModeService=o,this.timerService=a,this.buttonExpanded=!1,this.isDarkMode=!1,this.timerIsOn=!1,this.timeLeft=0,this.authService=t,this.testPage=s,this.router.events.subscribe(l=>{l instanceof Xs&&this.closeNavbar()})}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t}),this.timerService.getTimerIsOn().subscribe(t=>this.timerIsOn=t),this.timerService.getTimeLeft().subscribe(t=>this.timeLeft=t)}closeNavbar(){document.getElementById("navbar").style.display="none",this.buttonExpanded=!1}onToggleNav(){const t=document.getElementById("navbar");"block"===t.style.display?(t.style.display="none",this.buttonExpanded=!this.buttonExpanded):(t.style.display="block",this.buttonExpanded=!this.buttonExpanded)}onLogout(){this.authService.logout(),localStorage.removeItem("rememberedUser")}onDocumentClick(t){this.el.nativeElement.contains(t.target)||(document.getElementById("navbar").style.display="none",this.buttonExpanded=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ga),N(an),N(pi),N(vo),N(r0),N(eA))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-header"]],hostBindings:function(i,r){1&i&&Ge("click",function(s){return r.onDocumentClick(s)},0,mw)},decls:10,vars:10,consts:[[1,"container"],["id","main_header"],[1,"burger_menu",3,"ngClass","click"],["id","header_title",1,"headline"],["onclick","location.href='/'","src","assets/logo.png","alt","","width","100px","height","100px"],["class","buttons","id","but",4,"ngIf"],["class","logged_icons",4,"ngIf"],["class","time-display",4,"ngIf"],["id","navbar"],["id","but",1,"buttons"],["id","header_reg_button","routerLink","/login",1,"register"],[1,"logged_icons"],["routerLink","/user-account"],["src","assets/header_icons/userprofile.png","alt","user_profile_icon","width","38px","height","38px"],["routerLink","",3,"click"],["src","assets/header_icons/logout.png","alt","logout_icon","width","38px","height","38px"],[1,"time-display"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"header",1)(2,"div",2),Ge("click",function(){return r.onToggleNav()}),It(3,"span"),X(),Y(4,"div",3),It(5,"img",4),X(),st(6,Lre,4,0,"div",5),st(7,Vre,5,0,"div",6),X()(),st(8,Bre,4,3,"div",7),It(9,"app-navbar",8)),2&i&&(de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),_e("ngClass",up(8,Ure,r.buttonExpanded)),de(4),_e("ngIf",!r.authService.isLoggedIn),de(1),_e("ngIf",r.authService.isLoggedIn),de(1),_e("ngIf",r.timerIsOn))},dependencies:[Jl,Qs,ea,Fre,nz],styles:['app-navbar[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000}header[_ngcontent-%COMP%]{height:6rem;padding:1rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:nowrap;font-size:1.5rem;border-radius:10px;border:1px solid var(--border-color-light)}header.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light);box-shadow:0 0 10px var(--box-shadow-color-light)}header.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.headline[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;color:var(--main-text-color-light);letter-spacing:1px;font-size:2rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:8rem}button[_ngcontent-%COMP%]{padding:.5rem .6rem;border:.1rem var(--account-border-color-light) solid;border-radius:10px;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button.register[_ngcontent-%COMP%]{position:relative;background-color:var(--account-button-color-light);color:#fff}button.register[_ngcontent-%COMP%]:hover:before, button.register[_ngcontent-%COMP%]:focus:before{width:101%}button.register[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:100%;background-color:var(--account-button-hover-color-light);transition:width .7s ease-in-out}button[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{position:relative;font-size:1rem;z-index:1}.burger_menu[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:60px;display:flex;align-items:center;justify-content:center}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--account-button-color-light);height:5px;width:38px;display:block;position:relative;transition:all ease .5s;border-radius:5px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{background:var(--account-button-color-light);height:5px;width:38px;display:block;position:absolute;content:"";left:0;top:12px;transition:all ease .3s;border-radius:5px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{top:-12px;transition:all ease .7s}.expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{border-radius:5px;width:6px}.logged_icons[_ngcontent-%COMP%]{display:flex;gap:2rem;width:8rem}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{cursor:pointer;transition:all .8s}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:hover, .logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:focus{transform:scale(1.2)}.time-display[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px!important;display:flex;justify-content:center}@media (max-width: 425px){header[_ngcontent-%COMP%]{padding:.5rem}.burger_menu[_ngcontent-%COMP%]{width:4rem;height:40px}.logged_icons[_ngcontent-%COMP%]{gap:1rem}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:.8rem}}']})}return n})(),zre=(()=>{class n{title(t){throw new Error("Method not implemented.")}onScroll(){this.headerfixes=window.scrollY>112}constructor(t){this.authService=t,this.headerfixes=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ga))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-root"]],hostBindings:function(i,r){1&i&&Ge("scroll",function(){return r.onScroll()},0,WM)},decls:3,vars:1,consts:[[1,"container"],[3,"ngClass","scroll"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"app-header",1),Ge("scroll",function(){return r.onScroll()}),X(),It(2,"router-outlet"),X()),2&i&&(de(1),_e("ngClass",r.headerfixes?"fixed":"notfixed"))},dependencies:[Jl,Ex,jre],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;gap:.5rem;flex-wrap:wrap}app-header.notfixed[_ngcontent-%COMP%]{flex:1 1 100%}app-header.fixed[_ngcontent-%COMP%]{position:fixed;width:96%;top:0}router-outlet[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return n})(),o0=(()=>{class n{constructor(t){this.darkModeService=t,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}static#e=this.\u0275fac=function(i){return new(i||n)(N(vo))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-landing-page"]],decls:26,vars:40,consts:[["id","main_page_container"],["id","main_page_inner_container"],[1,"textare"],["id","main_card_container"],["id","main_first_card",1,"main_card_containers"],["id","main_first_card_icon","src","assets/test_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_first_card_textarea",1,"main_card_textareas"],["id","main_second_card",1,"main_card_containers"],["id","main_second_card_icon","src","assets/book_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_second_card_textarea",1,"main_card_textareas"],["id","main_third_card",1,"main_card_containers"],["id","main_third_card_icon","src","assets/community_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_third_card_textarea",1,"main_card_textareas"],["id","main_fourth_card",1,"main_card_containers"],["id","main_fourth_card_icon","src","assets/graduation_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_fourth_card_textarea",1,"main_card_textareas"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),we(4," Matu-E je inovat\xedvna a \u0161tudentom prisp\xf4soben\xe1 webov\xe1 aplik\xe1cia, ktor\xe1 pon\xfaka: "),X()(),Y(5,"section",3)(6,"div",4),It(7,"img",5),Y(8,"div",6)(9,"p"),we(10,"Otestovanie sa a rie\u0161enie maturitn\xfdch testov online formou! Modern\xe1 doba toti\u017e vy\u017eaduje modern\xe9 rie\u0161enia, u\u017e \u017eiadne pero a papier."),X()()(),Y(11,"div",7),It(12,"img",8),Y(13,"div",9)(14,"p"),we(15,"R\xfdchly pr\xedstup k u\u010divu a preh\u013eadn\xe9 pozn\xe1mky s\xfa z\xe1rukou k \xfaspe\u0161nej maturite a pr\xe1ve o tieto pozn\xe1mky sa s vami podel\xedme."),X()()(),Y(16,"div",10),It(17,"img",11),Y(18,"div",12)(19,"p"),we(20,"Spojte sa s ostatn\xfdmi maturantmi, zdielajte medzi sebou sk\xfasenosti, ra\u010fte sa a podporujte navz\xe1jom. Spolo\u010dne zdol\xe1vame cestu k maturite."),X()()(),Y(21,"div",13),It(22,"img",14),Y(23,"div",15)(24,"p"),we(25,"Precvi\u010dujte sa s testami z minul\xfdch ro\u010dn\xedkov a pripravte sa na v\u0161etky aspekty maturity. Na\u0161e zdroje v\xe1m pom\xf4\u017eu zdokonali\u0165 va\u0161e vedomosti."),X()()()()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(3),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(5),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(4),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(4),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(4),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),Ke("light",!r.isDarkMode)("dark",r.isDarkMode))},styles:["app-landing-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}#main_page_container[_ngcontent-%COMP%]{display:flex;border-radius:10px;width:100%;height:100%;border:1px solid var(--border-color-light);box-shadow:0 0 10px var(--box-shadow-color-light)}#main_page_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}#main_page_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}#main_page_inner_container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;box-shadow:inset 0 0 12px var(--box-shadow-color-light);margin:1.5rem;border-radius:10px;width:100%}.textare[_ngcontent-%COMP%]{padding:2rem}.textare[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:500;color:var(--main-text-color-light)}.textare[_ngcontent-%COMP%] > h1.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}#main_logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}#logo[_ngcontent-%COMP%]{margin-top:1rem;height:128px;width:128px}#main_card_container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:clamp(30%,60%,90%);width:clamp(60%,85%,100%);flex-wrap:nowrap}.main_card_containers[_ngcontent-%COMP%]{border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:space-around;font-size:.9rem;height:clamp(8rem,20rem,32rem);width:clamp(6rem,12rem,34rem);transition:.5s}.main_card_containers[_ngcontent-%COMP%]:hover, .main_card_containers[_ngcontent-%COMP%]:focus{transform:scale(1.1)}.main_card_textareas[_ngcontent-%COMP%]{width:90%;height:50%;border-radius:10px;padding:.5rem;display:flex;justify-content:center;text-align:center}.main_card_textareas.light[_ngcontent-%COMP%]{background-color:var(--text-area-bg-light)}.main_card_textareas.dark[_ngcontent-%COMP%]{background-color:var(--text-area-bg-dark);color:var(--main-text-color-dark)}p.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}#main_first_card[_ngcontent-%COMP%]{background:url(/assets/card1_wave_coloured.jpg);background-size:cover;background-position:30% 90%;background-repeat:no-repeat}#main_second_card[_ngcontent-%COMP%]{background:url(/assets/card2_wave_coloured.jpg);background-size:cover;background-position:10% 10%;background-repeat:no-repeat}#main_third_card[_ngcontent-%COMP%]{background:url(/assets/card3_wave_coloured.jpg);background-size:cover;background-position:15% 50%;background-repeat:no-repeat}#main_fourth_card[_ngcontent-%COMP%]{background:url(/assets/card4_wave_coloured.jpg);background-size:cover;background-position:15% 30%;background-repeat:no-repeat}@media (max-width: 1024px){.textare[_ngcontent-%COMP%]{font-size:.7rem}#main_card_container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem;margin-bottom:7rem}.main_card_containers[_ngcontent-%COMP%]{font-size:.9rem}#main_page_container[_ngcontent-%COMP%], #main_page_inner_container[_ngcontent-%COMP%]{height:auto}}@media (max-width: 540px){#main_card_containers[_ngcontent-%COMP%]{padding:2rem}#main_card_container[_ngcontent-%COMP%]{margin-bottom:14rem}}"]})}return n})();const iz=function(n){return{"error-border":n}},$re=function(n){return{error_message:n}};let rz=(()=>{class n{constructor(t,i,r){this.router=t,this.service=i,this.darkModeService=r,this.submitted=!1,this.name="",this.password="",this.error=!1,this.rememberMe=!1,this.isDarkMode=!1}submit(){this.submitted=!0}newInput(){this.error=!1}login(){this.service.login(this.name,this.password,this.rememberMe).then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}signInWithGoogle(){this.service.googleSignIn().then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(i=>{this.isDarkMode=i});const t=localStorage.getItem("rememberMe");if(t){const i=JSON.parse(t);console.log(i),this.name=i.email,this.password=i.password}}static#e=this.\u0275fac=function(i){return new(i||n)(N(pi),N(Ga),N(vo))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-login-page"]],decls:29,vars:16,consts:[[1,"main_container"],[1,"login_card"],[1,"top_section"],[1,"input_group"],["for","meno"],["type","text","name","meno","id","meno","required","","placeholder","Zadaj svoj email na prihlasenie",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],[1,"utils"],["routerLink","/forgot-password",1,"forgot-password"],[1,"remember"],["for","rememberMe"],["type","checkbox","name","rememberMe","id","rememberMe",3,"ngModel","ngModelChange"],[1,"error_message_on",3,"ngClass"],[1,"mid_section"],[1,"login-button",3,"click"],["src","assets/googleicon.png","alt","googleicon","width","32px","height","32px"],[1,"bot_section"],["type","submit",1,"bot_button",3,"click"],["routerLink","/register",1,"bot_button"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),we(5,"Prihlasovaci email"),X(),Y(6,"input",5),Ge("ngModelChange",function(){return r.newInput()})("ngModelChange",function(s){return r.name=s}),X(),Y(7,"label",6),we(8,"Heslo"),X(),Y(9,"input",7),Ge("ngModelChange",function(){return r.newInput()})("ngModelChange",function(s){return r.password=s}),X()(),Y(10,"div",8)(11,"button",9),we(12,"Zabudnut\xe9 heslo"),X(),Y(13,"div",10)(14,"label",11),we(15,"zapam\xe4taj si ma"),X(),Y(16,"input",12),Ge("ngModelChange",function(s){return r.rememberMe=s}),X()()()(),Y(17,"div",13)(18,"p"),we(19,"Nespr\xe1vne zadan\xe9 \xfadaje"),X()(),Y(20,"div",14)(21,"button",15),Ge("click",function(){return r.signInWithGoogle()}),It(22,"img",16),we(23," Prihl\xe1si\u0165 sa cez google "),X()(),Y(24,"div",17)(25,"button",18),Ge("click",function(){return r.login()}),we(26,"Prihl\xe1si\u0165"),X(),Y(27,"button",19),we(28,"Zaregistrova\u0165"),X()()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(6),_e("ngModel",r.name)("ngClass",up(10,iz,r.error)),de(3),_e("ngModel",r.password)("ngClass",up(12,iz,r.error)),de(7),_e("ngModel",r.rememberMe),de(1),_e("ngClass",up(14,$re,!r.error)))},dependencies:[Jl,Oc,iA,tg,sg,Th,ea],styles:["app-login-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem;border-radius:10px;width:100%;height:100%}.login_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-color:var(--auth-bg-color-light);background-position:50% 50%;background-repeat:no-repeat;width:clamp(20rem,25rem,35rem);height:clamp(15rem,30rem,35rem);padding:2rem;border-radius:10px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:3px 3px 10px 3px var(--box-shadow-color-light)}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.5rem}.login_cred[_ngcontent-%COMP%]{height:2.5rem}.utils[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.remember[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:8px}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:6px}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.bot_button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--button-white-bg-light);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px var(--box-shadow-color-light);font-weight:400}.bot_button[_ngcontent-%COMP%]:hover, .bot_button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-button[_ngcontent-%COMP%]{background-color:#fbfef9;color:#000;padding:10px 20px;font-size:16px;border:none;border-radius:2px;cursor:pointer;transition:background-color .3s ease;display:flex;justify-content:center;align-items:center;gap:.4rem}.login-button[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.error-border[_ngcontent-%COMP%]{border:2px solid var(--main-error-message-light)}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--main-error-message-light);font-weight:800;font-size:1.2rem}.forgot-password[_ngcontent-%COMP%]{cursor:pointer;border:none;margin:0;padding:0;background:transparent;font-size:1rem}.forgot-password[_ngcontent-%COMP%]:hover, .forgot-password[_ngcontent-%COMP%]:focus{color:#0e2766}"]})}return n})();const IA=function(n,e){return{"error-border":n,noborder:e}};let oz=(()=>{class n{constructor(t,i,r){this.router=t,this.service=i,this.darkModeService=r,this.errorMessage="",this.pswdError=!1,this.emailError=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}isValidEmail(t){return/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(t)}register(){if(this.email&&this.password&&this.passwordCheck&&this.fname&&this.lname){if(this.password.length<6)return this.errorMessage="Heslo mus\xed obsahova\u0165 aspo\u0148 6 znakov",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,this.password!==this.passwordCheck)return this.errorMessage="Hesla sa nezhoduj\xfa",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,!this.isValidEmail(this.email))return this.errorMessage="Neplatn\xe1 emailov\xe1 adresa",void(this.emailError=!0);this.emailError=!1,this.service.register(this.email,this.password,this.fname,this.lname).then(t=>{this.router.navigate([""])}).catch(t=>{"auth/email-already-in-use"===t.code&&(this.errorMessage="Tento email je u\u017e registrovan\xfd",this.emailError=!0)})}else this.errorMessage="Pros\xedm vypl\u0148 v\u0161etky pol\xed\u010dka"}static#e=this.\u0275fac=function(i){return new(i||n)(N(pi),N(Ga),N(vo))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-register-page"]],decls:31,vars:22,consts:[[1,"main_container"],[1,"register_card"],[1,"top_section"],[1,"input_group"],[1,"user_cred"],[1,"user_firstcred"],["for","krstne"],["type","text","name","krstne","id","krstne","required","","placeholder","J\xe1n",1,"register_cred",3,"ngModel","ngModelChange"],[1,"user_secondcred"],["for","priezv"],["type","text","name","priezv","id","priezv","required","","placeholder","Nov\xe1k",1,"register_cred",3,"ngModel","ngModelChange"],["for","email"],["type","email","name","email","id","email","required","","placeholder","jan.novak@email.com",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadajte heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","hesloKontrola"],["type","password","name","hesloKontrola","id","hesloKontrola","required","","placeholder","Zopakujte heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],[1,"mid_section"],[1,"bot_section"],["id","register_log_button","routerLink","/login",1,"login"],[3,"click"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),we(7,"Krstn\xe9 meno"),X(),Y(8,"input",7),Ge("ngModelChange",function(s){return r.fname=s}),X()(),Y(9,"div",8)(10,"label",9),we(11,"Priezvisko"),X(),Y(12,"input",10),Ge("ngModelChange",function(s){return r.lname=s}),X()()(),Y(13,"label",11),we(14,"E-mail"),X(),Y(15,"input",12),Ge("ngModelChange",function(s){return r.email=s}),X(),Y(16,"label",13),we(17,"Heslo"),X(),Y(18,"input",14),Ge("ngModelChange",function(s){return r.password=s}),X(),Y(19,"label",15),we(20,"Kontrola hesla"),X(),Y(21,"input",16),Ge("ngModelChange",function(s){return r.passwordCheck=s}),X()()(),Y(22,"div",17),we(23),X(),Y(24,"div",18)(25,"button",19)(26,"p"),we(27,"Sp\xe4\u0165 na prihl\xe1senie"),X()(),Y(28,"button")(29,"p",20),Ge("click",function(){return r.register()}),we(30,"Zalo\u017e \xfa\u010det"),X()()()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(8),_e("ngModel",r.fname),de(4),_e("ngModel",r.lname),de(3),_e("ngModel",r.email)("ngClass",Ws(13,IA,r.emailError,!r.emailError)),de(3),_e("ngModel",r.password)("ngClass",Ws(16,IA,r.pswdError,!r.pswdError)),de(3),_e("ngModel",r.passwordCheck)("ngClass",Ws(19,IA,r.pswdError,!r.pswdError)),de(2),as(" ",r.errorMessage," "))},dependencies:[Jl,Oc,tg,sg,Th,ea],styles:["app-register-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{border:1px solid var(--border-color-light);display:flex;justify-content:center;align-items:center;padding:2rem;border-radius:10px;width:100%;height:100%}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.register_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-color:var(--auth-bg-color-light);width:clamp(20rem,25rem,35rem);height:clamp(15rem,34rem,50rem);padding:2rem;border-radius:10px;box-shadow:3px 3px 10px 3px var(--box-shadow-color-light);display:flex;flex-direction:column;justify-content:space-between}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.3rem}.register_cred[_ngcontent-%COMP%]{height:2.5rem}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--button-white-bg-light);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;align-items:center;font-size:1.1rem;color:var(--main-error-message-light);font-weight:800}.error-border[_ngcontent-%COMP%]{border:2px solid var(--main-error-message-light)}.noborder[_ngcontent-%COMP%]{border:none}.user_cred[_ngcontent-%COMP%]{display:flex}.user_firstcred[_ngcontent-%COMP%], .user_secondcred[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 1024px){app-register-page[_nghost-%COMP%]{height:auto;padding-bottom:1rem}}@media (max-width: 426px){.register_card[_ngcontent-%COMP%]{width:40rem}.user_cred[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 375px){.user_firstcred[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .user_secondcred[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}}"]})}return n})();function Hre(n,e){1&n&&(Y(0,"div")(1,"h1"),we(2,"Matematika"),X(),Y(3,"ul")(4,"li"),we(5,"Test obsahuje 30 \xfaloh."),X(),Y(6,"li"),we(7,"Na vypracovanie testu m\xe1te 150 min\xfat. (\u010das sa spust\xed po kliknut\xed na test)"),X(),Y(8,"li"),we(9,"Pri rie\u0161enie \xfaloh za\u0161krtnete pol\xed\u010dko alebo nap\xed\u0161ete odpove\u010f. (popros\xedm p\xed\u0161te desatinn\xe9 \u010d\xedsla s \u010diarkou a z\xe1porne hodnoty spolu[4,5 ; -5])"),X(),Y(10,"li"),we(11,"Zru\u0161en\xe9 ot\xe1zky sa V\xe1m pripo\u010d\xedtavaj\xfa za bod automaticky"),X()()())}function qre(n,e){1&n&&(Y(0,"div")(1,"h1"),we(2,"Slovensk\xfd jazyk a literat\xfara"),X(),Y(3,"ul")(4,"li"),we(5,"Test obsahuje 64 \xfaloh."),X(),Y(6,"li"),we(7,"Na vypracovanie testu m\xe1te 100 min\xfat. (\u010das sa spust\xed po kliknut\xed na test)"),X(),Y(8,"li"),we(9,"Pri rie\u0161enie \xfaloh za\u0161krtnete pol\xed\u010dko alebo nap\xed\u0161ete odpove\u010f. (popros\xedm p\xed\u0161te s diakritikou)"),X(),Y(10,"li"),we(11,"Zru\u0161en\xe9 ot\xe1zky sa V\xe1m pripo\u010d\xedtavaj\xfa za bod automaticky"),X()()())}function Wre(n,e){1&n&&(Y(0,"div")(1,"h1"),we(2,"Anglick\xfd jazyk"),X(),Y(3,"ul")(4,"li"),we(5,"Testy pre anglick\xfd jazyk sa pripravuj\xfa"),X()()())}const Gre=function(n,e){return["/old-test-page",n,e]};function Kre(n,e){if(1&n&&(Y(0,"a",7),we(1),X()),2&n){const t=e.$implicit,i=_t(2);_e("routerLink",Ws(2,Gre,i.subCat,t)),de(1),as(" ",t," ")}}function Zre(n,e){if(1&n&&(Y(0,"div",5),st(1,Kre,2,5,"a",6),X()),2&n){const t=_t();de(1),_e("ngForOf",t.years)}}function Qre(n,e){1&n&&(Y(0,"div")(1,"p"),we(2,"no years"),X()())}function Yre(n,e){1&n&&(Y(0,"div")(1,"p"),we(2,"loading"),X()())}let sz=(()=>{class n{constructor(t,i,r){this.route=t,this.testService=i,this.darkModeService=r,this.isDarkMode=!1,this.loading=!0,this.route.params.subscribe(o=>{o&&(this.subCat=o.subCat,this.fetchTestYears().subscribe(s=>{this.years=s,console.log(this.years),this.loading=!1},s=>{console.error("Error fetching tests:",s)}))})}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}fetchTestYears(){return this.subCat?this.testService.getTestsYears(this.subCat):new Xe(t=>{t.next([]),t.complete()})}titleBySubcat(t){return"mat"===t?"Matematika":"sk"===t?"Sloven\u010dina":"aj"===t?"Angli\u010dtina":"Unknown"}static#e=this.\u0275fac=function(i){return new(i||n)(N(Za),N(tA),N(vo))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-old-years-page"]],decls:9,vars:14,consts:[[1,"main_container"],["id","main_page_inner_container"],[1,"years_headline"],[4,"ngIf"],["class","main_page_container",4,"ngIf"],[1,"main_page_container"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2),st(3,Hre,12,0,"div",3),st(4,qre,12,0,"div",3),st(5,Wre,6,0,"div",3),X(),st(6,Zre,2,1,"div",4),st(7,Qre,3,0,"div",3),st(8,Yre,3,0,"div",3),X()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(2),Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(1),_e("ngIf","mat"===r.subCat),de(1),_e("ngIf","sk"===r.subCat),de(1),_e("ngIf","aj"===r.subCat),de(1),_e("ngIf",r.years),de(1),_e("ngIf",!(r.years&&0!=r.years.length||r.loading)),de(1),_e("ngIf",r.loading))},dependencies:[ec,Qs,ea],styles:["app-old-years-page[_nghost-%COMP%]{min-height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{display:flex;border-radius:10px;width:100%;height:100%;max-height:auto;border:1px solid var(--border-color-light);box-shadow:0 0 10px var(--box-shadow-color-light)}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light);color:var(--text-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark);color:var(--text-color-dark)}#main_page_inner_container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;box-shadow:inset 0 0 12px var(--box-shadow-color-light);margin:1.5rem;border-radius:10px;width:100%}.years_headline[_ngcontent-%COMP%]{height:auto;padding:2rem}.years_headline.light[_ngcontent-%COMP%]{color:var(--main-blue-color)}.years_headline.dark[_ngcontent-%COMP%]{color:var(--account-border-color-dark)}.years_headline[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-direction:column}.years_headline[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:1.1rem;list-style-type:square;line-height:2rem}.years_headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.main_page_container[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;padding-bottom:2rem}.main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:10rem;height:2.5rem;background-color:var(--main-blue-color);display:flex;align-items:center;justify-content:center;color:#fbfef9;text-decoration:none;border-radius:10px;font-size:1.2rem}.main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{opacity:85%}"]})}return n})();function Xre(n,e){if(1&n&&(Y(0,"div")(1,"p"),we(2),X()()),2&n){const t=_t();vP(t.isError?"error_message_on":"error_message"),de(2),rp(t.errorMessage)}}let az=(()=>{class n{constructor(t,i){this.router=t,this.darkModeService=i,this.email="",this.isError=!1,this.errorMessage="Nespr\xe1vny form\xe1t emailu.",this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}isValidEmail(){this.isError=!/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(this.email)}sendPasswordResetEmail(){const t=(0,tc.o)();if(this.isValidEmail(),!this.isError)try{(0,tc.a5)(t,this.email),this.isError=!1,this.router.navigate([""])}catch(i){console.error(`Error sending password reset email: ${i.code} - ${i.message}`)}}static#e=this.\u0275fac=function(i){return new(i||n)(N(pi),N(vo))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-forgot-password"]],decls:12,vars:6,consts:[[1,"main_container"],[1,"forgot-password-card"],[1,"top_section"],[3,"class",4,"ngIf"],[1,"bot_section"],["type","email","placeholder","Zadaj svoj email",3,"ngModel","ngModelChange"],[3,"click"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),we(4,"Resetovanie zabudnut\xe9ho hesla"),X(),Y(5,"p"),we(6,"zadaj svoj email a pr\xedde ti link na mail na resetovanie hesla"),X()(),st(7,Xre,3,3,"div",3),Y(8,"div",4)(9,"input",5),Ge("ngModelChange",function(s){return r.email=s}),X(),Y(10,"button",6),Ge("click",function(){return r.sendPasswordResetEmail()}),we(11,"Odo\u0161li"),X()()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(7),_e("ngIf",r.isError),de(2),_e("ngModel",r.email))},dependencies:[Qs,Oc,tg,Th],styles:["app-forgot-password[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem;border-radius:10px;width:100%;height:100%}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.forgot-password-card[_ngcontent-%COMP%]{background-color:var(--main-blue-color);padding:3rem 2rem;width:clamp(15rem,30rem,42rem);height:clamp(15rem,20rem,25rem);display:flex;align-items:center;justify-content:space-between;flex-direction:column;border-radius:10px;box-shadow:2px 2px 15px 1px var(--box-shadow-color-light)}.top_section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;color:#000}.bot_section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid var(--account-border-color-light);padding:5px;width:18rem;height:2.5rem}button[_ngcontent-%COMP%]{padding:.4rem;border:.1rem var(--account-border-color-light) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--main-bg-color-light);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px var(--box-shadow-color-light);font-weight:400;width:100%}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--main-error-message-light);font-weight:400;font-size:1.2rem}"]})}return n})();function Jre(n,e){if(1&n){const t=rs();Y(0,"div")(1,"img",5),Ge("click",function(){const o=co(t).$implicit;return wr(_t(2).selectIcon(o))}),X()()}if(2&n){const t=e.$implicit,i=_t(2);de(1),Ke("selected",t===i.userServ.selectedIcon),_e("src",t,es)}}function eoe(n,e){if(1&n&&(Y(0,"div",3),st(1,Jre,2,3,"div",4),X()),2&n){const t=_t();de(1),_e("ngForOf",t.availableIcons)}}let toe=(()=>{class n{constructor(t,i){this.userServ=t,this.er=i,this.showIconSelection=!1}handleClick(t){this.er.nativeElement.contains(t.target)||(this.showIconSelection=!1)}ngOnInit(){this.defaultIcon="assets/user_icons/default.png",this.availableIcons=this.userServ.getAvailableIcons()}toggleIconSelection(){this.updateAvailableIcons(),this.showIconSelection=!this.showIconSelection}selectIcon(t){this.userServ.selectedIcon=t,this.showIconSelection=!1}getSelectedIcon(){return this.userServ.getSelectedIcon()}updateAvailableIcons(){this.availableIcons=this.userServ.getAvailableIcons().filter(t=>t!==this.userServ.selectedIcon),this.userServ.selectedIcon||(this.availableIcons=this.availableIcons.filter(t=>t!==this.defaultIcon))}static#e=this.\u0275fac=function(i){return new(i||n)(N(nA),N(an))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-icon-selector"]],hostBindings:function(i,r){1&i&&Ge("click",function(s){return r.handleClick(s)},0,mw)},decls:3,vars:2,consts:[[1,"icon_selector",3,"click"],["alt","Vyber ikonku",3,"src"],["class","icon_selection",4,"ngIf"],[1,"icon_selection"],[4,"ngFor","ngForOf"],["alt","Icon",3,"src","click"]],template:function(i,r){1&i&&(Y(0,"div",0),Ge("click",function(){return r.toggleIconSelection()}),It(1,"img",1),st(2,eoe,2,1,"div",2),X()),2&i&&(de(1),_e("src",r.getSelectedIcon(),es),de(1),_e("ngIf",r.showIconSelection))},dependencies:[ec,Qs],styles:[".icon_selector[_ngcontent-%COMP%]{position:relative;cursor:pointer}img[_ngcontent-%COMP%]{width:5rem;height:5rem}.icon_selection[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:hover{opacity:70%}.icon_selection[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:1px solid var(--main-text-color-light);border-radius:5px;display:flex;flex-wrap:wrap}"]})}return n})();function noe(n,e){1&n&&It(0,"p",15),2&n&&_e("innerHTML",e.$implicit,Ro)}function ioe(n,e){if(1&n){const t=rs();Y(0,"div",10)(1,"div",11),It(2,"p",12),st(3,noe,1,1,"p",13),X(),Y(4,"div")(5,"p",14),Ge("click",function(){const o=co(t).$implicit;return wr(_t().removeQuestion(o))}),we(6,"\u2715"),X()()()}if(2&n){const t=e.$implicit;de(2),_e("innerHTML",t.text,Ro),de(1),_e("ngForOf",t.options)}}let lz=(()=>{class n{constructor(t,i,r){this.authService=t,this.darkModeService=i,this.userAccountService=r,this.userName="",this.isDarkMode=!1}ngOnInit(){this.authService.userData.subscribe(t=>{t&&(this.userName=t.displayName||"")}),this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}toggleDarkMode(){this.darkModeService.toggleDarkMode()}removeQuestion(t){this.userAccountService.removeQuestion(t)}getSelectedIcon(){return this.userAccountService.getSelectedIcon()}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ga),N(vo),N(nA))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-user-account"]],decls:20,vars:10,consts:[[1,"main_container"],[1,"container"],[1,"user_cred"],[1,"cred_container"],[1,"modeSwitch",3,"click"],[1,"modeSwitchButton"],["width","48px","height","48px","alt","mode switch",1,"modeSwitch",3,"src"],[1,"test_container"],[1,"question_container"],["class","question",4,"ngFor","ngForOf"],[1,"question"],[1,"question_options"],[1,"question_text",3,"innerHTML"],["class","option",3,"innerHTML",4,"ngFor","ngForOf"],[1,"remove_question",3,"click"],[1,"option",3,"innerHTML"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2),It(3,"app-icon-selector"),Y(4,"div",3)(5,"h1"),we(6),X(),Y(7,"p"),we(8,"Ko\u0161ick\xe1 ak\xe1demia softv\xe9rov\xe9ho v\xfdvoja"),X()()(),Y(9,"div",4),Ge("click",function(){return r.toggleDarkMode()}),Y(10,"button",5),It(11,"img",6),X()()(),Y(12,"div",7)(13,"h2"),we(14,"Hist\xf3ria testov"),X()(),Y(15,"h2"),we(16,"Ulo\u017een\xe9 ot\xe1zky"),X(),Y(17,"div",8),st(18,ioe,7,2,"div",9),hp(19,"async"),X()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(6),rp(r.userName),de(4),_e("@toggleAnimation",r.isDarkMode?"dark":"light"),de(1),ry("src","assets/header_icons/",r.isDarkMode?"Sun.png":"Moon.png","",es),de(7),_e("ngForOf",hy(19,8,r.userAccountService.savedQuestions$)))},dependencies:[ec,toe,mO],styles:["app-user-account[_nghost-%COMP%]{min-height:calc(100% - 6rem);width:100%}.main_container[_ngcontent-%COMP%]{border:1px solid var(--border-color-light);border-radius:10px;box-shadow:var(--box-shadow-color-light);padding:2rem;height:100%}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light);color:var(--main-text-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark);color:var(--main-text-color-dark)}.container[_ngcontent-%COMP%]{display:flex;gap:.8rem;justify-content:space-between;align-items:center}.modeSwitchButton[_ngcontent-%COMP%]{border:none;padding:0;background:none;cursor:pointer;z-index:1}.modeSwitchButton[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{z-index:1}.user_cred[_ngcontent-%COMP%]{display:flex;gap:1rem}.container[_ngcontent-%COMP%], .test_container[_ngcontent-%COMP%], .question_container[_ngcontent-%COMP%]{border-bottom:1px solid #213d85;padding-bottom:1rem;margin-bottom:.6rem}.icon_selector[_ngcontent-%COMP%]{width:8rem;height:8rem;background-color:#000;border-radius:5px}.cred_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}.question[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem;border-bottom:1px solid black;padding:1rem 0}.question_text[_ngcontent-%COMP%]{font-size:large;font-weight:800}.question_options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.remove_question[_ngcontent-%COMP%]{font-size:x-large;font-weight:800;cursor:pointer;transition:all .4s ease-in-out}.remove_question[_ngcontent-%COMP%]:hover, .remove_question[_ngcontent-%COMP%]:focus{transform:scale(1.4)}"],data:{animation:[Kx("toggleAnimation",[Wp("dark",fs({transform:"rotate(180deg)"})),Wp("light",fs({transform:"rotate(0deg)"})),Cv("dark <=> light",xv("0.3s ease-in-out"))])]}})}return n})(),roe=(()=>{class n{constructor(t){this.firestore=t}getFile(t){const i=Eo(this.firestore,"edu_materials"),r=Pc(i,"Subjects"),o=Eo(r,t);return b(JU(r).then(s=>{if(s.exists())return s.id;throw new Error("Document not found")})),b(Ih(o).then(s=>s.docs.map(l=>({id:l.id,text:l.data().text,url:l.data().url})).sort((l,c)=>l.id.localeCompare(c.id))))}static#e=this.\u0275fac=function(i){return new(i||n)(B(wh))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ooe(n,e){if(1&n&&(Y(0,"li")(1,"a",9),It(2,"img",10),we(3),X()()),2&n){const t=e.$implicit,i=_t(2);de(1),Ke("light",!i.isDarkMode)("dark",i.isDarkMode),_e("href",t.url,es),de(2),as(" ",t.text," ")}}function soe(n,e){if(1&n&&(Y(0,"div")(1,"ul"),st(2,ooe,4,6,"li",8),X()()),2&n){const t=_t();de(2),_e("ngForOf",t.sjlMaterials)}}function aoe(n,e){if(1&n&&(Y(0,"li")(1,"a",9),It(2,"img",10),we(3),X()()),2&n){const t=e.$implicit,i=_t(2);de(1),Ke("light",!i.isDarkMode)("dark",i.isDarkMode),_e("href",t.url,es),de(2),as(" ",t.text," ")}}function loe(n,e){if(1&n&&(Y(0,"div")(1,"ul"),st(2,aoe,4,6,"li",8),X()()),2&n){const t=_t();de(2),_e("ngForOf",t.anjMaterials)}}function coe(n,e){if(1&n&&(Y(0,"div",11)(1,"a",12),It(2,"img",10),we(3,"Te\xf3ria matematiky"),X()()),2&n){const t=_t();de(1),Ke("light",!t.isDarkMode)("dark",t.isDarkMode)}}let cz=(()=>{class n{constructor(t,i,r,o){this.darkModeService=t,this.eduService=i,this.renderer=r,this.el=o,this.sjlMaterials=[],this.anjMaterials=[],this.showSjlNotes=!1,this.showAnjNotes=!1,this.showMatNotes=!1,this.isDarkMode=!1}ngOnInit(){this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t}),this.eduService.getFile("SJL").subscribe(t=>{this.sjlMaterials=t}),this.eduService.getFile("ANJ").subscribe(t=>{this.anjMaterials=t})}toggleShowSjlNotes(){this.showSjlNotes=!this.showSjlNotes,this.renderer.setStyle(this.el.nativeElement.querySelector(".main_container"),"height",this.showSjlNotes?"119rem":this.showAnjNotes?"92rem":"100%")}toggleShowAnjNotes(){this.showAnjNotes=!this.showAnjNotes,this.showAnjNotes&&this.showSjlNotes&&this.renderer.setStyle(this.el.nativeElement.querySelector(".main_container"),"height","119rem"),this.showAnjNotes?this.showSjlNotes||this.renderer.setStyle(this.el.nativeElement.querySelector(".main_container"),"height","92rem"):this.renderer.setStyle(this.el.nativeElement.querySelector(".main_container"),"height",this.showSjlNotes?"119rem":"100%")}static#e=this.\u0275fac=function(i){return new(i||n)(N(vo),N(roe),N(ts),N(an))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-education-materials"]],decls:17,vars:7,consts:[[1,"main_container"],[1,"inner-page-container"],["value","sjl",1,"subjects"],[3,"click"],[4,"ngIf"],["value","anj",1,"subjects"],["value","math",1,"subjects"],["class","mat",4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],["src","/assets/pdf_icon.png","alt","pdf_icon"],[1,"mat"],["href","https://firebasestorage.googleapis.com/v0/b/maturity-project.appspot.com/o/Education_materials%2FMAT%2Fteoria_matematiky.pdf?alt=media&token=14532f18-a7e9-441b-a750-7f83ad1de88a","target","_blank"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Ge("click",function(){return r.toggleShowSjlNotes()}),Y(4,"p"),we(5,"Slovensk\xfd jazyk"),X()(),st(6,soe,3,1,"div",4),X(),Y(7,"div",5)(8,"button",3),Ge("click",function(){return r.toggleShowAnjNotes()}),Y(9,"p"),we(10,"Anglick\xfd jazyk"),X()(),st(11,loe,3,1,"div",4),X(),Y(12,"div",6)(13,"button",3),Ge("click",function(){return r.showMatNotes=!r.showMatNotes}),Y(14,"p"),we(15,"Matematika"),X()(),st(16,coe,4,4,"div",7),X()()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(6),_e("ngIf",r.showSjlNotes),de(5),_e("ngIf",r.showAnjNotes),de(5),_e("ngIf",r.showMatNotes))},dependencies:[ec,Qs],styles:['app-education-materials[_nghost-%COMP%]{min-height:calc(100% - 6rem);height:auto;width:100%}.main_container[_ngcontent-%COMP%]{display:flex;border-radius:10px;width:100%;justify-content:space-around;border:1px solid var(--border-color-light);box-shadow:0 0 10px var(--box-shadow-color-light);height:100%}.main_container.light[_ngcontent-%COMP%]{background-color:var(--main-bg-color-light)}.main_container.dark[_ngcontent-%COMP%]{background-color:var(--main-bg-color-dark)}.inner-page-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;box-shadow:inset 0 0 12px var(--box-shadow-color-light);margin:1.5rem;border-radius:10px;width:100%}button[_ngcontent-%COMP%]{background-color:var(--main-blue-color);transition:width .7s ease-in-out;border-radius:10px;box-shadow:1px 1px 5px var(--box-shadow-color-light);margin-top:2rem;color:#fff;width:18rem;height:3.5rem;position:relative;overflow:hidden;cursor:pointer;font-size:2rem;text-align:center;border:none}p[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:100%;background-color:var(--account-button-hover-color-light);transition:width .7s ease-in-out}button[_ngcontent-%COMP%]:hover:before{width:101%}.subjects[_ngcontent-%COMP%]{max-width:18rem;max-height:36rem;gap:1rem}.mat[_ngcontent-%COMP%]{padding-top:1rem}.mat[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:1rem}ul[_ngcontent-%COMP%]{list-style:none}li[_ngcontent-%COMP%]{padding-top:1rem}img[_ngcontent-%COMP%]{width:.8rem;height:auto;margin-right:.5rem}a[_ngcontent-%COMP%]{color:var(--main-text-color-light);text-decoration:none;font-weight:700}a.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:var(--account-button-hover-color-light)}@media (max-width: 1024px){.inner-page-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}@media (max-width: 400px){button[_ngcontent-%COMP%]{width:14rem;font-size:1.5rem}}']})}return n})(),uoe=(()=>{class n{constructor(t){this.firestore=t}convertFirestoreTimestampToJSDate(t){const{seconds:i,nanoseconds:r}=t;return new Date(1e3*i+r/1e6)}getSavedTests(t){var i=this;return(0,Me.Z)(function*(){try{const r=[],o=Eo(i.firestore,"users"),s=Pc(o,t),a=Eo(s,"savedTests");(yield Ih(a)).forEach(h=>{const p=h.data(),y={id:p.id,finishedAt:i.convertFirestoreTimestampToJSDate(p.finishedAt),testName:p.testName+" vypracovan\xfd: "+p.finishedAt.toDate().toLocaleDateString("sk-SK",{day:"numeric",month:"long",year:"numeric"}),timeLeft:p.timeLeft,questions:p.questions.map(w=>"Zru\u0161en\xe1 ot\xe1zka"===w.text?null:{questionId:w.questionId,image:w.image,text:w.text,correctAnswer:w.correctAnswer,userAnswer:w.userAnswer,isCorrect:w.isCorrect,options:w.options}).filter(w=>null!==w)};r.push(y),console.log("Saved test:",y)});const c=r.sort((h,p)=>p.finishedAt.getTime()-h.finishedAt.getTime());return c.length>10&&i.removeOldestTest(t),c}catch(r){throw console.error("Error getting saved tests:",r),r}})()}removeOldestTest(t){var i=this;return(0,Me.Z)(function*(){const r=Eo(i.firestore,"users"),o=Pc(r,t),s=Eo(o,"savedTests"),a=yield Ih(s),l=[];a.docs.forEach(h=>{l.push({id:h.id,data:h.data()})});const c=l.sort((h,p)=>h.data.finishedAt.seconds-p.data.finishedAt.seconds);for(console.log("All tests:",l),console.log("Sorted tests:",c);c.length>10;){const h=c[0];console.log("Oldest test:",h);const p=h.id;console.log("Oldest test id:",p),yield hie(Pc(s,p)),c.shift()}})()}static#e=this.\u0275fac=function(i){return new(i||n)(B(wh))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function doe(n,e){1&n&&(Y(0,"div",6),It(1,"div")(2,"div")(3,"div")(4,"div"),X())}function hoe(n,e){1&n&&(Y(0,"div",7)(1,"p"),we(2,"\u017diadne ulo\u017een\xe9 testy"),X()())}function foe(n,e){1&n&&It(0,"img",21),2&n&&_e("src",_t().$implicit.image,es)}const poe=function(n,e){return{"wrong-answer":n,"correct-answer":e}};function moe(n,e){if(1&n&&(Y(0,"div")(1,"div",23),It(2,"p",24),X()()),2&n){const t=e.$implicit,i=_t(2).$implicit;de(1),_e("ngClass",Ws(2,poe,i.userAnswer===t&&i.correctAnswer!==i.userAnswer||"Nevyplnene"===i.userAnswer&&i.correctAnswer!==t,i.correctAnswer===t)),de(1),_e("innerHTML",t,Ro)}}function goe(n,e){if(1&n&&(sd(0),st(1,moe,3,5,"div",22),ad()),2&n){const t=_t().$implicit;de(1),_e("ngForOf",t.options)}}const _oe=function(n,e){return{"correct-answer":n,"wrong-answer":e}};function yoe(n,e){if(1&n&&(sd(0),Y(1,"div",25)(2,"span"),we(3,"Spr\xe1vna odpove\u010f: "),It(4,"p",26),X(),Y(5,"span"),we(6,"Va\u0161a odpove\u010f: "),It(7,"p",27),X()(),ad()),2&n){const t=_t().$implicit;de(4),_e("innerHTML",t.correctAnswer,Ro),de(3),_e("ngClass",Ws(3,_oe,t.correctAnswer===t.userAnswer||t.correctAnswer.includes(t.userAnswer),!t.correctAnswer.includes(t.userAnswer)&&t.userAnswer!==t.correctAnswer))("innerHTML",t.userAnswer,Ro)}}function voe(n,e){if(1&n&&(Y(0,"div",13)(1,"div",14),It(2,"p",15)(3,"p",16),Y(4,"div",17),st(5,foe,1,1,"img",18),X()(),Y(6,"div",19),st(7,goe,2,1,"ng-container",20),st(8,yoe,8,6,"ng-container",20),X()()),2&n){const t=e.$implicit,i=_t(3);Ke("light",!i.isDarkMode)("dark",i.isDarkMode),de(2),_e("innerHTML",t.questionId,Ro),de(1),_e("innerHTML",t.text,Ro),de(2),_e("ngIf",t.image),de(2),_e("ngIf",0!==(null==t.options?null:t.options.length)),de(1),_e("ngIf",0===(null==t.options?null:t.options.length))}}function boe(n,e){if(1&n&&(Y(0,"div",11),st(1,voe,9,9,"div",12),X()),2&n){const t=_t(2);de(1),_e("ngForOf",t.selectedTest.questions)}}const Eoe=function(n,e){return{"saved-test-container-open":n,"saved-test-container-closed":e}};function woe(n,e){if(1&n){const t=rs();Y(0,"div",8),Ge("click",function(){const o=co(t).$implicit;return wr(_t().revealDetails(o))}),Y(1,"p",9),we(2),hp(3,"timeFormat"),X(),st(4,boe,2,1,"div",10),X()}if(2&n){const t=e.$implicit,i=_t();Ke("selected",i.selectedTest===t),_e("ngClass",Ws(11,Eoe,i.selectedTest===t,i.selectedTest!==t)),de(1),Ke("light",!i.isDarkMode)("dark",i.isDarkMode),de(1),rp(t.testName+" \u010cas: "+hy(3,9,t.timeLeft)),de(2),_e("ngIf",i.selectedTest===t)}}const Ioe=[{path:"",component:o0},{path:"login",component:rz},{path:"register",component:oz},{path:"landing-page",component:o0},{path:"old-years-page/:subCat",component:sz},{path:"old-test-page/:subCat/:year",component:r0},{path:"forgot-password",component:az},{path:"user-account",component:lz},{path:"education-materials",component:cz},{path:"old-saved-tests-page",component:(()=>{class n{constructor(t,i,r){this.savedTestService=t,this.darkModeService=i,this.savedTests=[],this.isSavedTestsEmpty=!0,this.selectedTest=null,this.isDarkMode=!1,this.isLoading=!0,this.authService=r}ngOnInit(){this.loadSavedTests().then(t=>this.isLoading=!1),this.darkModeService.isDarkMode$.subscribe(t=>{this.isDarkMode=t})}loadSavedTests(){var t=this;return(0,Me.Z)(function*(){try{const i=localStorage.getItem("uid");if(!i)return void console.error("Uid is not set. User is not logged in.");t.savedTests=yield t.savedTestService.getSavedTests(i),t.savedTests.length>0?(t.isSavedTestsEmpty=!1,t.revealDetails(t.savedTests[0])):t.isSavedTestsEmpty=!0}catch(i){console.error("Error loading saved tests:",i)}})()}revealDetails(t){this.selectedTest=this.selectedTest!==t?t:null}static#e=this.\u0275fac=function(i){return new(i||n)(N(uoe),N(vo),N(Ga))};static#t=this.\u0275cmp=Ln({type:n,selectors:[["app-old-saved-tests-page"]],decls:6,vars:7,consts:[[1,"saved-old-test-page-container"],[1,"inner-saved-old-test-page-container"],[1,"loading"],["class","lds-ellipsis",4,"ngIf"],["class","empty-saved-tests",4,"ngIf"],[3,"ngClass","selected","click",4,"ngFor","ngForOf"],[1,"lds-ellipsis"],[1,"empty-saved-tests"],[3,"ngClass","click"],[1,"test-name"],["class","test-questions-container",4,"ngIf"],[1,"test-questions-container"],["class","question-content",3,"light","dark",4,"ngFor","ngForOf"],[1,"question-content"],[1,"question-container"],[1,"question_number",3,"innerHTML"],[1,"text-container",3,"innerHTML"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[1,"answers-container"],[4,"ngIf"],[1,"question_image",3,"src"],[4,"ngFor","ngForOf"],[1,"answer-container",3,"ngClass"],[3,"innerHTML"],[1,"input-answer-container"],[1,"correct-answer",3,"innerHTML"],[3,"ngClass","innerHTML"]],template:function(i,r){1&i&&(Y(0,"div",0)(1,"div",1)(2,"div",2),st(3,doe,5,0,"div",3),X(),st(4,hoe,3,0,"div",4),st(5,woe,5,14,"div",5),X()()),2&i&&(Ke("light",!r.isDarkMode)("dark",r.isDarkMode),de(3),_e("ngIf",r.isLoading),de(1),_e("ngIf",r.isSavedTestsEmpty&&!r.isLoading),de(1),_e("ngForOf",r.savedTests))},dependencies:[Jl,ec,Qs,nz],styles:["app-old-saved-tests-page[_nghost-%COMP%]{width:100%;height:calc(100% - 6rem)}.saved-old-test-page-container[_ngcontent-%COMP%]{display:flex;flex-flow:column;border:1px solid var(--border-color-light);border-radius:10px;box-shadow:0 0 10px #00000080;min-height:100%;width:100%}.saved-old-test-page-container.light[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.163);background-color:var(--main-bg-color-light);color:var(--main-text-color-dark)}.saved-old-test-page-container.dark[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.163);background-color:var(--main-bg-color-dark);color:var(--main-text-color-dark)}.inner-saved-old-test-page-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;box-shadow:inset 0 0 12px #0d0d0d80;margin:1.5rem;max-height:100%;border-radius:10px}.saved-test-container-closed[_ngcontent-%COMP%]{border:.1rem var(--main-blue-color) solid;background-color:var(--account-button-color-light);height:3.5rem;width:60%;margin:1rem 0 1rem 1rem;border-radius:10px;transition:width .7s ease-in-out;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{transition:all .8s ease;font-size:1.5rem;font-weight:700}.saved-test-container-closed[_ngcontent-%COMP%] > .test-name.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.saved-test-container-open[_ngcontent-%COMP%]{border:.1rem rgb(104,135,240) solid;width:calc(100% - 2rem);margin:1rem;border-radius:10px;transition:all .3s ease;display:flex;flex:1;flex-direction:column;align-items:center;padding:0 1rem;cursor:pointer}.saved-test-container-open[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{transition:all .8s ease;font-size:1rem;font-weight:700;padding:1rem 0 0;color:var(--main-text-color-light)}.saved-test-container-open[_ngcontent-%COMP%] > .test-name.dark[_ngcontent-%COMP%]{color:var(--main-text-color-dark)}.saved-test-container-closed[_ngcontent-%COMP%]:hover{width:calc(100% - 2rem);opacity:85%}.saved-test-container-closed[_ngcontent-%COMP%]:hover.light{background-color:var(--main-bg-color-light)}.saved-test-container-closed[_ngcontent-%COMP%]:hover.dark{background-color:var(--main-bg-color-dark)}.question-content.dark[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.288);color:var(--main-text-color-dark)}.test-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;padding:1rem}.question-content[_ngcontent-%COMP%]{color:#000;display:flex;border:1px solid black;width:100%;padding:1rem}.question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:60%;padding:0 1rem}.text-container[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0}.question_image[_ngcontent-%COMP%]{max-width:100%;padding:1rem 1rem 1rem 0;height:100%;object-fit:contain}.answers-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:40%}.answer-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%;padding-top:1rem}.input-answer-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap;width:100%;padding:1rem 0}.question_number[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.correct-answer[_ngcontent-%COMP%]{color:green}.wrong-answer[_ngcontent-%COMP%]{color:red}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:var(--main-blue-color);animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_lds-ellipsis3 .6s infinite}@keyframes _ngcontent-%COMP%_lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}@media (max-width: 1030px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.9rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2.3rem;margin:.5rem}}@media (max-width: 768px){.question-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.question-container[_ngcontent-%COMP%], .answers-container[_ngcontent-%COMP%]{width:100%}.saved-test-container-open[_ngcontent-%COMP%]{padding:0}.test-name[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 650px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.6rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2rem;margin:.5rem}}@media (max-width: 450px){.saved-test-container-closed[_ngcontent-%COMP%] > .test-name[_ngcontent-%COMP%]{font-size:.4rem}.saved-test-container-closed[_ngcontent-%COMP%]{height:2rem;margin:.5rem}}"]})}return n})()}];let xoe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[nF.forRoot(Ioe),nF]})}return n})();const uz_firebase={apiKey:"AIzaSyDrXz37bgp6zYCw-X9eKtQlg2Q6j4tjDMI",authDomain:"maturity-project.firebaseapp.com",databaseURL:"https://maturity-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"maturity-project",storageBucket:"maturity-project.appspot.com",messagingSenderId:"759368949191",appId:"1:759368949191:web:a326a11500d8e4c152cde2",measurementId:"G-CJJD6MK3D8"};class s0{}class a0{}class Is{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Is?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Is;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Is?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Coe{encodeKey(e){return dz(e)}encodeValue(e){return dz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Doe=/%(\d[a-f0-9])/gi,Aoe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dz(n){return encodeURIComponent(n).replace(Doe,(e,t)=>Aoe[t]??e)}function l0(n){return`${n}`}class yl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Coe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Toe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(l0):[l0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new yl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(l0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(l0(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Soe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function hz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function fz(n){return typeof Blob<"u"&&n instanceof Blob}function pz(n){return typeof FormData<"u"&&n instanceof FormData}class ag{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Moe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Is),this.context||(this.context=new Soe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new yl,this.urlWithParams=t}serializeBody(){return null===this.body?null:hz(this.body)||fz(this.body)||pz(this.body)||function Roe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pz(this.body)?null:fz(this.body)?this.body.type||null:hz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),c)),new ag(t,i,o,{params:c,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var Dh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Dh||{});class xA{constructor(e,t=200,i="OK"){this.headers=e.headers||new Is,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class CA extends xA{constructor(e={}){super(e),this.type=Dh.ResponseHeader}clone(e={}){return new CA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ah extends xA{constructor(e={}){super(e),this.type=Dh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ah({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mz extends xA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function TA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Poe=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof ag)o=t;else{let l,c;l=r.headers instanceof Is?r.headers:new Is(r.headers),r.params&&(c=r.params instanceof yl?r.params:new yl({fromObject:r.params})),o=new ag(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=S(o).pipe(yd(l=>this.handler.handle(l)));if(t instanceof ag||"events"===r.observe)return s;const a=s.pipe(Oi(l=>l instanceof Ah));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Te(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Te(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Te(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Te(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new yl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,TA(r,i))}post(t,i,r={}){return this.request("POST",t,TA(r,i))}put(t,i,r={}){return this.request("PUT",t,TA(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(B(s0))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();function yz(n,e){return e(n)}function Ooe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Foe=new re(""),lg=new re(""),vz=new re("");function Loe(){let n=null;return(e,t)=>{null===n&&(n=(fe(Foe,{optional:!0})??[]).reduceRight(Ooe,yz));const i=fe(gy),r=i.add();return n(e,t).pipe(xp(()=>i.remove(r)))}}let bz=(()=>{class n extends s0{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=fe(gy)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(lg),...this.injector.get(vz,[])]));this.chain=r.reduceRight((o,s)=>function Noe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),yz)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(xp(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(B(a0),B(Br))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const joe=/^\)\]\}',?\n/;let wz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new L(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?b(i.\u0275loadImpl()):S(null)).pipe(De(()=>new Xe(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,T)=>s.setRequestHeader(x,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&s.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();s.responseType="json"!==x?x:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const x=s.statusText||"OK",T=new Is(s.getAllResponseHeaders()),F=function zoe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new CA({headers:T,status:s.status,statusText:x,url:F}),l},h=()=>{let{headers:x,status:T,statusText:F,url:R}=c(),j=null;204!==T&&(j=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=j?200:0);let J=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof j){const pe=j;j=j.replace(joe,"");try{j=""!==j?JSON.parse(j):null}catch(Le){j=pe,J&&(J=!1,j={error:Le,text:j})}}J?(o.next(new Ah({body:j,headers:x,status:T,statusText:F,url:R||void 0})),o.complete()):o.error(new mz({error:j,headers:x,status:T,statusText:F,url:R||void 0}))},p=x=>{const{url:T}=c(),F=new mz({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(F)};let g=!1;const y=x=>{g||(o.next(c()),g=!0);let T={type:Dh.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),"text"===t.responseType&&s.responseText&&(T.partialText=s.responseText),o.next(T)},w=x=>{let T={type:Dh.UploadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),o.next(T)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Dh.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(B(bO))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const DA=new re("XSRF_ENABLED"),Iz=new re("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),xz=new re("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Cz{}let qoe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cO(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt),B(Po),B(Iz))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();function Woe(n,e){const t=n.url.toLowerCase();if(!fe(DA)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=fe(Cz).getToken(),r=fe(xz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var vl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(vl||{});function Goe(...n){const e=[Poe,wz,bz,{provide:s0,useExisting:bz},{provide:a0,useExisting:wz},{provide:lg,useValue:Woe,multi:!0},{provide:DA,useValue:!0},{provide:Cz,useClass:qoe}];for(const t of n)e.push(...t.\u0275providers);return function $E(n){return{\u0275providers:n}}(e)}const Tz=new re("LEGACY_INTERCEPTOR_FN");function Koe(){return function Fc(n,e){return{\u0275kind:n,\u0275providers:e}}(vl.LegacyInterceptors,[{provide:Tz,useFactory:Loe},{provide:lg,useExisting:Tz,multi:!0}])}let Zoe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:[Goe(Koe())]})}return n})();function Dz(n){return new L(3e3,!1)}function bl(n){switch(n.length){case 0:return new Gp;case 1:return n[0];default:return new rL(n)}}function Az(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((g,y)=>{let w=y,x=g;if("offset"!==y)switch(w=n.normalizePropertyName(w,r),x){case"!":x=t.get(y);break;case na:x=i.get(y);break;default:x=n.normalizeStyleValue(y,w,x,r)}p.set(w,x)}),h||o.push(p),a=p,s=c}),r.length)throw function Ise(n){return new L(3502,!1)}();return o}function AA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&SA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&SA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&SA(t,"destroy",n)))}}function SA(n,e,t){const o=MA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function MA(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Kr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Sz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Nse=(()=>typeof document>"u"?null:document.documentElement)();function RA(n){const e=n.parentNode||n.host||null;return e===Nse?null:e}let Lc=null,Mz=!1;function Rz(n,e){for(;e;){if(e===n)return!0;e=RA(e)}return!1}function Pz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let kz=(()=>{class n{validateStyleProperty(t){return function Lse(n){Lc||(Lc=function Vse(){return typeof document<"u"?document.body:null}()||{},Mz=!!Lc.style&&"WebkitAppearance"in Lc.style);let e=!0;return Lc.style&&!function Fse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lc.style,!e&&Mz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Lc.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Rz(t,i)}getParentElement(t){return RA(t)}query(t,i,r){return Pz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Gp(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})(),PA=(()=>{class n{static#e=this.NOOP=new kz}return n})();const Bse=1e3,kA="ng-enter",u0="ng-leave",d0="ng-trigger",h0=".ng-trigger",Nz="ng-animating",OA=".ng-animating";function da(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NA(parseFloat(e[1]),e[2])}function NA(n,e){return"s"===e?n*Bse:n}function f0(n,e,t){return n.hasOwnProperty("duration")?n:function jse(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Dz()),{duration:0,delay:0,easing:""};r=NA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=NA(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function tse(){return new L(3100,!1)}()),a=!0),o<0&&(e.push(function nse(){return new L(3101,!1)}()),a=!0),a&&e.splice(l,0,Dz())}return{duration:r,delay:o,easing:s}}(n,e,t)}function cg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Fz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function El(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function xs(n,e,t){e.forEach((i,r)=>{const o=LA(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Vc(n,e){e.forEach((t,i)=>{const r=LA(i);n.style[r]=""})}function ug(n){return Array.isArray(n)?1==n.length?n[0]:tL(n):n}const FA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vz(n){let e=[];if("string"==typeof n){let t;for(;t=FA.exec(n);)e.push(t[1]);FA.lastIndex=0}return e}function dg(n,e,t){const i=n.toString(),r=i.replace(FA,(o,s)=>{let a=e[s];return null==a&&(t.push(function rse(n){return new L(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function p0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Hse=/-+([a-z0-9])/g;function LA(n){return n.replace(Hse,(...e)=>e[1].toUpperCase())}function Zr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ose(n){return new L(3004,!1)}()}}function Bz(n,e){return window.getComputedStyle(n)[e]}const m0="*";function Gse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Kse(n,e,t){if(":"==n[0]){const l=function Zse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function vse(n){return new L(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function yse(n){return new L(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Uz(r,s));"<"==o[0]&&!(r==m0&&s==m0)&&e.push(Uz(s,r))}(i,t,e)):t.push(n),t}const g0=new Set(["true","1"]),_0=new Set(["false","0"]);function Uz(n,e){const t=g0.has(n)||_0.has(n),i=g0.has(e)||_0.has(e);return(r,o)=>{let s=n==m0||n==r,a=e==m0||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?g0.has(n):_0.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?g0.has(e):_0.has(e)),s&&a}}const Qse=new RegExp("s*:selfs*,?","g");function VA(n,e,t,i){return new Yse(n).build(e,t,i)}class Yse{constructor(e){this._driver=e}build(e,t,i){const r=new eae(t);return this._resetContextStyleTimingState(r),Zr(this,ug(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function ase(){return new L(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function lse(){return new L(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Vz(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(p0(o.values()),t.errors.push(function cse(n,e){return new L(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Zr(this,ug(e.animation),t);return{type:1,matchers:Gse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Bc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Zr(this,i,t)),options:Bc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Zr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Bc(e.options)}}visitAnimate(e,t){const i=function nae(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BA(f0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=BA(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=f0(t,e);return BA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:fs({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=fs(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===na?i.push(a):t.errors.push(new L(3002,!1)):i.push(Fz(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function dse(n,e,t,i,r){return new L(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:r}),t.options&&function $se(n,e,t){const i=e.params||{},r=Vz(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function ise(n){return new L(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hse(){return new L(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=e.steps.map(F=>{const R=this._makeStyleAst(F,t);let j=null!=R.offset?R.offset:function tae(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(R.styles),J=0;return null!=j&&(o++,J=R.offset=j),l=l||J<0||J>1,a=a||J<c,c=J,s.push(J),R});l&&t.errors.push(function fse(){return new L(3012,!1)}()),a&&t.errors.push(function pse(){return new L(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function mse(){return new L(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,x=t.currentAnimateTimings,T=x.duration;return h.forEach((F,R)=>{const j=g>0?R==y?1:g*R:s[R],J=j*T;t.currentTime=w+x.delay+J,x.duration=J,this._validateStyleAst(F,t),F.offset=j,i.styles.push(F)}),i}visitReference(e,t){return{type:8,animation:Zr(this,ug(e.animation),t),options:Bc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Bc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Bc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Xse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Qse,"")),n=n.replace(/@\*/g,h0).replace(/@\w+/g,t=>h0+"-"+t.slice(1)).replace(/:animating/g,OA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Kr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Zr(this,ug(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Bc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gse(){return new L(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:f0(e.timings,t.errors,!0);return{type:12,animation:Zr(this,ug(e.animation),t),timings:i,options:null}}}class eae{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bc(n){return n?(n=cg(n)).params&&(n.params=function Jse(n){return n?cg(n):null}(n.params)):n={},n}function BA(n,e,t){return{duration:n,delay:e,easing:t}}function UA(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class y0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oae=new RegExp(":enter","g"),aae=new RegExp(":leave","g");function jA(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new lae).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class lae{buildKeyframes(e,t,i,r,o,s,a,l,c,h=[]){c=c||new y0;const p=new zA(e,t,c,r,o,h,[]);p.options=l;const g=l.delay?da(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),Zr(this,i,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let x=y.length-1;x>=0;x--){const T=y[x];if(T.element===t){w=T;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,l)}return y.length?y.map(w=>w.buildKeyframes()):[UA(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:da(dg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?da(i.duration):null,a=null!=i.delay?da(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Zr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=v0);const s=da(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Zr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?da(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Zr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return f0(t.params?dg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?da(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=v0);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(l=p.currentTimeline),Zr(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;Zr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const v0={};class zA{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=v0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new b0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=da(i.duration)),null!=i.delay&&(r.delay=da(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=dg(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new zA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=v0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new cae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(oae,"."+this._enterClassName)).replace(aae,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function _se(n){return new L(3014,!1)}()),a}}class b0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new b0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||na),this._currentKeyframe.set(t,na);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function uae(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,na)}else El(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=dg(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??na),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=El(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?e.add(p):h===na&&t.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?p0(e.values()):[],s=t.size?p0(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return UA(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class cae extends b0{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=El(e[0]);l.set("offset",0),o.push(l);const c=El(e[0]);c.set("offset",$z(a)),o.push(c);const h=e.length-1;for(let p=1;p<=h;p++){let g=El(e[p]);const y=g.get("offset");g.set("offset",$z((t+y*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return UA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function $z(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class $A{}const dae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hae extends $A{normalizePropertyName(e,t){return LA(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(dae.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function sse(n,e){return new L(3005,!1)}())}return s+o}}function Hz(n,e,t,i,r,o,s,a,l,c,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:g}}const HA={};class qz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function fae(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,h){const p=[],g=this.ast.options&&this.ast.options.params||HA,w=this.buildStyles(i,a&&a.params||HA,p),x=l&&l.params||HA,T=this.buildStyles(r,x,p),F=new Set,R=new Map,j=new Map,J="void"===r,pe={params:pae(x,g),delay:this.ast.options?.delay},Le=h?[]:jA(e,t,this.ast.animation,o,s,w,T,pe,c,p);let nt=0;if(Le.forEach(_r=>{nt=Math.max(_r.duration+_r.delay,nt)}),p.length)return Hz(t,this._triggerName,i,r,J,w,T,[],[],R,j,nt,p);Le.forEach(_r=>{const Sr=_r.element,x0=Kr(R,Sr,new Set);_r.preStyleProps.forEach(Uc=>x0.add(Uc));const fg=Kr(j,Sr,new Set);_r.postStyleProps.forEach(Uc=>fg.add(Uc)),Sr!==t&&F.add(Sr)});const Gt=p0(F.values());return Hz(t,this._triggerName,i,r,J,w,T,Le,Gt,R,j,nt)}}function pae(n,e){const t=cg(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class mae{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=cg(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=dg(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class _ae{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new mae(r.style,r.options&&r.options.params||{},i))}),Wz(this.states,"true","1"),Wz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new qz(e,r,this.states))}),this.fallbackTransition=function yae(n,e,t){return new qz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Wz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const vae=new y0;class bae{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=VA(this._driver,t,i,[]);if(i.length)throw function xse(n){return new L(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Az(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=jA(this._driver,t,o,kA,u0,new Map,new Map,i,vae,r),s.forEach(h=>{const p=Kr(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Cse(){return new L(3300,!1)}()),s=[]),r.length)throw function Tse(n){return new L(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(p,y,na))})});const c=bl(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Dse(n){return new L(3301,!1)}();return t}listen(e,t,i,r){const o=MA(t,"","","");return AA(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Gz="ng-animate-queued",qA="ng-animate-disabled",Cae=[],Kz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jo="__ng_removed";class WA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Mae(n){return n??null}(i?e.value:e),i){const o=cg(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hg="void",GA=new WA(hg);class Dae{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Ase(n,e){return new L(3302,!1)}();if(null==i||0==i.length)throw function Sse(n){return new L(3303,!1)}();if(!function Rae(n){return"start"==n||"done"==n}(i))throw function Mse(n,e){return new L(3400,!1)}();const o=Kr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Kr(this._engine.statesByElement,e,new Map);return a.has(t)||(wo(e,d0),wo(e,d0+"-"+t),a.set(t,GA)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Rse(n){return new L(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new KA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(wo(e,d0),wo(e,d0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new WA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=GA),c.value!==hg&&l.value===c.value){if(!function Oae(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const x=[],T=o.matchStyles(l.value,l.params,x),F=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Vc(e,T),xs(e,F)})}return}const g=Kr(this._engine.playersByElement,e,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let y=o.matchTransition(l.value,c.value,e,c.params),w=!1;if(!y){if(!r)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:s,isFallbackTransition:w}),w||(wo(e,Gz),s.onStart(()=>{Sh(e,Gz)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const T=this._engine.playersByElement.get(e);if(T){let F=T.indexOf(s);F>=0&&T.splice(F,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,h0,!0);i.forEach(r=>{if(r[jo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,hg,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&bl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||GA,h=new WA(hg),p=new KA(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[jo];(!o||o===Kz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=MA(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,AA(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Aae{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Dae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(E0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!E0(t))return;const o=t[jo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wo(e,qA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sh(e,qA))}removeNode(e,t,i){if(E0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[jo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return E0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,h0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,OA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[jo];if(t&&t.setForRemoval){if(e[jo]=Kz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(qA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?bl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Pse(n){return new L(3402,!1)}()}_flushAnimations(e,t){const i=new y0,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(ke=>{h.add(ke);const ze=this.driver.query(ke,".ng-animate-queued",!0);for(let Ze=0;Ze<ze.length;Ze++)h.add(ze[Ze])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=Yz(g,this.collectedEnterElements),w=new Map;let x=0;y.forEach((ke,ze)=>{const Ze=kA+x++;w.set(ze,Ze),ke.forEach(Ut=>wo(Ut,Ze))});const T=[],F=new Set,R=new Set;for(let ke=0;ke<this.collectedLeaveElements.length;ke++){const ze=this.collectedLeaveElements[ke],Ze=ze[jo];Ze&&Ze.setForRemoval&&(T.push(ze),F.add(ze),Ze.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(Ut=>F.add(Ut)):R.add(ze))}const j=new Map,J=Yz(g,Array.from(F));J.forEach((ke,ze)=>{const Ze=u0+x++;j.set(ze,Ze),ke.forEach(Ut=>wo(Ut,Ze))}),e.push(()=>{y.forEach((ke,ze)=>{const Ze=w.get(ze);ke.forEach(Ut=>Sh(Ut,Ze))}),J.forEach((ke,ze)=>{const Ze=j.get(ze);ke.forEach(Ut=>Sh(Ut,Ze))}),T.forEach(ke=>{this.processLeaveNode(ke)})});const pe=[],Le=[];for(let ke=this._namespaceList.length-1;ke>=0;ke--)this._namespaceList[ke].drainQueuedTransitions(t).forEach(Ze=>{const Ut=Ze.player,Ai=Ze.element;if(pe.push(Ut),this.collectedEnterElements.length){const Qi=Ai[jo];if(Qi&&Qi.setForMove){if(Qi.previousTriggersValues&&Qi.previousTriggersValues.has(Ze.triggerName)){const jc=Qi.previousTriggersValues.get(Ze.triggerName),Io=this.statesByElement.get(Ze.element);if(Io&&Io.has(Ze.triggerName)){const C0=Io.get(Ze.triggerName);C0.value=jc,Io.set(Ze.triggerName,C0)}}return void Ut.destroy()}}const Cs=!p||!this.driver.containsElement(p,Ai),Qr=j.get(Ai),wl=w.get(Ai),On=this._buildInstruction(Ze,i,wl,Qr,Cs);if(On.errors&&On.errors.length)return void Le.push(On);if(Cs)return Ut.onStart(()=>Vc(Ai,On.fromStyles)),Ut.onDestroy(()=>xs(Ai,On.toStyles)),void r.push(Ut);if(Ze.isFallbackTransition)return Ut.onStart(()=>Vc(Ai,On.fromStyles)),Ut.onDestroy(()=>xs(Ai,On.toStyles)),void r.push(Ut);const c$=[];On.timelines.forEach(Qi=>{Qi.stretchStartingKeyframe=!0,this.disabledNodes.has(Qi.element)||c$.push(Qi)}),On.timelines=c$,i.append(Ai,On.timelines),s.push({instruction:On,player:Ut,element:Ai}),On.queriedElements.forEach(Qi=>Kr(a,Qi,[]).push(Ut)),On.preStyleProps.forEach((Qi,jc)=>{if(Qi.size){let Io=l.get(jc);Io||l.set(jc,Io=new Set),Qi.forEach((C0,YA)=>Io.add(YA))}}),On.postStyleProps.forEach((Qi,jc)=>{let Io=c.get(jc);Io||c.set(jc,Io=new Set),Qi.forEach((C0,YA)=>Io.add(YA))})});if(Le.length){const ke=[];Le.forEach(ze=>{ke.push(function kse(n,e){return new L(3505,!1)}())}),pe.forEach(ze=>ze.destroy()),this.reportError(ke)}const nt=new Map,Gt=new Map;s.forEach(ke=>{const ze=ke.element;i.has(ze)&&(Gt.set(ze,ze),this._beforeAnimationBuild(ke.player.namespaceId,ke.instruction,nt))}),r.forEach(ke=>{const ze=ke.element;this._getPreviousPlayers(ze,!1,ke.namespaceId,ke.triggerName,null).forEach(Ut=>{Kr(nt,ze,[]).push(Ut),Ut.destroy()})});const _r=T.filter(ke=>Jz(ke,l,c)),Sr=new Map;Qz(Sr,this.driver,R,c,na).forEach(ke=>{Jz(ke,l,c)&&_r.push(ke)});const fg=new Map;y.forEach((ke,ze)=>{Qz(fg,this.driver,new Set(ke),l,"!")}),_r.forEach(ke=>{const ze=Sr.get(ke),Ze=fg.get(ke);Sr.set(ke,new Map([...ze?.entries()??[],...Ze?.entries()??[]]))});const Uc=[],a$=[],l$={};s.forEach(ke=>{const{element:ze,player:Ze,instruction:Ut}=ke;if(i.has(ze)){if(h.has(ze))return Ze.onDestroy(()=>xs(ze,Ut.toStyles)),Ze.disabled=!0,Ze.overrideTotalTime(Ut.totalTime),void r.push(Ze);let Ai=l$;if(Gt.size>1){let Qr=ze;const wl=[];for(;Qr=Qr.parentNode;){const On=Gt.get(Qr);if(On){Ai=On;break}wl.push(Qr)}wl.forEach(On=>Gt.set(On,Ai))}const Cs=this._buildAnimation(Ze.namespaceId,Ut,nt,o,fg,Sr);if(Ze.setRealPlayer(Cs),Ai===l$)Uc.push(Ze);else{const Qr=this.playersByElement.get(Ai);Qr&&Qr.length&&(Ze.parentPlayer=bl(Qr)),r.push(Ze)}}else Vc(ze,Ut.fromStyles),Ze.onDestroy(()=>xs(ze,Ut.toStyles)),a$.push(Ze),h.has(ze)&&r.push(Ze)}),a$.forEach(ke=>{const ze=o.get(ke.element);if(ze&&ze.length){const Ze=bl(ze);ke.setRealPlayer(Ze)}}),r.forEach(ke=>{ke.parentPlayer?ke.syncPlayerEvents(ke.parentPlayer):ke.destroy()});for(let ke=0;ke<T.length;ke++){const ze=T[ke],Ze=ze[jo];if(Sh(ze,u0),Ze&&Ze.hasAnimation)continue;let Ut=[];if(a.size){let Cs=a.get(ze);Cs&&Cs.length&&Ut.push(...Cs);let Qr=this.driver.query(ze,OA,!0);for(let wl=0;wl<Qr.length;wl++){let On=a.get(Qr[wl]);On&&On.length&&Ut.push(...On)}}const Ai=Ut.filter(Cs=>!Cs.destroyed);Ai.length?Pae(this,ze,Ai):this.processLeaveNode(ze)}return T.length=0,Uc.forEach(ke=>{this.players.push(ke),ke.onDone(()=>{ke.destroy();const ze=this.players.indexOf(ke);this.players.splice(ze,1)}),ke.play()}),Uc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==hg;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==o,p=Kr(i,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}Vc(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],h=new Set,p=new Set,g=t.timelines.map(w=>{const x=w.element;h.add(x);const T=x[jo];if(T&&T.removedBeforeQueried)return new Gp(w.duration,w.delay);const F=x!==l,R=function kae(n){const e=[];return Xz(n,e),e}((i.get(x)||Cae).map(nt=>nt.getRealPlayer())).filter(nt=>!!nt.element&&nt.element===x),j=o.get(x),J=s.get(x),pe=Az(this._normalizer,w.keyframes,j,J),Le=this._buildPlayer(w,pe,R);if(w.subTimeline&&r&&p.add(x),F){const nt=new KA(e,a,x);nt.setRealPlayer(Le),c.push(nt)}return Le});c.forEach(w=>{Kr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function Sae(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>wo(w,Nz));const y=bl(g);return y.onDestroy(()=>{h.forEach(w=>Sh(w,Nz)),xs(l,t.toStyles)}),p.forEach(w=>{Kr(r,w,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Gp(e.duration,e.delay)}}class KA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Gp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>AA(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Kr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function E0(n){return n&&1===n.nodeType}function Zz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Qz(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Zz(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(p=>{const g=e.computeStyle(c,p,r);h.set(p,g),(!g||0==g.length)&&(c[jo]=Tae,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>Zz(l,o[a++])),s}function Yz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function wo(n,e){n.classList?.add(e)}function Sh(n,e){n.classList?.remove(e)}function Pae(n,e,t){bl(t).onDone(()=>n.processLeaveNode(e))}function Xz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof rL?Xz(i.players,e):e.push(i)}}function Jz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class w0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Aae(e,t,i),this._timelineEngine=new bae(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=VA(this._driver,o,l,[]);if(l.length)throw function wse(n,e){return new L(3404,!1)}();a=function gae(n,e,t){return new _ae(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Sz(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Sz(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Fae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xs(this._element,this._initialStyles),this._endStyles&&(xs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vc(this._element,this._endStyles),this._endStyles=null),xs(this._element,this._initialStyles),this._state=3)}}return n})();function ZA(n){let e=null;return n.forEach((t,i)=>{(function Lae(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class e${constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Bz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Vae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Rz(e,t)}getParentElement(e){return RA(e)}query(e,t,i){return Pz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(y=>y instanceof e$);(function qse(n,e){return 0===n||0===e})(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((w,x)=>c.set(x,w))});let p=function zse(n){return n.length?n[0]instanceof Map?n:n.map(e=>Fz(e)):[]}(t).map(y=>El(y));p=function Wse(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Bz(n,a)))}}return e}(e,p,c);const g=function Nae(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ZA(e[0]),e.length>1&&(i=ZA(e[e.length-1]))):e instanceof Map&&(t=ZA(e)),t||i?new Fae(n,t,i):null}(e,p);return new e$(e,p,l,g)}}let Bae=(()=>{class n extends JF{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:yr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?tL(t):t;return t$(this._renderer,null,i,"register",[r]),new Uae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Wf),B(Nt))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();class Uae extends jY{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jae(this._id,e,t||{},this._renderer)}}class jae{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return t$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function t$(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const n$="@.disabled";let zae=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new i$("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new $ae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Wf),B(w0),B(We))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();class i${constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==n$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class $ae extends i${constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==n$?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Hae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function qae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Wae=(()=>{class n extends w0{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Nt),B(PA),B($A),B(ja))};static#t=this.\u0275prov=he({token:n,factory:n.\u0275fac})}return n})();const r$=[{provide:JF,useClass:Bae},{provide:$A,useFactory:function Gae(){return new hae}},{provide:w0,useClass:Wae},{provide:Wf,useFactory:function Kae(n,e,t){return new zae(n,e,t)},deps:[QI,w0,We]}],QA=[{provide:PA,useFactory:()=>new Vae},{provide:La,useValue:"BrowserAnimations"},...r$],o$=[{provide:PA,useClass:kz},{provide:La,useValue:"NoopAnimations"},...r$];let Zae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?o$:QA}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({providers:QA,imports:[LO]})}return n})(),Qae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({})}return n})(),s$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[hs,yO,TF,hs]})}return n})(),ile=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n});static#n=this.\u0275inj=kt({imports:[hs,s$,s$,Qae,hs]})}return n})();var rle=qa.Z.initializeApp;let ole=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Tt({type:n,bootstrap:[zre]});static#n=this.\u0275inj=kt({providers:[r0],imports:[LO,Ire,uX(()=>rle(uz_firebase)),die(()=>fie()),a7.initializeApp(uz_firebase),E7,xoe,Zoe,Zae,rX,ile,Iie]})}return n})();k9().bootstrapModule(ole).catch(n=>console.error(n))},106:(Yr,zn,je)=>{je.d(zn,{Z:()=>$n});var C=je(58),K=je(537),O=je(534),Pe=je(879);class yt{constructor(Qe,Ye){this._delegate=Qe,this.firebase=Ye,(0,O._addComponent)(Qe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Qe,Ye=O._DEFAULT_ENTRY_NAME){var Hn;this._delegate.checkDestroyed();const fn=this._delegate.container.getProvider(Qe);return!fn.isInitialized()&&"EXPLICIT"===(null===(Hn=fn.getComponent())||void 0===Hn?void 0:Hn.instantiationMode)&&fn.initialize(),fn.getImmediate({identifier:Ye})}_removeServiceInstance(Qe,Ye=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Ye)}_addComponent(Qe){(0,O._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,O._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const An=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Dt(){const vt=function Xt(vt){const Qe={},Ye={__esModule:!0,initializeApp:function pt(at,ae={}){const xt=O.initializeApp(at,ae);if((0,C.r3)(Qe,xt.name))return Qe[xt.name];const tn=new vt(xt,Ye);return Qe[xt.name]=tn,tn},app:fn,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Yi(at){const ae=at.name,xt=ae.replace("-compat","");if(O._registerComponent(at)&&"PUBLIC"===at.type){const tn=(In=fn())=>{if("function"!=typeof In[xt])throw An.create("invalid-app-argument",{appName:ae});return In[xt]()};void 0!==at.serviceProps&&(0,C.ZB)(tn,at.serviceProps),Ye[xt]=tn,vt.prototype[xt]=function(...In){return this._getService.bind(this,ae).apply(this,at.multipleInstances?In:[])}}return"PUBLIC"===at.type?Ye[xt]:null},removeApp:function Hn(at){delete Qe[at]},useAsService:function Nn(at,ae){return"serverAuth"===ae?null:ae},modularAPIs:O}};function fn(at){if(!(0,C.r3)(Qe,at=at||O._DEFAULT_ENTRY_NAME))throw An.create("no-app",{appName:at});return Qe[at]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function zt(){return Object.keys(Qe).map(at=>Qe[at])}}),fn.App=vt,Ye}(yt);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:Dt,extendNamespace:function Qe(Ye){(0,C.ZB)(vt,Ye)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),vt}(),ue=new Pe.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $n=ee;!function Pt(vt){(0,O.registerVersion)("@firebase/app-compat","0.2.25",vt)}()},534:(Yr,zn,je)=>{je.r(zn),je.d(zn,{FirebaseError:()=>Pe.ZR,SDK_VERSION:()=>to,_DEFAULT_ENTRY_NAME:()=>kr,_addComponent:()=>er,_addOrOverwriteComponent:()=>tr,_apps:()=>_i,_clearComponents:()=>Mn,_components:()=>Ji,_getProvider:()=>jt,_registerComponent:()=>si,_removeServiceInstance:()=>nr,deleteApp:()=>Fn,getApp:()=>Nr,getApps:()=>Gn,initializeApp:()=>no,onLog:()=>ha,registerVersion:()=>ir,setLogLevel:()=>zo});var C=je(861),K=je(537),O=je(879),Pe=je(58);const yt=(U,P)=>P.some(se=>U instanceof se);let hn,An;const ee=new WeakMap,ue=new WeakMap,Re=new WeakMap,it=new WeakMap,Pt=new WeakMap;let Qe={get(U,P,se){if(U instanceof IDBTransaction){if("done"===P)return ue.get(U);if("objectStoreNames"===P)return U.objectStoreNames||Re.get(U);if("store"===P)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return pt(U[P])},set:(U,P,se)=>(U[P]=se,!0),has:(U,P)=>U instanceof IDBTransaction&&("done"===P||"store"===P)||P in U};function fn(U){return"function"==typeof U?function Hn(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dt(){return An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...P){return U.apply(zt(this),P),pt(ee.get(this))}:function(...P){return pt(U.apply(zt(this),P))}:function(P,...se){const Ie=U.call(zt(this),P,...se);return Re.set(Ie,P.sort?P.sort():[P]),pt(Ie)}}(U):(U instanceof IDBTransaction&&function vt(U){if(ue.has(U))return;const P=new Promise((se,Ie)=>{const ut=()=>{U.removeEventListener("complete",mt),U.removeEventListener("error",L),U.removeEventListener("abort",L)},mt=()=>{se(),ut()},L=()=>{Ie(U.error||new DOMException("AbortError","AbortError")),ut()};U.addEventListener("complete",mt),U.addEventListener("error",L),U.addEventListener("abort",L)});ue.set(U,P)}(U),yt(U,function Xt(){return hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Qe):U)}function pt(U){if(U instanceof IDBRequest)return function $n(U){const P=new Promise((se,Ie)=>{const ut=()=>{U.removeEventListener("success",mt),U.removeEventListener("error",L)},mt=()=>{se(pt(U.result)),ut()},L=()=>{Ie(U.error),ut()};U.addEventListener("success",mt),U.addEventListener("error",L)});return P.then(se=>{se instanceof IDBCursor&&ee.set(se,U)}).catch(()=>{}),Pt.set(P,U),P}(U);if(it.has(U))return it.get(U);const P=fn(U);return P!==U&&(it.set(U,P),Pt.set(P,U)),P}const zt=U=>Pt.get(U),at=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],xt=new Map;function tn(U,P){if(!(U instanceof IDBDatabase)||P in U||"string"!=typeof P)return;if(xt.get(P))return xt.get(P);const se=P.replace(/FromIndex$/,""),Ie=P!==se,ut=ae.includes(se);if(!(se in(Ie?IDBIndex:IDBObjectStore).prototype)||!ut&&!at.includes(se))return;const mt=function(){var L=(0,C.Z)(function*(gn,...Ae){const dt=this.transaction(gn,ut?"readwrite":"readonly");let xl=dt.store;return Ie&&(xl=xl.index(Ae.shift())),(yield Promise.all([xl[se](...Ae),ut&&dt.done]))[0]});return function(Ae){return L.apply(this,arguments)}}();return xt.set(P,mt),mt}!function Ye(U){Qe=U(Qe)}(U=>({...U,get:(P,se,Ie)=>tn(P,se)||U.get(P,se,Ie),has:(P,se)=>!!tn(P,se)||U.has(P,se)}));class In{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(se=>{if(function Sn(U){const P=U.getComponent();return"VERSION"===P?.type}(se)){const Ie=se.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(se=>se).join(" ")}}const Mr="@firebase/app",Xe=new O.Yd("@firebase/app"),kr="[DEFAULT]",Or={[Mr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_i=new Map,Ji=new Map;function er(U,P){try{U.container.addComponent(P)}catch(se){Xe.debug(`Component ${P.name} failed to register with FirebaseApp ${U.name}`,se)}}function tr(U,P){U.container.addOrOverwriteComponent(P)}function si(U){const P=U.name;if(Ji.has(P))return Xe.debug(`There were multiple attempts to register component ${P}.`),!1;Ji.set(P,U);for(const se of _i.values())er(se,U);return!0}function jt(U,P){const se=U.container.getProvider("heartbeat").getImmediate({optional:!0});return se&&se.triggerHeartbeat(),U.container.getProvider(P)}function nr(U,P,se=kr){jt(U,P).clearInstance(se)}function Mn(){Ji.clear()}const mn=new Pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(P,se,Ie){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},se),this._name=se.name,this._automaticDataCollectionEnabled=se.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const to="10.7.1";function no(U,P={}){let se=U;"object"!=typeof P&&(P={name:P});const Ie=Object.assign({name:kr,automaticDataCollectionEnabled:!1},P),ut=Ie.name;if("string"!=typeof ut||!ut)throw mn.create("bad-app-name",{appName:String(ut)});if(se||(se=(0,Pe.aH)()),!se)throw mn.create("no-options");const mt=_i.get(ut);if(mt){if((0,Pe.vZ)(se,mt.options)&&(0,Pe.vZ)(Ie,mt.config))return mt;throw mn.create("duplicate-app",{appName:ut})}const L=new K.H0(ut);for(const Ae of Ji.values())L.addComponent(Ae);const gn=new xn(se,Ie,L);return _i.set(ut,gn),gn}function Nr(U=kr){const P=_i.get(U);if(!P&&U===kr&&(0,Pe.aH)())return no();if(!P)throw mn.create("no-app",{appName:U});return P}function Gn(){return Array.from(_i.values())}function Fn(U){return yi.apply(this,arguments)}function yi(){return(yi=(0,C.Z)(function*(U){const P=U.name;_i.has(P)&&(_i.delete(P),yield Promise.all(U.container.getProviders().map(se=>se.delete())),U.isDeleted=!0)})).apply(this,arguments)}function ir(U,P,se){var Ie;let ut=null!==(Ie=Or[U])&&void 0!==Ie?Ie:U;se&&(ut+=`-${se}`);const mt=ut.match(/\s|\//),L=P.match(/\s|\//);if(mt||L){const gn=[`Unable to register library "${ut}" with version "${P}":`];return mt&&gn.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),mt&&L&&gn.push("and"),L&&gn.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void Xe.warn(gn.join(" "))}si(new K.wA(`${ut}-version`,()=>({library:ut,version:P}),"VERSION"))}function ha(U,P){if(null!==U&&"function"!=typeof U)throw mn.create("invalid-log-argument");(0,O.Am)(U,P)}function zo(U){(0,O.Ub)(U)}const Ts="firebase-heartbeat-database",io=1,M="firebase-heartbeat-store";let D=null;function b(){return D||(D=function Yi(U,P,{blocked:se,upgrade:Ie,blocking:ut,terminated:mt}={}){const L=indexedDB.open(U,P),gn=pt(L);return Ie&&L.addEventListener("upgradeneeded",Ae=>{Ie(pt(L.result),Ae.oldVersion,Ae.newVersion,pt(L.transaction),Ae)}),se&&L.addEventListener("blocked",Ae=>se(Ae.oldVersion,Ae.newVersion,Ae)),gn.then(Ae=>{mt&&Ae.addEventListener("close",()=>mt()),ut&&Ae.addEventListener("versionchange",dt=>ut(dt.oldVersion,dt.newVersion,dt))}).catch(()=>{}),gn}(Ts,io,{upgrade:(U,P)=>{0===P&&U.createObjectStore(M)}}).catch(U=>{throw mn.create("idb-open",{originalErrorMessage:U.message})})),D}function v(){return(v=(0,C.Z)(function*(U){try{return yield(yield b()).transaction(M).objectStore(M).get(Ce(U))}catch(P){if(P instanceof Pe.ZR)Xe.warn(P.message);else{const se=mn.create("idb-get",{originalErrorMessage:P?.message});Xe.warn(se.message)}}})).apply(this,arguments)}function S(U,P){return Q.apply(this,arguments)}function Q(){return(Q=(0,C.Z)(function*(U,P){try{const Ie=(yield b()).transaction(M,"readwrite");yield Ie.objectStore(M).put(P,Ce(U)),yield Ie.done}catch(se){if(se instanceof Pe.ZR)Xe.warn(se.message);else{const Ie=mn.create("idb-set",{originalErrorMessage:se?.message});Xe.warn(Ie.message)}}})).apply(this,arguments)}function Ce(U){return`${U.name}!${U.options.appId}`}class At{constructor(P){this.container=P,this._heartbeatsCache=null;const se=this.container.getProvider("app").getImmediate();this._storage=new Oe(se),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var P=this;return(0,C.Z)(function*(){var se,Ie;const mt=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),L=ve();if((null!=(null===(se=P._heartbeatsCache)||void 0===se?void 0:se.heartbeats)||(P._heartbeatsCache=yield P._heartbeatsCachePromise,null!=(null===(Ie=P._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)))&&P._heartbeatsCache.lastSentHeartbeatDate!==L&&!P._heartbeatsCache.heartbeats.some(gn=>gn.date===L))return P._heartbeatsCache.heartbeats.push({date:L,agent:mt}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(gn=>{const Ae=new Date(gn.date).valueOf();return Date.now()-Ae<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,C.Z)(function*(){var se;if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null==(null===(se=P._heartbeatsCache)||void 0===se?void 0:se.heartbeats)||0===P._heartbeatsCache.heartbeats.length)return"";const Ie=ve(),{heartbeatsToSend:ut,unsentEntries:mt}=function qt(U,P=1024){const se=[];let Ie=U.slice();for(const ut of U){const mt=se.find(L=>L.agent===ut.agent);if(mt){if(mt.dates.push(ut.date),ti(se)>P){mt.dates.pop();break}}else if(se.push({agent:ut.agent,dates:[ut.date]}),ti(se)>P){se.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:se,unsentEntries:Ie}}(P._heartbeatsCache.heartbeats),L=(0,Pe.L)(JSON.stringify({version:2,heartbeats:ut}));return P._heartbeatsCache.lastSentHeartbeatDate=Ie,mt.length>0?(P._heartbeatsCache.heartbeats=mt,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),L})()}}function ve(){return(new Date).toISOString().substring(0,10)}class Oe{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Pe.hl)()&&(0,Pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,C.Z)(function*(){if(yield P._canUseIndexedDBPromise){const Ie=yield function I(U){return v.apply(this,arguments)}(P.app);return Ie?.heartbeats?Ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(P){var se=this;return(0,C.Z)(function*(){var Ie;if(yield se._canUseIndexedDBPromise){const mt=yield se.read();return S(se.app,{lastSentHeartbeatDate:null!==(Ie=P.lastSentHeartbeatDate)&&void 0!==Ie?Ie:mt.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var se=this;return(0,C.Z)(function*(){var Ie;if(yield se._canUseIndexedDBPromise){const mt=yield se.read();return S(se.app,{lastSentHeartbeatDate:null!==(Ie=P.lastSentHeartbeatDate)&&void 0!==Ie?Ie:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...P.heartbeats]})}})()}}function ti(U){return(0,Pe.L)(JSON.stringify({version:2,heartbeats:U})).length}!function Ds(U){si(new K.wA("platform-logger",P=>new In(P),"PRIVATE")),si(new K.wA("heartbeat",P=>new At(P),"PRIVATE")),ir(Mr,"0.9.25",U),ir(Mr,"0.9.25","esm2017"),ir("fire-js","")}("")},537:(Yr,zn,je)=>{je.d(zn,{H0:()=>Xt,wA:()=>O});var C=je(861),K=je(58);class O{constructor(ee,ue,Re){this.name=ee,this.instanceFactory=ue,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Pe="[DEFAULT]";class yt{constructor(ee,ue){this.name=ee,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ue=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ue)){const Re=new K.BH;if(this.instancesDeferred.set(ue,Re),this.isInitialized(ue)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:ue});it&&Re.resolve(it)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ee){var ue;const Re=this.normalizeInstanceIdentifier(ee?.identifier),it=null!==(ue=ee?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Pt){if(it)return null;throw Pt}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function An(Dt){return"EAGER"===Dt.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch{}for(const[ue,Re]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(ue);try{const Pt=this.getOrInitializeService({instanceIdentifier:it});Re.resolve(Pt)}catch{}}}}clearInstance(ee=Pe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,C.Z)(function*(){const ue=Array.from(ee.instances.values());yield Promise.all([...ue.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ue.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Pe){return this.instances.has(ee)}getOptions(ee=Pe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ue={}}=ee,Re=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Re,options:ue});for(const[Pt,$n]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Pt)&&$n.resolve(it);return it}onInit(ee,ue){var Re;const it=this.normalizeInstanceIdentifier(ue),Pt=null!==(Re=this.onInitCallbacks.get(it))&&void 0!==Re?Re:new Set;Pt.add(ee),this.onInitCallbacks.set(it,Pt);const $n=this.instances.get(it);return $n&&ee($n,it),()=>{Pt.delete(ee)}}invokeOnInitCallbacks(ee,ue){const Re=this.onInitCallbacks.get(ue);if(Re)for(const it of Re)try{it(ee,ue)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ue={}}){let Re=this.instances.get(ee);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Dt=ee,Dt===Pe?void 0:Dt),options:ue}),this.instances.set(ee,Re),this.instancesOptions.set(ee,ue),this.invokeOnInitCallbacks(Re,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Re)}catch{}var Dt;return Re||null}normalizeInstanceIdentifier(ee=Pe){return this.component?this.component.multipleInstances?ee:Pe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xt{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ue=this.getProvider(ee.name);if(ue.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ue.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ue=new yt(ee,this);return this.providers.set(ee,ue),ue}getProviders(){return Array.from(this.providers.values())}}},879:(Yr,zn,je)=>{je.d(zn,{Am:()=>Dt,Ub:()=>Xt,Yd:()=>An,in:()=>K});const C=[];var K=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(K||{});const O={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Pe=K.INFO,yt={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},hn=(ee,ue,...Re)=>{if(ue<ee.logLevel)return;const it=(new Date).toISOString(),Pt=yt[ue];if(!Pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Pt](`[${it}]  ${ee.name}:`,...Re)};class An{constructor(ue){this.name=ue,this._logLevel=Pe,this._logHandler=hn,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in K))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?O[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...ue),this._logHandler(this,K.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...ue),this._logHandler(this,K.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,K.INFO,...ue),this._logHandler(this,K.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,K.WARN,...ue),this._logHandler(this,K.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...ue),this._logHandler(this,K.ERROR,...ue)}}function Xt(ee){C.forEach(ue=>{ue.setLogLevel(ee)})}function Dt(ee,ue){for(const Re of C){let it=null;ue&&ue.level&&(it=O[ue.level]),Re.userLogHandler=null===ee?null:(Pt,$n,...vt)=>{const Qe=vt.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");$n>=(it??Pt.logLevel)&&ee({level:K[$n].toLowerCase(),message:Qe,args:vt,type:Pt.name})}}}},365:(Yr,zn,je)=>{je.r(zn);var C=je(861),K=je(106),O=je(217),Pe=je(58),An=(je(534),je(879),je(537));function Xt(){return window}function ue(){return ue=(0,C.Z)(function*(b,I,v){var S;const{BuildInfo:Q}=Xt();(0,O.au)(I.sessionId,"AuthEvent did not contain a session ID");const Ce=yield function Ye(b){return Hn.apply(this,arguments)}(I.sessionId),De={};return(0,O.av)()?De.ibi=Q.packageName:(0,O.aw)()?De.apn=Q.packageName:(0,O.ax)(b,"operation-not-supported-in-this-environment"),Q.displayName&&(De.appDisplayName=Q.displayName),De.sessionId=Ce,(0,O.ay)(b,v,I.type,void 0,null!==(S=I.eventId)&&void 0!==S?S:void 0,De)}),ue.apply(this,arguments)}function it(){return(it=(0,C.Z)(function*(b){const{BuildInfo:I}=Xt(),v={};(0,O.av)()?v.iosBundleId=I.packageName:(0,O.aw)()?v.androidPackageName=I.packageName:(0,O.ax)(b,"operation-not-supported-in-this-environment"),yield(0,O.az)(b,v)})).apply(this,arguments)}function vt(){return(vt=(0,C.Z)(function*(b,I,v){const{cordova:S}=Xt();let Q=()=>{};try{yield new Promise((Ce,De)=>{let He=null;function At(){var Oe;Ce();const ti=null===(Oe=S.plugins.browsertab)||void 0===Oe?void 0:Oe.close;"function"==typeof ti&&ti(),"function"==typeof v?.close&&v.close()}function ve(){He||(He=window.setTimeout(()=>{De((0,O.aB)(b,"redirect-cancelled-by-user"))},2e3))}function qt(){"visible"===document?.visibilityState&&ve()}I.addPassiveListener(At),document.addEventListener("resume",ve,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",qt,!1),Q=()=>{I.removePassiveListener(At),document.removeEventListener("resume",ve,!1),document.removeEventListener("visibilitychange",qt,!1),He&&window.clearTimeout(He)}})}finally{Q()}})).apply(this,arguments)}function Hn(){return(Hn=(0,C.Z)(function*(b){const I=function fn(b){if((0,O.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const I=new ArrayBuffer(b.length),v=new Uint8Array(I);for(let S=0;S<b.length;S++)v[S]=b.charCodeAt(S);return v}(b),v=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(v)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class zt extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(I)),super.onEvent(I)}initialized(){var I=this;return(0,C.Z)(function*(){yield I.initPromise})()}}function at(b){return ae.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(b){const I=yield In()._get(Sn(b));return I&&(yield In()._remove(Sn(b))),I})).apply(this,arguments)}function tn(){const b=[];for(let v=0;v<20;v++){const S=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(S))}return b.join("")}function In(){return(0,O.aE)(O.b)}function Sn(b){return(0,O.aF)("authEvent",b.config.apiKey,b.name)}function Xe(b){if(!b?.includes("?"))return{};const[I,...v]=b.split("?");return(0,Pe.zd)(v.join("?"))}const q=class xo{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){const S=I._key();let Q=v.eventManagers.get(S);return Q||(Q=new zt(I),v.eventManagers.set(S,Q),v.attachCallbackListeners(I,Q)),Q})()}_openPopup(I){(0,O.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,v,S,Q){var Ce=this;return(0,C.Z)(function*(){!function Qe(b){var I,v,S,Q,Ce,De,He,At,ve,qt;const Oe=Xt();(0,O.aC)("function"==typeof(null===(I=Oe?.universalLinks)||void 0===I?void 0:I.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(v=Oe?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(Ce=null===(Q=null===(S=Oe?.cordova)||void 0===S?void 0:S.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Ce?void 0:Ce.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(At=null===(He=null===(De=Oe?.cordova)||void 0===De?void 0:De.plugins)||void 0===He?void 0:He.browsertab)||void 0===At?void 0:At.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(qt=null===(ve=Oe?.cordova)||void 0===ve?void 0:ve.InAppBrowser)||void 0===qt?void 0:qt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const De=yield Ce._initialize(I);yield De.initialized(),De.resetRedirect(),(0,O.aI)(),yield Ce._originValidation(I);const He=function Yi(b,I,v=null){return{type:I,eventId:v,urlResponse:null,sessionId:tn(),postBody:null,tenantId:b.tenantId,error:(0,O.aB)(b,"no-auth-event")}}(I,S,Q);yield function Nn(b,I){return In()._set(Sn(b),I)}(I,He);const At=yield function ee(b,I,v){return ue.apply(this,arguments)}(I,He,v),ve=yield function Pt(b){const{cordova:I}=Xt();return new Promise(v=>{I.plugins.browsertab.isAvailable(S=>{let Q=null;S?I.plugins.browsertab.openUrl(b):Q=I.InAppBrowser.open(b,(0,O.aA)()?"_blank":"_system","location=yes"),v(Q)})})}(At);return function $n(b,I,v){return vt.apply(this,arguments)}(I,De,ve)})()}_isIframeWebStorageSupported(I,v){throw new Error("Method not implemented.")}_originValidation(I){const v=I._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Re(b){return it.apply(this,arguments)}(I)),this.originValidationPromises[v]}attachCallbackListeners(I,v){const{universalLinks:S,handleOpenURL:Q,BuildInfo:Ce}=Xt(),De=setTimeout((0,C.Z)(function*(){yield at(I),v.onEvent(G())}),500),He=function(){var qt=(0,C.Z)(function*(Oe){clearTimeout(De);const ti=yield at(I);let Ds=null;ti&&Oe?.url&&(Ds=function xt(b,I){var v,S;const Q=function Rr(b){const I=Xe(b),v=I.link?decodeURIComponent(I.link):void 0,S=Xe(v).link,Q=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return Xe(Q).link||Q||S||v||b}(I);if(Q.includes("/__/auth/callback")){const Ce=Xe(Q),De=Ce.firebaseError?function Mr(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(Ce.firebaseError)):null,He=null===(S=null===(v=De?.code)||void 0===v?void 0:v.split("auth/"))||void 0===S?void 0:S[1],At=He?(0,O.aB)(He):null;return At?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:At,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:Q,postBody:null}}return null}(ti,Oe.url)),v.onEvent(Ds||G())});return function(ti){return qt.apply(this,arguments)}}();typeof S<"u"&&"function"==typeof S.subscribe&&S.subscribe(null,He);const At=Q,ve=`${Ce.packageName.toLowerCase()}://`;Xt().handleOpenURL=function(){var qt=(0,C.Z)(function*(Oe){if(Oe.toLowerCase().startsWith(ve)&&He({url:Oe}),"function"==typeof At)try{At(Oe)}catch(ti){console.error(ti)}});return function(Oe){return qt.apply(this,arguments)}}()}};function G(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}function me(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Te(b=(0,Pe.z$)()){return!("file:"!==me()&&"ionic:"!==me()&&"capacitor:"!==me()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function pn(){try{const b=self.localStorage,I=O.aN();if(b)return b.setItem(I,"1"),b.removeItem(I),!function Kt(b=(0,Pe.z$)()){return function Ct(){return(0,Pe.w1)()&&11===document?.documentMode}()||function rn(b=(0,Pe.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Pe.hl)()}catch{return qn()&&(0,Pe.hl)()}return!1}function qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function ft(){return"http:"===me()||"https:"===me()}()||(0,Pe.ru)()||Te())&&!function Ve(){return(0,Pe.b$)()||(0,Pe.UG)()}()&&pn()&&!qn()}function oi(){return Te()&&typeof document<"u"}function Pr(){return(Pr=(0,C.Z)(function*(){return!!oi()&&new Promise(b=>{const I=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),b(!0)})})})).apply(this,arguments)}const bt={LOCAL:"local",NONE:"none",SESSION:"session"},Jr=O.aC,eo="persistence";function Or(b){return _i.apply(this,arguments)}function _i(){return(_i=(0,C.Z)(function*(b){yield b._initializationPromise;const I=er(),v=O.aF(eo,b.config.apiKey,b.name);I&&I.setItem(v,b._getPersistence())})).apply(this,arguments)}function er(){var b;try{return(null===(b=function Xr(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const tr=O.aC;class si{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE(q),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,v,S,Q){var Ce=this;return(0,C.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openPopup(I,v,S,Q)})()}_openRedirect(I,v,S,Q){var Ce=this;return(0,C.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openRedirect(I,v,S,Q)})()}_isIframeWebStorageSupported(I,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,v)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return oi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,C.Z)(function*(){if(I.underlyingResolver)return;const v=yield function Ui(){return Pr.apply(this,arguments)}();I.underlyingResolver=v?I.cordovaResolver:I.browserResolver})()}}function jt(b){return b.unwrap()}function Mn(b){return mn(b)}function mn(b){const{_tokenResponse:I}=b instanceof Pe.ZR?b.customData:b;if(!I)return null;if(!(b instanceof Pe.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return O.P.credentialFromResult(b);const v=I.providerId;if(!v||v===O.p.PASSWORD)return null;let S;switch(v){case O.p.GOOGLE:S=O.X;break;case O.p.FACEBOOK:S=O.W;break;case O.p.GITHUB:S=O.Y;break;case O.p.TWITTER:S=O.$;break;default:const{oauthIdToken:Q,oauthAccessToken:Ce,oauthTokenSecret:De,pendingToken:He,nonce:At}=I;return Ce||De||Q||He?He?v.startsWith("saml.")?O.aQ._create(v,He):O.N._fromParams({providerId:v,signInMethod:v,pendingToken:He,idToken:Q,accessToken:Ce}):new O.Z(v).credential({idToken:Q,accessToken:Ce,rawNonce:At}):null}return b instanceof Pe.ZR?S.credentialFromError(b):S.credentialFromResult(b)}function xn(b,I){return I.catch(v=>{throw v instanceof Pe.ZR&&function Il(b,I){var v;const S=null===(v=I.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new Nr(b,O.as(b,I));else if(S){const Q=mn(I),Ce=I;Q&&(Ce.credential=Q,Ce.tenantId=S.tenantId||void 0,Ce.email=S.email||void 0,Ce.phoneNumber=S.phoneNumber||void 0)}}(b,v),v}).then(v=>{const Q=v.user;return{operationType:v.operationType,credential:Mn(v),additionalUserInfo:O.aq(v),user:Gn.getOrCreate(Q)}})}function to(b,I){return no.apply(this,arguments)}function no(){return(no=(0,C.Z)(function*(b,I){const v=yield I;return{verificationId:v.verificationId,confirm:S=>xn(b,v.confirm(S))}})).apply(this,arguments)}class Nr{constructor(I,v){this.resolver=v,this.auth=function nr(b){return b.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return xn(jt(this.auth),this.resolver.resolveSignIn(I))}}class Gn{constructor(I){this._delegate=I,this.multiFactor=O.at(I)}static getOrCreate(I){return Gn.USER_MAP.has(I)||Gn.USER_MAP.set(I,new Gn(I)),Gn.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var v=this;return(0,C.Z)(function*(){return xn(v.auth,O.a2(v._delegate,I))})()}linkWithPhoneNumber(I,v){var S=this;return(0,C.Z)(function*(){return to(S.auth,O.l(S._delegate,I,v))})()}linkWithPopup(I){var v=this;return(0,C.Z)(function*(){return xn(v.auth,O.d(v._delegate,I,si))})()}linkWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield Or(O.aJ(v.auth)),O.g(v._delegate,I,si)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var v=this;return(0,C.Z)(function*(){return xn(v.auth,O.a3(v._delegate,I))})()}reauthenticateWithPhoneNumber(I,v){return to(this.auth,O.r(this._delegate,I,v))}reauthenticateWithPopup(I){return xn(this.auth,O.e(this._delegate,I,si))}reauthenticateWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield Or(O.aJ(v.auth)),O.h(v._delegate,I,si)})()}sendEmailVerification(I){return O.ag(this._delegate,I)}unlink(I){var v=this;return(0,C.Z)(function*(){return yield O.ap(v._delegate,I),v})()}updateEmail(I){return O.al(this._delegate,I)}updatePassword(I){return O.am(this._delegate,I)}updatePhoneNumber(I){return O.u(this._delegate,I)}updateProfile(I){return O.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,v){return O.ah(this._delegate,I,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gn.USER_MAP=new WeakMap;const Fn=O.aC;let yi=(()=>{class b{constructor(v,S){if(this.app=v,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=v.options;Fn(Q,"invalid-api-key",{appName:v.name}),Fn(Q,"invalid-api-key",{appName:v.name});const Ce=typeof window<"u"?si:void 0;this._delegate=S.initialize({options:{persistence:ha(Q,v.name),popupRedirectResolver:Ce}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,S){O.K(this._delegate,v,S)}applyActionCode(v){return O.a7(this._delegate,v)}checkActionCode(v){return O.a8(this._delegate,v)}confirmPasswordReset(v,S){return O.a6(this._delegate,v,S)}createUserWithEmailAndPassword(v,S){var Q=this;return(0,C.Z)(function*(){return xn(Q._delegate,O.aa(Q._delegate,v,S))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return O.af(this._delegate,v)}isSignInWithEmailLink(v){return O.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){Fn(Wn(),v._delegate,"operation-not-supported-in-this-environment");const S=yield O.j(v._delegate,si);return S?xn(v._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function z(b,I){(0,O.aJ)(b)._logFramework(I)}(this._delegate,v)}onAuthStateChanged(v,S,Q){const{next:Ce,error:De,complete:He}=ir(v,S,Q);return this._delegate.onAuthStateChanged(Ce,De,He)}onIdTokenChanged(v,S,Q){const{next:Ce,error:De,complete:He}=ir(v,S,Q);return this._delegate.onIdTokenChanged(Ce,De,He)}sendSignInLinkToEmail(v,S){return O.ac(this._delegate,v,S)}sendPasswordResetEmail(v,S){return O.a5(this._delegate,v,S||void 0)}setPersistence(v){var S=this;return(0,C.Z)(function*(){let Q;switch(function kr(b,I){Jr(Object.values(bt).includes(I),b,"invalid-persistence-type"),(0,Pe.b$)()?Jr(I!==bt.SESSION,b,"unsupported-persistence-type"):(0,Pe.UG)()?Jr(I===bt.NONE,b,"unsupported-persistence-type"):qn()?Jr(I===bt.NONE||I===bt.LOCAL&&(0,Pe.hl)(),b,"unsupported-persistence-type"):Jr(I===bt.NONE||pn(),b,"unsupported-persistence-type")}(S._delegate,v),v){case bt.SESSION:Q=O.a;break;case bt.LOCAL:Q=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case bt.NONE:Q=O.U;break;default:return O.ax("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return xn(this._delegate,O.a0(this._delegate))}signInWithCredential(v){return xn(this._delegate,O.a1(this._delegate,v))}signInWithCustomToken(v){return xn(this._delegate,O.a4(this._delegate,v))}signInWithEmailAndPassword(v,S){return xn(this._delegate,O.ab(this._delegate,v,S))}signInWithEmailLink(v,S){return xn(this._delegate,O.ae(this._delegate,v,S))}signInWithPhoneNumber(v,S){return to(this._delegate,O.s(this._delegate,v,S))}signInWithPopup(v){var S=this;return(0,C.Z)(function*(){return Fn(Wn(),S._delegate,"operation-not-supported-in-this-environment"),xn(S._delegate,O.c(S._delegate,v,si))})()}signInWithRedirect(v){var S=this;return(0,C.Z)(function*(){return Fn(Wn(),S._delegate,"operation-not-supported-in-this-environment"),yield Or(S._delegate),O.f(S._delegate,v,si)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return O.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=bt,b})();function ir(b,I,v){let S=b;"function"!=typeof b&&({next:S,error:I,complete:v}=b);const Q=S;return{next:De=>Q(De&&Gn.getOrCreate(De)),error:I,complete:v}}function ha(b,I){const v=function Ji(b,I){const v=er();if(!v)return[];const S=O.aF(eo,b,I);switch(v.getItem(S)){case bt.NONE:return[O.U];case bt.LOCAL:return[O.i,O.a];case bt.SESSION:return[O.a];default:return[]}}(b,I);if(typeof self<"u"&&!v.includes(O.i)&&v.push(O.i),typeof window<"u")for(const S of[O.b,O.a])v.includes(S)||v.push(S);return v.includes(O.U)||v.push(O.U),v}class zo{constructor(){this.providerId="phone",this._delegate=new O.P(jt(K.Z.auth()))}static credential(I,v){return O.P.credential(I,v)}verifyPhoneNumber(I,v){return this._delegate.verifyPhoneNumber(I,v)}unwrap(){return this._delegate}}zo.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,zo.PROVIDER_ID=O.P.PROVIDER_ID;const Ts=O.aC;class io{constructor(I,v,S=K.Z.app()){var Q;Ts(null===(Q=S.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new O.R(S.auth(),I,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(b){b.INTERNAL.registerComponent(new An.wA("auth-compat",I=>{const v=I.getProvider("app-compat").getImmediate(),S=I.getProvider("auth");return new yi(v,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:zo,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:io,TwitterAuthProvider:O.$,Auth:yi,AuthCredential:O.L,Error:Pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.1")}(K.Z)},861:(Yr,zn,je)=>{function C(O,Pe,yt,hn,An,Xt,Dt){try{var ee=O[Xt](Dt),ue=ee.value}catch(Re){return void yt(Re)}ee.done?Pe(ue):Promise.resolve(ue).then(hn,An)}function K(O){return function(){var Pe=this,yt=arguments;return new Promise(function(hn,An){var Xt=O.apply(Pe,yt);function Dt(ue){C(Xt,hn,An,Dt,ee,"next",ue)}function ee(ue){C(Xt,hn,An,Dt,ee,"throw",ue)}Dt(void 0)})}}je.d(zn,{Z:()=>K})},582:(Yr,zn,je)=>{function Pe(q,G){var z={};for(var $ in q)Object.prototype.hasOwnProperty.call(q,$)&&G.indexOf($)<0&&(z[$]=q[$]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for($=Object.getOwnPropertySymbols(q);ne<$.length;ne++)G.indexOf($[ne])<0&&Object.prototype.propertyIsEnumerable.call(q,$[ne])&&(z[$[ne]]=q[$[ne]])}return z}function Re(q,G,z,$){return new(z||(z=Promise))(function(te,me){function ft(Ct){try{Ve($.next(Ct))}catch(rn){me(rn)}}function Te(Ct){try{Ve($.throw(Ct))}catch(rn){me(rn)}}function Ve(Ct){Ct.done?te(Ct.value):function ne(te){return te instanceof z?te:new z(function(me){me(te)})}(Ct.value).then(ft,Te)}Ve(($=$.apply(q,G||[])).next())})}function pt(q){return this instanceof pt?(this.v=q,this):new pt(q)}function zt(q,G,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,$=z.apply(q,G||[]),te=[];return ne={},me("next"),me("throw"),me("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function me(Kt){$[Kt]&&(ne[Kt]=function(pn){return new Promise(function(qn,Wn){te.push([Kt,pn,qn,Wn])>1||ft(Kt,pn)})})}function ft(Kt,pn){try{!function Te(Kt){Kt.value instanceof pt?Promise.resolve(Kt.value.v).then(Ve,Ct):rn(te[0][2],Kt)}($[Kt](pn))}catch(qn){rn(te[0][3],qn)}}function Ve(Kt){ft("next",Kt)}function Ct(Kt){ft("throw",Kt)}function rn(Kt,pn){Kt(pn),te.shift(),te.length&&ft(te[0][0],te[0][1])}}function Nn(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,G=q[Symbol.asyncIterator];return G?G.call(q):(q=function vt(q){var G="function"==typeof Symbol&&Symbol.iterator,z=G&&q[G],$=0;if(z)return z.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&$>=q.length&&(q=void 0),{value:q&&q[$++],done:!q}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),z={},$("next"),$("throw"),$("return"),z[Symbol.asyncIterator]=function(){return this},z);function $(te){z[te]=q[te]&&function(me){return new Promise(function(ft,Te){!function ne(te,me,ft,Te){Promise.resolve(Te).then(function(Ve){te({value:Ve,done:ft})},me)}(ft,Te,(me=q[te](me)).done,me.value)})}}}je.d(zn,{FC:()=>zt,KL:()=>Nn,_T:()=>Pe,mG:()=>Re,qq:()=>pt}),"function"==typeof SuppressedError&&SuppressedError}},Yr=>{Yr(Yr.s=676)}]);
