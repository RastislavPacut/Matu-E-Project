"use strict";(self.webpackChunkangular_school_project=self.webpackChunkangular_school_project||[]).push([[179],{217:(Zr,Bn,Be)=>{Be.d(Bn,{$:()=>ug,A:()=>le,G:()=>At,K:()=>_0,L:()=>na,N:()=>rr,P:()=>nu,R:()=>kg,U:()=>xe,V:()=>Ph,W:()=>Vc,X:()=>_r,Y:()=>no,Z:()=>or,_:()=>sa,a:()=>so,a0:()=>Nh,a1:()=>$c,a2:()=>jh,a3:()=>pg,a4:()=>w0,a5:()=>oi,a6:()=>la,a7:()=>mg,a8:()=>vl,a9:()=>I0,aA:()=>st,aB:()=>Vt,aC:()=>oe,aD:()=>lo,aE:()=>Y,aF:()=>ze,aG:()=>Rl,aH:()=>Bg,aI:()=>_a,aJ:()=>fn,aN:()=>Rn,aQ:()=>Eo,aa:()=>ye,ab:()=>nn,ac:()=>kr,ad:()=>_i,ae:()=>ca,af:()=>Ye,ag:()=>gg,ah:()=>Sn,ak:()=>bl,al:()=>$o,am:()=>wo,ap:()=>dg,aq:()=>wl,as:()=>JA,at:()=>rS,au:()=>Xt,av:()=>be,aw:()=>V,ax:()=>ht,ay:()=>ba,az:()=>$g,b:()=>C0,c:()=>qo,d:()=>Vg,e:()=>V0,f:()=>U0,g:()=>li,h:()=>Ct,i:()=>Jc,j:()=>ao,k:()=>Jg,l:()=>N0,m:()=>X0,o:()=>mS,p:()=>Zt,r:()=>F0,s:()=>Ng,u:()=>Yt});var C=Be(861),K=Be(58),k=Be(534),Ae=Be(879),mt=Be(582),ln=Be(537);const Zt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const At=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Un=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new Ae.Yd("@firebase/auth");function cn(f,...u){Ge.logLevel<=Ae.in.ERROR&&Ge.error(`Auth (${k.SDK_VERSION}): ${f}`,...u)}function ht(f,...u){throw nt(f,...u)}function Vt(f,...u){return nt(f,...u)}function Yi(f,u,d){const m=Object.assign(Object.assign({},Un()),{[u]:d});return new K.LL("auth","Firebase",m).create(u,{appName:f.name})}function On(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&ht(f,"argument-error"),Yi(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(f,...u){if("string"!=typeof f){const d=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return gt.create(f,...u)}function oe(f,u,...d){if(!f)throw nt(u,...d)}function bt(f){const u="INTERNAL ASSERTION FAILED: "+f;throw cn(u),new Error(u)}function Xt(f,u){f||bt(u)}function vn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Dn(){return"http:"===Ar()||"https:"===Ar()}function Ar(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Qi{constructor(u,d){this.shortDelay=u,this.longDelay=d,Xt(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Sr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dn()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vo(f,u){Xt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class q{static initialize(u,d,m){this.fetchImpl=u,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new Qi(3e4,6e4);function $(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ee(f,u,d,m){return J.apply(this,arguments)}function J(){return(J=(0,C.Z)(function*(f,u,d,m,_={}){return pe(f,_,(0,C.Z)(function*(){let E={},O={};m&&("GET"===u?O=m:E={body:JSON.stringify(m)});const H=(0,K.xO)(Object.assign({key:f.config.apiKey},O)).slice(1),ie=yield f._getAdditionalHeaders();return ie["Content-Type"]="application/json",f.languageCode&&(ie["X-Firebase-Locale"]=f.languageCode),q.fetch()(Et(f,f.config.apiHost,d,H),Object.assign({method:u,headers:ie,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function pe(f,u,d){return dt.apply(this,arguments)}function dt(){return(dt=(0,C.Z)(function*(f,u,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},G),u);try{const _=new Ht(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const O=yield E.json();if("needConfirmation"in O)throw un(f,"account-exists-with-different-credential",O);if(E.ok&&!("errorMessage"in O))return O;{const H=E.ok?O.errorMessage:O.error.message,[ie,Ee]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ie)throw un(f,"credential-already-in-use",O);if("EMAIL_EXISTS"===ie)throw un(f,"email-already-in-use",O);if("USER_DISABLED"===ie)throw un(f,"user-disabled",O);const Le=m[ie]||ie.toLowerCase().replace(/[_\s]+/g,"-");if(Ee)throw Yi(f,Le,Ee);ht(f,Le)}}catch(_){if(_ instanceof K.ZR)throw _;ht(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ie(f,u,d,m){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,C.Z)(function*(f,u,d,m,_={}){const E=yield ee(f,u,d,m,_);return"mfaPendingCredential"in E&&ht(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function Et(f,u,d,m){const _=`${u}${d}?${m}`;return f.config.emulator?vo(f.config,_):`${f.config.apiScheme}://${_}`}function en(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ht{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(Vt(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(f,u,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=Vt(f,u,m);return _.customData._tokenResponse=d,_}function zn(f){return void 0!==f&&void 0!==f.getResponse}function $n(f){return void 0!==f&&void 0!==f.enterprise}class ii{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return en(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Rr(){return(Rr=(0,C.Z)(function*(f){return(yield ee(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yr(f,u){return _t.apply(this,arguments)}function _t(){return(_t=(0,C.Z)(function*(f,u){return ee(f,"GET","/v2/recaptchaConfig",$(f,u))})).apply(this,arguments)}function Xr(){return(Xr=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Pr(){return(Pr=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Ji(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Lt(){return(Lt=(0,C.Z)(function*(f,u=!1){const d=(0,K.m9)(f),m=yield d.getIdToken(u),_=An(m);oe(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,O=E?.sign_in_provider;return{claims:_,token:m,authTime:Ji(tr(_.auth_time)),issuedAtTime:Ji(tr(_.iat)),expirationTime:Ji(tr(_.exp)),signInProvider:O||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function tr(f){return 1e3*Number(f)}function An(f){const[u,d,m]=f.split(".");if(void 0===u||void 0===d||void 0===m)return cn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,K.tV)(d);return _?JSON.parse(_):(cn("Failed to decode base64 JWT payload"),null)}catch(_){return cn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function dn(f,u){return bn.apply(this,arguments)}function bn(){return(bn=(0,C.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(m){throw m instanceof K.ZR&&function Jr({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class eo{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),m)}iteration(){var u=this;return(0,C.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Or{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(f){return kn.apply(this,arguments)}function kn(){return kn=(0,C.Z)(function*(f){var u;const d=f.auth,m=yield f.getIdToken(),_=yield dn(f,function fi(f,u){return Xi.apply(this,arguments)}(d,{idToken:m}));oe(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const O=null!==(u=E.providerUserInfo)&&void 0!==u&&u.length?function Fo(f){return f.map(u=>{var{providerId:d}=u,m=(0,mt._T)(u,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(E.providerUserInfo):[],H=function ta(f,u){return[...f.filter(m=>!u.some(_=>_.providerId===m.providerId)),...u]}(f.providerData,O),Le=!!f.isAnonymous&&!(f.email&&E.passwordHash||H?.length),vt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:H,metadata:new Or(E.createdAt,E.lastLoginAt),isAnonymous:Le};Object.assign(f,vt)}),kn.apply(this,arguments)}function nr(){return(nr=(0,C.Z)(function*(f){const u=(0,K.m9)(f);yield Hn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(f,u){const d=yield pe(f,{},(0,C.Z)(function*(){const m=(0,K.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,O=Et(f,_,"/v1/token",`key=${E}`),H=yield f._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",q.fetch()(O,{method:"POST",headers:H,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,C.Z)(function*(f,u){return ee(f,"POST","/v2/accounts:revokeToken",$(f,u))})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){oe(u.idToken,"internal-error"),oe(typeof u.idToken<"u","internal-error"),oe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function pl(f){const u=An(f);return oe(u,"internal-error"),oe(typeof u.exp<"u","internal-error"),oe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var m=this;return(0,C.Z)(function*(){return oe(!m.accessToken||m.refreshToken,u,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var m=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:O}=yield function gs(f,u){return to.apply(this,arguments)}(u,d);m.updateTokensAndExpiration(_,E,Number(O))})()}updateTokensAndExpiration(u,d,m){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,d){const{refreshToken:m,accessToken:_,expirationTime:E}=d,O=new b;return m&&(oe("string"==typeof m,"internal-error",{appName:u}),O.refreshToken=m),_&&(oe("string"==typeof _,"internal-error",{appName:u}),O.accessToken=_),E&&(oe("number"==typeof E,"internal-error",{appName:u}),O.expirationTime=E),O}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return bt("not implemented")}}function I(f,u){oe("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class v{constructor(u){var{uid:d,auth:m,stsTokenManager:_}=u,E=(0,mt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new Or(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,C.Z)(function*(){const m=yield dn(d,d.stsTokenManager.getToken(d.auth,u));return oe(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(u){return function ri(f){return Lt.apply(this,arguments)}(this,u)}reload(){return function pi(f){return nr.apply(this,arguments)}(this)}_assign(u){this!==u&&(oe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new v(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var m=this;return(0,C.Z)(function*(){let _=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Hn(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,C.Z)(function*(){const d=yield u.getIdToken();return yield dn(u,function Qr(f,u){return Xr.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var m,_,E,O,H,ie,Ee,Le;const vt=null!==(m=d.displayName)&&void 0!==m?m:void 0,Ri=null!==(_=d.email)&&void 0!==_?_:void 0,Co=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,Nl=null!==(O=d.photoURL)&&void 0!==O?O:void 0,t_=null!==(H=d.tenantId)&&void 0!==H?H:void 0,Ia=null!==(ie=d._redirectEventId)&&void 0!==ie?ie:void 0,Ko=null!==(Ee=d.createdAt)&&void 0!==Ee?Ee:void 0,n_=null!==(Le=d.lastLoginAt)&&void 0!==Le?Le:void 0,{uid:mu,emailVerified:bf,isAnonymous:xa,providerData:Ef,stsTokenManager:vi}=d;oe(mu&&vi,u,"internal-error");const nE=b.fromJSON(this.name,vi);oe("string"==typeof mu,u,"internal-error"),I(vt,u.name),I(Ri,u.name),oe("boolean"==typeof bf,u,"internal-error"),oe("boolean"==typeof xa,u,"internal-error"),I(Co,u.name),I(Nl,u.name),I(t_,u.name),I(Ia,u.name),I(Ko,u.name),I(n_,u.name);const Wn=new v({uid:mu,auth:u,email:Ri,emailVerified:bf,displayName:vt,isAnonymous:xa,photoURL:Nl,phoneNumber:Co,tenantId:t_,stsTokenManager:nE,createdAt:Ko,lastLoginAt:n_});return Ef&&Array.isArray(Ef)&&(Wn.providerData=Ef.map(wf=>Object.assign({},wf))),Ia&&(Wn._redirectEventId=Ia),Wn}static _fromIdTokenResponse(u,d,m=!1){return(0,C.Z)(function*(){const _=new b;_.updateFromServerResponse(d);const E=new v({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:m});return yield Hn(E),E})()}}const S=new Map;function Y(f){Xt(f instanceof Function,"Expected a class definition");let u=S.get(f);return u?(Xt(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,S.set(f,u),u)}const xe=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,C.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,C.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function ze(f,u,d){return`firebase:${f}:${u}:${d}`}class xt{constructor(u,d,m){this.persistence=u,this.auth=d,this.userKey=m;const{config:_,name:E}=this.auth;this.fullUserKey=ze(this.userKey,_.apiKey,E),this.fullPersistenceKey=ze("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,C.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?v._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,C.Z)(function*(){if(d.persistence===u)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,m="authUser"){return(0,C.Z)(function*(){if(!d.length)return new xt(Y(xe),u,m);const _=(yield Promise.all(d.map(function(){var Ee=(0,C.Z)(function*(Le){if(yield Le._isAvailable())return Le});return function(Le){return Ee.apply(this,arguments)}}()))).filter(Ee=>Ee);let E=_[0]||Y(xe);const O=ze(m,u.config.apiKey,u.name);let H=null;for(const Ee of d)try{const Le=yield Ee._get(O);if(Le){const vt=v._fromJSON(u,Le);Ee!==E&&(H=vt),E=Ee;break}}catch{}const ie=_.filter(Ee=>Ee._shouldAllowMigration);return E._shouldAllowMigration&&ie.length?(E=ie[0],H&&(yield E._set(O,H.toJSON())),yield Promise.all(d.map(function(){var Ee=(0,C.Z)(function*(Le){if(Le!==E)try{yield Le._remove(O)}catch{}});return function(Le){return Ee.apply(this,arguments)}}())),new xt(E,u,m)):new xt(E,u,m)})()}}function _e(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(_s(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(jt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(P(u))return"Blackberry";if(re(u))return"Webos";if(Me(u))return"Safari";if((u.includes("chrome/")||Jn(u))&&!u.includes("edge/"))return"Chrome";if(V(u))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function jt(f=(0,K.z$)()){return/firefox\//i.test(f)}function Me(f=(0,K.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Jn(f=(0,K.z$)()){return/crios\//i.test(f)}function _s(f=(0,K.z$)()){return/iemobile/i.test(f)}function V(f=(0,K.z$)()){return/android/i.test(f)}function P(f=(0,K.z$)()){return/blackberry/i.test(f)}function re(f=(0,K.z$)()){return/webos/i.test(f)}function be(f=(0,K.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function st(f=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function hn(f=(0,K.z$)()){return be(f)||V(f)||re(f)||P(f)||/windows phone/i.test(f)||_s(f)}function at(f,u=[]){let d;switch(f){case"Browser":d=_e((0,K.z$)());break;case"Worker":d=`${_e((0,K.z$)())}-${f}`;break;default:d=f}const m=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${k.SDK_VERSION}/${m}`}class ml{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const m=E=>new Promise((O,H)=>{try{O(u(E))}catch(ie){H(ie)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===u)return;const m=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const E of m)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function bh(){return(bh=(0,C.Z)(function*(f,u={}){return ee(f,"GET","/v2/passwordPolicy",$(f,u))})).apply(this,arguments)}class ir{constructor(u){var d,m,_,E;const O=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=O.minPasswordLength)&&void 0!==d?d:6,O.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=O.maxPasswordLength),void 0!==O.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=O.containsLowercaseCharacter),void 0!==O.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=O.containsUppercaseCharacter),void 0!==O.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=O.containsNumericCharacter),void 0!==O.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=O.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=u.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,m,_,E,O,H;const ie={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ie),this.validatePasswordCharacterOptions(u,ie),ie.isValid&&(ie.isValid=null===(d=ie.meetsMinPasswordLength)||void 0===d||d),ie.isValid&&(ie.isValid=null===(m=ie.meetsMaxPasswordLength)||void 0===m||m),ie.isValid&&(ie.isValid=null===(_=ie.containsLowercaseLetter)||void 0===_||_),ie.isValid&&(ie.isValid=null===(E=ie.containsUppercaseLetter)||void 0===E||E),ie.isValid&&(ie.isValid=null===(O=ie.containsNumericCharacter)||void 0===O||O),ie.isValid&&(ie.isValid=null===(H=ie.containsNonAlphanumericCharacter)||void 0===H||H),ie}validatePasswordLengthOptions(u,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=u.length>=m),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)m=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,d,m,_,E){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=E))}}class HA{constructor(u,d,m,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new ml(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var m=this;return d&&(this._popupRedirectResolver=Y(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!m._deleted&&(m.persistenceManager=yield xt.create(m,u),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(E=m.currentUser)||void 0===E?void 0:E.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,C.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,C.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let E=_,O=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const H=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,ie=E?._redirectEventId,Ee=yield d.tryRedirectSignIn(u);(!H||H===ie)&&Ee?.user&&(E=Ee.user,O=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(O)try{yield d.beforeStateQueue.runMiddleware(E)}catch(H){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(H))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(u){var d=this;return(0,C.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,C.Z)(function*(){try{yield Hn(u)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,C.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,C.Z)(function*(){const m=u?(0,K.m9)(u):null;return m&&oe(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(u,d=!1){var m=this;return(0,C.Z)(function*(){if(!m._deleted)return u&&oe(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,C.Z)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,C.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(Y(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,C.Z)(function*(){const d=yield function $A(f){return bh.apply(this,arguments)}(u),m=new ir(d);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new K.LL("auth","Firebase",u())}onAuthStateChanged(u,d,m){return this.registerStateListener(this.authStateSubscription,u,d,m)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,m){return this.registerStateListener(this.idTokenSubscription,u,d,m)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,C.Z)(function*(){if(d.currentUser){const m=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function R(f,u){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var m=this;return(0,C.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const m=u&&Y(u)||d._popupRedirectResolver;oe(m,d,"argument-error"),d.redirectPersistenceManager=yield xt.create(d,[Y(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,C.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,C.Z)(function*(){if(u===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,m,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let O=!1;const H=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(H,this,"internal-error"),H.then(()=>{O||E(this.currentUser)}),"function"==typeof d){const ie=u.addObserver(d,m,_);return()=>{O=!0,ie()}}{const ie=u.addObserver(d);return()=>{O=!0,ie()}}}directlySetCurrentUser(u){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=at(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,C.Z)(function*(){var d;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const E=yield u._getAppCheckToken();return E&&(m["X-Firebase-AppCheck"]=E),m})()}_getAppCheckToken(){var u=this;return(0,C.Z)(function*(){var d;const m=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function jn(f,...u){Ge.logLevel<=Ae.in.WARN&&Ge.warn(`Auth (${k.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function fn(f){return(0,K.m9)(f)}class f0{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,K.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tg(f){return new Promise((u,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=u,m.onerror=_=>{const E=Vt("internal-error");E.customData=_,d(E)},m.type="text/javascript",m.charset="UTF-8",function ys(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(m)})}function p0(f){return`__${f}${Math.floor(1e6*Math.random())}`}class g0{constructor(u){this.type="recaptcha-enterprise",this.auth=fn(u)}verify(u="verify",d=!1){var m=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(H){if(!d){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var ie=(0,C.Z)(function*(Ee,Le){Yr(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vt=>{if(void 0!==vt.recaptchaKey){const Ri=new ii(vt);return null==H.tenantId?H._agentRecaptchaConfig=Ri:H._tenantRecaptchaConfigs[H.tenantId]=Ri,Ee(Ri.siteKey)}Le(new Error("recaptcha Enterprise site key undefined"))}).catch(vt=>{Le(vt)})});return function(Ee,Le){return ie.apply(this,arguments)}}())}),E.apply(this,arguments)}function O(H,ie,Ee){const Le=window.grecaptcha;$n(Le)?Le.enterprise.ready(()=>{Le.enterprise.execute(H,{action:u}).then(vt=>{ie(vt)}).catch(()=>{ie("NO_RECAPTCHA")})}):Ee(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,ie)=>{(function _(H){return E.apply(this,arguments)})(m.auth).then(Ee=>{if(!d&&$n(window.grecaptcha))O(Ee,H,ie);else{if(typeof window>"u")return void ie(new Error("RecaptchaVerifier is only supported in browser"));tg("https://www.google.com/recaptcha/enterprise.js?render="+Ee).then(()=>{O(Ee,H,ie)}).catch(Le=>{ie(Le)})}}).catch(Ee=>{ie(Ee)})})})()}}function ng(f,u,d){return ig.apply(this,arguments)}function ig(){return(ig=(0,C.Z)(function*(f,u,d,m=!1){const _=new g0(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const O=Object.assign({},u);return Object.assign(O,m?{captchaResp:E}:{captchaResponse:E}),Object.assign(O,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(O,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),O})).apply(this,arguments)}function mi(f,u,d,m){return je.apply(this,arguments)}function je(){return je=(0,C.Z)(function*(f,u,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield ng(f,u,d,"getOobCode"===d);return m(f,E)}return m(f,u).catch(function(){var E=(0,C.Z)(function*(O){if("auth/missing-recaptcha-token"===O.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=yield ng(f,u,d,"getOobCode"===d);return m(f,H)}return Promise.reject(O)});return function(O){return E.apply(this,arguments)}}())}),je.apply(this,arguments)}function _0(f,u,d){const m=fn(f);oe(m._canInitEmulator,m,"emulator-config-failed"),oe(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=St(u),{host:O,port:H}=function Sc(f){const u=St(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const E=_[1];return{host:E,port:og(m.substr(E.length+1))}}{const[E,O]=m.split(":");return{host:E,port:og(O)}}}(u);m.config.emulator={url:`${E}//${O}${null===H?"":`:${H}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:O,port:H,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function sg(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function St(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function og(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class na{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return bt("not implemented")}_getIdTokenResponse(u){return bt("not implemented")}_linkToIdToken(u,d){return bt("not implemented")}_getReauthenticationResolver(u){return bt("not implemented")}}function gl(f,u){return ia.apply(this,arguments)}function ia(){return(ia=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:resetPassword",$(f,u))})).apply(this,arguments)}function Rc(){return(Rc=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function y0(f,u){return lt.apply(this,arguments)}function lt(){return(lt=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Mc(){return(Mc=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",$(f,u))})).apply(this,arguments)}function Ui(f,u){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithPassword",$(f,u))})).apply(this,arguments)}function xh(f,u){return zt.apply(this,arguments)}function zt(){return(zt=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendOobCode",$(f,u))})).apply(this,arguments)}function ag(){return(ag=(0,C.Z)(function*(f,u){return xh(f,u)})).apply(this,arguments)}function ne(f,u){return _l.apply(this,arguments)}function _l(){return(_l=(0,C.Z)(function*(f,u){return xh(f,u)})).apply(this,arguments)}function Ch(f,u){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,C.Z)(function*(f,u){return xh(f,u)})).apply(this,arguments)}function Dh(){return(Dh=(0,C.Z)(function*(f,u){return xh(f,u)})).apply(this,arguments)}function lg(){return(lg=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithEmailLink",$(f,u))})).apply(this,arguments)}function cg(){return(cg=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithEmailLink",$(f,u))})).apply(this,arguments)}class kc extends na{constructor(u,d,m,_=null){super("password",m),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new kc(u,d,"password")}static _fromEmailAndCode(u,d,m=null){return new kc(u,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return mi(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ui);case"emailLink":return function Ah(f,u){return lg.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:ht(u,"internal-error")}})()}_linkToIdToken(u,d){var m=this;return(0,C.Z)(function*(){switch(m.signInMethod){case"password":return mi(u,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y0);case"emailLink":return function YA(f,u){return cg.apply(this,arguments)}(u,{idToken:d,email:m._email,oobCode:m._password});default:ht(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Lo(f,u){return vs.apply(this,arguments)}function vs(){return(vs=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithIdp",$(f,u))})).apply(this,arguments)}class rr extends na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new rr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):ht("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_}=d,E=(0,mt._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const O=new rr(m,_);return O.idToken=E.idToken||void 0,O.accessToken=E.accessToken||void 0,O.secret=E.secret,O.nonce=E.nonce,O.pendingToken=E.pendingToken||null,O}_getIdTokenResponse(u){return Lo(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,Lo(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Lo(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,K.xO)(d)}return u}}function Rh(){return(Rh=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:sendVerificationCode",$(f,u))})).apply(this,arguments)}function Nc(){return(Nc=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,u))})).apply(this,arguments)}function Mh(){return(Mh=(0,C.Z)(function*(f,u){const d=yield Ie(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,u));if(d.temporaryProof)throw un(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Vo={USER_NOT_FOUND:"user-not-found"};function B(){return(B=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithPhoneNumber",$(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Vo)})).apply(this,arguments)}class Bo extends na{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Bo({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Bo({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function b0(f,u){return Nc.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function ra(f,u){return Mh.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function E0(f,u){return B.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}=u;return m||d||_||E?new Bo({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:E}):null}}class bs{constructor(u){var d,m,_,E,O,H;const ie=(0,K.zd)((0,K.pd)(u)),Ee=null!==(d=ie.apiKey)&&void 0!==d?d:null,Le=null!==(m=ie.oobCode)&&void 0!==m?m:null,vt=function he(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=ie.mode)&&void 0!==_?_:null);oe(Ee&&Le&&vt,"argument-error"),this.apiKey=Ee,this.operation=vt,this.code=Le,this.continueUrl=null!==(E=ie.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(O=ie.languageCode)&&void 0!==O?O:null,this.tenantId=null!==(H=ie.tenantId)&&void 0!==H?H:null}static parseLink(u){const d=function Fc(f){const u=(0,K.zd)((0,K.pd)(f)).link,d=u?(0,K.zd)((0,K.pd)(u)).deep_link_id:null,m=(0,K.zd)((0,K.pd)(f)).deep_link_id;return(m?(0,K.zd)((0,K.pd)(m)).link:null)||m||d||u||f}(u);try{return new bs(d)}catch{return null}}}let Ph=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return kc._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=bs.parseLink(m);return oe(_,"argument-error"),kc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class bo{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class oa extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class or extends oa{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),rr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return oe(u.idToken||u.accessToken,"argument-error"),rr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return or.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return or.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:E,nonce:O,providerId:H}=u;if(!m&&!_&&!d&&!E||!H)return null;try{return new or(H)._credential({idToken:d,accessToken:m,nonce:O,pendingToken:E})}catch{return null}}}let Vc=(()=>{class f extends oa{constructor(){super("facebook.com")}static credential(d){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),_r=(()=>{class f extends oa{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),no=(()=>{class f extends oa{constructor(){super("github.com")}static credential(d){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Eo extends na{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Lo(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,Lo(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Lo(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_,pendingToken:E}=d;return m&&_&&E&&m===_?new Eo(m,E):null}static _create(u,d){return new Eo(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sa extends bo{constructor(u){oe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return sa.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return sa.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Eo.fromJSON(u);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:m}=u;if(!d||!m)return null;try{return Eo._create(m,d)}catch{return null}}}let ug=(()=>{class f extends oa{constructor(){super("twitter.com")}static credential(d,m){return rr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function io(f,u){return Es.apply(this,arguments)}function Es(){return(Es=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signUp",$(f,u))})).apply(this,arguments)}class sr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,m,_=!1){return(0,C.Z)(function*(){const E=yield v._fromIdTokenResponse(u,m,_),O=kh(m);return new sr({user:E,providerId:O,_tokenResponse:m,operationType:d})})()}static _forOperation(u,d,m){return(0,C.Z)(function*(){yield u._updateTokensIfNecessary(m,!0);const _=kh(m);return new sr({user:u,providerId:_,_tokenResponse:m,operationType:d})})()}}function kh(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Nh(f){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,C.Z)(function*(f){var u;const d=fn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new sr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield io(d,{returnSecureToken:!0}),_=yield sr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class yl extends K.ZR{constructor(u,d,m,_){var E;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,yl.prototype),this.customData={appName:u.name,tenantId:null!==(E=u.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,d,m,_){return new yl(u,d,m,_)}}function aa(f,u,d,m){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?yl._fromErrorAndOperation(f,E,u,m):E})}function Fh(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function dg(f,u){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);yield jc(!0,d,u);const{providerUserInfo:m}=yield function Mr(f,u){return Pr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=Fh(m||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Lh.apply(this,arguments)}function Uc(f,u){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,C.Z)(function*(f,u,d=!1){const m=yield dn(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return sr._forOperation(f,"link",m)})).apply(this,arguments)}function jc(f,u,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(f,u,d){yield Hn(u);const _=!1===f?"provider-already-linked":"no-such-provider";oe(Fh(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function hg(f,u){return zc.apply(this,arguments)}function zc(){return(zc=(0,C.Z)(function*(f,u,d=!1){const{auth:m}=f,_="reauthenticate";try{const E=yield dn(f,aa(m,_,u,f),d);oe(E.idToken,m,"internal-error");const O=An(E.idToken);oe(O,m,"internal-error");const{sub:H}=O;return oe(f.uid===H,m,"user-mismatch"),sr._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&ht(m,"user-mismatch"),E}})).apply(this,arguments)}function fg(f,u){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,C.Z)(function*(f,u,d=!1){const m="signIn",_=yield aa(f,m,u),E=yield sr._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function $c(f,u){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,C.Z)(function*(f,u){return fg(fn(f),u)})).apply(this,arguments)}function jh(f,u){return zh.apply(this,arguments)}function zh(){return(zh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f);return yield jc(!1,d,u.providerId),Uc(d,u)})).apply(this,arguments)}function pg(f,u){return $h.apply(this,arguments)}function $h(){return($h=(0,C.Z)(function*(f,u){return hg((0,K.m9)(f),u)})).apply(this,arguments)}function Hh(){return(Hh=(0,C.Z)(function*(f,u){return Ie(f,"POST","/v1/accounts:signInWithCustomToken",$(f,u))})).apply(this,arguments)}function w0(f,u){return qh.apply(this,arguments)}function qh(){return qh=(0,C.Z)(function*(f,u){const d=fn(f),m=yield function qn(f,u){return Hh.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield sr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),qh.apply(this,arguments)}class wt{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Wh._fromServerResponse(u,d):"totpInfo"in d?Hc._fromServerResponse(u,d):ht(u,"internal-error")}}class Wh extends wt{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Wh(d)}}class Hc extends wt{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Hc(d)}}function Fe(f,u,d){var m;oe((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function gi(f){return yt.apply(this,arguments)}function yt(){return(yt=(0,C.Z)(function*(f){const u=fn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function oi(f,u,d){return si.apply(this,arguments)}function si(){return(si=(0,C.Z)(function*(f,u,d){const m=fn(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Fe(m,_,d),yield mi(m,_,"getOobCode",ne)})).apply(this,arguments)}function la(f,u,d){return Di.apply(this,arguments)}function Di(){return Di=(0,C.Z)(function*(f,u,d){yield gl((0,K.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&gi(f),_});return function(_){return m.apply(this,arguments)}}())}),Di.apply(this,arguments)}function mg(f,u){return qc.apply(this,arguments)}function qc(){return qc=(0,C.Z)(function*(f,u){yield function Ih(f,u){return Mc.apply(this,arguments)}((0,K.m9)(f),{oobCode:u})}),qc.apply(this,arguments)}function vl(f,u){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),m=yield gl(d,{oobCode:u}),_=m.requestType;switch(oe(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(m.mfaInfo,d,"internal-error");default:oe(m.email,d,"internal-error")}let E=null;return m.mfaInfo&&(E=wt._fromServerResponse(fn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function I0(f,u){return tn.apply(this,arguments)}function tn(){return(tn=(0,C.Z)(function*(f,u){const{data:d}=yield vl((0,K.m9)(f),u);return d.email})).apply(this,arguments)}function ye(f,u,d){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,C.Z)(function*(f,u,d){const m=fn(f),O=yield mi(m,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",io).catch(ie=>{throw"auth/password-does-not-meet-requirements"===ie.code&&gi(f),ie}),H=yield sr._fromIdTokenResponse(m,"signIn",O);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}function nn(f,u,d){return $c((0,K.m9)(f),Ph.credential(u,d)).catch(function(){var m=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&gi(f),_});return function(_){return m.apply(this,arguments)}}())}function kr(f,u,d){return ws.apply(this,arguments)}function ws(){return(ws=(0,C.Z)(function*(f,u,d){const m=fn(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function E(O,H){oe(H.handleCodeInApp,m,"argument-error"),H&&Fe(m,O,H)})(_,d),yield mi(m,_,"getOobCode",Ch)})).apply(this,arguments)}function _i(f,u){const d=bs.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function ca(f,u,d){return pn.apply(this,arguments)}function pn(){return(pn=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=Ph.credentialWithLink(u,d||vn());return oe(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),$c(m,_)})).apply(this,arguments)}function jo(){return(jo=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:createAuthUri",$(f,u))})).apply(this,arguments)}function Ye(f,u){return Is.apply(this,arguments)}function Is(){return Is=(0,C.Z)(function*(f,u){const m={identifier:u,continueUri:Dn()?vn():"http://localhost"},{signinMethods:_}=yield function Uo(f,u){return jo.apply(this,arguments)}((0,K.m9)(f),m);return _||[]}),Is.apply(this,arguments)}function gg(f,u){return zo.apply(this,arguments)}function zo(){return zo=(0,C.Z)(function*(f,u){const d=(0,K.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&Fe(d.auth,_,u);const{email:E}=yield function ZA(f,u){return ag.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),zo.apply(this,arguments)}function Sn(f,u,d){return xs.apply(this,arguments)}function xs(){return xs=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&Fe(m.auth,E,d);const{email:O}=yield function Th(f,u){return Dh.apply(this,arguments)}(m.auth,E);O!==f.email&&(yield f.reload())}),xs.apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(f,u){return ee(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function bl(f,u){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,C.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const m=(0,K.m9)(f),E={idToken:yield m.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},O=yield dn(m,function ua(f,u){return yr.apply(this,arguments)}(m.auth,E));m.displayName=O.displayName||null,m.photoURL=O.photoUrl||null;const H=m.providerData.find(({providerId:ie})=>"password"===ie);H&&(H.displayName=m.displayName,H.photoURL=m.photoURL),yield m._updateTokensIfNecessary(O)}),Wc.apply(this,arguments)}function $o(f,u){return da((0,K.m9)(f),u,null)}function wo(f,u){return da((0,K.m9)(f),null,u)}function da(f,u,d){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,C.Z)(function*(f,u,d){const{auth:m}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(E.email=u),d&&(E.password=d);const O=yield dn(f,function wh(f,u){return Rc.apply(this,arguments)}(m,E));yield f._updateTokensIfNecessary(O,!0)}),Cs.apply(this,arguments)}class El{constructor(u,d,m={}){this.isNewUser=u,this.providerId=d,this.profile=m}}class Gc extends El{constructor(u,d,m,_){super(u,d,m),this.username=_}}class _g extends El{constructor(u,d){super(u,"facebook.com",d)}}class ro extends Gc{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Kc extends El{constructor(u,d){super(u,"google.com",d)}}class ha extends Gc{constructor(u,d,m){super(u,"twitter.com",d,m)}}function wl(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function pt(f){var u,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const O=null===(d=null===(u=An(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(O)return new El(E,"anonymous"!==O&&"custom"!==O?O:null)}if(!m)return null;switch(m){case"facebook.com":return new _g(E,_);case"github.com":return new ro(E,_);case"google.com":return new Kc(E,_);case"twitter.com":return new ha(E,_,f.screenName||null);case"custom":case"anonymous":return new El(E,null);default:return new El(E,m,_)}}(d)}class Ds{constructor(u,d,m){this.type=u,this.credential=d,this.user=m}static _fromIdtoken(u,d){return new Ds("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ds("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,m;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ds._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return Ds._fromIdtoken(u.multiFactorSession.idToken)}return null}}class vg{constructor(u,d,m){this.session=u,this.hints=d,this.signInResolver=m}static _fromError(u,d){const m=fn(u),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(H=>wt._fromServerResponse(m,H));oe(_.mfaPendingCredential,m,"internal-error");const O=Ds._fromMfaPendingCredential(_.mfaPendingCredential);return new vg(O,E,function(){var H=(0,C.Z)(function*(ie){const Ee=yield ie._process(m,O);delete _.mfaInfo,delete _.mfaPendingCredential;const Le=Object.assign(Object.assign({},_),{idToken:Ee.idToken,refreshToken:Ee.refreshToken});switch(d.operationType){case"signIn":const vt=yield sr._fromIdTokenResponse(m,d.operationType,Le);return yield m._updateCurrentUser(vt.user),vt;case"reauthenticate":return oe(d.user,m,"internal-error"),sr._forOperation(d.user,d.operationType,Le);default:ht(m,"internal-error")}});return function(ie){return H.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,C.Z)(function*(){return d.signInResolver(u)})()}}function JA(f,u){var d;const m=(0,K.m9)(f),_=u;return oe(u.customData.operationType,m,"argument-error"),oe(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),vg._fromError(m,_)}class bg{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>wt._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new bg(u)}getSession(){var u=this;return(0,C.Z)(function*(){return Ds._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var m=this;return(0,C.Z)(function*(){const _=u,E=yield m.getSession(),O=yield dn(m.user,_._process(m.user.auth,E,d));return yield m.user._updateTokensIfNecessary(O),m.user.reload()})()}unenroll(u){var d=this;return(0,C.Z)(function*(){const m="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const E=yield dn(d.user,function iS(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:withdraw",$(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:O})=>O!==m),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Eg=new WeakMap;function rS(f){const u=(0,K.m9)(f);return Eg.has(u)||Eg.set(u,bg._fromUser(u)),Eg.get(u)}const Qh="__sak";class x0{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const C0=(()=>{class f extends x0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wg(){const f=(0,K.z$)();return Me(f)||be(f)}()&&function Ce(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),E=this.localCache[m];_!==E&&d(m,E,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((H,ie,Ee)=>{this.notifyListeners(H,Ee)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(_);if(d.newValue!==H)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const E=()=>{const H=this.storage.getItem(_);!m&&this.localCache[_]===H||this.notifyListeners(_,H)},O=this.storage.getItem(_);!function F(){return(0,K.w1)()&&10===document.documentMode}()||O===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,m),E.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield m().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var m=()=>super._remove,_=this;return(0,C.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),so=(()=>{class f extends x0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let aS=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(E=>E.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:O,data:H}=_.data,ie=m.handlersMap[O];if(!ie?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:O});const Ee=Array.from(ie).map(function(){var vt=(0,C.Z)(function*(Ri){return Ri(_.origin,H)});return function(Ri){return vt.apply(this,arguments)}}()),Le=yield function sS(f){return Promise.all(f.map(function(){var u=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return u.apply(this,arguments)}}()))}(Ee);_.ports[0].postMessage({status:"done",eventId:E,eventType:O,response:Le})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Rn(f="",u=10){let d="";for(let m=0;m<u;m++)d+=Math.floor(10*Math.random());return f+d}class Zc{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,m=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let O,H;return new Promise((ie,Ee)=>{const Le=Rn("",20);E.port1.start();const vt=setTimeout(()=>{Ee(new Error("unsupported_event"))},m);H={messageChannel:E,onMessage(Ri){const Co=Ri;if(Co.data.eventId===Le)switch(Co.data.status){case"ack":clearTimeout(vt),O=setTimeout(()=>{Ee(new Error("timeout"))},3e3);break;case"done":clearTimeout(O),ie(Co.data.response);break;default:clearTimeout(vt),clearTimeout(O),Ee(new Error("invalid_response"))}}},_.handlers.add(H),E.port1.addEventListener("message",H.onMessage),_.target.postMessage({eventType:u,eventId:Le,data:d},[E.port2])}).finally(()=>{H&&_.removeMessageHandler(H)})})()}}function Nt(){return window}function Yc(){return typeof Nt().WorkerGlobalScope<"u"&&"function"==typeof Nt().importScripts}function Qc(){return(Qc=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xc="firebaseLocalStorageDb",Il="firebaseLocalStorage",ef="fbase_key";class pa{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function As(f,u){return f.transaction([Il],u?"readwrite":"readonly").objectStore(Il)}function Ho(){const f=indexedDB.open(Xc,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Il,{keyPath:ef})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Il)?u(m):(m.close(),yield function xl(){const f=indexedDB.deleteDatabase(Xc);return new pa(f).toPromise()}(),u(yield Ho()))}))})}function tf(f,u,d){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,C.Z)(function*(f,u,d){const m=As(f,!0).put({[ef]:u,value:d});return new pa(m).toPromise()})).apply(this,arguments)}function Ag(){return(Ag=(0,C.Z)(function*(f,u){const d=As(f,!1).get(u),m=yield new pa(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Sg(f,u){const d=As(f,!0).delete(u);return new pa(d).toPromise()}const Jc=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield Ho()),d.db})()}_withRetries(d){var m=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield m._openDb();return yield d(E)}catch(E){if(_++>3)throw E;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return Yc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=aS._getInstance(function Tg(){return Yc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function Cg(){return Qc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Zc(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(m=E[0])&&void 0!==m&&m.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,C.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function Xh(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Ho();return yield tf(d,Qh,"1"),yield Sg(d,Qh),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,C.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>tf(E,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,C.Z)(function*(){const _=yield m._withRetries(E=>function lS(f,u){return Ag.apply(this,arguments)}(E,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,C.Z)(function*(){return m._withPendingWrite((0,C.Z)(function*(){return yield m._withRetries(_=>Sg(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const m=yield d._withRetries(O=>{const H=As(O,!1).getAll();return new pa(H).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;if(0!==m.length)for(const{fbase_key:O,value:H}of m)E.add(O),JSON.stringify(d.localCache[O])!==JSON.stringify(H)&&(d.notifyListeners(O,H),_.push(O));for(const O of Object.keys(d.localCache))d.localCache[O]&&!E.has(O)&&(d.notifyListeners(O,null),_.push(O));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Cl=1e12;class Rg{constructor(u){this.auth=u,this.counter=Cl,this._widgets=new Map}render(u,d){const m=this.counter;return this._widgets.set(m,new R0(u,this.auth.name,d||{})),this.counter++,m}reset(u){var d;const m=u||Cl;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Cl))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,C.Z)(function*(){var m;return null===(m=d._widgets.get(u||Cl))||void 0===m||m.execute(),""})()}}class R0{constructor(u,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;oe(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function M0(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rf=p0("rcb"),Mg=new Qi(3e4,6e4);class Pg{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Nt().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return oe(function O0(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&zn(Nt().grecaptcha)?Promise.resolve(Nt().grecaptcha):new Promise((m,_)=>{const E=Nt().setTimeout(()=>{_(Vt(u,"network-request-failed"))},Mg.get());Nt()[rf]=()=>{Nt().clearTimeout(E),delete Nt()[rf];const H=Nt().grecaptcha;if(!H||!zn(H))return void _(Vt(u,"internal-error"));const ie=H.render;H.render=(Ee,Le)=>{const vt=ie(Ee,Le);return this.counter++,vt},this.hostLanguage=d,m(H)},tg(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:rf,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(Vt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Nt().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hS{load(u){return(0,C.Z)(function*(){return new Rg(u)})()}clearedOneInstance(){}}const Og="recaptcha",vr={theme:"light",type:"image"};class kg{constructor(u,d,m=Object.assign({},vr)){this.parameters=m,this.type=Og,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(u),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;oe(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hS:new Pg,this.validateStartingState()}verify(){var u=this;return(0,C.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(d)||new Promise(E=>{const O=H=>{H&&(u.tokenChangeListeners.delete(O),E(H))};u.tokenChangeListeners.add(O),u.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof u)u(d);else if("string"==typeof u){const m=Nt()[u];"function"==typeof m&&m(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,C.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,C.Z)(function*(){oe(Dn()&&!Yc(),u.auth,"internal-error"),yield function k0(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Bi(f){return Rr.apply(this,arguments)}(u.auth);oe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sf{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Bo._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Ng(f,u,d){return eu.apply(this,arguments)}function eu(){return(eu=(0,C.Z)(function*(f,u,d){const m=fn(f),_=yield Dl(m,u,(0,K.m9)(d));return new sf(_,E=>$c(m,E))})).apply(this,arguments)}function N0(f,u,d){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);yield jc(!1,m,"phone");const _=yield Dl(m.auth,u,(0,K.m9)(d));return new sf(_,E=>jh(m,E))})).apply(this,arguments)}function F0(f,u,d){return br.apply(this,arguments)}function br(){return(br=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f),_=yield Dl(m.auth,u,(0,K.m9)(d));return new sf(_,E=>pg(m,E))})).apply(this,arguments)}function Dl(f,u,d){return tu.apply(this,arguments)}function tu(){return tu=(0,C.Z)(function*(f,u,d){var m;const _=yield d.verify();try{let E;if(oe("string"==typeof _,f,"argument-error"),oe(d.type===Og,f,"argument-error"),E="string"==typeof u?{phoneNumber:u}:u,"session"in E){const O=E.session;if("phoneNumber"in E)return oe("enroll"===O.type,f,"internal-error"),(yield function eS(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:start",$(f,u))}(f,{idToken:O.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{oe("signin"===O.type,f,"internal-error");const H=(null===(m=E.multiFactorHint)||void 0===m?void 0:m.uid)||E.multiFactorUid;return oe(H,f,"missing-multi-factor-info"),(yield function A0(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:start",$(f,u))}(f,{mfaPendingCredential:O.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:O}=yield function v0(f,u){return Rh.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return O}}finally{d._reset()}}),tu.apply(this,arguments)}function Yt(f,u){return Al.apply(this,arguments)}function Al(){return(Al=(0,C.Z)(function*(f,u){yield Uc((0,K.m9)(f),u)})).apply(this,arguments)}let nu=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=fn(d)}verifyPhoneNumber(d,m){return Dl(this.auth,d,(0,K.m9)(m))}static credential(d,m){return Bo._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?Bo._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Nn(f,u){return u?Y(u):(oe(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class af extends na{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Lo(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Lo(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Lo(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Fg(f){return fg(f.auth,new af(f),f.bypassAuthState)}function ma(f){const{auth:u,user:d}=f;return oe(d,u,"internal-error"),hg(d,new af(f),f.bypassAuthState)}function cr(f){return lf.apply(this,arguments)}function lf(){return(lf=(0,C.Z)(function*(f){const{auth:u,user:d}=f;return oe(d,u,"internal-error"),Uc(d,new af(f),f.bypassAuthState)})).apply(this,arguments)}class Lg{constructor(u,d,m,_,E=!1){this.auth=u,this.resolver=m,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,C.Z)(function*(m,_){u.pendingPromise={resolve:m,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(E){u.reject(E)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,C.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:E,tenantId:O,error:H,type:ie}=u;if(H)return void d.reject(H);const Ee={auth:d.auth,requestUri:m,sessionId:_,tenantId:O||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ie)(Ee))}catch(Le){d.reject(Le)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Fg;case"linkViaPopup":case"linkViaRedirect":return cr;case"reauthViaPopup":case"reauthViaRedirect":return ma;default:ht(this.auth,"internal-error")}}resolve(u){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L0=new Qi(2e3,1e4);function qo(f,u,d){return iu.apply(this,arguments)}function iu(){return(iu=(0,C.Z)(function*(f,u,d){const m=fn(f);On(f,u,bo);const _=Nn(m,d);return new cf(m,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function V0(f,u,d){return ru.apply(this,arguments)}function ru(){return(ru=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,bo);const _=Nn(m.auth,d);return new cf(m.auth,"reauthViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}function Vg(f,u,d){return ou.apply(this,arguments)}function ou(){return(ou=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,bo);const _=Nn(m.auth,d);return new cf(m.auth,"linkViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}let cf=(()=>{class f extends Lg{constructor(d,m,_,E,O){super(d,m,E,O),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const m=yield d.execute();return oe(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,C.Z)(function*(){Xt(1===d.filter.length,"Popup operations only handle one event");const m=Rn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Vt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,L0.get())};d()}}return f.currentPopupAction=null,f})();const $e="pendingRedirect",ga=new Map;class fS extends Lg{constructor(u,d,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,C.Z)(function*(){let m=ga.get(d.auth._key());if(!m){try{const E=(yield function B0(f,u){return uf.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;m=()=>Promise.resolve(E)}catch(_){m=()=>Promise.reject(_)}ga.set(d.auth._key(),m)}return d.bypassAuthState||ga.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,m=this;return(0,C.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(m,u);if("unknown"!==u.type){if(u.eventId){const _=yield m.auth._redirectUserForId(u.eventId);if(_)return m.user=_,d().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function uf(){return(uf=(0,C.Z)(function*(f,u){const d=jg(u),m=Ug(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function df(f,u){return su.apply(this,arguments)}function su(){return(su=(0,C.Z)(function*(f,u){return Ug(f)._set(jg(u),"true")})).apply(this,arguments)}function _a(){ga.clear()}function Bg(f,u){ga.set(f._key(),u)}function Ug(f){return Y(f._redirectPersistence)}function jg(f){return ze($e,f.config.apiKey,f.name)}function U0(f,u,d){return function j0(f,u,d){return te.apply(this,arguments)}(f,u,d)}function te(){return(te=(0,C.Z)(function*(f,u,d){const m=fn(f);On(f,u,bo),yield m._initializationPromise;const _=Nn(m,d);return yield df(_,m),_._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function Ct(f,u,d){return function ya(f,u,d){return Wo.apply(this,arguments)}(f,u,d)}function Wo(){return(Wo=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,bo),yield m.auth._initializationPromise;const _=Nn(m.auth,d);yield df(_,m.auth);const E=yield z0(m);return _._openRedirect(m.auth,u,"reauthViaRedirect",E)})).apply(this,arguments)}function li(f,u,d){return function zg(f,u,d){return Ss.apply(this,arguments)}(f,u,d)}function Ss(){return(Ss=(0,C.Z)(function*(f,u,d){const m=(0,K.m9)(f);On(m.auth,u,bo),yield m.auth._initializationPromise;const _=Nn(m.auth,d);yield jc(!1,m,u.providerId),yield df(_,m.auth);const E=yield z0(m);return _._openRedirect(m.auth,u,"linkViaRedirect",E)})).apply(this,arguments)}function ao(f,u){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,C.Z)(function*(f,u){return yield fn(f)._initializationPromise,Rl(f,u,!1)})).apply(this,arguments)}function Rl(f,u){return hf.apply(this,arguments)}function hf(){return(hf=(0,C.Z)(function*(f,u,d=!1){const m=fn(f),_=Nn(m,u),O=yield new fS(m,_,d).execute();return O&&!d&&(delete O.user._redirectEventId,yield m._persistUserIfCurrent(O.user),yield m._setRedirectUser(null,u)),O})).apply(this,arguments)}function z0(f){return au.apply(this,arguments)}function au(){return(au=(0,C.Z)(function*(f){const u=Rn(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class lo{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(d=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Io(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rs(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var m;if(u.error&&!Rs(u)){const _=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(Vt(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const m=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ff(u))}saveEventToCache(u){this.cachedEventUids.add(ff(u)),this.lastProcessedEventTime=Date.now()}}function ff(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function Rs({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function $g(f){return lu.apply(this,arguments)}function lu(){return(lu=(0,C.Z)(function*(f,u={}){return ee(f,"GET","/v1/projects",u)})).apply(this,arguments)}const $0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H0=/^https?/;function Ml(){return(Ml=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield $g(f);for(const d of u)try{if(Hg(d))return}catch{}ht(f,"unauthorized-domain")})).apply(this,arguments)}function Hg(f){const u=vn(),{protocol:d,hostname:m}=new URL(u);if(f.startsWith("chrome-extension://")){const O=new URL(f);return""===O.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&O.hostname===m}if(!H0.test(d))return!1;if($0.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const mf=new Qi(3e4,6e4);function qg(){const f=Nt().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let va=null;const Kg=new Qi(5e3,15e3),Zg="__/auth/iframe",Yg="emulator/auth/iframe",gf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W0(f){const u=f.config;oe(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?vo(u,Yg):`https://${f.config.authDomain}/${Zg}`,m={apiKey:u.apiKey,appName:f.name,v:k.SDK_VERSION},_=q0.get(f.config.apiHost);_&&(m.eid=_);const E=f._getFrameworks();return E.length&&(m.fw=E.join(",")),`${d}?${(0,K.xO)(m).slice(1)}`}function xo(){return xo=(0,C.Z)(function*(f){const u=yield function Gg(f){return va=va||function Wg(f){return new Promise((u,d)=>{var m,_,E;function O(){qg(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{qg(),d(Vt(f,"network-request-failed"))},timeout:mf.get()})}if(null!==(_=null===(m=Nt().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(E=Nt().gapi)||void 0===E||!E.load){const H=p0("iframefcb");return Nt()[H]=()=>{gapi.load?O():d(Vt(f,"network-request-failed"))},tg(`https://apis.google.com/js/api.js?onload=${H}`).catch(ie=>d(ie))}O()}}).catch(u=>{throw va=null,u})}(f),va}(f),d=Nt().gapi;return oe(d,f,"internal-error"),u.open({where:document.body,url:W0(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gf,dontclear:!0},m=>new Promise(function(){var _=(0,C.Z)(function*(E,O){yield m.restyle({setHideOnLeave:!1});const H=Vt(f,"network-request-failed"),ie=Nt().setTimeout(()=>{O(H)},Kg.get());function Ee(){Nt().clearTimeout(ie),E(m)}m.ping(Ee).then(Ee,()=>{O(H)})});return function(E,O){return _.apply(this,arguments)}}()))}),xo.apply(this,arguments)}const mn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _f{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Go="__/auth/handler",Q0="emulator/auth/handler",uu=encodeURIComponent("fac");function ba(f,u,d,m,_,E){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,C.Z)(function*(f,u,d,m,_,E){oe(f.config.authDomain,f,"auth-domain-config-required"),oe(f.config.apiKey,f,"invalid-api-key");const O={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:k.SDK_VERSION,eventId:_};if(u instanceof bo){u.setDefaultLanguage(f.languageCode),O.providerId=u.providerId||"",(0,K.xb)(u.getCustomParameters())||(O.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Le,vt]of Object.entries(E||{}))O[Le]=vt}if(u instanceof oa){const Le=u.getScopes().filter(vt=>""!==vt);Le.length>0&&(O.scopes=Le.join(","))}f.tenantId&&(O.tid=f.tenantId);const H=O;for(const Le of Object.keys(H))void 0===H[Le]&&delete H[Le];const ie=yield f._getAppCheckToken(),Ee=ie?`#${uu}=${encodeURIComponent(ie)}`:"";return`${function yf({config:f}){return f.emulator?vo(f,Q0):`https://${f.authDomain}/${Go}`}(f)}?${(0,K.xO)(H).slice(1)}${Ee}`})).apply(this,arguments)}const du="webStorageSupport",Jg=class Xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=Rl,this._overrideRedirectResult=Bg}_openPopup(u,d,m,_){var E=this;return(0,C.Z)(function*(){var O;Xt(null===(O=E.eventManagers[u._key()])||void 0===O?void 0:O.manager,"_initialize() not called before _openPopup()");const H=yield ba(u,d,m,vn(),_);return function Qg(f,u,d,m=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),O=Math.max((window.screen.availWidth-m)/2,0).toString();let H="";const ie=Object.assign(Object.assign({},mn),{width:m.toString(),height:_.toString(),top:E,left:O}),Ee=(0,K.z$)().toLowerCase();d&&(H=Jn(Ee)?"_blank":d),jt(Ee)&&(u=u||"http://localhost",ie.scrollbars="yes");const Le=Object.entries(ie).reduce((Ri,[Co,Nl])=>`${Ri}${Co}=${Nl},`,"");if(function ft(f=(0,K.z$)()){var u;return be(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Ee)&&"_self"!==H)return function cu(f,u){const d=document.createElement("a");d.href=f,d.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(u||"",H),new _f(null);const vt=window.open(u||"",H,Le);oe(vt,f,"popup-blocked");try{vt.focus()}catch{}return new _f(vt)}(u,H,Rn())})()}_openRedirect(u,d,m,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(u),function xg(f){Nt().location.href=f}(yield ba(u,d,m,vn(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(Xt(E,"If manager is not set, promise should be"),E)}const m=this.initAndGetManager(u);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(u){var d=this;return(0,C.Z)(function*(){const m=yield function Si(f){return xo.apply(this,arguments)}(u),_=new lo(u);return m.register("authEvent",E=>(oe(E?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=m,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(du,{type:du},_=>{var E;const O=null===(E=_?.[0])||void 0===E?void 0:E[du];void 0!==O&&d(!!O),ht(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function pf(f){return Ml.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return hn()||Me()||be()}};class wa{constructor(u){this.factorId=u}_process(u,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,m);case"signin":return this._finalizeSignIn(u,d.credential);default:return bt("unexpected MultiFactorSessionType")}}}class Ms extends wa{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Ms(u)}_finalizeEnroll(u,d,m){return function tS(f,u){return ee(f,"POST","/v2/accounts/mfaEnrollment:finalize",$(f,u))}(u,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function nf(f,u){return ee(f,"POST","/v2/accounts/mfaSignIn:finalize",$(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let X0=(()=>{class f{constructor(){}static assertion(d){return Ms._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var e_="@firebase/auth";class pS{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const kl=(0,K.Pz)("authIdTokenMaxAge")||300;let fu=null;const pu=f=>function(){var u=(0,C.Z)(function*(d){const m=d&&(yield d.getIdTokenResult()),_=m&&((new Date).getTime()-Date.parse(m.issuedAtTime))/1e3;if(_&&_>kl)return;const E=m?.token;fu!==E&&(fu=E,yield fetch(f,{method:E?"POST":"DELETE",headers:E?{Authorization:`Bearer ${E}`}:{}}))});return function(d){return u.apply(this,arguments)}}();function mS(f=(0,k.getApp)()){const u=(0,k._getProvider)(f,"auth");if(u.isInitialized())return u.getImmediate();const d=function KA(f,u){const d=(0,k._getProvider)(f,"auth");if(d.isInitialized()){const _=d.getImmediate(),E=d.getOptions();if((0,K.vZ)(E,u??{}))return _;ht(_,"already-initialized")}return d.initialize({options:u})}(f,{popupRedirectResolver:Jg,persistence:[Jc,C0,so]}),m=(0,K.Pz)("authTokenSyncURL");if(m){const E=pu(m);(function Ts(f,u,d){(0,K.m9)(f).beforeAuthStateChanged(u,d)})(d,E,()=>E(d.currentUser)),function Kh(f,u,d,m){(0,K.m9)(f).onIdTokenChanged(u,d,m)}(d,O=>E(O))}const _=(0,K.q4)("auth");return _&&_0(d,`http://${_}`),d}!function Ol(f){(0,k._registerComponent)(new ln.wA("auth",(u,{options:d})=>{const m=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),E=u.getProvider("app-check-internal"),{apiKey:O,authDomain:H}=m.options;oe(O&&!O.includes(":"),"invalid-api-key",{appName:m.name});const ie={apiKey:O,authDomain:H,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:at(f)},Ee=new HA(m,_,E,ie);return function de(f,u){const d=u?.persistence||[],m=(Array.isArray(d)?d:[d]).map(Y);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(m,u?.popupRedirectResolver)}(Ee,d),Ee},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,m)=>{u.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ln.wA("auth-internal",u=>{const d=fn(u.getProvider("auth").getImmediate());return new pS(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(e_,"1.5.1",function vf(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,k.registerVersion)(e_,"1.5.1","esm2017")}("Browser")},58:(Zr,Bn,Be)=>{Be.d(Bn,{BH:()=>Yi,L:()=>It,LL:()=>J,P0:()=>cn,Pz:()=>Vt,Sg:()=>On,UG:()=>bt,ZB:()=>De,ZR:()=>ee,aH:()=>ht,b$:()=>Dn,eu:()=>G,hl:()=>q,jU:()=>Xt,m9:()=>to,ne:()=>Xi,pd:()=>Pr,q4:()=>jn,r3:()=>$n,ru:()=>vn,tV:()=>X,uI:()=>oe,vZ:()=>Yr,w1:()=>Sr,xO:()=>Xr,xb:()=>Bi,z$:()=>nt,zd:()=>Mr});const Ae=function(R){const D=[];let b=0;for(let I=0;I<R.length;I++){let v=R.charCodeAt(I);v<128?D[b++]=v:v<2048?(D[b++]=v>>6|192,D[b++]=63&v|128):55296==(64512&v)&&I+1<R.length&&56320==(64512&R.charCodeAt(I+1))?(v=65536+((1023&v)<<10)+(1023&R.charCodeAt(++I)),D[b++]=v>>18|240,D[b++]=v>>12&63|128,D[b++]=v>>6&63|128,D[b++]=63&v|128):(D[b++]=v>>12|224,D[b++]=v>>6&63|128,D[b++]=63&v|128)}return D},ln={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,D){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let v=0;v<R.length;v+=3){const S=R[v],Y=v+1<R.length,we=Y?R[v+1]:0,xe=v+2<R.length,ze=xe?R[v+2]:0;let jt=(15&we)<<2|ze>>6,Me=63&ze;xe||(Me=64,Y||(jt=64)),I.push(b[S>>2],b[(3&S)<<4|we>>4],b[jt],b[Me])}return I.join("")},encodeString(R,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(R):this.encodeByteArray(Ae(R),D)},decodeString(R,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(R):function(R){const D=[];let b=0,I=0;for(;b<R.length;){const v=R[b++];if(v<128)D[I++]=String.fromCharCode(v);else if(v>191&&v<224){const S=R[b++];D[I++]=String.fromCharCode((31&v)<<6|63&S)}else if(v>239&&v<365){const xe=((7&v)<<18|(63&R[b++])<<12|(63&R[b++])<<6|63&R[b++])-65536;D[I++]=String.fromCharCode(55296+(xe>>10)),D[I++]=String.fromCharCode(56320+(1023&xe))}else{const S=R[b++],Y=R[b++];D[I++]=String.fromCharCode((15&v)<<12|(63&S)<<6|63&Y)}}return D.join("")}(this.decodeStringToByteArray(R,D))},decodeStringToByteArray(R,D){this.init_();const b=D?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let v=0;v<R.length;){const S=b[R.charAt(v++)],we=v<R.length?b[R.charAt(v)]:0;++v;const ze=v<R.length?b[R.charAt(v)]:64;++v;const _e=v<R.length?b[R.charAt(v)]:64;if(++v,null==S||null==we||null==ze||null==_e)throw new Tn;I.push(S<<2|we>>4),64!==ze&&(I.push(we<<4&240|ze>>2),64!==_e&&I.push(ze<<6&192|_e))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class Tn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const It=function(R){return function(R){const D=Ae(R);return ln.encodeByteArray(D,!0)}(R).replace(/\./g,"")},X=function(R){try{return ln.decodeString(R,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function De(R,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return D}for(const b in D)!D.hasOwnProperty(b)||!Je(b)||(R[b]=De(R[b],D[b]));return R}function Je(R){return"__proto__"!==R}const Ge=()=>{try{return function At(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=R&&X(R[1]);return D&&JSON.parse(D)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},jn=R=>{var D,b;return null===(b=null===(D=Ge())||void 0===D?void 0:D.emulatorHosts)||void 0===b?void 0:b[R]},cn=R=>{const D=jn(R);if(!D)return;const b=D.lastIndexOf(":");if(b<=0||b+1===D.length)throw new Error(`Invalid host ${D} with no separate hostname and port!`);const I=parseInt(D.substring(b+1),10);return"["===D[0]?[D.substring(1,b-1),I]:[D.substring(0,b),I]},ht=()=>{var R;return null===(R=Ge())||void 0===R?void 0:R.config},Vt=R=>{var D;return null===(D=Ge())||void 0===D?void 0:D[`_${R}`]};class Yi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,b)=>{this.resolve=D,this.reject=b})}wrapCallback(D){return(b,I)=>{b?this.reject(b):this.resolve(I),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(b):D(b,I))}}}function On(R,D){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=D||"demo-project",v=R.iat||0,S=R.sub||R.user_id;if(!S)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Y=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:v,exp:v+3600,auth_time:v,sub:S,user_id:S,firebase:{sign_in_provider:"custom",identities:{}}},R);return[It(JSON.stringify({alg:"none",type:"JWT"})),It(JSON.stringify(Y)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function bt(){var R;const D=null===(R=Ge())||void 0===R?void 0:R.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xt(){return"object"==typeof self&&self.self===self}function vn(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sr(){const R=nt();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function q(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((R,D)=>{try{let b=!0;const I="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(I);v.onsuccess=()=>{v.result.close(),b||self.indexedDB.deleteDatabase(I),R(!0)},v.onupgradeneeded=()=>{b=!1},v.onerror=()=>{var S;D((null===(S=v.error)||void 0===S?void 0:S.message)||"")}}catch(b){D(b)}})}class ee extends Error{constructor(D,b,I){super(b),this.code=D,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(D,b,I){this.service=D,this.serviceName=b,this.errors=I}create(D,...b){const I=b[0]||{},v=`${this.service}/${D}`,S=this.errors[D],Y=S?function pe(R,D){return R.replace(dt,(b,I)=>{const v=D[I];return null!=v?String(v):`<${I}?>`})}(S,I):"Error";return new ee(v,`${this.serviceName}: ${Y} (${v}).`,I)}}const dt=/\{\$([^}]+)}/g;function $n(R,D){return Object.prototype.hasOwnProperty.call(R,D)}function Bi(R){for(const D in R)if(Object.prototype.hasOwnProperty.call(R,D))return!1;return!0}function Yr(R,D){if(R===D)return!0;const b=Object.keys(R),I=Object.keys(D);for(const v of b){if(!I.includes(v))return!1;const S=R[v],Y=D[v];if(_t(S)&&_t(Y)){if(!Yr(S,Y))return!1}else if(S!==Y)return!1}for(const v of I)if(!b.includes(v))return!1;return!0}function _t(R){return null!==R&&"object"==typeof R}function Xr(R){const D=[];for(const[b,I]of Object.entries(R))Array.isArray(I)?I.forEach(v=>{D.push(encodeURIComponent(b)+"="+encodeURIComponent(v))}):D.push(encodeURIComponent(b)+"="+encodeURIComponent(I));return D.length?"&"+D.join("&"):""}function Mr(R){const D={};return R.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[v,S]=I.split("=");D[decodeURIComponent(v)]=decodeURIComponent(S)}}),D}function Pr(R){const D=R.indexOf("?");if(!D)return"";const b=R.indexOf("#",D);return R.substring(D,b>0?b:void 0)}function Xi(R,D){const b=new Ji(R,D);return b.subscribe.bind(b)}class Ji{constructor(D,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{D(this)}).catch(I=>{this.error(I)})}next(D){this.forEachObserver(b=>{b.next(D)})}error(D){this.forEachObserver(b=>{b.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,b,I){let v;if(void 0===D&&void 0===b&&void 0===I)throw new Error("Missing Observer.");v=function ri(R,D){if("object"!=typeof R||null===R)return!1;for(const b of D)if(b in R&&"function"==typeof R[b])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:b,complete:I},void 0===v.next&&(v.next=Lt),void 0===v.error&&(v.error=Lt),void 0===v.complete&&(v.complete=Lt);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),S}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,D)}sendOne(D,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{b(this.observers[D])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}function to(R){return R&&R._delegate?R._delegate:R}},152:(Zr,Bn,Be)=>{function C(n){return"function"==typeof n}function K(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const k=K(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ae(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(C(i))try{i()}catch(o){e=o instanceof k?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Zt(o)}catch(s){e=e??[],s instanceof k?e=[...e,...s.errors]:e.push(s)}}if(e)throw new k(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Zt(e);else{if(e instanceof mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ae(t,e)}remove(e){const{_finalizers:t}=this;t&&Ae(t,e),e instanceof mt&&e._removeParent(this)}}mt.EMPTY=(()=>{const n=new mt;return n.closed=!0,n})();const ln=mt.EMPTY;function Tn(n){return n instanceof mt||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function Zt(n){C(n)?n():n.unsubscribe()}const It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:i}=X;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function le(n){X.setTimeout(()=>{const{onUnhandledError:e}=It;if(!e)throw n;e(n)})}function De(){}const Je=gt("C",void 0,void 0);function gt(n,e,t){return{kind:n,value:e,error:t}}let We=null;function Ge(n){if(It.useDeprecatedSynchronousErrorHandling){const e=!We;if(e&&(We={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=We;if(We=null,t)throw i}}else n()}class cn extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tn(e)&&e.add(this)):this.destination=Xt}static create(e,t,i){return new On(e,t,i)}next(e){this.isStopped?bt(function Un(n){return gt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?bt(function At(n){return gt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bt(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function Vt(n,e){return ht.call(n,e)}class Yi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){nt(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){nt(i)}else nt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nt(t)}}}class On extends cn{constructor(e,t,i){let r;if(super(),C(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&It.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Vt(e.next,o),error:e.error&&Vt(e.error,o),complete:e.complete&&Vt(e.complete,o)}):r=e}this.destination=new Yi(r)}}function nt(n){It.useDeprecatedSynchronousErrorHandling?function jn(n){It.useDeprecatedSynchronousErrorHandling&&We&&(We.errorThrown=!0,We.error=n)}(n):le(n)}function bt(n,e){const{onStoppedNotification:t}=It;t&&X.setTimeout(()=>t(n,e))}const Xt={closed:!0,next:De,error:function oe(n){throw n},complete:De},vn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dn(n){return n}function Sr(n){return 0===n.length?Dn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function q(n){return n&&n instanceof cn||function vo(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&Tn(n)}(t)?t:new On(t,i,r);return Ge(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Qi(i))((r,o)=>{const s=new On({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[vn](){return this}pipe(...t){return Sr(t)(this)}toPromise(t){return new(t=Qi(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Qi(n){var e;return null!==(e=n??It.Promise)&&void 0!==e?e:Promise}const G=K(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new $(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new G}next(t){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ln:(this.currentObservers=null,o.push(t),new mt(()=>{this.currentObservers=null,Ae(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ke;return t.source=this,t}}return n.create=(e,t)=>new $(e,t),n})();class $ extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ln}}function ee(n){return C(n?.lift)}function J(n){return e=>{if(ee(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,i,r){return new dt(n,e,t,i,r)}class dt extends cn{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(n,e){return J((t,i)=>{let r=0;t.subscribe(pe(i,o=>{i.next(n.call(e,o,r++))}))})}var Ne=Be(582);const Et=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function en(n){return C(n?.then)}function Ht(n){return C(n[vn])}function un(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function zn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ii=function $n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bi(n){return C(n?.[ii])}function Rr(n){return(0,Ne.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ne.qq)(t.read());if(r)return yield(0,Ne.qq)(void 0);yield yield(0,Ne.qq)(i)}}finally{t.releaseLock()}})}function Yr(n){return C(n?.getReader)}function _t(n){if(n instanceof Ke)return n;if(null!=n){if(Ht(n))return function Qr(n){return new Ke(e=>{const t=n[vn]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Et(n))return function Xr(n){return new Ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(en(n))return function Mr(n){return new Ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,le)})}(n);if(un(n))return fi(n);if(Bi(n))return function Pr(n){return new Ke(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Yr(n))return function Xi(n){return fi(Rr(n))}(n)}throw zn(n)}function fi(n){return new Ke(e=>{(function Ji(n,e){var t,i,r,o;return(0,Ne.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ne.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function er(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Lt(n,e,t=1/0){return C(e)?Lt((i,r)=>Ie((o,s)=>e(i,o,r,s))(_t(n(i,r))),t):("number"==typeof e&&(t=e),J((i,r)=>function ri(n,e,t,i,r,o,s,a){const l=[];let c=0,h=0,p=!1;const g=()=>{p&&!l.length&&!c&&e.complete()},y=x=>c<i?w(x):l.push(x),w=x=>{o&&e.next(x),c++;let T=!1;_t(t(x,h++)).subscribe(pe(e,N=>{r?.(N),o?y(N):e.next(N)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<i;){const N=l.shift();s?er(e,s,()=>w(N)):w(N)}g()}catch(N){e.error(N)}}))};return n.subscribe(pe(e,y,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function tr(n=1/0){return Lt(Dn,n)}const An=new Ke(n=>n.complete());function bn(n){return n&&C(n.schedule)}function Jr(n){return n[n.length-1]}function eo(n){return C(Jr(n))?n.pop():void 0}function Or(n){return bn(Jr(n))?n.pop():void 0}function kn(n,e=0){return J((t,i)=>{t.subscribe(pe(i,r=>er(i,n,()=>i.next(r),e),()=>er(i,n,()=>i.complete(),e),r=>er(i,n,()=>i.error(r),e)))})}function pi(n,e=0){return J((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function to(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ke(t=>{er(t,e,()=>{const i=n[Symbol.asyncIterator]();er(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function b(n,e){return e?function D(n,e){if(null!=n){if(Ht(n))return function nr(n,e){return _t(n).pipe(pi(e),kn(e))}(n,e);if(Et(n))return function Fo(n,e){return new Ke(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(en(n))return function ta(n,e){return _t(n).pipe(pi(e),kn(e))}(n,e);if(un(n))return to(n,e);if(Bi(n))return function gs(n,e){return new Ke(t=>{let i;return er(t,e,()=>{i=n[ii](),er(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}(n,e);if(Yr(n))return function R(n,e){return to(Rr(n),e)}(n,e)}throw zn(n)}(n,e):_t(n)}function I(...n){const e=Or(n),t=function Hn(n,e){return"number"==typeof Jr(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?_t(i[0]):tr(t)(b(i,e)):An}class v extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function S(...n){return b(n,Or(n))}function Y(n={}){const{connector:e=(()=>new z),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,h=p=!1},w=()=>{const x=s;y(),x?.unsubscribe()};return J((x,T)=>{c++,!p&&!h&&g();const N=l=l??e();T.add(()=>{c--,0===c&&!p&&!h&&(a=we(w,r))}),N.subscribe(T),!s&&c>0&&(s=new On({next:M=>N.next(M),error:M=>{p=!0,g(),a=we(y,t,M),N.error(M)},complete:()=>{h=!0,g(),a=we(y,i),N.complete()}}),_t(x).subscribe(s))})(o)}}function we(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new On({next:()=>{i.unsubscribe(),n()}});return _t(e(...t)).subscribe(i)}function xe(n,e){return J((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(pe(i,l=>{r?.unsubscribe();let c=0;const h=o++;_t(n(l,h)).subscribe(r=pe(i,p=>i.next(e?e(l,p,h,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ze(n,e=Dn){return n=n??xt,J((t,i)=>{let r,o=!0;t.subscribe(pe(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function xt(n,e){return n===e}function _e(n){for(let e in n)if(n[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function jt(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Jn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const _s=_e({__forward_ref__:_e});function V(n){return n.__forward_ref__=V,n.toString=function(){return Me(this())},n}function P(n){return re(n)?n():n}function re(n){return"function"==typeof n&&n.hasOwnProperty(_s)&&n.__forward_ref__===V}function be(n){return n&&!!n.\u0275providers}const ft="https://g.co/ng/security#xss";class F extends Error{constructor(e,t){super(function hn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Eh(n,e){throw new F(-201,!1)}function mi(n,e){null==n&&function je(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function de(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Sc(n){return sg(n,ia)||sg(n,Rc)}function sg(n,e){return n.hasOwnProperty(e)?n[e]:null}function gl(n){return n&&(n.hasOwnProperty(wh)||n.hasOwnProperty(y0))?n[wh]:null}const ia=_e({\u0275prov:_e}),wh=_e({\u0275inj:_e}),Rc=_e({ngInjectableDef:_e}),y0=_e({ngInjectorDef:_e});var lt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(lt||{});let Ih;function Ui(n){const e=Ih;return Ih=n,e}function Pc(n,e,t){const i=Sc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&lt.Optional?null:void 0!==e?e:void Eh(Me(n))}const zt=globalThis;class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=de({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vs={},Sh="__NG_DI_FLAG__",rr="ngTempTokenPath",Rh=/\n/gm,Nc="__source";let ra;function Vo(n){const e=ra;return ra=n,e}function E0(n,e=lt.Default){if(void 0===ra)throw new F(-203,!1);return null===ra?Pc(n,void 0,e):ra.get(n,e&lt.Optional?null:void 0,e)}function B(n,e=lt.Default){return(function Mc(){return Ih}()||E0)(P(n),e)}function he(n,e=lt.Default){return B(n,Fc(e))}function Fc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bs(n){const e=[];for(let t=0;t<n.length;t++){const i=P(n[t]);if(Array.isArray(i)){if(0===i.length)throw new F(900,!1);let r,o=lt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Ph(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(B(r,o))}else e.push(B(i))}return e}function Lc(n,e){return n[Sh]=e,n.prototype[Sh]=e,n}function Ph(n){return n[Sh]}function or(n){return{toString:n}.toString()}var Vc=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Vc||{}),_r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_r||{});const no={},Pt=[],Eo=_e({\u0275cmp:_e}),Oh=_e({\u0275dir:_e}),sa=_e({\u0275pipe:_e}),ug=_e({\u0275mod:_e}),io=_e({\u0275fac:_e}),Es=_e({__NG_ELEMENT_ID__:_e}),sr=_e({__NG_ENV_ID__:_e});function kh(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Nh(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];yl(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Bc(n){return 3===n||4===n||6===n}function yl(n){return 64===n.charCodeAt(0)}function aa(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Fh(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Fh(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const dg="ng-template";function Lh(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==kh(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Uc(n){return 4===n.type&&n.value!==dg}function Vh(n,e,t){return e===(4!==n.type||t?n.value:dg)}function jc(n,e,t){let i=4;const r=n.attrs||[],o=function Bh(n){for(let e=0;e<n.length;e++)if(Bc(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Vh(n,l,t)||""===l&&1===e.length){if(ar(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!Lh(n.attrs,c,t)){if(ar(i))return!1;s=!0}continue}const p=hg(8&i?"class":l,r,Uc(n),t);if(-1===p){if(ar(i))return!1;s=!0;continue}if(""!==c){let g;g=p>o?"":r[p+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==kh(y,c,0)||2&i&&c!==g){if(ar(i))return!1;s=!0}}}}else{if(!s&&!ar(i)&&!ar(l))return!1;if(s&&ar(l))continue;s=!1,i=l|1&i}}return ar(i)||s}function ar(n){return 0==(1&n)}function hg(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function $c(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function zc(n,e,t=!1){for(let i=0;i<e.length;i++)if(jc(n,e[i],t))return!0;return!1}function Uh(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function jh(n,e){return n?":not("+e.trim()+")":e}function zh(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ar(s)&&(e+=jh(o,r),r=""),i=s,o=o||!ar(i);t++}return""!==r&&(e+=jh(o,r)),e}function qn(n){return or(()=>{const e=mg(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Vc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_r.Emulated,styles:n.styles||Pt,_:null,schemas:n.schemas||null,tView:null,id:""};qc(t);const i=n.dependencies;return t.directiveDefs=vl(i,!1),t.pipeDefs=vl(i,!0),t.id=function I0(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function w0(n){return yt(n)||oi(n)}function qh(n){return null!==n}function wt(n){return or(()=>({type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Hc(n,e){if(null==n)return no;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Fe(n){return or(()=>{const e=mg(n);return qc(e),e})}function yt(n){return n[Eo]||null}function oi(n){return n[Oh]||null}function si(n){return n[sa]||null}function Di(n,e){const t=n[ug]||null;if(!t&&!0===e)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return t}function mg(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||no,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hc(n.inputs,e),outputs:Hc(n.outputs)}}function qc(n){n.features?.forEach(e=>e(n))}function vl(n,e){if(!n)return null;const t=e?si:w0;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(qh)}const tn=0,ye=1,Ze=2,nn=3,kr=4,ws=5,_i=6,ca=7,pn=8,Uo=9,jo=10,Ye=11,Is=12,gg=13,zo=14,Sn=15,xs=16,ua=17,yr=18,bl=19,Wc=20,$o=21,wo=22,da=23,Cs=24,pt=25,Gc=1,_g=2,ro=7,ha=9,yi=11;function lr(n){return Array.isArray(n)&&"object"==typeof n[Gc]}function ai(n){return Array.isArray(n)&&!0===n[Gc]}function Kh(n){return 0!=(4&n.flags)}function Ts(n){return n.componentOffset>-1}function Zh(n){return 1==(1&n.flags)}function oo(n){return!!n.template}function yg(n){return 0!=(512&n[Ze])}function fa(n,e){return n.hasOwnProperty(io)?n[io]:null}let Rn=null,Zc=!1;function Nt(n){const e=Rn;return Rn=n,e}const xg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Cg(n){if(!xl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Il(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Tg(n){n.dirty=!0,function Qc(n){if(void 0===n.liveConsumerNode)return;const e=Zc;Zc=!0;try{for(const t of n.liveConsumerNode)t.dirty||Tg(t)}finally{Zc=e}}(n),n.consumerMarkedDirty?.(n)}function Xc(n){return n&&(n.nextProducerIndex=0),Nt(n)}function Jh(n,e){if(Nt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(xl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)As(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Il(n){Ho(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Cg(t),i!==t.version))return!0}return!1}function ef(n){if(Ho(n),xl(n))for(let e=0;e<n.producerNode.length;e++)As(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function As(n,e){if(function tf(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ho(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)As(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ho(r),r.producerIndexOfThis[i]=e}}function xl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ho(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let D0=null;const Pg=()=>{},O0=(()=>({...xg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Pg}))();class Og{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function vr(){return kg}function kg(n){return n.type.prototype.ngOnChanges&&(n.setInput=sf),k0}function k0(){const n=eu(this),e=n?.current;if(e){const t=n.previous;if(t===no)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function sf(n,e,t,i){const r=this.declaredInputs[t],o=eu(n)||function N0(n,e){return n[Ng]=e}(n,{previous:no,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new Og(l&&l.currentValue,e,a===no),n[i]=e}vr.ngInherit=!0;const Ng="__ngSimpleChanges__";function eu(n){return n[Ng]||null}const br=function(n,e,t){};function Yt(n){for(;Array.isArray(n);)n=n[tn];return n}function nu(n,e){return Yt(e[n])}function Nn(n,e){return Yt(e[n.index])}function Fg(n,e){return n.data[e]}function cr(n,e){const t=e[n];return lr(t)?t:t[tn]}function qo(n,e){return null==e?null:n[e]}function iu(n){n[ua]=0}function V0(n){1024&n[Ze]||(n[Ze]|=1024,Vg(n,1))}function ru(n){1024&n[Ze]&&(n[Ze]&=-1025,Vg(n,-1))}function Vg(n,e){let t=n[nn];if(null===t)return;t[ws]+=e;let i=t;for(t=t[nn];null!==t&&(1===e&&1===i[ws]||-1===e&&0===i[ws]);)t[ws]+=e,i=t,t=t[nn]}const $e={lFrame:Kg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function su(){return $e.bindingsEnabled}function _a(){return null!==$e.skipHydrationRootTNode}function te(){return $e.lFrame.lView}function Ct(){return $e.lFrame.tView}function ya(n){return $e.lFrame.contextLView=n,n[pn]}function Wo(n){return $e.lFrame.contextLView=null,n}function li(){let n=zg();for(;null!==n&&64===n.type;)n=n.parent;return n}function zg(){return $e.lFrame.currentTNode}function ao(n,e){const t=$e.lFrame;t.currentTNode=n,t.isParent=e}function Sl(){return $e.lFrame.isParent}function Rl(){$e.lFrame.isParent=!1}function Ai(){const n=$e.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Rs(){return $e.lFrame.bindingIndex++}function Io(n){const e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $0(n,e){const t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,pf(e)}function pf(n){$e.lFrame.currentDirectiveIndex=n}function Hg(){return $e.lFrame.currentQueryIndex}function mf(n){$e.lFrame.currentQueryIndex=n}function qg(n){const e=n[ye];return 2===e.type?e.declTNode:1===e.type?n[_i]:null}function Wg(n,e,t){if(t&lt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&lt.Host||(r=qg(o),null===r||(o=o[zo],10&r.type))););if(null===r)return!1;e=r,n=o}const i=$e.lFrame=Gg();return i.currentTNode=e,i.lView=n,!0}function va(n){const e=Gg(),t=n[ye];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Gg(){const n=$e.lFrame,e=null===n?null:n.child;return null===e?Kg(n):e}function Kg(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Zg(){const n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Yg=Zg;function gf(){const n=Zg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Si(){return $e.lFrame.selectedIndex}function xo(n){$e.lFrame.selectedIndex=n}function mn(){const n=$e.lFrame;return Fg(n.tView,n.selectedIndex)}let Qg=!0;function cu(){return Qg}function Go(n){Qg=n}function uu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function ba(n,e,t){du(n,e,3,t)}function Ea(n,e,t,i){(3&n[Ze])===t&&du(n,e,t,i)}function yf(n,e){let t=n[Ze];(3&t)===e&&(t&=8191,t+=1,n[Ze]=t)}function du(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[ua]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[ua]+=65536),(a<o||-1==o)&&(Jg(n,t,e,l),n[ua]=(4294901760&n[ua])+l+2),l++}function Xg(n,e){br(4,n,e);const t=Nt(null);try{e.call(n)}finally{Nt(t),br(5,n,e)}}function Jg(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ze]>>13<n[ua]>>16&&(3&n[Ze])===e&&(n[Ze]+=8192,Xg(a,o)):Xg(a,o)}const wa=-1;class Ms{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function vf(n){return n!==wa}function Ol(n){return 32767&n}function kl(n,e){let t=function tE(n){return n>>16}(n),i=e;for(;t>0;)i=i[zo],t--;return i}let fu=!0;function pu(n){const e=fu;return fu=n,e}const f=255,u=5;let d=0;const m={};function E(n,e){const t=H(n,e);if(-1!==t)return t;const i=e[ye];i.firstCreatePass&&(n.injectorIndex=e.length,O(i.data,n),O(e,null),O(i.blueprint,null));const r=ie(n,e),o=n.injectorIndex;if(vf(r)){const s=Ol(r),a=kl(r,e),l=a[ye].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function O(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ie(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=gS(r),null===i)return wa;if(t++,r=r[zo],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return wa}function Ee(n,e,t){!function _(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Es)&&(i=t[Es]),null==i&&(i=t[Es]=d++);const r=i&f;e.data[n+(r>>u)]|=1<<r}(n,e,t)}function vt(n,e,t){if(t&lt.Optional||void 0!==n)return n;Eh()}function Ri(n,e,t,i){if(t&lt.Optional&&void 0===i&&(i=null),!(t&(lt.Self|lt.Host))){const r=n[Uo],o=Ui(void 0);try{return r?r.get(e,i,t&lt.Optional):Pc(e,i,t&lt.Optional)}finally{Ui(o)}}return vt(i,0,t)}function Co(n,e,t,i=lt.Default,r){if(null!==n){if(2048&e[Ze]&&!(i&lt.Self)){const s=function o$(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ze]&&!(512&s[Ze]);){const a=Nl(o,s,t,i|lt.Self,m);if(a!==m)return a;let l=o.parent;if(!l){const c=s[Wc];if(c){const h=c.get(t,m,i);if(h!==m)return h}l=gS(s),s=s[zo]}o=l}return r}(n,e,t,i,m);if(s!==m)return s}const o=Nl(n,e,t,i,m);if(o!==m)return o}return Ri(e,t,i,r)}function Nl(n,e,t,i,r){const o=function n_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Es)?n[Es]:void 0;return"number"==typeof e?e>=0?e&f:nE:e}(t);if("function"==typeof o){if(!Wg(e,n,i))return i&lt.Host?vt(r,0,i):Ri(e,t,i,r);try{let s;if(s=o(i),null!=s||i&lt.Optional)return s;Eh()}finally{Yg()}}else if("number"==typeof o){let s=null,a=H(n,e),l=wa,c=i&lt.Host?e[Sn][_i]:null;for((-1===a||i&lt.SkipSelf)&&(l=-1===a?ie(n,e):e[a+8],l!==wa&&bf(i,!1)?(s=e[ye],a=Ol(l),e=kl(l,e)):a=-1);-1!==a;){const h=e[ye];if(mu(o,a,h.data)){const p=t_(a,e,t,s,i,c);if(p!==m)return p}l=e[a+8],l!==wa&&bf(i,e[ye].data[a+8]===c)&&mu(o,a,e)?(s=h,a=Ol(l),e=kl(l,e)):a=-1}}return r}function t_(n,e,t,i,r,o){const s=e[ye],a=s.data[n+8],h=Ia(a,s,t,null==i?Ts(a)&&fu:i!=s&&0!=(3&a.type),r&lt.Host&&o===a);return null!==h?Ko(e,s,h,a):m}function Ia(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let y=i?a:a+h;y<g;y++){const w=s[y];if(y<l&&t===w||y>=l&&w.type===t)return y}if(r){const y=s[l];if(y&&oo(y)&&y.type===t)return l}return null}function Ko(n,e,t,i){let r=n[t];const o=e.data;if(function X0(n){return n instanceof Ms}(r)){const s=r;s.resolving&&function ml(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new F(-200,`Circular dependency in DI detected for ${n}${t}`)}(function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}(o[t]));const a=pu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Ui(s.injectImpl):null;Wg(n,i,lt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Q0(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=kg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&Ui(c),pu(a),s.resolving=!1,Yg()}}return r}function mu(n,e,t){return!!(t[e+(n>>u)]&1<<n)}function bf(n,e){return!(n&lt.Self||n&lt.Host&&e)}class vi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Co(this._tNode,this._lView,e,Fc(i),t)}}function nE(){return new vi(li(),te())}function Wn(n){return or(()=>{const e=n.prototype.constructor,t=e[io]||wf(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[io]||wf(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function wf(n){return re(n)?()=>{const e=wf(P(n));return e&&e()}:fa(n)}function gS(n){const e=n[ye],t=e.type;return 2===t?e.declTNode:1===t?n[_i]:null}const _u="__parameters__";function vu(n,e,t){return or(()=>{const i=function iE(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,h){const p=l.hasOwnProperty(_u)?l[_u]:Object.defineProperty(l,_u,{value:[]})[_u];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Eu(n,e){n.forEach(t=>Array.isArray(t)?Eu(t,e):e(t))}function yS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function r_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xf(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Nr(n,e,t){let i=wu(n,e);return i>=0?n[1|i]=t:(i=~i,function h$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function rE(n,e){const t=wu(n,e);if(t>=0)return n[1|t]}function wu(n,e){return function vS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Fr=Lc(vu("Optional"),8),s_=Lc(vu("SkipSelf"),4);function d_(n){return 128==(128&n.flags)}var Ca=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ca||{});const O$=/^>|^->|<!--|-->|--!>|<!-$/g,k$=/(<|>)/g,N$="\u200b$1\u200b";const cE=new Map;let F$=0;const dE="__ngContext__";function ji(n,e){lr(e)?(n[dE]=e[bl],function V$(n){cE.set(n[bl],n)}(e)):n[dE]=e}let hE;function fE(n,e){return hE(n,e)}function Df(n){const e=n[nn];return ai(e)?e[nn]:e}function BS(n){return jS(n[Is])}function US(n){return jS(n[kr])}function jS(n){for(;null!==n&&!ai(n);)n=n[kr];return n}function Cu(n,e,t,i,r){if(null!=i){let o,s=!1;ai(i)?o=i:lr(i)&&(s=!0,i=i[tn]);const a=Yt(i);0===n&&null!==t?null==r?qS(e,t,a):Fl(e,t,a,r||null,!0):1===n&&null!==t?Fl(e,t,a,r||null,!0):2===n?function y_(n,e,t){const i=g_(n,e);i&&function iH(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function sH(n,e,t,i,r){const o=t[ro];o!==Yt(t)&&Cu(e,n,i,o,r);for(let a=yi;a<t.length;a++){const l=t[a];Sf(l[ye],l,n,e,i,o)}}(e,n,o,t,r)}}function pE(n,e){return n.createComment(function MS(n){return n.replace(O$,e=>e.replace(k$,N$))}(e))}function p_(n,e,t){return n.createElement(e,t)}function $S(n,e){const t=n[ha],i=t.indexOf(e);ru(e),t.splice(i,1)}function m_(n,e){if(n.length<=yi)return;const t=yi+e,i=n[t];if(i){const r=i[xs];null!==r&&r!==n&&$S(r,i),e>0&&(n[t-1][kr]=i[kr]);const o=r_(n,yi+e);!function Z$(n,e){Sf(n,e,e[Ye],2,null,null),e[tn]=null,e[_i]=null}(i[ye],i);const s=o[yr];null!==s&&s.detachView(o[ye]),i[nn]=null,i[kr]=null,i[Ze]&=-129}return i}function mE(n,e){if(!(256&e[Ze])){const t=e[Ye];e[da]&&ef(e[da]),e[Cs]&&ef(e[Cs]),t.destroyNode&&Sf(n,e,t,3,null,null),function X$(n){let e=n[Is];if(!e)return gE(n[ye],n);for(;e;){let t=null;if(lr(e))t=e[Is];else{const i=e[yi];i&&(t=i)}if(!t){for(;e&&!e[kr]&&e!==n;)lr(e)&&gE(e[ye],e),e=e[nn];null===e&&(e=n),lr(e)&&gE(e[ye],e),t=e&&e[kr]}e=t}}(e)}}function gE(n,e){if(!(256&e[Ze])){e[Ze]&=-129,e[Ze]|=256,function nH(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Ms)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];br(4,a,l);try{l.call(a)}finally{br(5,a,l)}}else{br(4,r,o);try{o.call(r)}finally{br(5,r,o)}}}}}(n,e),function tH(n,e){const t=n.cleanup,i=e[ca];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[ca]=null);const r=e[$o];if(null!==r){e[$o]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ye].type&&e[Ye].destroy();const t=e[xs];if(null!==t&&ai(e[nn])){t!==e[nn]&&$S(t,e);const i=e[yr];null!==i&&i.detachView(n)}!function B$(n){cE.delete(n[bl])}(e)}}function _E(n,e,t){return function HS(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[tn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===_r.None||o===_r.Emulated)return null}return Nn(i,t)}}(n,e.parent,t)}function Fl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function qS(n,e,t){n.appendChild(e,t)}function WS(n,e,t,i,r){null!==i?Fl(n,e,t,i,r):qS(n,e,t)}function g_(n,e){return n.parentNode(e)}function GS(n,e,t){return ZS(n,e,t)}let yE,v_,wE,b_,ZS=function KS(n,e,t){return 40&n.type?Nn(n,t):null};function __(n,e,t,i){const r=_E(n,i,e),o=e[Ye],a=GS(i.parent||e[_i],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)WS(o,r,t[l],a,!1);else WS(o,r,t,a,!1);void 0!==yE&&yE(o,i,e,t,r)}function Af(n,e){if(null!==e){const t=e.type;if(3&t)return Nn(e,n);if(4&t)return vE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Af(n,i);{const r=n[e.index];return ai(r)?vE(-1,r):Yt(r)}}if(32&t)return fE(e,n)()||Yt(n[e.index]);{const i=QS(n,e);return null!==i?Array.isArray(i)?i[0]:Af(Df(n[Sn]),i):Af(n,e.next)}}return null}function QS(n,e){return null!==e?n[Sn][_i].projection[e.projection]:null}function vE(n,e){const t=yi+n+1;if(t<e.length){const i=e[t],r=i[ye].firstChild;if(null!==r)return Af(i,r)}return e[ro]}function bE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&ji(Yt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)bE(n,e,t.child,i,r,o,!1),Cu(e,n,r,a,o);else if(32&l){const c=fE(t,i);let h;for(;h=c();)Cu(e,n,r,h,o);Cu(e,n,r,a,o)}else 16&l?JS(n,e,i,t,r,o):Cu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Sf(n,e,t,i,r,o){bE(t,i,n.firstChild,e,r,o,!1)}function JS(n,e,t,i,r,o){const s=t[Sn],l=s[_i].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Cu(e,n,r,l[c],o);else{let c=l;const h=s[nn];d_(i)&&(c.flags|=128),bE(n,e,c,h,r,o,!0)}}function eR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tR(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Nh(n,e,i),null!==r&&eR(n,e,r),null!==o&&function lH(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Tu(n){return function EE(){if(void 0===v_&&(v_=null,zt.trustedTypes))try{v_=zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return v_}()?.createHTML(n)||n}function Du(){if(void 0!==wE)return wE;if(typeof document<"u")return document;throw new F(210,!1)}function IE(){if(void 0===b_&&(b_=null,zt.trustedTypes))try{b_=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return b_}function nR(n){return IE()?.createHTML(n)||n}function rR(n){return IE()?.createScriptURL(n)||n}class oR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function Ta(n){return n instanceof oR?n.changingThisBreaksApplicationSecurity:n}function Rf(n,e){const t=function yH(n){return n instanceof oR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ft})`)}return t===e}class vH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Tu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class bH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Tu(e),t}}const wH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xE(n){return(n=String(n)).match(wH)?n:"unsafe:"+n}function Ps(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Mf(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const aR=Ps("area,br,col,hr,img,wbr"),lR=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cR=Ps("rp,rt"),CE=Mf(aR,Mf(lR,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mf(cR,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mf(cR,lR)),TE=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uR=Mf(TE,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),IH=Ps("script,style,template");class xH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!CE.hasOwnProperty(t))return this.sanitizedSomething=!0,!IH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!uR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;TE[a]&&(l=xE(l)),this.buf.push(" ",s,'="',dR(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();CE.hasOwnProperty(t)&&!aR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const CH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TH=/([^\#-~ |!])/g;function dR(n){return n.replace(/&/g,"&amp;").replace(CH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(TH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let E_;function DE(n){return"content"in n&&function AH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Au=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Au||{});function AE(n){const e=Pf();return e?nR(e.sanitize(Au.HTML,n)||""):Rf(n,"HTML")?nR(Ta(n)):function DH(n,e){let t=null;try{E_=E_||function sR(n){const e=new bH(n);return function EH(){try{return!!(new window.DOMParser).parseFromString(Tu(""),"text/html")}catch{return!1}}()?new vH(e):e}(n);let i=e?String(e):"";t=E_.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=E_.getInertBodyElement(i)}while(i!==o);return Tu((new xH).sanitizeChildren(DE(t)||t))}finally{if(t){const i=DE(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Du(),Ce(n))}function w_(n){const e=Pf();return e?e.sanitize(Au.URL,n)||"":Rf(n,"URL")?Ta(n):xE(Ce(n))}function hR(n){const e=Pf();if(e)return rR(e.sanitize(Au.RESOURCE_URL,n)||"");if(Rf(n,"ResourceURL"))return rR(Ta(n));throw new F(904,!1)}function Pf(){const n=te();return n&&n[jo].sanitizer}const Of=new ne("ENVIRONMENT_INITIALIZER"),pR=new ne("INJECTOR",-1),mR=new ne("INJECTOR_DEF_TYPES");class SE{get(e,t=vs){if(t===vs){const i=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw i.name="NullInjectorError",i}return t}}function kH(...n){return{\u0275providers:gR(0,n),\u0275fromNgModule:!0}}function gR(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Eu(e,s=>{const a=s;I_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&_R(r,o),t}function _R(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];ME(r,o=>{e(o,i)})}}function I_(n,e,t,i){if(!(n=P(n)))return!1;let r=null,o=gl(n);const s=!o&&yt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=gl(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)I_(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Eu(o.imports,h=>{I_(h,e,t,i)&&(c||=[],c.push(h))})}finally{}void 0!==c&&_R(c,e)}if(!a){const c=fa(r)||(()=>new r);e({provide:r,useFactory:c,deps:Pt},r),e({provide:mR,useValue:r,multi:!0},r),e({provide:Of,useValue:()=>B(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;ME(l,h=>{e(h,c)})}}}return r!==n&&void 0!==n.providers}function ME(n,e){for(let t of n)be(t)&&(t=t.\u0275providers),Array.isArray(t)?ME(t,e):e(t)}const NH=_e({provide:String,useValue:_e});function PE(n){return null!==n&&"object"==typeof n&&NH in n}function Ll(n){return"function"==typeof n}const OE=new ne("Set Injector scope."),x_={},LH={};let kE;function C_(){return void 0===kE&&(kE=new SE),kE}class Lr{}class Su extends Lr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,FE(e,s=>this.processProvider(s)),this.records.set(pR,Ru(void 0,this)),r.has("environment")&&this.records.set(Lr,Ru(void 0,this));const o=this.records.get(OE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mR.multi,Pt,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Vo(this),i=Ui(void 0);try{return e()}finally{Vo(t),Ui(i)}}get(e,t=vs,i=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sr))return e[sr](this);i=Fc(i);const o=Vo(this),s=Ui(void 0);try{if(!(i&lt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function zH(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(e)&&Sc(e);l=c&&this.injectableDefInScope(c)?Ru(NE(e),x_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&lt.Self?C_():this.parent).get(e,t=i&lt.Optional&&t===vs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[rr]=a[rr]||[]).unshift(Me(e)),o)throw a;return function bo(n,e,t,i){const r=n[rr];throw e[Nc]&&r.unshift(e[Nc]),n.message=function oa(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Me(e);if(Array.isArray(e))r=e.map(Me).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Rh,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[rr]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ui(s),Vo(o)}}resolveInjectorInitializers(){const e=Vo(this),t=Ui(void 0);try{const r=this.get(Of.multi,Pt,lt.Self);for(const o of r)o()}finally{Vo(e),Ui(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Me(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=Ll(e=P(e))?e:P(e&&e.provide);const i=function BH(n){return PE(n)?Ru(void 0,n.useValue):Ru(bR(n),x_)}(e);if(Ll(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ru(void 0,x_,!0),r.factory=()=>bs(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===x_&&(t.value=LH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function jH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=P(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function NE(n){const e=Sc(n),t=null!==e?e.factory:fa(n);if(null!==t)return t;if(n instanceof ne)throw new F(204,!1);if(n instanceof Function)return function VH(n){const e=n.length;if(e>0)throw xf(e,"?"),new F(204,!1);const t=function na(n){return n&&(n[ia]||n[Rc])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new F(204,!1)}function bR(n,e,t){let i;if(Ll(n)){const r=P(n);return fa(r)||NE(r)}if(PE(n))i=()=>P(n.useValue);else if(function vR(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...bs(n.deps||[]));else if(function yR(n){return!(!n||!n.useExisting)}(n))i=()=>B(P(n.useExisting));else{const r=P(n&&(n.useClass||n.provide));if(!function UH(n){return!!n.deps}(n))return fa(r)||NE(r);i=()=>new r(...bs(n.deps))}return i}function Ru(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function FE(n,e){for(const t of n)Array.isArray(t)?FE(t,e):t&&be(t)?FE(t.\u0275providers,e):e(t)}const T_=new ne("AppId",{providedIn:"root",factory:()=>$H}),$H="ng",ER=new ne("Platform Initializer"),To=new ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Da=new ne("AnimationModuleType"),LE=new ne("CSP nonce",{providedIn:"root",factory:()=>Du().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wR=(n,e,t)=>null;function qE(n,e,t=!1){return wR(n,e,t)}class JH{}class CR{}class t4{resolveComponentFactory(e){throw function e4(n){const e=Error(`No component factory found for ${Me(n)}.`);return e.ngComponent=n,e}(e)}}let Ou=(()=>{class n{static#e=this.NULL=new t4}return n})();function n4(){return ku(li(),te())}function ku(n,e){return new En(Nn(n,e))}let En=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=n4}return n})();function r4(n){return n instanceof En?n.nativeElement:n}class Ff{}let Os=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function o4(){const n=te(),t=cr(li().index,n);return(lr(t)?t:n)[Ye]}()}return n})(),s4=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>null})}return n})();class Aa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const KE=new Aa("16.2.12"),ZE={};function RR(n,e=null,t=null,i){const r=MR(n,e,t,i);return r.resolveInjectorInitializers(),r}function MR(n,e=null,t=null,i,r=new Set){const o=[t||Pt,kH(n)];return i=i||("object"==typeof n?void 0:Me(n)),new Su(o,e||C_(),i||null,r)}let Gn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=vs;static#t=this.NULL=new SE;static create(t,i){if(Array.isArray(t))return RR({name:""},i,t,"");{const r=t.name??"";return RR({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=de({token:n,providedIn:"any",factory:()=>B(pR)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function QE(n){return n.ngOriginalError}class ks{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&QE(e);for(;t&&QE(t);)t=QE(t);return t||null}}function JE(n){return e=>{setTimeout(n,void 0,e)}}const gn=class f4 extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=JE(o),r&&(r=JE(r)),s&&(s=JE(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof mt&&e.add(a),a}};function OR(...n){}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function p4(){const n="function"==typeof zt.requestAnimationFrame;let e=zt[n?"requestAnimationFrame":"setTimeout"],t=zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function _4(n){const e=()=>{!function g4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,tw(n),n.isCheckStableRunning=!0,ew(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),tw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function v4(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return kR(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),NR(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return kR(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),NR(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,tw(n),ew(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new F(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,m4,OR,OR);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const m4={};function ew(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NR(n){n._nesting--,ew(n)}class y4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const FR=new ne("",{providedIn:"root",factory:LR});function LR(){const n=he(He);let e=!0;return I(new Ke(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Ke(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{He.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Y()))}function VR(n){return n.ownerDocument.defaultView}function BR(n){return n.ownerDocument}function Ns(n){return n instanceof Function?n():n}let nw=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function Lf(n){for(;n;){n[Ze]|=64;const e=Df(n);if(yg(n)&&!e)return n;n=e}return null}const HR=new ne("",{providedIn:"root",factory:()=>!1});let O_=null;function KR(n,e){return n[e]??QR()}function ZR(n,e){const t=QR();t.producerNode?.length&&(n[e]=O_,t.lView=n,O_=YR())}const D4={...xg,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Lf(n.lView)},lView:null};function YR(){return Object.create(D4)}function QR(){return O_??=YR(),O_}const tt={};function ct(n){XR(Ct(),te(),Si()+n,!1)}function XR(n,e,t,i){if(!i)if(3==(3&e[Ze])){const o=n.preOrderCheckHooks;null!==o&&ba(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Ea(e,o,0,t)}xo(t)}function j(n,e=lt.Default){const t=te();return null===t?B(n,e):Co(li(),t,P(n),e)}function k_(){throw new Error("invalid")}function N_(n,e,t,i,r,o,s,a,l,c,h){const p=e.blueprint.slice();return p[tn]=r,p[Ze]=140|i,(null!==c||n&&2048&n[Ze])&&(p[Ze]|=2048),iu(p),p[nn]=p[zo]=n,p[pn]=t,p[jo]=s||n&&n[jo],p[Ye]=a||n&&n[Ye],p[Uo]=l||n&&n[Uo]||null,p[_i]=o,p[bl]=function L$(){return F$++}(),p[wo]=h,p[Wc]=c,p[Sn]=2==e.type?n[Sn]:p,p}function Lu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function iw(n,e,t,i,r){const o=zg(),s=Sl(),l=n.data[e]=function N4(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return _a()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function $g(){return $e.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ss(){const n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ao(o,!0),o}function Vf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function JR(n,e,t,i,r){const o=KR(e,da),s=Si(),a=2&i;try{xo(-1),a&&e.length>pt&&XR(n,e,pt,!1),br(a?2:0,r);const c=a?o:null,h=Xc(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{Jh(c,h)}}finally{a&&null===e[da]&&ZR(e,da),xo(s),br(a?3:1,r)}}function rw(n,e,t){if(Kh(e)){const i=Nt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Nt(i)}}}function ow(n,e,t){su()&&(function z4(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ts(t)&&function Z4(n,e,t){const i=Nn(e,n),r=eM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=F_(n,N_(n,r,null,s,i,e,null,n[jo].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||E(t,e),ji(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Ko(e,n,a,t);ji(c,e),null!==s&&Y4(0,a-r,c,l,0,s),oo(l)&&(cr(t.index,e)[pn]=Ko(e,n,a,t))}}(n,e,t,Nn(t,e)),64==(64&t.flags)&&oM(n,e,t))}function sw(n,e,t=Nn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function eM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=aw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function aw(n,e,t,i,r,o,s,a,l,c,h){const p=pt+i,g=p+r,y=function S4(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:tt);return t}(p,g),w="function"==typeof c?c():c;return y[ye]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:h}}let tM=n=>null;function nM(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?iM(t,e,r,o):i.hasOwnProperty(r)&&iM(t,e,i[r],o)}return t}function iM(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Vr(n,e,t,i,r,o,s,a){const l=Nn(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[i])?(hw(n,t,h,i,r),Ts(e)&&function V4(n,e){const t=cr(e,n);16&t[Ze]||(t[Ze]|=64)}(t,e.index)):3&e.type&&(i=function L4(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function lw(n,e,t,i){if(su()){const r=null===i?null:{"":-1},o=function H4(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(zc(e,s.selectors,!1))if(i||(i=[]),oo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),cw(n,e,a.length)}else i.unshift(s),cw(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&rM(n,e,t,s,r,a),r&&function q4(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new F(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=aa(t.mergedAttrs,t.attrs)}function rM(n,e,t,i,r,o){for(let c=0;c<i.length;c++)Ee(E(t,e),n,i[c].type);!function G4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Vf(n,e,i.length,null);for(let c=0;c<i.length;c++){const h=i[c];t.mergedAttrs=aa(t.mergedAttrs,h.hostAttrs),K4(n,t,e,l,h),W4(l,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function F4(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,w=g?g.outputs:null;l=nM(p.inputs,h,l,g?g.inputs:null),c=nM(p.outputs,h,c,w);const x=null===l||null===s||Uc(e)?null:Q4(l,h,s);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function oM(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function H0(){return $e.lFrame.currentDirectiveIndex}();try{xo(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];pf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$4(l,c)}}finally{xo(-1),pf(s)}}function $4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function cw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function W4(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;oo(e)&&(t[""]=n)}}function K4(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=fa(r.type)),s=new Ms(o,oo(r),j);n.blueprint[i]=s,t[i]=s,function U4(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function j4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Vf(n,t,r.hostVars,tt),r)}function Zo(n,e,t,i,r,o){const s=Nn(n,e);!function uw(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ce(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ye],s,o,n.value,t,i,r)}function Y4(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)sM(i,t,s[a++],s[a++],s[a++])}function sM(n,e,t,i,r){const o=Nt(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Nt(o)}}function Q4(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function aM(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function lM(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];mf(t[i]),s.contentQueries(2,e[o],o)}}}function F_(n,e){return n[Is]?n[gg][kr]=e:n[Is]=e,n[gg]=e,e}function dw(n,e,t){mf(0);const i=Nt(null);try{e(n,t)}finally{Nt(i)}}function cM(n){return n[ca]||(n[ca]=[])}function uM(n){return n.cleanup||(n.cleanup=[])}function hM(n,e){const t=n[Uo],i=t?t.get(ks,null):null;i&&i.handleError(e)}function hw(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];sM(n.data[s],e[s],i,a,r)}}function Fs(n,e,t){const i=nu(e,n);!function zS(n,e,t){n.setValue(e,t)}(n[Ye],i,t)}function X4(n,e){const t=cr(e,n),i=t[ye];!function J4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[tn];null!==r&&null===t[wo]&&(t[wo]=qE(r,t[Uo])),fw(i,t,t[pn])}function fw(n,e,t){va(e);try{const i=n.viewQuery;null!==i&&dw(1,i,t);const r=n.template;null!==r&&JR(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lM(n,e),n.staticViewQueries&&dw(2,n.viewQuery,t);const o=n.components;null!==o&&function e3(n,e){for(let t=0;t<e.length;t++)X4(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ze]&=-5,gf()}}let fM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function P0(n,e,t){const i=Object.create(O0);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Tg(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Il(i))return;i.hasRun=!0;const s=Xc(i);try{i.cleanupFn(),i.cleanupFn=Pg,i.fn(r)}finally{Jh(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function L_(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Jn(r,a):2==o&&(i=Jn(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Bf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Yt(o)),ai(o)&&pM(o,i);const s=t.type;if(8&s)Bf(n,e,t.child,i);else if(32&s){const a=fE(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=QS(e,t);if(Array.isArray(a))i.push(...a);else{const l=Df(e[Sn]);Bf(l[ye],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function pM(n,e){for(let t=yi;t<n.length;t++){const i=n[t],r=i[ye].firstChild;null!==r&&Bf(i[ye],i,r,e)}n[ro]!==n[tn]&&e.push(n[ro])}function V_(n,e,t,i=!0){const r=e[jo],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{mM(n,e,n.template,t)}catch(l){throw i&&hM(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function mM(n,e,t,i){const r=e[Ze];if(256!=(256&r)){e[jo].effectManager?.flush(),va(e);try{iu(e),function ff(n){return $e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&JR(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&ba(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ea(e,c,0,null),yf(e,0)}if(function r3(n){for(let e=BS(n);null!==e;e=US(e)){if(!e[_g])continue;const t=e[ha];for(let i=0;i<t.length;i++){V0(t[i])}}}(e),gM(e,2),null!==n.contentQueries&&lM(n,e),s){const c=n.contentCheckHooks;null!==c&&ba(e,c)}else{const c=n.contentHooks;null!==c&&Ea(e,c,1),yf(e,1)}!function A4(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=KR(e,Cs);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)xo(~o);else{const s=o,a=t[++r],l=t[++r];$0(a,s),i.dirty=!1;const c=Xc(i);try{l(2,e[s])}finally{Jh(i,c)}}}}finally{null===e[Cs]&&ZR(e,Cs),xo(-1)}}(n,e);const a=n.components;null!==a&&yM(e,a,0);const l=n.viewQuery;if(null!==l&&dw(2,l,i),s){const c=n.viewCheckHooks;null!==c&&ba(e,c)}else{const c=n.viewHooks;null!==c&&Ea(e,c,2),yf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ze]&=-73,ru(e)}finally{gf()}}}function gM(n,e){for(let t=BS(n);null!==t;t=US(t))for(let i=yi;i<t.length;i++)_M(t[i],e)}function o3(n,e,t){_M(cr(e,n),t)}function _M(n,e){if(!function Lg(n){return 128==(128&n[Ze])}(n))return;const t=n[ye],i=n[Ze];if(80&i&&0===e||1024&i||2===e)mM(t,n,t.template,n[pn]);else if(n[ws]>0){gM(n,1);const r=t.components;null!==r&&yM(n,r,1)}}function yM(n,e,t){for(let i=0;i<e.length;i++)o3(n,e[i],t)}class Uf{get rootNodes(){const e=this._lView,t=e[ye];return Bf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return 256==(256&this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[nn];if(ai(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(m_(e,i),r_(t,i))}this._attachedToViewContainer=!1}mE(this._lView[ye],this._lView)}onDestroy(e){!function ou(n,e){if(256==(256&n[Ze]))throw new F(911,!1);null===n[$o]&&(n[$o]=[]),n[$o].push(e)}(this._lView,e)}markForCheck(){Lf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){this._lView[Ze]|=128}detectChanges(){V_(this._lView[ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q$(n,e){Sf(n,e,e[Ye],2,null,null)}(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class s3 extends Uf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;V_(e[ye],e,e[pn],!1)}checkNoChanges(){}get context(){return null}}class vM extends Ou{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=yt(e);return new jf(t,this.ngModule)}}function bM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class l3{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Fc(i);const r=this.injector.get(e,ZE,i);return r!==ZE||t===ZE?r:this.parentInjector.get(e,t,i)}}class jf extends CR{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=bM(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return bM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function pg(n){return n.map(zh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Lr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new l3(e,o):e,a=s.get(Ff,null);if(null===a)throw new F(407,!1);const p={rendererFactory:a,sanitizer:s.get(s4,null),effectManager:s.get(fM,null),afterRenderEventManager:s.get(nw,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=i?function R4(n,e,t,i){const o=i.get(HR,!1)||t===_r.ShadowDom,s=n.selectRootElement(e,o);return function M4(n){tM(n)}(s),s}(g,i,this.componentDef.encapsulation,s):p_(g,y,function a3(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==w&&(M=qE(w,s,!0));const U=aw(0,null,null,1,0,null,null,null,null,null,null),Q=N_(null,U,null,N,null,null,p,g,s,null,M);let fe,ke;va(Q);try{const Xe=this.componentDef;let $t,gr=null;Xe.findHostDirectiveDefs?($t=[],gr=new Map,Xe.findHostDirectiveDefs(Xe,$t,gr),$t.push(Xe)):$t=[Xe];const Dr=function u3(n,e){const t=n[ye],i=pt;return n[i]=e,Lu(t,i,2,"#host",null)}(Q,w),d0=function d3(n,e,t,i,r,o,s){const a=r[ye];!function h3(n,e,t,i){for(const r of n)e.mergedAttrs=aa(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(L_(e,e.mergedAttrs,!0),null!==t&&tR(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=qE(e,r[Uo]));const c=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=N_(r,eM(t),null,h,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&cw(a,n,i.length-1),F_(r,p),r[n.index]=p}(Dr,w,Xe,$t,Q,p,g);ke=Fg(U,pt),w&&function p3(n,e,t,i){if(i)Nh(n,t,["ng-version",KE.full]);else{const{attrs:r,classes:o}=function $h(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!ar(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Nh(n,t,r),o&&o.length>0&&eR(n,t,o.join(" "))}}(g,Xe,w,i),void 0!==t&&function m3(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(ke,this.ngContentSelectors,t),fe=function f3(n,e,t,i,r,o){const s=li(),a=r[ye],l=Nn(s,r);rM(a,r,s,t,null,i);for(let h=0;h<t.length;h++)ji(Ko(r,a,s.directiveStart+h,s),r);oM(a,r,s),l&&ji(l,r);const c=Ko(r,a,s.directiveStart+s.componentOffset,s);if(n[pn]=r[pn]=c,null!==o)for(const h of o)h(c,e);return rw(a,s,n),c}(d0,Xe,$t,gr,Q,[g3]),fw(U,Q,null)}finally{gf()}return new c3(this.componentType,fe,ku(ke,Q),Q,ke)}}class c3 extends JH{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new s3(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;hw(o[ye],o,r,e,t),this.previousInputValues.set(e,t),Lf(cr(this._tNode.index,o))}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function g3(){const n=li();uu(te()[ye],n)}function Rt(n){let e=function EM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(oo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=B_(n.inputs),s.inputTransforms=B_(n.inputTransforms),s.declaredInputs=B_(n.declaredInputs),s.outputs=B_(n.outputs);const a=r.hostBindings;a&&b3(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&y3(n,l),c&&v3(n,c),jt(n.inputs,r.inputs),jt(n.declaredInputs,r.declaredInputs),jt(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),jt(s.inputTransforms,r.inputTransforms)),oo(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Rt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function _3(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=aa(r.hostAttrs,t=aa(t,r.hostAttrs))}}(i)}function B_(n){return n===no?{}:n===Pt?[]:n}function y3(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function v3(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function b3(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function CM(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function U_(n){return!!pw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yo(n,e,t){return n[e]=t}function zi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Vl(n,e,t,i){const r=zi(n,e,t);return zi(n,e+1,i)||r}function Br(n,e,t,i){const r=te();return zi(r,Rs(),e)&&(Ct(),Zo(mn(),r,n,e,t,i)),Br}function Uu(n,e,t,i,r,o){const a=Vl(n,function lo(){return $e.lFrame.bindingIndex}(),t,r);return Io(2),a?e+Ce(t)+i+Ce(r)+o:tt}function wn(n,e,t,i,r,o,s,a){const l=te(),c=Ct(),h=n+pt,p=c.firstCreatePass?function q3(n,e,t,i,r,o,s,a,l){const c=e.consts,h=Lu(e,n,4,s||null,qo(c,a));lw(e,t,h,qo(c,l)),uu(e,h);const p=h.tView=aw(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,i,r,o,s):c.data[h];ao(p,!1);const g=VM(c,l,p,n);cu()&&__(c,l,g,p),ji(g,l),F_(l,l[h]=aM(g,l,g,p)),Zh(p)&&ow(c,l,p),null!=s&&sw(l,p,a)}let VM=function BM(n,e,t,i){return Go(!0),e[Ye].createComment("")};function it(n,e,t){const i=te();return zi(i,Rs(),e)&&Vr(Ct(),mn(),i,n,e,i[Ye],t,!1),it}function bw(n,e,t,i,r){const s=r?"class":"style";hw(n,t,e.inputs[s],s,i)}function ce(n,e,t,i){const r=te(),o=Ct(),s=pt+n,a=r[Ye],l=o.firstCreatePass?function Z3(n,e,t,i,r,o){const s=e.consts,l=Lu(e,n,2,i,qo(s,r));return lw(e,t,l,qo(s,o)),null!==l.attrs&&L_(l,l.attrs,!1),null!==l.mergedAttrs&&L_(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=jM(o,r,l,a,e,n);r[s]=c;const h=Zh(l);return ao(l,!0),tR(a,c,l),32!=(32&l.flags)&&cu()&&__(o,r,c,l),0===function B0(){return $e.lFrame.elementDepthCount}()&&ji(c,r),function uf(){$e.lFrame.elementDepthCount++}(),h&&(ow(o,r,l),rw(o,l,r)),null!==i&&sw(r,l),ce}function ue(){let n=li();Sl()?Rl():(n=n.parent,ao(n,!1));const e=n;(function Bg(n){return $e.skipHydrationRootTNode===n})(e)&&function j0(){$e.skipHydrationRootTNode=null}(),function df(){$e.lFrame.elementDepthCount--}();const t=Ct();return t.firstCreatePass&&(uu(t,n),Kh(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function hu(n){return 0!=(8&n.flags)}(e)&&bw(t,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function e_(n){return 0!=(16&n.flags)}(e)&&bw(t,e,te(),e.stylesWithoutHost,!1),ue}function qt(n,e,t,i){return ce(n,e,t,i),ue(),qt}let jM=(n,e,t,i,r,o)=>(Go(!0),p_(i,r,function _f(){return $e.lFrame.currentNamespace}()));function q_(n,e,t){const i=te(),r=Ct(),o=n+pt,s=r.firstCreatePass?function X3(n,e,t,i,r){const o=e.consts,s=qo(o,i),a=Lu(e,n,8,"ng-container",s);return null!==s&&L_(a,s,!0),lw(e,t,a,qo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];ao(s,!0);const a=zM(r,i,s,n);return i[o]=a,cu()&&__(r,i,a,s),ji(a,i),Zh(s)&&(ow(r,i,s),rw(r,s,i)),null!=t&&sw(i,s),q_}function W_(){let n=li();const e=Ct();return Sl()?Rl():(n=n.parent,ao(n,!1)),e.firstCreatePass&&(uu(e,n),Kh(n)&&e.queries.elementEnd(n)),W_}function Ew(n,e,t){return q_(n,e,t),W_(),Ew}let zM=(n,e,t,i)=>(Go(!0),pE(e[Ye],""));function Gu(){return te()}function Wf(n){return!!n&&"function"==typeof n.then}function $M(n){return!!n&&"function"==typeof n.subscribe}function ut(n,e,t,i){const r=te(),o=Ct(),s=li();return function qM(n,e,t,i,r,o,s){const a=Zh(i),c=n.firstCreatePass&&uM(n),h=e[pn],p=cM(e);let g=!0;if(3&i.type||s){const x=Nn(i,e),T=s?s(x):x,N=p.length,M=s?Q=>s(Yt(Q[i.index])):i.index;let U=null;if(!s&&a&&(U=function t5(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[ca],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,g=!1;else{o=GM(i,e,h,o,!1);const Q=t.listen(T,r,o);p.push(o,Q),c&&c.push(r,M,N,N+1)}}else o=GM(i,e,h,o,!1);const y=i.outputs;let w;if(g&&null!==y&&(w=y[r])){const x=w.length;if(x)for(let T=0;T<x;T+=2){const fe=e[w[T]][w[T+1]].subscribe(o),ke=p.length;p.push(o,fe),c&&c.push(r,i.index,ke,-(ke+1))}}}(o,r,r[Ye],s,n,e,i),ut}function WM(n,e,t,i){try{return br(6,e,t),!1!==t(i)}catch(r){return hM(n,r),!1}finally{br(7,e,t)}}function GM(n,e,t,i,r){return function o(s){if(s===Function)return i;Lf(n.componentOffset>-1?cr(n.index,e):e);let l=WM(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=WM(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Mi(n=1){return function q0(n){return($e.lFrame.contextLView=function W0(n,e){for(;n>0;)e=e[zo],n--;return e}(n,$e.lFrame.contextLView))[pn]}(n)}function n5(n,e){let t=null;const i=function fg(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?zc(n,o,!0):Uh(i,o))return r}else t=r}return t}function G_(n,e=0,t){const i=te(),r=Ct(),o=Lu(r,pt+n,16,null,t||null);null===o.projection&&(o.projection=e),Rl(),(!i[wo]||_a())&&32!=(32&o.flags)&&function oH(n,e,t){JS(e[Ye],0,e,t,_E(n,t,e),GS(t.parent||e[_i],t,e))}(r,i,o)}function K_(n,e){return n<<17|e<<2}function Sa(n){return n>>17&32767}function Iw(n){return 2|n}function Bl(n){return(131068&n)>>2}function xw(n,e){return-131069&n|e<<2}function Cw(n){return 1|n}function rP(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Sa(o):Bl(o),l=!1;for(;0!==a&&(!1===l||s);){const h=n[a+1];c5(n[a],e)&&(l=!0,n[a+1]=i?Cw(h):Iw(h)),a=i?Sa(h):Bl(h)}l&&(n[t+1]=i?Iw(o):Cw(o))}function c5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&wu(n,e)>=0}const ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oP(n){return n.substring(ui.key,ui.keyEnd)}function sP(n,e){const t=ui.textEnd;return t===e?-1:(e=ui.keyEnd=function f5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ui.key=e,t),Ku(n,e,t))}function Ku(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ls(n,e){return function Do(n,e,t,i){const r=te(),o=Ct(),s=Io(2);o.firstUpdatePass&&pP(o,n,s,i),e!==tt&&zi(r,s,e)&&gP(o,o.data[Si()],r,r[Ye],n,r[s+1]=function x5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Me(Ta(n)))),n}(e,t),i,s)}(n,e,null,!0),Ls}function hP(n){!function Ao(n,e,t,i){const r=Ct(),o=Io(2);r.firstUpdatePass&&pP(r,null,o,i);const s=te();if(t!==tt&&zi(s,o,t)){const a=r.data[Si()];if(yP(a,i)&&!fP(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Jn(l,t||"")),bw(r,a,s,t,i)}else!function I5(n,e,t,i,r,o,s,a){r===tt&&(r=Pt);let l=0,c=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;null!==h||null!==p;){const g=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0;let x,w=null;h===p?(l+=2,c+=2,g!==y&&(w=p,x=y)):null===p||null!==h&&h<p?(l+=2,w=h):(c+=2,w=p,x=y),null!==w&&gP(n,e,t,i,w,x,s,a),h=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}(r,a,s,s[Ye],s[o+1],s[o+1]=function E5(n,e,t){if(null==t||""===t)return Pt;const i=[],r=Ta(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(w5,Xo,n,!0)}function Xo(n,e){for(let t=function d5(n){return function lP(n){ui.key=0,ui.keyEnd=0,ui.value=0,ui.valueEnd=0,ui.textEnd=n.length}(n),sP(n,Ku(n,0,ui.textEnd))}(e);t>=0;t=sP(e,t))Nr(n,oP(e),!0)}function fP(n,e){return e>=n.expandoStartIndex}function pP(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Si()],s=fP(n,t);yP(o,i)&&null===e&&!s&&(e=!1),e=function _5(n,e,t,i){const r=function Ml(n){const e=$e.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Gf(t=Tw(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=Tw(r,n,e,t,i),null===o){let l=function y5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Bl(i))return n[Sa(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Tw(null,n,e,l[1],i),l=Gf(l,e.attrs,i),function v5(n,e,t,i){n[Sa(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function b5(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Gf(i,n[o].hostAttrs,t);return Gf(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function a5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Sa(s),l=Bl(s);n[i]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||wu(t,h)>0)&&(c=!0)):h=t,r)if(0!==l){const g=Sa(n[a+1]);n[i+1]=K_(g,a),0!==g&&(n[g+1]=xw(n[g+1],i)),n[a+1]=function o5(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=K_(a,0),0!==a&&(n[a+1]=xw(n[a+1],i)),a=i;else n[i+1]=K_(l,0),0===a?a=i:n[l+1]=xw(n[l+1],i),l=i;c&&(n[i+1]=Iw(n[i+1])),rP(n,h,i,!0),rP(n,h,i,!1),function l5(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&wu(o,e)>=0&&(t[i+1]=Cw(t[i+1]))}(e,h,n,i,o),s=K_(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function Tw(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Gf(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Gf(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nr(n,s,!!t||e[++o]))}return void 0===n?null:n}function w5(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Nr(n,i,t)}function gP(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],h=function s5(n){return 1==(1&n)}(c)?_P(l,e,t,r,Bl(c),s):void 0;Z_(h)||(Z_(o)||function r5(n){return 2==(2&n)}(c)&&(o=_P(l,null,t,r,a,s)),function aH(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ca.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ca.Important),n.setStyle(t,i,r,o))}}(i,s,nu(Si(),t),r,o))}function _P(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let g=t[r+1];g===tt&&(g=p?Pt:void 0);let y=p?rE(g,i):h===i?g:void 0;if(c&&!Z_(y)&&(y=rE(l,i)),Z_(y)&&(a=y,s))return a;const w=n[r+1];r=s?Sa(w):Bl(w)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=rE(l,i))}return a}function Z_(n){return void 0!==n}function yP(n,e){return 0!=(n.flags&(e?8:16))}function Ve(n,e=""){const t=te(),i=Ct(),r=n+pt,o=i.firstCreatePass?Lu(i,r,1,e,null):i.data[r],s=vP(i,t,o,e,n);t[r]=s,cu()&&__(i,t,s,o),ao(o,!1)}let vP=(n,e,t,i,r)=>(Go(!0),function f_(n,e){return n.createText(e)}(e[Ye],i));function Y_(n){return Zu("",n,""),Y_}function Zu(n,e,t){const i=te(),r=function Bu(n,e,t,i){return zi(n,Rs(),t)?e+Ce(t)+i:tt}(i,n,e,t);return r!==tt&&Fs(i,Si(),r),Zu}function Dw(n,e,t,i,r){const o=te(),s=Uu(o,n,e,t,i,r);return s!==tt&&Fs(o,Si(),s),Dw}function Q_(n,e,t){const i=te();return zi(i,Rs(),e)&&Vr(Ct(),mn(),i,n,e,i[Ye],t,!0),Q_}const Qu="en-US";let BP=Qu;function Rw(n,e,t,i,r){if(n=P(n),Array.isArray(n))for(let o=0;o<n.length;o++)Rw(n[o],e,t,i,r);else{const o=Ct(),s=te(),a=li();let l=Ll(n)?n:P(n.provide);const c=bR(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Ll(n)||!n.multi){const y=new Ms(c,r,j),w=Pw(l,e,r?h:h+g,p);-1===w?(Ee(E(a,s),o,l),Mw(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{const y=Pw(l,e,h+g,p),w=Pw(l,e,h,h+g),T=w>=0&&t[w];if(r&&!T||!r&&!(y>=0&&t[y])){Ee(E(a,s),o,l);const N=function qq(n,e,t,i,r){const o=new Ms(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,d1(o,r,i&&!t),o}(r?Hq:$q,t.length,r,i,c);!r&&T&&(t[w].providerFactory=N),Mw(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else Mw(o,n,y>-1?y:w,d1(t[r?w:y],c,!r&&i));!r&&i&&T&&t[w].componentProviders++}}}function Mw(n,e,t,i){const r=Ll(e),o=function FH(n){return!!n.useClass}(e);if(r||o){const l=(o?P(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[i,l]):c[h+1].push(i,l)}else c.push(t,l)}}}function d1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Pw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function $q(n,e,t,i){return Ow(this.multi,[])}function Hq(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ko(t,t[ye],this.providerFactory.index,i);o=a.slice(0,s),Ow(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ow(r,o);return o}function Ow(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function In(n,e=[]){return t=>{t.providersResolver=(i,r)=>function zq(n,e,t){const i=Ct();if(i.firstCreatePass){const r=oo(n);Rw(t,i.data,i.blueprint,r,!0),Rw(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class jl{}class h1{}class kw extends jl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vM(this);const r=Di(e);this._bootstrapComponents=Ns(r.bootstrap),this._r3Injector=MR(e,t,[{provide:jl,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver},...i],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Nw extends h1{constructor(e){super(),this.moduleType=e}create(e){return new kw(this.moduleType,e,[])}}class f1 extends jl{constructor(e){super(),this.componentFactoryResolver=new vM(this),this.instance=null;const t=new Su([...e.providers,{provide:jl,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],e.parent||C_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Fw(n,e,t=null){return new f1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Kq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=gR(0,t.type),r=i.length>0?Fw([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=de({token:n,providedIn:"environment",factory:()=>new n(B(Lr))})}return n})();function p1(n){n.getStandaloneInjector=e=>e.get(Kq).getOrCreateStandaloneInjector(n)}function Jf(n,e,t,i){return function E1(n,e,t,i,r,o){const s=e+t;return zi(n,s,r)?Yo(n,s+1,o?i.call(o,r):i(r)):ep(n,s+1)}(te(),Ai(),n,e,t,i)}function Xu(n,e,t,i,r){return function w1(n,e,t,i,r,o,s){const a=e+t;return Vl(n,a,r,o)?Yo(n,a+2,s?i.call(s,r,o):i(r,o)):ep(n,a+2)}(te(),Ai(),n,e,t,i,r)}function ep(n,e){const t=n[e];return t===tt?void 0:t}function yW(){return this._results[Symbol.iterator]()}class Vw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new gn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Vw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=yW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function co(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function u$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bW(n,e,t,i=!0){const r=e[ye];if(function J$(n,e,t,i){const r=yi+i,o=t.length;i>0&&(t[r-1][kr]=e),i<o-yi?(e[kr]=t[r],yS(t,yi+i,e)):(t.push(e),e[kr]=null),e[nn]=t;const s=e[xs];null!==s&&t!==s&&function eH(n,e){const t=n[ha];e[Sn]!==e[nn][nn][Sn]&&(n[_g]=!0),null===t?n[ha]=[e]:t.push(e)}(s,e);const a=e[yr];null!==a&&a.insertView(n),e[Ze]|=128}(r,e,n,t),i){const o=vE(t,n),s=e[Ye],a=g_(s,n[ro]);null!==a&&function Y$(n,e,t,i,r,o){i[tn]=r,i[_i]=e,Sf(n,i,t,1,r,o)}(r,n[_i],s,e,a,o)}}let Jo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=IW}return n})();const EW=Jo,wW=class extends EW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function vW(n,e,t,i){const r=e.tView,a=N_(n,r,t,4096&n[Ze]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[xs]=n[e.index];const c=n[yr];return null!==c&&(a[yr]=c.createEmbeddedView(r)),fw(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Uf(r)}};function IW(){return ny(li(),te())}function ny(n,e){return 4&n.type?new wW(e,n,ku(n,e)):null}let ho=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=SW}return n})();function SW(){return P1(li(),te())}const RW=ho,R1=class extends RW{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){const e=ie(this._hostTNode,this._hostLView);if(vf(e)){const t=kl(e,this._hostLView),i=Ol(e);return new vi(t[ye].data[i+8],t)}return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=M1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-yi}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function If(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const l=s?e:new jf(yt(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const T=(s?c:this.parentInjector).get(Lr,null);T&&(o=T)}yt(l.componentType??{});const y=l.create(c,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function L0(n){return ai(n[nn])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[nn],h=new R1(c,c[_i],c[nn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return bW(a,r,s,!i),e.attachToViewContainerRef(),yS(Bw(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=M1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=m_(this._lContainer,t);i&&(r_(Bw(this._lContainer),t),mE(i[ye],i))}detach(e){const t=this._adjustIndex(e,-1),i=m_(this._lContainer,t);return i&&null!=r_(Bw(this._lContainer),t)?new Uf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function M1(n){return n[8]}function Bw(n){return n[8]||(n[8]=[])}function P1(n,e){let t;const i=e[n.index];return ai(i)?t=i:(t=aM(i,e,null,n),e[n.index]=t,F_(e,t)),O1(t,e,n,i),new R1(t,n,e)}let O1=function k1(n,e,t,i){if(n[ro])return;let r;r=8&t.type?Yt(i):function MW(n,e){const t=n[Ye],i=t.createComment(""),r=Nn(e,n);return Fl(t,g_(t,r),i,function rH(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[ro]=r};class Uw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Uw(this.queryList)}setDirty(){this.queryList.setDirty()}}class jw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new jw(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==j1(e,t).matches&&this.queries[t].setDirty()}}class N1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class zw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new zw(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $w{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new $w(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,kW(t,o)),this.matchTNodeWithReadOption(e,t,Ia(t,e,o,!1,!1))}else i===Jo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ia(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===En||r===ho||r===Jo&&4&t.type)this.addMatch(t.index,-2);else{const o=Ia(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function kW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function FW(n,e,t,i){return-1===t?function NW(n,e){return 11&n.type?ku(n,e):4&n.type?ny(n,e):null}(e,n):-2===t?function LW(n,e,t){return t===En?ku(e,n):t===Jo?ny(e,n):t===ho?P1(e,n):void 0}(n,e,i):Ko(n,n[ye],t,e)}function F1(n,e,t,i){const r=e[yr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:FW(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function Hw(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=F1(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],h=e[-l];for(let p=yi;p<h.length;p++){const g=h[p];g[xs]===g[nn]&&Hw(g[ye],g,c,i)}if(null!==h[ha]){const p=h[ha];for(let g=0;g<p.length;g++){const y=p[g];Hw(y[ye],y,c,i)}}}}}return i}function qw(n){const e=te(),t=Ct(),i=Hg();mf(i+1);const r=j1(t,i);if(n.dirty&&function lf(n){return 4==(4&n[Ze])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Hw(t,e,i,[]):F1(t,e,r,i);n.reset(o,r4),n.notifyOnChanges()}return!0}return!1}function L1(n,e,t){const i=Ct();i.firstCreatePass&&(function U1(n,e,t){null===n.queries&&(n.queries=new zw),n.queries.track(new $w(e,t))}(i,new N1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function B1(n,e,t){const i=new Vw(4==(4&t));(function k4(n,e,t,i){const r=cM(e);r.push(t),n.firstCreatePass&&uM(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[yr]&&(e[yr]=new jw),e[yr].queries.push(new Uw(i))}(i,te(),e)}function j1(n,e){return n.queries.getByIndex(e)}function z1(n,e){return ny(n,e)}const Xw=new ne("Application Initializer");let Jw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=he(Xw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Wf(o))t.push(o);else if($M(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const es=new ne("LocaleId",{providedIn:"root",factory:()=>he(es,lt.Optional|lt.SkipSelf)||function sG(){return typeof $localize<"u"&&$localize.locale||Qu}()});let oy=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class cG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sO=(()=>{class n{compileModuleSync(t){return new Nw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Ns(Di(t).declarations).reduce((s,a)=>{const l=yt(a);return l&&s.push(new jf(l)),s},[]);return new cG(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uO=new ne(""),ay=new ne("");let rI,nI=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rI||(function MG(n){rI=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(B(He),B(iI),B(ay))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),iI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return rI?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ra=null;const dO=new ne("AllowMultipleToken"),oI=new ne("PlatformDestroyListeners"),sI=new ne("appBootstrapListener");class fO{constructor(e,t){this.name=e,this.token=t}}function mO(n,e,t=[]){const i=`Platform: ${e}`,r=new ne(i);return(o=[])=>{let s=aI();if(!s||s.injector.get(dO,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function kG(n){if(Ra&&!Ra.get(dO,!1))throw new F(400,!1);(function hO(){!function A0(n){D0=n}(()=>{throw new F(600,!1)})})(),Ra=n;const e=n.get(_O);(function pO(n){n.get(ER,null)?.forEach(t=>t())})(n)}(function gO(n=[],e){return Gn.create({name:e,providers:[{provide:OE,useValue:"platform"},{provide:oI,useValue:new Set([()=>Ra=null])},...n]})}(a,i))}return function FG(n){const e=aI();if(!e)throw new F(401,!1);return e}()}}function aI(){return Ra?.get(_O)??null}let _O=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function LG(n="zone.js",e){return"noop"===n?new y4:"zone.js"===n?new He(e):n}(i?.ngZone,function yO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Gq(n,e,t){return new kw(n,e,t)}(t.moduleType,this.injector,function IO(n){return[{provide:He,useFactory:n},{provide:Of,multi:!0,useFactory:()=>{const e=he(BG,{optional:!0});return()=>e.initialize()}},{provide:wO,useFactory:VG},{provide:FR,useFactory:LR}]}(()=>r)),s=o.injector.get(ks,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{ly(this._modules,o),a.unsubscribe()})}),function vO(n,e,t){try{const i=t();return Wf(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Jw);return a.runInitializers(),a.donePromise.then(()=>(function UP(n){mi(n,"Expected localeId to be defined"),"string"==typeof n&&(BP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(es,Qu)||Qu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=bO({},i);return function PG(n,e,t){const i=new Nw(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ma);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new F(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(oI,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gn))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function bO(n,e){return Array.isArray(e)?e.reduce(bO,n):{...n,...e}}let Ma=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(wO),this.zoneIsStable=he(FR),this.componentTypes=[],this.components=[],this.isStable=he(oy).hasPendingTasks.pipe(xe(t=>t?S(!1):this.zoneIsStable),ze(),Y()),this._injector=he(Lr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof CR;if(!this._injector.get(Jw).done)throw!r&&function la(n){const e=yt(n)||oi(n)||si(n);return null!==e&&e.standalone}(t),new F(405,!1);let s;s=r?t:this._injector.get(Ou).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function OG(n){return n.isBoundToModule}(s)?void 0:this._injector.get(jl),c=s.create(Gn.NULL,[],i||s.selector,a),h=c.location.nativeElement,p=c.injector.get(uO,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),ly(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ly(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(sI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ly(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ly(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wO=new ne("",{providedIn:"root",factory:()=>he(ks).handleError.bind(void 0)});function VG(){const n=he(He),e=he(ks);return t=>n.runOutsideAngular(()=>e.handleError(t))}let BG=(()=>{class n{constructor(){this.zone=he(He),this.applicationRef=he(Ma)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let cy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=jG}return n})();function jG(n){return function zG(n,e,t){if(Ts(n)&&!t){const i=cr(n.index,e);return new Uf(i,i)}return 47&n.type?new Uf(e[Sn],e):null}(li(),te(),16==(16&n))}class AO{constructor(){}supports(e){return U_(e)}create(e){return new KG(e)}}const GG=(n,e)=>e;class KG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<RO(i,r,o)?t:i,a=RO(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,h=l-r;if(c!=h){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<c&&(o[g]=y+1)}o[s.previousIndex]=h-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!U_(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function D3(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new ZG(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new SO),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ZG{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class SO{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new YG,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RO(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class MO{constructor(){}supports(e){return e instanceof Map||pw(e)}create(){return new QG}}class QG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pw(e)))throw new F(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new XG(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class XG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function PO(){return new hy([new AO])}let hy=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:PO});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||PO()),deps:[[n,new s_,new Fr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new F(901,!1)}}return n})();function OO(){return new rp([new MO])}let rp=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:OO});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||OO()),deps:[[n,new s_,new Fr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new F(901,!1)}}return n})();const t6=mO(null,"core",[]);let n6=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ma))};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})();function td(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let fI=null;function Pa(){return fI}class g6{}const Mt=new ne("DocumentToken");let pI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return he(y6)},providedIn:"platform"})}return n})();const _6=new ne("Location Initialized");let y6=(()=>{class n extends pI{constructor(){super(),this._doc=he(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pa().getBaseHref(this._doc)}onPopState(t){const i=Pa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Pa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function mI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Vs(n){return n&&"?"!==n[0]?"?"+n:n}let $l=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return he(HO)},providedIn:"root"})}return n})();const $O=new ne("appBaseHref");let HO=(()=>{class n extends $l{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Vs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Vs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Vs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(pI),B($O,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),v6=(()=>{class n extends $l{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=mI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Vs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Vs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(pI),B($O,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),op=(()=>{class n{constructor(t){this._subject=new gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function w6(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(zO(qO(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Vs(i))}normalize(t){return n.stripTrailingSlash(function E6(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,qO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Vs;static#t=this.joinWithSlash=mI;static#n=this.stripTrailingSlash=zO;static#i=this.\u0275fac=function(i){return new(i||n)(B($l))};static#r=this.\u0275prov=de({token:n,factory:function(){return function b6(){return new op(B($l))}()},providedIn:"root"})}return n})();function qO(n){return n.replace(/\/index.html$/,"")}function ek(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const CI=/\s+/,tk=[];let id=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=tk,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(CI):tk}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(CI):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(CI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(j(hy),j(rp),j(En),j(Os))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class a8{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let TI=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new a8(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),ik(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ik(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(j(ho),j(Jo),j(hy))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function ik(n,e){n.context.$implicit=e.item}let Hl=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new l8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(j(ho),j(Jo))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class l8{constructor(){this.$implicit=null,this.ngIf=null}}function rk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Me(e)}'.`)}let ak=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})();const lk="browser";function MI(n){return"server"===n}let L8=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new V8(B(Mt),window)})}return n})();class V8{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function B8(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ck{}class l9 extends g6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kI extends l9{static makeCurrent(){!function m6(n){fI||(fI=n)}(new kI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function c9(){return cp=cp||document.querySelector("base"),cp?cp.getAttribute("href"):null}();return null==t?null:function u9(n){Ty=Ty||document.createElement("a"),Ty.setAttribute("href",n);const e=Ty.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ek(document.cookie,e)}}let Ty,cp=null,h9=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const NI=new ne("EventManagerPlugins");let pk=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(B(NI),B(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class mk{constructor(e){this._doc=e}}const FI="ng-app-id";let gk=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=MI(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${FI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(FI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(FI,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt),B(T_),B(LE,8),B(To))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const LI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},VI=/%COMP%/g,g9=new ne("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yk(n,e){return e.map(t=>t.replace(VI,n))}let BI=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=MI(a),this.defaultRenderer=new UI(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_r.ShadowDom&&(i={...i,encapsulation:_r.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof bk?r.applyToHost(t):r instanceof jI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case _r.Emulated:o=new bk(l,c,i,this.appId,h,s,a,p);break;case _r.ShadowDom:return new b9(l,c,t,i,s,a,this.nonce,p);default:o=new jI(l,c,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(B(pk),B(gk),B(T_),B(g9),B(Mt),B(To),B(He),B(LE))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class UI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(LI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vk(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(vk(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new F(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=LI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=LI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ca.DashCase|Ca.Important)?e.style.setProperty(t,i,r&Ca.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ca.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Pa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function vk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class b9 extends UI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=yk(r.id,r.styles);for(const h of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jI extends UI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?yk(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bk extends jI{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function _9(n){return"_ngcontent-%COMP%".replace(VI,n)}(c),this.hostAttr=function y9(n){return"_nghost-%COMP%".replace(VI,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let E9=(()=>{class n extends mk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const Ek=["alt","control","meta","shift"],w9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let x9=(()=>{class n extends mk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pa().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Ek.forEach(c=>{const h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=w9[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ek.forEach(s=>{s!==r&&(0,I9[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const Ik=[{provide:To,useValue:lk},{provide:ER,useValue:function C9(){kI.makeCurrent()},multi:!0},{provide:Mt,useFactory:function D9(){return function hH(n){wE=n}(document),document},deps:[]}],A9=mO(t6,"browser",Ik),S9=new ne(""),xk=[{provide:ay,useClass:class d9{addToWindow(e){zt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new F(5103,!1);return o},zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),zt.getAllAngularRootElements=()=>e.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(i=>{const r=zt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Pa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uO,useClass:nI,deps:[He,iI,ay]},{provide:nI,useClass:nI,deps:[He,iI,ay]}],Ck=[{provide:OE,useValue:"root"},{provide:ks,useFactory:function T9(){return new ks},deps:[]},{provide:NI,useClass:E9,multi:!0,deps:[Mt,He,To]},{provide:NI,useClass:x9,multi:!0,deps:[Mt]},BI,gk,pk,{provide:Ff,useExisting:BI},{provide:ck,useClass:h9,deps:[]},[]];let Tk=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:T_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(B(S9,12))};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:[...Ck,...xk],imports:[ak,n6]})}return n})(),Dk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt))};static#t=this.\u0275prov=de({token:n,factory:function(i){let r=null;return r=i?new i:function M9(){return new Dk(B(Mt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;var Se=Be(861),xr=(Be(365),Be(534));(0,xr.registerVersion)("firebase","10.7.1","app");class V9 extends mt{constructor(e,t){super()}schedule(e,t=0){return this}}const Dy={setInterval(n,e,...t){const{delegate:i}=Dy;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Dy;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Ay extends V9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Dy.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Dy.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ae(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const $I={now:()=>($I.delegate||Date).now(),delegate:void 0};class up{constructor(e,t=up.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}up.now=$I.now;class Sy extends up{constructor(e,t=up.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const j9=new class U9 extends Sy{}(class B9 extends Ay{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Ry=new Sy(Ay),z9=Ry;function Pi(n,e,t){const i=C(n)||e||t?{next:n,error:e,complete:t}:n;return i?J((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(pe(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Dn}const rd=new Aa("ANGULARFIRE2_VERSION");const HI=(n,e)=>{const t=e?[e]:(0,xr.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class Pk{constructor(){return HI($9)}}const $9="app-check";function od(){}class Ok{zone;delegate;constructor(e,t=j9){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class H9{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",od,{},od,od)),t.pipe(Pi({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qI=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ok(Zone.current)),this.insideAngular=t.run(()=>new Ok(Zone.current,Ry)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(B(He))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ql(n){return sd().ngZone.run(()=>n())}function kk(n){return function W9(n){return function(t){return(t=t.lift(new H9(n.ngZone))).pipe(pi(n.outsideAngular),kn(n.insideAngular))}}(sd())(n)}const G9=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ql(()=>n.apply(void 0,i))},ad=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||=ql(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",od,{},od,od))),i[o]=G9(i[o],t));const r=function q9(n){return sd().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Ke){const o=sd();return r.pipe(pi(o.outsideAngular),kn(o.insideAngular))}return ql(()=>r)}return r instanceof Ke?r.pipe(kk):r instanceof Promise?ql(()=>new Promise((o,s)=>r.then(a=>ql(()=>o(a)),a=>ql(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:ql(()=>r)};var ka=Be(106);ka.Z.registerVersion("firebase","10.7.1","app-compat");const Y9=["ngOnDestroy"];class Nk{constructor(e){return e}}const WI=new ne("angularfire2.app.options"),GI=new ne("angularfire2.app.name");function Fk(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=ka.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>ka.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;J9("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Nk(s)}const J9=(n,...e)=>{},e7={provide:Nk,useFactory:Fk,deps:[WI,He,[new Fr,GI]]};let t7=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:WI,useValue:t},{provide:GI,useValue:i}]}}constructor(t){ka.Z.registerVersion("angularfire",rd.full,"core"),ka.Z.registerVersion("angularfire",rd.full,"app-compat"),ka.Z.registerVersion("angular",KE.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(To))};static \u0275mod=wt({type:n});static \u0275inj=St({providers:[e7]})}return n})();typeof module<"u"&&module;globalThis.\u0275AngularfireInstanceCache||=[];class o7 extends z{constructor(e=1/0,t=1/0,i=$I){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function Vk(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Y({connector:()=>new o7(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const My=K(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Oi(n,e){return J((t,i)=>{let r=0;t.subscribe(pe(i,o=>n.call(e,o,r++)&&i.next(o)))})}function mo(n){return n<=0?()=>An:J((e,t)=>{let i=0;e.subscribe(pe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Py(n){return J((e,t)=>{let i=!1;e.subscribe(pe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Bk(n=s7){return J((e,t)=>{let i=!1;e.subscribe(pe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function s7(){return new My}function Na(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Oi((r,o)=>n(r,o,i)):Dn,mo(1),t?Py(e):Bk(()=>new My))}function Uk(n,e){return C(e)?xe(()=>n,e):xe(()=>n)}const l7=new ne("angularfire2.auth.use-emulator"),c7=new ne("angularfire2.auth.settings"),u7=new ne("angularfire2.auth.tenant-id"),d7=new ne("angularfire2.auth.langugage-code"),h7=new ne("angularfire2.auth.use-device-language"),f7=new ne("angularfire.auth.persistence");let KI=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,h,p,g,y){const w=new z,x=S(void 0).pipe(kn(s.outsideAngular),xe(()=>o.runOutsideAngular(()=>Promise.resolve().then(Be.bind(Be,365)))),Ie(()=>Fk(t,o,i)),Ie(T=>((n,e,t,i,r,o,s,a)=>function n7(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function i7(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}(`${n.name}.auth`,0,0,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,h]of Object.entries(s))l.settings[c]=h;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]))(T,o,a,c,h,p,l,g)),Vk({bufferSize:1,refCount:!1}));if(MI(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{x.pipe(Na()).subscribe();const T=x.pipe(xe(U=>U.getRedirectResult().then(Q=>Q,()=>null)),kk,Vk({bufferSize:1,refCount:!1})),N=x.pipe(xe(U=>new Ke(Q=>({unsubscribe:o.runOutsideAngular(()=>U.onAuthStateChanged(fe=>Q.next(fe),fe=>Q.error(fe),()=>Q.complete()))})))),M=x.pipe(xe(U=>new Ke(Q=>({unsubscribe:o.runOutsideAngular(()=>U.onIdTokenChanged(fe=>Q.next(fe),fe=>Q.error(fe),()=>Q.complete()))}))));this.authState=T.pipe(Uk(N),pi(s.outsideAngular),kn(s.insideAngular)),this.user=T.pipe(Uk(M),pi(s.outsideAngular),kn(s.insideAngular)),this.idToken=this.user.pipe(xe(U=>U?b(U.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(xe(U=>U?b(U.getIdTokenResult()):S(null))),this.credential=I(T,w,this.authState.pipe(Oi(U=>!U))).pipe(Ie(U=>U?.user?U:null),pi(s.outsideAngular),kn(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Y9.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(h=>{const p=h?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,p),p})})})}))(this,x,o,{spy:{apply:(T,N,M)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&M.then(U=>w.next(U))}}})}static \u0275fac=function(i){return new(i||n)(B(WI),B(GI,8),B(To),B(He),B(qI),B(l7,8),B(c7,8),B(u7,8),B(d7,8),B(h7,8),B(f7,8),B(Pk,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),m7=(()=>{class n{constructor(){ka.Z.registerVersion("angularfire",rd.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=St({providers:[KI]})}return n})(),ld=(()=>{class n{constructor(t){this.afAuth=t,this.isLoggedIn=!1,this.userData=t.authState}register(t,i,r,o){return this.afAuth.createUserWithEmailAndPassword(t,i).then(s=>(this.isLoggedIn=!0,s.user?.updateProfile({displayName:`${r} ${o}`})))}login(t,i,r){var o=this;return(0,Se.Z)(function*(){const s=yield o.afAuth.signInWithEmailAndPassword(t,i);if(!s.user)return;const a=s.user.uid;o.isLoggedIn=!0,r?localStorage.setItem("rememberMe",JSON.stringify({email:t,password:i})):localStorage.removeItem("rememberMe"),localStorage.setItem("uid",a)})()}logout(){this.isLoggedIn=!1,localStorage.removeItem("rememberMe"),localStorage.removeItem("User_info"),localStorage.removeItem("uid"),this.afAuth.signOut()}static#e=this.\u0275fac=function(i){return new(i||n)(B(KI))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const{isArray:_7}=Array,{getPrototypeOf:y7,prototype:v7,keys:b7}=Object;function jk(n){if(1===n.length){const e=n[0];if(_7(e))return{args:e,keys:null};if(function E7(n){return n&&"object"==typeof n&&y7(n)===v7}(e)){const t=b7(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:w7}=Array;function ZI(n){return Ie(e=>function I7(n,e){return w7(e)?n(...e):n(e)}(n,e))}function zk(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Oy(...n){const e=Or(n),t=eo(n),{args:i,keys:r}=jk(n);if(0===i.length)return b([],e);const o=new Ke(function x7(n,e,t=Dn){return i=>{$k(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)$k(e,()=>{const c=b(n[l],e);let h=!1;c.subscribe(pe(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>zk(r,s):Dn));return t?o.pipe(ZI(t)):o}function $k(n,e,t){n?er(t,n,e):e()}function ky(...n){return function C7(){return tr(1)}()(b(n,Or(n)))}function Ny(n){return new Ke(e=>{_t(n()).subscribe(e)})}function dp(n,e){const t=C(n)?n:()=>n,i=r=>r.error(t());return new Ke(e?r=>e.schedule(i,0,r):i)}function YI(){return J((n,e)=>{let t=null;n._refCount++;const i=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Hk extends Ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ee(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;const t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return YI()(this)}}function Fy(...n){const e=Or(n);return J((t,i)=>{(e?ky(n,t,e):ky(n,t)).subscribe(i)})}function cd(n,e){return C(e)?Lt(n,e,1):Lt(n,1)}function Wl(n){return J((e,t)=>{let o,i=null,r=!1;i=e.subscribe(pe(t,void 0,void 0,s=>{o=_t(n(s,Wl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function QI(n){return n<=0?()=>An:J((e,t)=>{let i=[];e.subscribe(pe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function hp(n){return J((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ly(n){return J((e,t)=>{_t(n).subscribe(pe(t,()=>t.complete(),De)),!t.closed&&e.subscribe(t)})}const rt="primary",fp=Symbol("RouteTitle");class R7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ud(n){return new R7(n)}function M7(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ts(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!qk(n[r],e[r]))return!1;return!0}function qk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Wk(n){return n.length>0?n[n.length-1]:null}function Fa(n){return function g7(n){return!!n&&(n instanceof Ke||C(n.lift)&&C(n.subscribe))}(n)?n:Wf(n)?b(Promise.resolve(n)):S(n)}const O7={exact:function Zk(n,e,t){if(!Gl(n.segments,e.segments)||!Vy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Zk(n.children[i],e.children[i],t))return!1;return!0},subset:Yk},Gk={exact:function k7(n,e){return ts(n,e)},subset:function N7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qk(n[t],e[t]))},ignored:()=>!0};function Kk(n,e,t){return O7[t.paths](n.root,e.root,t.matrixParams)&&Gk[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Yk(n,e,t){return Qk(n,e,e.segments,t)}function Qk(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Gl(r,t)||e.hasChildren()||!Vy(r,t,i))}if(n.segments.length===t.length){if(!Gl(n.segments,t)||!Vy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Yk(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Gl(n.segments,r)&&Vy(n.segments,r,i)&&n.children[rt])&&Qk(n.children[rt],e,o,i)}}function Vy(n,e,t){return e.every((i,r)=>Gk[t](n[r].parameters,i.parameters))}class dd{constructor(e=new Wt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ud(this.queryParams)),this._queryParamMap}toString(){return V7.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return By(this)}}class pp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ud(this.parameters)),this._parameterMap}toString(){return eN(this)}}function Gl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let mp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new XI},providedIn:"root"})}return n})();class XI{parse(e){const t=new Z7(e);return new dd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gp(e.root,!0)}`,i=function j7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Uy(t)}=${Uy(r)}`).join("&"):`${Uy(t)}=${Uy(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function B7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const V7=new XI;function By(n){return n.segments.map(e=>eN(e)).join("/")}function gp(n,e){if(!n.hasChildren())return By(n);if(e){const t=n.children[rt]?gp(n.children[rt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==rt&&i.push(`${r}:${gp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function L7(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===rt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==rt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===rt?[gp(n.children[rt],!1)]:[`${r}:${gp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rt]?`${By(n)}/${t[0]}`:`${By(n)}/(${t.join("//")})`}}function Xk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uy(n){return Xk(n).replace(/%3B/gi,";")}function JI(n){return Xk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jy(n){return decodeURIComponent(n)}function Jk(n){return jy(n.replace(/\+/g,"%20"))}function eN(n){return`${JI(n.path)}${function U7(n){return Object.keys(n).map(e=>`;${JI(e)}=${JI(n[e])}`).join("")}(n.parameters)}`}const z7=/^[^\/()?;#]+/;function ex(n){const e=n.match(z7);return e?e[0]:""}const $7=/^[^\/()?;=#]+/,q7=/^[^=?&#]+/,G7=/^[^&#]+/;class Z7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[rt]=new Wt(e,t)),i}parseSegment(){const e=ex(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new pp(jy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function H7(n){const e=n.match($7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ex(this.remaining);r&&(i=r,this.capture(i))}e[jy(t)]=jy(i)}parseQueryParam(e){const t=function W7(n){const e=n.match(q7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function K7(n){const e=n.match(G7);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Jk(t),o=Jk(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ex(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new F(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=rt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[rt]:new Wt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function tN(n){return n.segments.length>0?new Wt([],{[rt]:n}):n}function nN(n){const e={};for(const i of Object.keys(n.children)){const o=nN(n.children[i]);if(i===rt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Y7(n){if(1===n.numberOfChildren&&n.children[rt]){const e=n.children[rt];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function Kl(n){return n instanceof dd}function iN(n){let e;const r=tN(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Wt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function rN(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return tx(r,r,r,t,i);const o=function X7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sN(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new sN(t,e,i)}(e);if(o.toRoot())return tx(r,r,new Wt([],{}),t,i);const s=function J7(n,e,t){if(n.isAbsolute)return new $y(e,!0,0);if(!t)return new $y(e,!1,NaN);if(null===t.parent)return new $y(t,!0,0);const i=zy(n.commands[0])?0:1;return function eK(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new F(4005,!1);r=i.segments.length}return new $y(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?yp(s.segmentGroup,s.index,o.commands):aN(s.segmentGroup,s.index,o.commands);return tx(r,s.segmentGroup,a,t,i)}function zy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _p(n){return"object"==typeof n&&null!=n&&n.outlets}function tx(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=n===e?t:oN(n,e,t);const a=tN(nN(s));return new dd(a,o,r)}function oN(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:oN(o,e,t)}),new Wt(n.segments,i)}class sN{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&zy(i[0]))throw new F(4003,!1);const r=i.find(_p);if(r&&r!==Wk(i))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $y{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function aN(n,e,t){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return yp(n,e,t);const i=function nK(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(_p(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!cN(l,c,s))return o;i+=2}else{if(!cN(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Wt(n.segments.slice(0,i.pathIndex),{});return o.children[rt]=new Wt(n.segments.slice(i.pathIndex),n.children),yp(o,0,r)}return i.match&&0===r.length?new Wt(n.segments,{}):i.match&&!n.hasChildren()?nx(n,e,t):i.match?yp(n,0,r):nx(n,e,t)}function yp(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const i=function tK(n){return _p(n[0])?n[0].outlets:{[rt]:n}}(t),r={};if(Object.keys(i).some(o=>o!==rt)&&n.children[rt]&&1===n.numberOfChildren&&0===n.children[rt].segments.length){const o=yp(n.children[rt],e,t);return new Wt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=aN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Wt(n.segments,r)}}function nx(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(_p(o)){const l=iK(o.outlets);return new Wt(i,l)}if(0===r&&zy(t[0])){i.push(new pp(n.segments[e].path,lN(t[0]))),r++;continue}const s=_p(o)?o.outlets[rt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&zy(a)?(i.push(new pp(s,lN(a))),r+=2):(i.push(new pp(s,{})),r++)}return new Wt(i,{})}function iK(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=nx(new Wt([],{}),0,i))}),e}function lN(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function cN(n,e,t){return n==t.path&&ts(e,t.parameters)}const vp="imperative";class ns{constructor(e,t){this.id=e,this.url=t}}class Hy extends ns{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class js extends ns{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bp extends ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hd extends ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class qy extends ns{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uN extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rK extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oK extends ns{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sK extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aK extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ix{}class rx{constructor(e){this.url=e}}class pK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ep,this.attachRef=null}}let Ep=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new pK,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class hN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ox(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ox(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return sx(e,this._root).map(t=>t.value)}}function ox(n,e){if(n===e.value)return e;for(const t of e.children){const i=ox(n,t);if(i)return i}return null}function sx(n,e){if(n===e.value)return[e];for(const t of e.children){const i=sx(n,t);if(i.length)return i.unshift(e),i}return[]}class zs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fN extends hN{constructor(e,t){super(e),this.snapshot=t,ax(this,e)}toString(){return this.snapshot.toString()}}function pN(n,e){const t=function mK(n,e){const s=new Wy([],{},{},"",{},rt,e,null,{});return new gN("",new zs(s,[]))}(0,e),i=new v([new pp("",{})]),r=new v({}),o=new v({}),s=new v({}),a=new v(""),l=new La(i,r,s,a,o,rt,e,t.root);return l.snapshot=t.root,new fN(new zs(l,[]),t)}class La{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(c=>c[fp]))??S(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>ud(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>ud(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mN(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function gK(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Wy{get title(){return this.data?.[fp]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ud(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ud(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gN extends hN{constructor(e,t){super(t),this.url=e,ax(this,t)}toString(){return _N(this._root)}}function ax(n,e){e.value._routerState=n,e.children.forEach(t=>ax(n,t))}function _N(n){const e=n.children.length>0?` { ${n.children.map(_N).join(", ")} } `:"";return`${n.value}${e}`}function lx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ts(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ts(e.params,t.params)||n.paramsSubject.next(t.params),function P7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ts(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cx(n,e){const t=ts(n.params,e.params)&&function F7(n,e){return Gl(n,e)&&n.every((t,i)=>ts(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cx(n.parent,e.parent))}let ux=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=rt,this.activateEvents=new gn,this.deactivateEvents=new gn,this.attachEvents=new gn,this.detachEvents=new gn,this.parentContexts=he(Ep),this.location=he(ho),this.changeDetector=he(cy),this.environmentInjector=he(Lr),this.inputBinder=he(Gy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new _K(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]})}return n})();class _K{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===La?this.route:e===Ep?this.childContexts:this.parent.get(e,t)}}const Gy=new ne("");let yN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Oy([i.queryParams,i.params,i.data]).pipe(xe(([o,s,a],l)=>(a={...o,...s,...a},0===l?S(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function p6(n){const e=yt(n);if(!e)return null;const t=new jf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function wp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function vK(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return wp(n,i,r);return wp(n,i)})}(n,e,t);return new zs(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wp(n,a)),s}}const i=function bK(n){return new La(new v(n.url),new v(n.params),new v(n.queryParams),new v(n.fragment),new v(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>wp(n,o));return new zs(i,r)}}const dx="ngNavigationCancelingError";function vN(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Kl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=bN(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function bN(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[dx]=!0,i.cancellationCode=e,t&&(i.url=t),i}function EN(n){return n&&n[dx]}let wN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=qn({type:n,selectors:[["ng-component"]],standalone:!0,features:[p1],decls:1,vars:0,template:function(i,r){1&i&&qt(0,"router-outlet")},dependencies:[ux],encapsulation:2})}return n})();function hx(n){const e=n.children&&n.children.map(hx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rt&&(t.component=wN),t}function Mo(n){return n.outlet||rt}function Ip(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class AK{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lx(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=fd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=fd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=fd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=fd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new fK(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dK(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(lx(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lx(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Ip(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class IN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ky{constructor(e,t){this.component=e,this.route=t}}function SK(n,e,t){const i=n._root;return xp(i,e?e._root:null,t,[i.value])}function pd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function og(n){return null!==Sc(n)}(n)?e.get(n):n:i}function xp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=fd(e);return n.children.forEach(s=>{(function MK(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function PK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Gl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gl(n.url,e.url)||!ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cx(n,e)||!ts(n.queryParams,e.queryParams);default:return!cx(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new IN(i)):(o.data=s.data,o._resolvedData=s._resolvedData),xp(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ky(a.outlet.component,s))}else s&&Cp(e,a,r),r.canActivateChecks.push(new IN(i)),xp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cp(a,t.getContext(s),r)),r}function Cp(n,e,t){const i=fd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Cp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ky(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Tp(n){return"function"==typeof n}function xN(n){return n instanceof My||"EmptyError"===n?.name}const Zy=Symbol("INITIAL_VALUE");function md(){return xe(n=>Oy(n.map(e=>e.pipe(mo(1),Fy(Zy)))).pipe(Ie(e=>{for(const t of e)if(!0!==t){if(t===Zy)return Zy;if(!1===t||t instanceof dd)return t}return!0}),Oi(e=>e!==Zy),mo(1)))}function CN(n){return function Ar(...n){return Sr(n)}(Pi(e=>{if(Kl(e))throw vN(0,e)}),Ie(e=>!0===e))}class Yy{constructor(e){this.segmentGroup=e||null}}class TN{constructor(e){this.urlTree=e}}function gd(n){return dp(new Yy(n))}function DN(n){return dp(new TN(n))}class XK{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new F(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return S(i);if(r.numberOfChildren>1||!r.children[rt])return dp(new F(4e3,!1));r=r.children[rt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new dd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Wt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new F(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const fx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JK(n,e,t,i,r){const o=px(n,e,t);return o.matched?(i=function wK(n,e){return n.providers&&!n._injector&&(n._injector=Fw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function ZK(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?S(r.map(s=>{const a=pd(s,n);return Fa(function VK(n){return n&&Tp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(md(),CN()):S(!0)}(i,e,t).pipe(Ie(s=>!0===s?o:{...fx}))):S(o)}function px(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||M7)(t,n,e);if(!r)return{...fx};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function AN(n,e,t,i){return t.length>0&&function nZ(n,e,t){return t.some(i=>Qy(n,e,i)&&Mo(i)!==rt)}(n,t,i)?{segmentGroup:new Wt(e,tZ(i,new Wt(t,n.children))),slicedSegments:[]}:0===t.length&&function iZ(n,e,t){return t.some(i=>Qy(n,e,i))}(n,t,i)?{segmentGroup:new Wt(n.segments,eZ(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Wt(n.segments,n.children),slicedSegments:t}}function eZ(n,e,t,i,r){const o={};for(const s of i)if(Qy(n,t,s)&&!r[Mo(s)]){const a=new Wt([],{});o[Mo(s)]=a}return{...r,...o}}function tZ(n,e){const t={};t[rt]=e;for(const i of n)if(""===i.path&&Mo(i)!==rt){const r=new Wt([],{});t[Mo(i)]=r}return t}function Qy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class aZ{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new XK(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,!1)}recognize(){const e=AN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,rt).pipe(Wl(t=>{if(t instanceof TN)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Yy?this.noMatchError(t):t}),Ie(t=>{const i=new Wy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rt,this.rootComponentType,null,{}),r=new zs(i,t),o=new gN("",r),s=function Q7(n,e,t=null,i=null){return rN(iN(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,rt).pipe(Wl(i=>{throw i instanceof Yy?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=mN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return b(r).pipe(cd(o=>{const s=i.children[o],a=function TK(n,e){const t=n.filter(i=>Mo(i)===e);return t.push(...n.filter(i=>Mo(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function D7(n,e){return J(function T7(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(pe(s,h=>{const p=c++;l=a?n(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Py(null),function A7(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Oi((r,o)=>n(r,o,i)):Dn,QI(1),t?Py(e):Bk(()=>new My))}(),Lt(o=>{if(null===o)return gd(i);const s=SN(o);return function lZ(n){n.sort((e,t)=>e.value.outlet===rt?-1:t.value.outlet===rt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),S(s)}))}processSegment(e,t,i,r,o,s){return b(t).pipe(cd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Wl(l=>{if(l instanceof Yy)return S(null);throw l}))),Na(a=>!!a),Wl(a=>{if(xN(a))return function oZ(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?S([]):gd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function rZ(n,e,t,i){return!!(Mo(n)===i||i!==rt&&Qy(e,t,n))&&("**"===n.path||px(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):gd(r):gd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?DN(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Lt(s=>{const a=new Wt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=px(t,r,o);if(!a)return gd(t);const p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?DN(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Lt(g=>this.processSegment(e,i,t,g.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?Wk(r).parameters:{};a=S({snapshot:new Wy(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RN(i),Mo(i),i.component??i._loadedComponent??null,i,MN(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=JK(t,i,r,e).pipe(Ie(({matched:l,consumedSegments:c,remainingSegments:h,parameters:p})=>l?{snapshot:new Wy(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RN(i),Mo(i),i.component??i._loadedComponent??null,i,MN(i)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(xe(l=>null===l?gd(t):this.getChildConfig(e=i._injector??e,i,r).pipe(xe(({routes:c})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:w,slicedSegments:x}=AN(t,g,y,c);if(0===x.length&&w.hasChildren())return this.processChildren(h,c,w).pipe(Ie(N=>null===N?null:[new zs(p,N)]));if(0===c.length&&0===x.length)return S([new zs(p,[])]);const T=Mo(i)===o;return this.processSegment(h,c,w,x,T?rt:o,!0).pipe(Ie(N=>[new zs(p,N)]))}))))}getChildConfig(e,t,i){return t.children?S({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?S({routes:t._loadedRoutes,injector:t._loadedInjector}):function KK(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?S(!0):S(r.map(s=>{const a=pd(s,n);return Fa(function kK(n){return n&&Tp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(md(),CN())}(e,t,i).pipe(Lt(r=>r?this.configLoader.loadChildren(e,t).pipe(Pi(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function QK(n){return dp(bN(!1,3))}())):S({routes:[],injector:e})}}function cZ(n){const e=n.value.routeConfig;return e&&""===e.path}function SN(n){const e=[],t=new Set;for(const i of n){if(!cZ(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=SN(i.children);e.push(new zs(i.value,r))}return e.filter(i=>!t.has(i))}function RN(n){return n.data||{}}function MN(n){return n.resolve||{}}function PN(n){return"string"==typeof n.title||null===n.title}function mx(n){return xe(e=>{const t=n(e);return t?b(t).pipe(Ie(()=>e)):S(e)})}const _d=new ne("ROUTES");let gx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(sO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Fa(t.loadComponent()).pipe(Ie(ON),Pi(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),hp(()=>{this.componentLoaders.delete(t)})),r=new Hk(i,()=>new z).pipe(YI());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function gZ(n,e,t,i){return Fa(n.loadChildren()).pipe(Ie(ON),Lt(r=>r instanceof h1||Array.isArray(r)?S(r):b(e.compileModuleAsync(r))),Ie(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(_d,[],{optional:!0,self:!0}).flat()),{routes:s.map(hx),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(hp(()=>{this.childrenLoaders.delete(i)})),s=new Hk(o,()=>new z).pipe(YI());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ON(n){return function _Z(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=he(gx),this.environmentInjector=he(Lr),this.urlSerializer=he(mp),this.rootContexts=he(Ep),this.inputBindingEnabled=null!==he(Gy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new cK(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new lK(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new v({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oi(o=>0!==o.id),Ie(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),xe(o=>{this.currentTransition=o;let s=!1,a=!1;return S(o).pipe(Pi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xe(l=>{const c=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new hd(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),An}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return S(l).pipe(xe(g=>{const y=this.transitions?.getValue();return this.events.next(new Hy(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?An:Promise.resolve(g)}),function uZ(n,e,t,i,r,o){return Lt(s=>function sZ(n,e,t,i,r,o,s="emptyOnly"){return new aZ(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Ie(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Pi(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new uN(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:w,restoredState:x,extras:T}=l,N=new Hy(g,this.urlSerializer.serialize(y),w,x);this.events.next(N);const M=pN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:M,urlAfterRedirects:y,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},S(o)}{const g="";return this.events.next(new hd(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),An}}),Pi(l=>{const c=new rK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ie(l=>(this.currentTransition=o={...l,guards:SK(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function UK(n,e){return Lt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?S({...t,guardsResult:!0}):function jK(n,e,t,i){return b(n).pipe(Lt(r=>function GK(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?S(o.map(a=>{const l=Ip(e)??r,c=pd(a,l);return Fa(function LK(n){return n&&Tp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Na())})).pipe(md()):S(!0)}(r.component,r.route,t,e,i)),Na(r=>!0!==r,!0))}(s,i,r,n).pipe(Lt(a=>a&&function OK(n){return"boolean"==typeof n}(a)?function zK(n,e,t,i){return b(e).pipe(cd(r=>ky(function HK(n,e){return null!==n&&e&&e(new uK(n)),S(!0)}(r.route.parent,i),function $K(n,e){return null!==n&&e&&e(new hK(n)),S(!0)}(r.route,i),function WK(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function RK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Ny(()=>S(s.guards.map(l=>{const c=Ip(s.node)??t,h=pd(l,c);return Fa(function FK(n){return n&&Tp(n.canActivateChild)}(h)?h.canActivateChild(i,n):c.runInContext(()=>h(i,n))).pipe(Na())})).pipe(md())));return S(o).pipe(md())}(n,r.path,t),function qK(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return S(!0);const r=i.map(o=>Ny(()=>{const s=Ip(e)??t,a=pd(o,s);return Fa(function NK(n){return n&&Tp(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Na())}));return S(r).pipe(md())}(n,r.route,t))),Na(r=>!0!==r,!0))}(i,o,n,e):S(a)),Ie(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Pi(l=>{if(o.guardsResult=l.guardsResult,Kl(l.guardsResult))throw vN(0,l.guardsResult);const c=new oK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Oi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),mx(l=>{if(l.guards.canActivateChecks.length)return S(l).pipe(Pi(c=>{const h=new sK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),xe(c=>{let h=!1;return S(c).pipe(function dZ(n,e){return Lt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return S(t);let o=0;return b(r).pipe(cd(s=>function hZ(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!PN(r)&&(o[fp]=r.title),function fZ(n,e,t,i){const r=function pZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return S({});const o={};return b(r).pipe(Lt(s=>function mZ(n,e,t,i){const r=Ip(e)??i,o=pd(n,r);return Fa(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Na(),Pi(a=>{o[s]=a}))),QI(1),function S7(n){return Ie(()=>n)}(o),Wl(s=>xN(s)?An:dp(s)))}(o,n,e,i).pipe(Ie(s=>(n._resolvedData=s,n.data=mN(n,t).resolve,r&&PN(r)&&(n.data[fp]=r.title),null)))}(s.route,i,n,e)),Pi(()=>o++),QI(1),Lt(s=>o===r.length?S(t):An))})}(t.paramsInheritanceStrategy,this.environmentInjector),Pi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),Pi(c=>{const h=new aK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),mx(l=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Pi(g=>{h.component=g}),Ie(()=>{})));for(const g of h.children)p.push(...c(g));return p};return Oy(c(l.targetSnapshot.root)).pipe(Py(),mo(1))}),mx(()=>this.afterPreactivation()),Ie(l=>{const c=function yK(n,e,t){const i=wp(n,e._root,t?t._root:void 0);return new fN(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Pi(()=>{this.events.next(new ix)}),((n,e,t,i)=>Ie(r=>(new AK(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),mo(1),Pi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new js(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ly(this.transitionAbortSubject.pipe(Pi(l=>{throw l}))),hp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Wl(l=>{if(a=!0,EN(l))this.events.next(new bp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function EK(n){return EN(n)&&Kl(n.url)}(l)?this.events.next(new rx(l.url)):o.resolve(!1);else{this.events.next(new qy(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return An}))}))}cancelNavigationTransition(t,i,r){const o=new bp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kN(n){return n!==vp}let NN=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===rt);return i}getResolvedTitleForRoute(t){return t.data[fp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return he(yZ)},providedIn:"root"})}return n})(),yZ=(()=>{class n extends NN{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Dk))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return he(EZ)},providedIn:"root"})}return n})();class bZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let EZ=(()=>{class n extends bZ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}();static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jy=new ne("",{providedIn:"root",factory:()=>({})});let wZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return he(IZ)},providedIn:"root"})}return n})(),IZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Dp||{});function FN(n,e){n.events.pipe(Oi(t=>t instanceof js||t instanceof bp||t instanceof qy||t instanceof hd),Ie(t=>t instanceof js||t instanceof hd?Dp.COMPLETE:t instanceof bp&&(0===t.code||1===t.code)?Dp.REDIRECTING:Dp.FAILED),Oi(t=>t!==Dp.REDIRECTING),mo(1)).subscribe(()=>{e()})}function xZ(n){throw n}function CZ(n,e,t){return e.parse("/")}const TZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(oO),this.isNgZoneEnabled=!1,this._events=new z,this.options=he(Jy,{optional:!0})||{},this.pendingTasks=he(oy),this.errorHandler=this.options.errorHandler||xZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||CZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(wZ),this.routeReuseStrategy=he(vZ),this.titleStrategy=he(NN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=he(_d,{optional:!0})?.flat()??[],this.navigationTransitions=he(Xy),this.urlSerializer=he(mp),this.location=he(op),this.componentInputBindingEnabled=!!he(Gy,{optional:!0}),this.eventsSubscription=new mt,this.isNgZoneEnabled=he(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(LN(i)&&this._events.next(i));if(i instanceof Hy)kN(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof hd)this.rawUrlTree=r.rawUrl;else if(i instanceof uN){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof ix)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof bp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof rx){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kN(r.source)};this.scheduleNavigation(o,vp,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof qy&&this.restoreHistory(r,!0),i instanceof js&&(this.navigated=!0),LN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=iN(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return rN(p,t,h,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Kl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vp,null,i)}navigate(t,i={skipLocationChange:!1}){return function AZ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new F(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...TZ}:!1===i?{...DZ}:i,Kl(t))return Kk(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Kk(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});const h=this.pendingTasks.add();return FN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LN(n){return!(n instanceof ix||n instanceof rx)}let Va=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof js&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fR(n,e,t){return function OH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hR:w_}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(j(bi),j(La),function i_(n){return function Le(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Bc(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(li(),n)}("tabindex"),j(Os),j(En),j($l))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&ut("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Br("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",td],skipLocationChange:["skipLocationChange","skipLocationChange",td],replaceUrl:["replaceUrl","replaceUrl",td],routerLink:"routerLink"},standalone:!0,features:[CM,vr]})}return n})();class VN{}let MZ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(t=>t instanceof js),cd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Fw(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return b(r).pipe(tr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):S(null);const o=r.pipe(Lt(s=>null===s?S(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?b([o,this.loader.loadComponent(i)]).pipe(tr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(B(bi),B(sO),B(Lr),B(VN),B(gx))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _x=new ne("");let BN=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof js?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof hd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){k_()};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function $s(n,e){return{\u0275kind:n,\u0275providers:e}}function jN(){const n=he(Gn);return e=>{const t=n.get(Ma);if(e!==t.components[0])return;const i=n.get(bi),r=n.get(zN);1===n.get(yx)&&i.initialNavigation(),n.get($N,null,lt.Optional)?.setUpPreloading(),n.get(_x,null,lt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const zN=new ne("",{factory:()=>new z}),yx=new ne("",{providedIn:"root",factory:()=>1}),$N=new ne("");function NZ(n){return $s(0,[{provide:$N,useExisting:MZ},{provide:VN,useExisting:n}])}const HN=new ne("ROUTER_FORROOT_GUARD"),LZ=[op,{provide:mp,useClass:XI},bi,Ep,{provide:La,useFactory:function UN(n){return n.routerState.root},deps:[bi]},gx,[]];function VZ(){return new fO("Router",bi)}let qN=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[LZ,[],{provide:_d,multi:!0,useValue:t},{provide:HN,useFactory:zZ,deps:[[bi,new Fr,new s_]]},{provide:Jy,useValue:i||{}},i?.useHash?{provide:$l,useClass:v6}:{provide:$l,useClass:HO},{provide:_x,useFactory:()=>{const n=he(L8),e=he(He),t=he(Jy),i=he(Xy),r=he(mp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BN(r,i,n,e,t)}},i?.preloadingStrategy?NZ(i.preloadingStrategy).\u0275providers:[],{provide:fO,multi:!0,useFactory:VZ},i?.initialNavigation?$Z(i):[],i?.bindToComponentInputs?$s(8,[yN,{provide:Gy,useExisting:yN}]).\u0275providers:[],[{provide:WN,useFactory:jN},{provide:sI,multi:!0,useExisting:WN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_d,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(B(HN,8))};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})();function zZ(n){return"guarded"}function $Z(n){return["disabled"===n.initialNavigation?$s(3,[{provide:Xw,multi:!0,useFactory:()=>{const e=he(bi);return()=>{e.setUpLocationChangeListener()}}},{provide:yx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$s(2,[{provide:yx,useValue:0},{provide:Xw,multi:!0,deps:[Gn],useFactory:e=>{const t=e.get(_6,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(bi),o=e.get(zN);FN(r,()=>{i(!0)}),e.get(Xy).afterPreactivation=()=>(i(!0),o.closed?S(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const WN=new ne(""),qZ=function(n,e){return{displayed:n,hidden:e}};let WZ=(()=>{class n{constructor(t){this.router=t,this.displayed=!1}changeSubCat(){this.displayed=!this.displayed}addSubCat(t){console.log(t),this.router.navigate(["/years-page/"+t])}static#e=this.\u0275fac=function(i){return new(i||n)(j(bi))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-navbar"]],decls:21,vars:4,consts:[["id","nav_menu",1,"navmenu"],[1,"main"],["id","nav_menu_home","routerLink","/",1,"menuitem"],["src","assets/icons/home.png","alt","","width","28px","height","28px"],["id","nav_menu_tests",1,"expandable_ul",3,"click"],["src","assets/icons/tests.png","alt","","width","28px","height","28px"],[3,"ngClass"],[1,"types",3,"click"],["id","nav_menu_scripts","routerLink","/education-materials"],["src","assets/icons/notes.png","alt","","width","28px","height","28px"],["id","nav_menu_savedtests","routerLink","/saved-tests-page"],["src","assets/icons/saved.png","alt","","width","28px","height","28px"]],template:function(i,r){1&i&&(ce(0,"nav",0)(1,"ul",1)(2,"li",2),qt(3,"img",3),Ve(4,"Domov "),ue(),ce(5,"ul",4),ut("click",function(){return r.changeSubCat()}),qt(6,"img",5),Ve(7,"Maturitn\xe9 testy "),ue(),ce(8,"div",6)(9,"li",7),ut("click",function(){return r.addSubCat("sk")}),Ve(10," Slovensk\xfd jazyk a literat\xfara "),ue(),ce(11,"li",7),ut("click",function(){return r.addSubCat("aj")}),Ve(12,"Anglick\xfd jazyk"),ue(),ce(13,"li",7),ut("click",function(){return r.addSubCat("mat")}),Ve(14,"Matematika"),ue()(),ce(15,"li",8),qt(16,"img",9),Ve(17,"U\u010debn\xe9 materi\xe1ly "),ue(),ce(18,"li",10),qt(19,"img",11),Ve(20," Ulo\u017een\xe9 testy "),ue()()()),2&i&&(ct(8),it("ngClass",Xu(1,qZ,r.displayed,!r.displayed)))},dependencies:[id,Va],styles:["nav[_ngcontent-%COMP%]{background-color:var(--main-bg-color);border:1px solid rgba(121,120,120,.541);border-radius:10px;width:20rem}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}ul.main[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}li[_ngcontent-%COMP%], .expandable_ul[_ngcontent-%COMP%]{font-size:1.2rem;box-shadow:0 4px 4px -2px #00000049;display:flex;gap:6px;align-items:center;padding-left:25%;height:3rem}.hidden[_ngcontent-%COMP%]{display:none}.displayed[_ngcontent-%COMP%]{display:block}li[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:focus, ul.expandable_ul[_ngcontent-%COMP%]:hover, ul.expandable_ul[_ngcontent-%COMP%]:focus{background-color:#497bfa;cursor:pointer}.menuitem[_ngcontent-%COMP%]:hover:last-child, .menuitem[_ngcontent-%COMP%]:focus:last-child{border-radius:0 0 10px 10px}.menuitem[_ngcontent-%COMP%]:focus:first-child, .menuitem[_ngcontent-%COMP%]:hover:first-child{border-radius:10px 10px 0 0}.types[_ngcontent-%COMP%]{font-size:1rem;height:2.2rem}@media (max-width: 375px){nav[_ngcontent-%COMP%]{width:19.3rem}}"]})}return n})();function GZ(n,e){1&n&&(ce(0,"div",8)(1,"button",9)(2,"p"),Ve(3,"\xda\u010det"),ue()()())}function KZ(n,e){if(1&n){const t=Gu();ce(0,"div",10)(1,"p",11),qt(2,"img",12),ue(),ce(3,"p",13),ut("click",function(){return ya(t),Wo(Mi().onLogout())}),qt(4,"img",14),ue()()}}const ZZ=function(n){return{expanded:n}};let YZ=(()=>{class n{constructor(t,i,r){this.el=i,this.router=r,this.buttonExpanded=!1,this.authService=t,this.router.events.subscribe(o=>{o instanceof js&&this.closeNavbar()})}closeNavbar(){document.getElementById("navbar").style.display="none",this.buttonExpanded=!1}onToggleNav(){const t=document.getElementById("navbar");"block"===t.style.display?(t.style.display="none",this.buttonExpanded=!this.buttonExpanded):(t.style.display="block",this.buttonExpanded=!this.buttonExpanded)}onLogout(){this.authService.logout(),localStorage.removeItem("rememberedUser")}onDocumentClick(t){this.el.nativeElement.contains(t.target)||(document.getElementById("navbar").style.display="none",this.buttonExpanded=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ld),j(En),j(bi))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-header"]],hostBindings:function(i,r){1&i&&ut("click",function(s){return r.onDocumentClick(s)},0,BR)},decls:9,vars:5,consts:[[1,"container"],["id","main_header"],[1,"burger_menu",3,"ngClass","click"],["id","header_title",1,"headline"],["src","assets/logo.png","alt","","width","100px","height","100px"],["class","buttons","id","but",4,"ngIf"],["class","logged_icons",4,"ngIf"],["id","navbar"],["id","but",1,"buttons"],["id","header_reg_button","routerLink","/login",1,"register"],[1,"logged_icons"],["routerLink","/user-account"],["src","assets/header_icons/userprofile.png","alt","user_profile_icon","width","38px","height","38px"],["routerLink","",3,"click"],["src","assets/header_icons/logout.png","alt","logout_icon","width","38px","height","38px"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"header",1)(2,"div",2),ut("click",function(){return r.onToggleNav()}),qt(3,"span"),ue(),ce(4,"div",3),qt(5,"img",4),ue(),wn(6,GZ,4,0,"div",5),wn(7,KZ,5,0,"div",6),ue()(),qt(8,"app-navbar",7)),2&i&&(ct(2),it("ngClass",Jf(3,ZZ,r.buttonExpanded)),ct(4),it("ngIf",!r.authService.isLoggedIn),ct(1),it("ngIf",r.authService.isLoggedIn))},dependencies:[id,Hl,Va,WZ],styles:['app-navbar[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1000}header[_ngcontent-%COMP%]{height:6rem;padding:1rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:nowrap;font-size:1.5rem;background-color:var(--main-bg-color);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color)}.headline[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;color:var(--main-text-color);letter-spacing:1px;font-size:2rem}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:8rem}button[_ngcontent-%COMP%]{padding:.5rem .6rem;border:.1rem var(--account-border-color) solid;border-radius:10px;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button.register[_ngcontent-%COMP%]{position:relative;background-color:var(--account-button-color);color:#fff}button.register[_ngcontent-%COMP%]:hover:before, button.register[_ngcontent-%COMP%]:focus:before{width:101%}button.register[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:100%;background-color:var(--account-button-hover-color);transition:width .7s ease-in-out}button[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{position:relative;font-size:1rem;z-index:1}.burger_menu[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:60px;display:flex;align-items:center;justify-content:center}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--account-button-color);height:5px;width:38px;display:block;position:relative;transition:all ease .5s;border-radius:5px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{background:var(--account-button-color);height:5px;width:38px;display:block;position:absolute;content:"";left:0;top:12px;transition:all ease .3s;border-radius:5px}.burger_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{top:-12px;transition:all ease .7s}.expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:before, .expanded[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{border-radius:5px;width:6px}.logged_icons[_ngcontent-%COMP%]{display:flex;gap:2rem;width:8rem}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{cursor:pointer;transition:all .8s}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:hover, .logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:focus{transform:scale(1.2)}@media (max-width: 425px){header[_ngcontent-%COMP%]{padding:.5rem}.burger_menu[_ngcontent-%COMP%]{width:4rem;height:40px}.logged_icons[_ngcontent-%COMP%]{gap:1rem}.logged_icons[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:.8rem}}']})}return n})(),QZ=(()=>{class n{title(t){throw new Error("Method not implemented.")}onScroll(){this.headerfixes=window.scrollY>100}constructor(t){this.authService=t,this.headerfixes=!1}ngOnInit(){const t=localStorage.getItem("rememberMe");if(t){const i=JSON.parse(t);this.authService.login(i.email,i.password,!0).then(()=>{console.log("User logged in from rememberMe")}).catch(()=>{console.log("Error logging in from rememberMe")})}}static#e=this.\u0275fac=function(i){return new(i||n)(j(ld))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-root"]],hostBindings:function(i,r){1&i&&ut("scroll",function(){return r.onScroll()},0,VR)},decls:3,vars:1,consts:[[1,"container"],[3,"ngClass","scroll"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"app-header",1),ut("scroll",function(){return r.onScroll()}),ue(),qt(2,"router-outlet"),ue()),2&i&&(ct(1),it("ngClass",r.headerfixes?"fixed":"notfixed"))},dependencies:[id,ux,YZ],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;gap:.5rem;flex-wrap:wrap}app-header.notfixed[_ngcontent-%COMP%]{flex:1 1 100%}app-header.fixed[_ngcontent-%COMP%]{position:fixed;width:96%;top:0}router-outlet[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return n})();function GN(...n){const e=eo(n),{args:t,keys:i}=jk(n),r=new Ke(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let h=0;h<s;h++){let p=!1;_t(t[h]).subscribe(pe(o,g=>{p||(p=!0,c--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?zk(i,a):a),o.complete())}))}});return e?r.pipe(ZI(e)):r}let KN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Os),j(En))};static#t=this.\u0275dir=Fe({type:n})}return n})(),Zl=(()=>{class n extends KN{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}();static#t=this.\u0275dir=Fe({type:n,features:[Rt]})}return n})();const is=new ne("NgValueAccessor"),XZ={provide:is,useExisting:V(()=>vx),multi:!0};let vx=(()=>{class n extends Zl{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}();static#t=this.\u0275dir=Fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&ut("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[In([XZ]),Rt]})}return n})();const JZ={provide:is,useExisting:V(()=>Yl),multi:!0},tY=new ne("CompositionEventMode");let Yl=(()=>{class n extends KN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eY(){const n=Pa()?Pa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Os),j(En),j(tY,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ut("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[In([JZ]),Rt]})}return n})();const $i=new ne("NgValidators"),Ua=new ne("NgAsyncValidators");function XN(n){return function Ba(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function ev(n){return null}function rF(n){return null!=n}function oF(n){return Wf(n)?b(n):n}function sF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function aF(n,e){return e.map(t=>t(n))}function lF(n){return n.map(e=>function iY(n){return!n.validate}(e)?e:t=>e.validate(t))}function bx(n){return null!=n?function cF(n){if(!n)return null;const e=n.filter(rF);return 0==e.length?null:function(t){return sF(aF(t,e))}}(lF(n)):null}function Ex(n){return null!=n?function uF(n){if(!n)return null;const e=n.filter(rF);return 0==e.length?null:function(t){return GN(aF(t,e).map(oF)).pipe(Ie(sF))}}(lF(n)):null}function dF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wx(n){return n?Array.isArray(n)?n:[n]:[]}function tv(n,e){return Array.isArray(n)?n.includes(e):n===e}function pF(n,e){const t=wx(e);return wx(n).forEach(r=>{tv(t,r)||t.push(r)}),t}function mF(n,e){return wx(e).filter(t=>!tv(n,t))}class gF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ex(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fr extends gF{get formDirective(){return null}get path(){return null}}class ja extends gF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _F{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ap=(()=>{class n extends _F{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ja,2))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Ls("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Rt]})}return n})();const Sp="VALID",iv="INVALID",yd="PENDING",Rp="DISABLED";function rv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class EF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sp}get invalid(){return this.status===iv}get pending(){return this.status==yd}get disabled(){return this.status===Rp}get enabled(){return this.status!==Rp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mF(e,this._rawAsyncValidators))}hasValidator(e){return tv(this._rawValidators,e)}hasAsyncValidator(e){return tv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sp||this.status===yd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rp:Sp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yd,this._hasOwnPendingAsyncValidator=!0;const t=oF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gn,this.statusChanges=new gn}_calculateStatus(){return this._allControlsDisabled()?Rp:this.errors?iv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yd)?yd:this._anyControlsHaveStatus(iv)?iv:Sp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function lY(n){return Array.isArray(n)?bx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function cY(n){return Array.isArray(n)?Ex(n):n||null}(this._rawAsyncValidators)}}const vd=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>ov}),ov="always";function Mp(n,e,t=ov){(function Ax(n,e){const t=function hF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(dF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function fF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(dF(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();lv(e._rawValidators,r),lv(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function hY(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wF(n,e)})}(n,e),function pY(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fY(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function dY(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function TF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const DF=class extends EF{constructor(e=null,t,i){super(function Cx(n){return(rv(n)?n.validators:n)||null}(t),function Tx(n,e){return(rv(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=TF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){TF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},wY={provide:ja,useExisting:V(()=>bd)},RF=(()=>Promise.resolve())();let bd=(()=>{class n extends ja{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new DF,this._registered=!1,this.name="",this.update=new gn,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Mx(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Yl?t=o:function _Y(n){return Object.getPrototypeOf(n.constructor)===Zl}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Rx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){RF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&td(i);RF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function sv(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(j(fr,9),j($i,10),j(Ua,10),j(is,10),j(cy,8),j(vd,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[In([wY]),Rt,vr]})}return n})();const CY={provide:is,useExisting:V(()=>Ox),multi:!0};let PF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})(),TY=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t)return void this._accessors.splice(i,1)}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return!!t[0].control&&t[0]._parent===i._control._parent&&t[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:PF})}return n})(),Ox=(()=>{class n extends Zl{constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=he(vd,{optional:!0})??ov}ngOnInit(){this._control=this._injector.get(ja),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Os),j(En),j(TY),j(Gn))};static#t=this.\u0275dir=Fe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&ut("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[In([CY]),Rt]})}return n})(),Ql=(()=>{class n{constructor(){this._validator=ev}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ev,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Fe({type:n,features:[vr]})}return n})();const jY={provide:$i,useExisting:V(()=>Op),multi:!0};let Op=(()=>{class n extends Ql{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=td,this.createValidator=t=>XN}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}();static#t=this.\u0275dir=Fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Br("required",r._enabled?"":null)},inputs:{required:"required"},features:[In([jY]),Rt]})}return n})(),GY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[PF]})}return n})(),ZY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vd,useValue:t.callSetDisabledState??ov}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[GY]})}return n})(),uv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-landing-page"]],decls:26,vars:0,consts:[["id","main_page_container"],["id","main_page_inner_container"],[1,"textare"],["id","main_card_container"],["id","main_first_card",1,"main_card_containers"],["id","main_first_card_icon","src","assets/test_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_first_card_textarea",1,"main_card_textareas"],["id","main_second_card",1,"main_card_containers"],["id","main_second_card_icon","src","assets/book_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_second_card_textarea",1,"main_card_textareas"],["id","main_third_card",1,"main_card_containers"],["id","main_third_card_icon","src","assets/community_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_third_card_textarea",1,"main_card_textareas"],["id","main_fourth_card",1,"main_card_containers"],["id","main_fourth_card_icon","src","assets/graduation_icon.png","alt","Test icon","height","50px","width","50px",1,"main_card_icon"],["id","main_fourth_card_textarea",1,"main_card_textareas"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),Ve(4," Matu-E je inovat\xedvna a \u0161tudentom prisp\xf4soben\xe1 webov\xe1 aplik\xe1cia, ktor\xe1 pon\xfaka: "),ue()(),ce(5,"section",3)(6,"div",4),qt(7,"img",5),ce(8,"div",6)(9,"p"),Ve(10,"Otestovanie sa a rie\u0161enie maturitn\xfdch testov online formou! Modern\xe1 doba toti\u017e vy\u017eaduje modern\xe9 rie\u0161enia, u\u017e \u017eiadne pero a papier."),ue()()(),ce(11,"div",7),qt(12,"img",8),ce(13,"div",9)(14,"p"),Ve(15,"R\xfdchly pr\xedstup k u\u010divu a preh\u013eadn\xe9 pozn\xe1mky s\xfa z\xe1rukou k \xfaspe\u0161nej maturite a pr\xe1ve o tieto pozn\xe1mky sa s vami podel\xedme."),ue()()(),ce(16,"div",10),qt(17,"img",11),ce(18,"div",12)(19,"p"),Ve(20,"Spojte sa s ostatn\xfdmi maturantmi, zdielajte medzi sebou sk\xfasenosti, ra\u010fte sa a podporujte navz\xe1jom. Spolo\u010dne zdol\xe1vame cestu k maturite."),ue()()(),ce(21,"div",13),qt(22,"img",14),ce(23,"div",15)(24,"p"),Ve(25,"Precvi\u010dujte sa s testami z minul\xfdch ro\u010dn\xedkov a pripravte sa na v\u0161etky aspekty maturity. Na\u0161e zdroje v\xe1m pom\xf4\u017eu zdokonali\u0165 va\u0161e vedomosti."),ue()()()()()())},styles:["app-landing-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%}#main_page_container[_ngcontent-%COMP%]{display:flex;background-color:var(--main-bg-color);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);width:100%;height:100%}#main_page_inner_container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:column;box-shadow:inset 0 0 12px var(--box-shadow-color);margin:1.5rem;border-radius:10px;width:100%}.textare[_ngcontent-%COMP%]{padding:2rem}.textare[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:500;color:var(--main-text-color)}#main_logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}#logo[_ngcontent-%COMP%]{margin-top:1rem;height:128px;width:128px}#main_card_container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:clamp(30%,60%,90%);width:clamp(60%,85%,100%);flex-wrap:nowrap}.main_card_containers[_ngcontent-%COMP%]{border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:space-around;font-size:.9rem;height:clamp(8rem,20rem,32rem);width:clamp(6rem,12rem,34rem);transition:.5s}.main_card_containers[_ngcontent-%COMP%]:hover, .main_card_containers[_ngcontent-%COMP%]:focus{transform:scale(1.1)}.main_card_textareas[_ngcontent-%COMP%]{width:90%;height:50%;border-radius:10px;background-color:var(--main-bg-color);padding:.5rem;display:flex;justify-content:center;text-align:center}#main_first_card[_ngcontent-%COMP%]{background:url(/assets/card1_wave_coloured.jpg);background-size:cover;background-position:30% 90%;background-repeat:no-repeat}#main_second_card[_ngcontent-%COMP%]{background:url(/assets/card2_wave_coloured.jpg);background-size:cover;background-position:10% 10%;background-repeat:no-repeat}#main_third_card[_ngcontent-%COMP%]{background:url(/assets/card3_wave_coloured.jpg);background-size:cover;background-position:15% 50%;background-repeat:no-repeat}#main_fourth_card[_ngcontent-%COMP%]{background:url(/assets/card4_wave_coloured.jpg);background-size:cover;background-position:15% 30%;background-repeat:no-repeat}@media (max-width: 1024px){.textare[_ngcontent-%COMP%]{font-size:.7rem}#main_card_container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem;margin-bottom:7rem}.main_card_containers[_ngcontent-%COMP%]{font-size:.9rem}#main_page_container[_ngcontent-%COMP%], #main_page_inner_container[_ngcontent-%COMP%]{height:auto}}@media (max-width: 540px){#main_card_containers[_ngcontent-%COMP%]{padding:2rem}#main_card_container[_ngcontent-%COMP%]{margin-bottom:14rem}}"]})}return n})();const ZF=function(n){return{"error-border":n}},YY=function(n){return{error_message:n}};let YF=(()=>{class n{constructor(t,i){this.router=t,this.service=i,this.submitted=!1,this.name="",this.password="",this.error=!1,this.rememberMe=!1}submit(){this.submitted=!0}newInput(){this.error=!1}login(){this.service.login(this.name,this.password,this.rememberMe).then(()=>this.router.navigate([""])).catch(()=>this.error=!0)}static#e=this.\u0275fac=function(i){return new(i||n)(j(bi),j(ld))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-login-page"]],decls:28,vars:12,consts:[[1,"login_card"],[1,"top_section"],[1,"input_group"],["for","meno"],["type","text","name","meno","id","meno","required","","placeholder","Zadaj svoj email na prihlasenie",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"login_cred",3,"ngModel","ngClass","ngModelChange"],[1,"utils"],["routerLink","/forgot-password",1,"forgot-password"],[1,"remember"],["for","rememberMe"],["type","checkbox","name","rememberMe","id","rememberMe",3,"ngModel","ngModelChange"],[1,"error_message_on",3,"ngClass"],[1,"mid_section"],[1,"login-button"],["src","assets/googleicon.png","alt","googleicon","width","32px","height","32px"],[1,"bot_section"],["type","submit",1,"bot_button",3,"click"],["routerLink","/register",1,"bot_button"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),Ve(4,"Prihlasovaci email"),ue(),ce(5,"input",4),ut("ngModelChange",function(){return r.newInput()})("ngModelChange",function(s){return r.name=s}),ue(),ce(6,"label",5),Ve(7,"Heslo"),ue(),ce(8,"input",6),ut("ngModelChange",function(){return r.newInput()})("ngModelChange",function(s){return r.password=s}),ue()(),ce(9,"div",7)(10,"button",8),Ve(11,"Zabudnut\xe9 heslo"),ue(),ce(12,"div",9)(13,"label",10),Ve(14,"zapam\xe4taj si ma"),ue(),ce(15,"input",11),ut("ngModelChange",function(s){return r.rememberMe=s}),ue()()()(),ce(16,"div",12)(17,"p"),Ve(18,"Nespr\xe1vne zadan\xe9 \xfadaje"),ue()(),ce(19,"div",13)(20,"button",14),qt(21,"img",15),Ve(22," Prihl\xe1si\u0165 sa cez google "),ue()(),ce(23,"div",16)(24,"button",17),ut("click",function(){return r.login()}),Ve(25,"Prihl\xe1si\u0165"),ue(),ce(26,"button",18),Ve(27,"Zaregistrova\u0165"),ue()()()),2&i&&(ct(5),it("ngModel",r.name)("ngClass",Jf(6,ZF,r.error)),ct(3),it("ngModel",r.password)("ngClass",Jf(8,ZF,r.error)),ct(7),it("ngModel",r.rememberMe),ct(1),it("ngClass",Jf(10,YY,!r.error)))},dependencies:[id,Yl,vx,Ap,Op,bd,Va],styles:["app-login-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);background-color:var(--main-bg-color);display:flex;align-items:center;justify-content:center;padding:2rem}.login_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-color:var(--auth-bg-color);width:clamp(20rem,25rem,35rem);height:clamp(15rem,30rem,35rem);padding:2rem;border-radius:10px;box-shadow:3px 3px 10px 3px var(--box-shadow-color);display:flex;flex-direction:column;justify-content:space-between}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.5rem}.login_cred[_ngcontent-%COMP%]{height:2.5rem}.utils[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.remember[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:8px}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:6px}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.bot_button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--button-white-bg);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px var(--box-shadow-color);font-weight:400}.bot_button[_ngcontent-%COMP%]:hover, .bot_button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-button[_ngcontent-%COMP%]{background-color:#fbfef9;color:#000;padding:10px 20px;font-size:16px;border:none;border-radius:2px;cursor:pointer;transition:background-color .3s ease;display:flex;justify-content:center;align-items:center;gap:.4rem}.login-button[_ngcontent-%COMP%]:hover{background-color:#d9d9d9}.error-border[_ngcontent-%COMP%]{border:2px solid var(--main-error-message)}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--main-error-message);font-weight:800;font-size:1.2rem}.forgot-password[_ngcontent-%COMP%]{cursor:pointer;border:none;margin:0;padding:0;background:transparent;font-size:1rem}.forgot-password[_ngcontent-%COMP%]:hover, .forgot-password[_ngcontent-%COMP%]:focus{color:#0e2766}"]})}return n})();const Bx=function(n,e){return{"error-border":n,noborder:e}};let QF=(()=>{class n{constructor(t,i){this.router=t,this.service=i,this.errorMessage="",this.pswdError=!1,this.emailError=!1}isValidEmail(t){return/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(t)}register(){if(this.email&&this.password&&this.passwordCheck&&this.fname&&this.lname){if(this.password.length<6)return this.errorMessage="Heslo mus\xed obsahova\u0165 aspo\u0148 6 znakov",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,this.password!==this.passwordCheck)return this.errorMessage="Hesla sa nezhoduj\xfa",this.pswdError=!0,void(this.emailError=!1);if(this.pswdError=!1,!this.isValidEmail(this.email))return this.errorMessage="Neplatn\xe1 emailov\xe1 adresa",void(this.emailError=!0);this.emailError=!1,this.service.register(this.email,this.password,this.fname,this.lname).then(t=>{this.router.navigate([""])}).catch(t=>{})}else this.errorMessage="Pros\xedm vypl\u0148 v\u0161etky pol\xed\u010dka"}static#e=this.\u0275fac=function(i){return new(i||n)(j(bi),j(ld))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-register-page"]],decls:30,vars:18,consts:[[1,"register_card"],[1,"top_section"],[1,"input_group"],["for","email"],["type","email","name","email","id","email","required","","placeholder","Zadaj svoj e-mail",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],[1,"user_cred"],[1,"user_firstcred"],["for","krstne"],["type","text","name","krstne","id","krstne","required","","placeholder","Zadaj svoje krstn\xe9 meno",1,"register_cred",3,"ngModel","ngModelChange"],[1,"user_secondcred"],["for","priezv"],["type","text","name","priezv","id","priezv","required","","placeholder","Zadaj svoje priezvisko",1,"register_cred",3,"ngModel","ngModelChange"],["for","heslo"],["type","password","name","heslo","id","heslo","required","","placeholder","Zadaj svoje heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],["for","hesloKontrola"],["type","password","name","hesloKontrola","id","hesloKontrola","required","","placeholder","Zopakujte svoje heslo",1,"register_cred",3,"ngModel","ngClass","ngModelChange"],[1,"mid_section"],[1,"bot_section"],["id","register_log_button","routerLink","/login",1,"login"],[3,"click"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),Ve(4,"E-mail"),ue(),ce(5,"input",4),ut("ngModelChange",function(s){return r.email=s}),ue(),ce(6,"div",5)(7,"div",6)(8,"label",7),Ve(9,"Krstn\xe9 meno"),ue(),ce(10,"input",8),ut("ngModelChange",function(s){return r.fname=s}),ue()(),ce(11,"div",9)(12,"label",10),Ve(13,"Priezvisko"),ue(),ce(14,"input",11),ut("ngModelChange",function(s){return r.lname=s}),ue()()(),ce(15,"label",12),Ve(16,"Heslo"),ue(),ce(17,"input",13),ut("ngModelChange",function(s){return r.password=s}),ue(),ce(18,"label",14),Ve(19,"Kontrola hesla"),ue(),ce(20,"input",15),ut("ngModelChange",function(s){return r.passwordCheck=s}),ue()()(),ce(21,"div",16),Ve(22),ue(),ce(23,"div",17)(24,"button",18)(25,"p"),Ve(26,"Sp\xe4\u0165 na prihl\xe1senie"),ue()(),ce(27,"button")(28,"p",19),ut("click",function(){return r.register()}),Ve(29,"Zalo\u017e \xfa\u010det"),ue()()()()),2&i&&(ct(5),it("ngModel",r.email)("ngClass",Xu(9,Bx,r.emailError,!r.emailError)),ct(5),it("ngModel",r.fname),ct(4),it("ngModel",r.lname),ct(3),it("ngModel",r.password)("ngClass",Xu(12,Bx,r.pswdError,!r.pswdError)),ct(3),it("ngModel",r.passwordCheck)("ngClass",Xu(15,Bx,r.pswdError,!r.pswdError)),ct(2),Zu(" ",r.errorMessage," "))},dependencies:[id,Yl,Ap,Op,bd,Va],styles:["app-register-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);background-color:var(--main-bg-color);display:flex;align-items:center;justify-content:center;padding:2rem}.register_card[_ngcontent-%COMP%]{background:url(/assets/waves_login.png);background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-color:var(--auth-bg-color);width:clamp(20rem,25rem,35rem);height:clamp(15rem,33rem,45rem);padding:2rem;border-radius:10px;box-shadow:3px 3px 10px 3px var(--box-shadow-color);display:flex;flex-direction:column;justify-content:space-between}.input_group[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:5px;border:2px solid #4363b58d;padding:5px}label[_ngcontent-%COMP%]{margin-bottom:.3rem}.register_cred[_ngcontent-%COMP%]{height:2.5rem}.bot_section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--button-white-bg);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{background-color:#c6d4ff}.mid_section[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:1.1rem;color:var(--main-error-message);font-weight:800}.error-border[_ngcontent-%COMP%]{border:2px solid var(--main-error-message)}.noborder[_ngcontent-%COMP%]{border:none}.user_cred[_ngcontent-%COMP%]{display:flex}@media (max-width: 375px){.register_cred[_ngcontent-%COMP%]{font-size:.7rem}.user_cred[_ngcontent-%COMP%]{flex-direction:column}.user_firstcred[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .user_secondcred[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}}"]})}return n})();class kp{constructor(e){return e}}class XF{constructor(){return(0,xr.getApps)()}}const Ux=new ne("angularfire2._apps"),XY={provide:kp,useFactory:function QY(n){return n&&1===n.length?n[0]:new kp((0,xr.getApp)())},deps:[[new Fr,Ux]]},JY={provide:XF,deps:[[new Fr,Ux]]};function eQ(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new kp(i)}}let tQ=(()=>{class n{constructor(t){(0,xr.registerVersion)("angularfire",rd.full,"core"),(0,xr.registerVersion)("angularfire",rd.full,"app"),(0,xr.registerVersion)("angular",KE.full,t.toString())}static \u0275fac=function(i){return new(i||n)(B(To))};static \u0275mod=wt({type:n});static \u0275inj=St({providers:[XY,JY]})}return n})();function nQ(n,...e){return{ngModule:tQ,providers:[{provide:Ux,useFactory:eQ(n),multi:!0,deps:[He,Gn,qI,...e]}]}}var JF=Be(217),za=Be(58),Hs=Be(879),iQ=Be(537);class tL{constructor(){return HI("auth")}}var ve,aQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Po={},$x=$x||{},et=aQ||self;function dv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Np(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hx="closure_uid_"+(1e9*Math.random()>>>0),cQ=0;function uQ(n,e,t){return n.call.apply(n.bind,arguments)}function dQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Hi(n,e,t){return(Hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uQ:dQ).apply(null,arguments)}function hv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function $a(){this.s=this.s,this.o=this.o}$a.prototype.s=!1,$a.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lQ(n){Object.prototype.hasOwnProperty.call(n,Hx)&&n[Hx]||(n[Hx]=++cQ)}(this)},$a.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function iL(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(dv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}qi.prototype.h=function(){this.defaultPrevented=!0};var fQ=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};et.addEventListener("test",t,e),et.removeEventListener("test",t,e)}catch{}return n}();function Fp(n){return/^[\s\xa0]*$/.test(n)}function fv(){var n=et.navigator;return n&&(n=n.userAgent)?n:""}function rs(n){return-1!=fv().indexOf(n)}function Wx(n){return Wx[" "](n),n}Wx[" "]=function(){};var Kx,n,mQ=rs("Opera"),Ed=rs("Trident")||rs("MSIE"),rL=rs("Edge"),Gx=rL||Ed,oL=rs("Gecko")&&!(-1!=fv().toLowerCase().indexOf("webkit")&&!rs("Edge"))&&!(rs("Trident")||rs("MSIE"))&&!rs("Edge"),gQ=-1!=fv().toLowerCase().indexOf("webkit")&&!rs("Edge");function sL(){var n=et.document;return n?n.documentMode:void 0}e:{var Zx="",Yx=(n=fv(),oL?/rv:([^\);]+)(\)|;)/.exec(n):rL?/Edge\/([\d\.]+)/.exec(n):Ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gQ?/WebKit\/(\S+)/.exec(n):mQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Yx&&(Zx=Yx?Yx[1]:""),Ed){var Qx=sL();if(null!=Qx&&Qx>parseFloat(Zx)){Kx=String(Qx);break e}}Kx=Zx}var _Q=et.document&&Ed&&(sL()||parseInt(Kx,10))||void 0;function Lp(n,e){if(qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oL){e:{try{Wx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lp.$.h.call(this)}}Ei(Lp,qi);var yQ={2:"touch",3:"pen",4:"mouse"};Lp.prototype.h=function(){Lp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vp="closure_listenable_"+(1e6*Math.random()|0),vQ=0;function bQ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++vQ,this.fa=this.ia=!1}function pv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Jx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function lL(n){const e={};for(const t in n)e[t]=n[t];return e}const cL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uL(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<cL.length;o++)t=cL[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function mv(n){this.src=n,this.g={},this.h=0}function eC(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=nL(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(pv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tC(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}mv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=tC(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new bQ(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var nC="closure_lm_"+(1e6*Math.random()|0),iC={};function dL(n,e,t,i,r){if(i&&i.once)return fL(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)dL(n,e[o],t,i,r);return null}return t=aC(t),n&&n[Vp]?n.O(e,t,Np(i)?!!i.capture:!!i,r):hL(n,e,t,!1,i,r)}function hL(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Np(r)?!!r.capture:!!r,a=oC(n);if(a||(n[nC]=a=new mv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function wQ(){const e=IQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)fQ||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(mL(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function fL(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)fL(n,e[o],t,i,r);return null}return t=aC(t),n&&n[Vp]?n.P(e,t,Np(i)?!!i.capture:!!i,r):hL(n,e,t,!0,i,r)}function pL(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)pL(n,e[o],t,i,r);else i=Np(i)?!!i.capture:!!i,t=aC(t),n&&n[Vp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tC(o=n.g[e],t,i,r))&&(pv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=oC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tC(e,t,i,r)),(t=-1<n?e[n]:null)&&rC(t))}function rC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Vp])eC(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(mL(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=oC(e))?(eC(t,n),0==t.h&&(t.src=null,e[nC]=null)):pv(n)}}}function mL(n){return n in iC?iC[n]:iC[n]="on"+n}function IQ(n,e){if(n.fa)n=!0;else{e=new Lp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&rC(n),n=t.call(i,e)}return n}function oC(n){return(n=n[nC])instanceof mv?n:null}var sC="__closure_events_fn_"+(1e9*Math.random()>>>0);function aC(n){return"function"==typeof n?n:(n[sC]||(n[sC]=function(e){return n.handleEvent(e)}),n[sC])}function wi(){$a.call(this),this.i=new mv(this),this.S=this,this.J=null}function ki(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new qi(e,n);else if(e instanceof qi)e.target=e.target||n;else{var r=e;uL(e=new qi(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=gv(s,i,!0,e)&&r}if(r=gv(s=e.g=n,i,!0,e)&&r,r=gv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=gv(s=e.g=t[o],i,!1,e)&&r}function gv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&eC(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Ei(wi,$a),wi.prototype[Vp]=!0,wi.prototype.removeEventListener=function(n,e,t,i){pL(this,n,e,t,i)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)pv(t[i]);delete n.g[e],n.h--}}this.J=null},wi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},wi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var lC=et.JSON.stringify;function CQ(){var n=cC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var gL=new class xQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new DQ,n=>n.reset());class DQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AQ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function SQ(n){et.setTimeout(()=>{throw n},0)}let Bp,Up=!1,cC=new class TQ{constructor(){this.h=this.g=null}add(e,t){const i=gL.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},_L=()=>{const n=et.Promise.resolve(void 0);Bp=()=>{n.then(RQ)}};var RQ=()=>{for(var n;n=CQ();){try{n.h.call(n.g)}catch(t){SQ(t)}var e=gL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Up=!1};function _v(n,e){wi.call(this),this.h=n||1,this.g=e||et,this.j=Hi(this.qb,this),this.l=Date.now()}function uC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function dC(n,e,t){if("function"==typeof n)t&&(n=Hi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hi(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function yL(n){n.g=dC(()=>{n.g=null,n.i&&(n.i=!1,yL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(_v,wi),(ve=_v.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ki(this,"tick"),this.ga&&(uC(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){_v.$.N.call(this),uC(this),delete this.g};class MQ extends $a{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yL(this)}N(){super.N(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jp(n){$a.call(this),this.h=n,this.g={}}Ei(jp,$a);var vL=[];function bL(n,e,t,i){Array.isArray(t)||(t&&(vL[0]=t.toString()),t=vL);for(var r=0;r<t.length;r++){var o=dL(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function EL(n){Jx(n.g,function(e,t){this.g.hasOwnProperty(t)&&rC(e)},n),n.g={}}function yv(){this.g=!0}function wd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function NQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return lC(t)}catch{return e}}(n,t)+(i?" "+i:"")})}jp.prototype.N=function(){jp.$.N.call(this),EL(this)},jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yv.prototype.Ea=function(){this.g=!1},yv.prototype.info=function(){};var Xl={},wL=null;function vv(){return wL=wL||new wi}function IL(n){qi.call(this,Xl.Ta,n)}function zp(n){const e=vv();ki(e,new IL(e))}function xL(n,e){qi.call(this,Xl.STAT_EVENT,n),this.stat=e}function pr(n){const e=vv();ki(e,new xL(e,n))}function CL(n,e){qi.call(this,Xl.Ua,n),this.size=e}function $p(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}Xl.Ta="serverreachability",Ei(IL,qi),Xl.STAT_EVENT="statevent",Ei(xL,qi),Xl.Ua="timingevent",Ei(CL,qi);var bv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hC(){}function AL(){}hC.prototype.h=null;var mC,Hp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fC(){qi.call(this,"d")}function pC(){qi.call(this,"c")}function Ev(){}function qp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new jp(this),this.P=FQ,this.V=new _v(n=Gx?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SL}function SL(){this.i=null,this.g="",this.h=!1}Ei(fC,qi),Ei(pC,qi),Ei(Ev,hC),Ev.prototype.g=function(){return new XMLHttpRequest},Ev.prototype.i=function(){return{}},mC=new Ev;var FQ=45e3,RL={},gC={};function _C(n,e,t){n.L=1,n.A=Cv(qs(e)),n.u=t,n.S=!0,ML(n,null)}function ML(n,e){n.G=Date.now(),Wp(n),n.B=qs(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),jL(t.i,"t",i),n.o=0,t=n.l.J,n.h=new SL,n.g=dV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new MQ(Hi(n.Pa,n,n.g),n.O)),bL(n.U,n.g,"readystatechange",n.nb),e=n.I?lL(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),zp(),function PQ(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.v,n.B,n.m,n.W,n.u)}function PL(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function OL(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=LQ(n,t),r==gC){4==e&&(n.s=4,pr(14),i=!1),wd(n.j,n.m,null,"[Incomplete Response]");break}if(r==RL){n.s=4,pr(15),wd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}wd(n.j,n.m,r,null),yC(n,r)}PL(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,pr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),CC(e),e.M=!0,pr(11))):(wd(n.j,n.m,t,"[Invalid Chunked Response]"),Jl(n),Gp(n))}function LQ(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?gC:(t=Number(e.substring(t,i)),isNaN(t)?RL:(i+=1)+t>e.length?gC:(e=e.slice(i,i+t),n.o=i+t,e))}function Wp(n){n.Y=Date.now()+n.P,kL(n,n.P)}function kL(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=$p(Hi(n.lb,n),e)}function wv(n){n.C&&(et.clearTimeout(n.C),n.C=null)}function Gp(n){0==n.l.H||n.J||aV(n.l,n)}function Jl(n){wv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,uC(n.V),EL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vC(t.i,n)))if(!n.K&&vC(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Mv(t),Sv(t)}xC(t),pr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=$p(Hi(t.ib,t),6e3));if(1>=HL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else tc(t,11)}else if((n.K||t.g==n)&&Mv(t),!Fp(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=c[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=c[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(bC(o,o.h),o.h=null))}if(i.F){const x=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,_n(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=uV(i,i.J?i.pa:null,i.Y),s.K){qL(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(wv(a),Wp(a)),i.g=s}else oV(i);0<t.j.length&&Rv(t)}else"stop"!=c[0]&&"close"!=c[0]||tc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tc(t,7):IC(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}zp()}catch{}}function NL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function BQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function VQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ve=qp.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==os(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=os(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||Gx||this.g&&(this.h.h||this.g.ja()||JL(this.g)))){this.J||4!=h||7==e||zp(),wv(this);var t=this.g.da();this.ca=t;t:if(PL(this)){var i=JL(this.g);n="";var r=i.length,o=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),Gp(this);var s="";break t}this.h.i=new et.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=n,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function OQ(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fp(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,pr(12),Jl(this),Gp(this);break e}wd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yC(this,t)}this.S?(OL(this,h,s),Gx&&this.i&&3==h&&(bL(this.U,this.V,"tick",this.mb),this.V.start())):(wd(this.j,this.m,s,null),yC(this,s)),4==h&&Jl(this),this.i&&!this.J&&(4==h?aV(this.l,this):(this.i=!1,Wp(this)))}else(function iX(n){const e={};n=(n.g&&2<=os(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Fp(n[i]))continue;var t=AQ(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function EQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.s=3,pr(12)):(this.s=0,pr(13)),Jl(this),Gp(this)}}}catch{}},ve.mb=function(){if(this.g){var n=os(this.g),e=this.g.ja();this.o<e.length&&(wv(this),OL(this,n,e),this.i&&4!=n&&Wp(this))}},ve.cancel=function(){this.J=!0,Jl(this)},ve.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function kQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(zp(),pr(17)),Jl(this),this.s=2,Gp(this)):kL(this,this.Y-n)};var FL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ec){this.h=n.h,Iv(this,n.j),this.s=n.s,this.g=n.g,xv(this,n.m),this.l=n.l;var e=n.i,t=new Yp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),LL(this,t),this.o=n.o}else n&&(e=String(n).match(FL))?(this.h=!1,Iv(this,e[1]||"",!0),this.s=Kp(e[2]||""),this.g=Kp(e[3]||"",!0),xv(this,e[4]),this.l=Kp(e[5]||"",!0),LL(this,e[6]||"",!0),this.o=Kp(e[7]||"")):(this.h=!1,this.i=new Yp(null,this.h))}function qs(n){return new ec(n)}function Iv(n,e,t){n.j=t?Kp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function LL(n,e,t){e instanceof Yp?(n.i=e,function WQ(n,e){e&&!n.j&&(Ha(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(BL(this,i),jL(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Zp(e,HQ)),n.i=new Yp(e,n.h))}function _n(n,e,t){n.i.set(e,t)}function Cv(n){return _n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zp(e,VL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zp(e,VL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zp(t,"/"==t.charAt(0)?$Q:zQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zp(t,qQ)),n.join("")};var VL=/[#\/\?@]/g,zQ=/[#\?:]/g,$Q=/[#\?]/g,HQ=/[#\?@]/g,qQ=/#/g;function Yp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ha(n){n.g||(n.g=new Map,n.h=0,n.i&&function UQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function BL(n,e){Ha(n),e=Id(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function UL(n,e){return Ha(n),e=Id(n,e),n.g.has(e)}function jL(n,e,t){BL(n,e),0<t.length&&(n.i=null,n.g.set(Id(n,e),qx(t)),n.h+=t.length)}function Id(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zL(n){this.l=n||KQ,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ka&&et.g.Ka()&&et.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Yp.prototype).add=function(n,e){Ha(this),this.i=null,n=Id(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){Ha(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ve.ta=function(){Ha(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ve.Z=function(n){Ha(this);let e=[];if("string"==typeof n)UL(this,n)&&(e=e.concat(this.g.get(Id(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return Ha(this),this.i=null,UL(this,n=Id(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var KQ=10;function $L(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HL(n){return n.h?1:n.g?n.g.size:0}function vC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bC(n,e){n.g?n.g.add(e):n.h=e}function qL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function WL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qx(n.i)}zL.prototype.cancel=function(){if(this.i=WL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var ZQ=class{stringify(n){return et.JSON.stringify(n,void 0)}parse(n){return et.JSON.parse(n,void 0)}};function YQ(){this.g=new ZQ}function QQ(n,e,t){const i=t||"";try{NL(n,function(r,o){let s=r;Np(r)&&(s=lC(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Tv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Qp(n){this.l=n.ec||null,this.j=n.ob||!1}function Dv(n,e){wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=EC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ei(Qp,hC),Qp.prototype.g=function(){return new Dv(this.l,this.j)},Qp.prototype.i=function(n){return function(){return n}}({}),Ei(Dv,wi);var EC=0;function GL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jp(n)}function Jp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=Dv.prototype).open=function(n,e){if(this.readyState!=EC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jp(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xp(this)),this.readyState=EC},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jp(this)),this.g&&(this.readyState=3,Jp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xp(this):Jp(this),3==this.readyState&&GL(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,Xp(this))},ve.Ya=function(n){this.g&&(this.response=n,Xp(this))},ve.ka=function(){this.g&&Xp(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JQ=et.JSON.parse;function Ln(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=KL,this.L=this.M=!1}Ei(Ln,wi);var KL="",eX=/^https?$/i,tX=["POST","PUT"];function ZL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,YL(n),Av(n)}function YL(n){n.F||(n.F=!0,ki(n,"complete"),ki(n,"error"))}function QL(n){if(n.h&&typeof $x<"u"&&(!n.C[1]||4!=os(n)||2!=n.da()))if(n.v&&4==os(n))dC(n.La,0,n);else if(ki(n,"readystatechange"),4==os(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(FL)[1]||null;!r&&et.self&&et.self.location&&(r=et.self.location.protocol.slice(0,-1)),i=!eX.test(r?r.toLowerCase():"")}t=i}if(t)ki(n,"complete"),ki(n,"success");else{n.m=6;try{var o=2<os(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",YL(n)}}finally{Av(n)}}}function Av(n,e){if(n.g){XL(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ki(n,"ready");try{t.onreadystatechange=i}catch{}}}function XL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function os(n){return n.g?n.g.readyState:0}function JL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case KL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function eV(n){let e="";return Jx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function wC(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=eV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_n(n,e,t))}function em(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tV(n){this.Ga=0,this.j=[],this.l=new yv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=em("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=em("baseRetryDelayMs",5e3,n),this.hb=em("retryDelaySeedMs",1e4,n),this.eb=em("forwardChannelMaxRetries",2,n),this.xa=em("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new zL(n&&n.concurrentRequestLimit),this.Ja=new YQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function IC(n){if(nV(n),3==n.H){var e=n.W++,t=qs(n.I);if(_n(t,"SID",n.K),_n(t,"RID",e),_n(t,"TYPE","terminate"),tm(n,t),(e=new qp(n,n.l,e)).L=2,e.A=Cv(qs(t)),t=!1,et.navigator&&et.navigator.sendBeacon)try{t=et.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&et.Image&&((new Image).src=e.A,t=!0),t||(e.g=dV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wp(e)}cV(n)}function Sv(n){n.g&&(CC(n),n.g.cancel(),n.g=null)}function nV(n){Sv(n),n.u&&(et.clearTimeout(n.u),n.u=null),Mv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function Rv(n){if(!$L(n.i)&&!n.m){n.m=!0;var e=n.Na;Bp||_L(),Up||(Bp(),Up=!0),cC.add(e,n),n.C=0}}function iV(n,e){var t;t=e?e.m:n.W++;const i=qs(n.I);_n(i,"SID",n.K),_n(i,"RID",t),_n(i,"AID",n.V),tm(n,i),n.o&&n.s&&wC(i,n.o,n.s),t=new qp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=rV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bC(n.i,t),_C(t,i,e)}function tm(n,e){n.na&&Jx(n.na,function(t,i){_n(e,i,t)}),n.h&&NL({},function(t,i){_n(e,i,t)})}function rV(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Hi(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const h=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{QQ(h,s,"req"+c+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function oV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Bp||_L(),Up||(Bp(),Up=!0),cC.add(e,n),n.A=0}}function xC(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$p(Hi(n.Ma,n),lV(n,n.A)),n.A++,0))}function CC(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function sV(n){n.g=new qp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=qs(n.wa);_n(e,"RID","rpc"),_n(e,"SID",n.K),_n(e,"AID",n.V),_n(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_n(e,"TO",n.qa),_n(e,"TYPE","xmlhttp"),tm(n,e),n.o&&n.s&&wC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Cv(qs(e)),t.u=null,t.S=!0,ML(t,n)}function Mv(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function aV(n,e){var t=null;if(n.g==e){Mv(n),CC(n),n.g=null;var i=2}else{if(!vC(n.i,e))return;t=e.F,qL(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;ki(i=vv(),new CL(i,t)),Rv(n)}else oV(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function rX(n,e){return!(HL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$p(Hi(n.Na,n,e),lV(n,n.C)),n.C++,0)))}(n,e)||2==i&&xC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:tc(n,5);break;case 4:tc(n,10);break;case 3:tc(n,6);break;default:tc(n,2)}}function lV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function tc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Hi(n.pb,n);t||(t=new ec("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||Iv(t,"https"),Cv(t)),function XQ(n,e){const t=new yv;if(et.Image){const i=new Image;i.onload=hv(Tv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=hv(Tv,t,i,"TestLoadImage: error",!1,e),i.onabort=hv(Tv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=hv(Tv,t,i,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else pr(2);n.H=0,n.h&&n.h.za(e),cV(n),nV(n)}function cV(n){if(n.H=0,n.ma=[],n.h){const e=WL(n.i);(0!=e.length||0!=n.j.length)&&(iL(n.ma,e),iL(n.ma,n.j),n.i.i.length=0,qx(n.j),n.j.length=0),n.h.ya()}}function uV(n,e,t){var i=t instanceof ec?qs(t):new ec(t);if(""!=i.g)e&&(i.g=e+"."+i.g),xv(i,i.m);else{var r=et.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ec(null);i&&Iv(o,i),e&&(o.g=e),r&&xv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&_n(i,t,e),_n(i,"VER",n.ra),tm(n,i),i}function dV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(n.Ha&&!n.va?new Qp({ob:t}):n.va)).Oa(n.J),e}function hV(){}function Pv(){if(Ed&&!(10<=Number(_Q)))throw Error("Environmental error: no available transport.")}function jr(n,e){wi.call(this),this.g=new tV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Fp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xd(this)}function fV(n){fC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function pV(){pC.call(this),this.status=1}function xd(n){this.g=n}function Oo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function TC(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Gt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ve=Ln.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mC.g(),this.C=function DL(n){return n.h||(n.h=n.i())}(this.u?this.u:mC),this.g.onreadystatechange=Hi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void ZL(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=et.FormData&&n instanceof et.FormData,!(0<=nL(tX,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XL(this),0<this.B&&((this.L=function nX(n){return Ed&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hi(this.ua,this)):this.A=dC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){ZL(this,o)}},ve.ua=function(){typeof $x<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ki(this,"complete"),ki(this,"abort"),Av(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Av(this,!0)),Ln.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?QL(this):this.kb())},ve.kb=function(){QL(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JQ(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=tV.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new qp(this,this.l,n);let o=this.s;if(this.U&&(o?(o=lL(o),uL(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rV(this,r,e),_n(t=qs(this.I),"RID",n),_n(t,"CVER",22),this.F&&_n(t,"X-HTTP-Session-Id",this.F),tm(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(eV(o)))+"&"+e:this.o&&wC(t,this.o,o)),bC(this.i,r),this.bb&&_n(t,"TYPE","init"),this.P?(_n(t,"$req",e),_n(t,"SID","null"),r.aa=!0,_C(r,t,null)):_C(r,t,e),this.H=2}}else 3==this.H&&(n?iV(this,n):0==this.j.length||$L(this.i)||iV(this))},ve.Ma=function(){if(this.u=null,sV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$p(Hi(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),Sv(this),sV(this))},ve.ib=function(){null!=this.v&&(this.v=null,Sv(this),xC(this),pr(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=hV.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},Pv.prototype.g=function(n,e){return new jr(n,e)},Ei(jr,wi),jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;pr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=uV(n,null,n.Y),Rv(n)},jr.prototype.close=function(){IC(this.g)},jr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Rv(e)},jr.prototype.N=function(){this.g.h=null,delete this.j,IC(this.g),delete this.g,jr.$.N.call(this)},Ei(fV,fC),Ei(pV,pC),Ei(xd,hV),xd.prototype.Ba=function(){ki(this.g,"a")},xd.prototype.Aa=function(n){ki(this.g,new fV(n))},xd.prototype.za=function(n){ki(this.g,new pV)},xd.prototype.ya=function(){ki(this.g,"b")},Ei(Oo,function oX(){this.blockSize=-1}),Oo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Oo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)TC(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){TC(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){TC(this,i),r=0;break}}this.h=r,this.i+=e},Oo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var sX={};function DC(n){return-128<=n&&128>n?function pQ(n,e){var t=sX;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Gt([0|e],0>e?-1:0)}):new Gt([0|n],0>n?-1:0)}function ss(n){if(isNaN(n)||!isFinite(n))return Cd;if(0>n)return Ni(ss(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=AC;return new Gt(e,0)}var AC=4294967296,Cd=DC(0),SC=DC(1),gV=DC(16777216);function Ws(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function go(n){return-1==n.h}function Ni(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Gt(t,~n.h).add(SC)}function Ov(n,e){return n.add(Ni(e))}function kv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function nm(n,e){this.g=n,this.h=e}function Nv(n,e){if(Ws(e))throw Error("division by zero");if(Ws(n))return new nm(Cd,Cd);if(go(n))return e=Nv(Ni(n),e),new nm(Ni(e.g),Ni(e.h));if(go(e))return e=Nv(n,Ni(e)),new nm(Ni(e.g),e.h);if(30<n.g.length){if(go(n)||go(e))throw Error("slowDivide_ only works with positive integers.");for(var t=SC,i=e;0>=i.X(n);)t=_V(t),i=_V(i);var r=Td(t,1),o=Td(i,1);for(i=Td(i,2),t=Td(t,2);!Ws(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Td(i,1),t=Td(t,1)}return e=Ov(n,r.R(e)),new nm(r,e)}for(r=Cd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=ss(t)).R(e);go(s)||0<s.X(n);)s=(o=ss(t-=i)).R(e);Ws(o)&&(o=SC),r=r.add(o),n=Ov(n,s)}return new nm(r,n)}function _V(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Gt(t,n.h)}function Td(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Gt(r,n.h)}(ve=Gt.prototype).ea=function(){if(go(this))return-Ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:AC+i)*e,e*=AC}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ws(this))return"0";if(go(this))return"-"+Ni(this).toString(n);for(var e=ss(Math.pow(n,6)),t=this,i="";;){var r=Nv(t,e).g,o=((0<(t=Ov(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ws(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return go(n=Ov(this,n))?-1:Ws(n)?0:1},ve.abs=function(){return go(this)?Ni(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Gt(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(Ws(this)||Ws(n))return Cd;if(go(this))return go(n)?Ni(this).R(Ni(n)):Ni(Ni(this).R(n));if(go(n))return Ni(this.R(Ni(n)));if(0>this.X(gV)&&0>n.X(gV))return ss(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,kv(t,2*i+2*r),t[2*i+2*r+1]+=o*l,kv(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,kv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,kv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Gt(t,0)},ve.gb=function(n){return Nv(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Gt(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Gt(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Gt(t,this.h^n.h)},Pv.prototype.createWebChannel=Pv.prototype.g,jr.prototype.send=jr.prototype.u,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,bv.NO_ERROR=0,bv.TIMEOUT=8,bv.HTTP_ERROR=6,TL.COMPLETE="complete",AL.EventType=Hp,Hp.OPEN="a",Hp.CLOSE="b",Hp.ERROR="c",Hp.MESSAGE="d",wi.prototype.listen=wi.prototype.O,Ln.prototype.listenOnce=Ln.prototype.P,Ln.prototype.getLastError=Ln.prototype.Sa,Ln.prototype.getLastErrorCode=Ln.prototype.Ia,Ln.prototype.getStatus=Ln.prototype.da,Ln.prototype.getResponseJson=Ln.prototype.Wa,Ln.prototype.getResponseText=Ln.prototype.ja,Ln.prototype.send=Ln.prototype.ha,Ln.prototype.setWithCredentials=Ln.prototype.Oa,Oo.prototype.digest=Oo.prototype.l,Oo.prototype.reset=Oo.prototype.reset,Oo.prototype.update=Oo.prototype.j,Gt.prototype.add=Gt.prototype.add,Gt.prototype.multiply=Gt.prototype.R,Gt.prototype.modulo=Gt.prototype.gb,Gt.prototype.compare=Gt.prototype.X,Gt.prototype.toNumber=Gt.prototype.ea,Gt.prototype.toString=Gt.prototype.toString,Gt.prototype.getBits=Gt.prototype.D,Gt.fromNumber=ss,Gt.fromString=function mV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ni(mV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ss(Math.pow(e,8)),i=Cd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=ss(Math.pow(e,o)),i=i.R(o).add(ss(s))):i=(i=i.R(t)).add(ss(s))}return i};var aX=Po.createWebChannelTransport=function(){return new Pv},lX=Po.getStatEventTarget=function(){return vv()},RC=Po.ErrorCode=bv,cX=Po.EventType=TL,uX=Po.Event=Xl,yV=Po.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fv=(Po.FetchXmlHttpFactory=Qp,Po.WebChannel=AL),dX=Po.XhrIo=Ln,hX=Po.Md5=Oo,Dd=Po.Integer=Gt;const vV="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Ad="10.7.0";const qa=new Hs.Yd("@firebase/firestore");function Sd(){return qa.logLevel}function se(n,...e){if(qa.logLevel<=Hs.in.DEBUG){const t=e.map(MC);qa.debug(`Firestore (${Ad}): ${n}`,...t)}}function Zn(n,...e){if(qa.logLevel<=Hs.in.ERROR){const t=e.map(MC);qa.error(`Firestore (${Ad}): ${n}`,...t)}}function zr(n,...e){if(qa.logLevel<=Hs.in.WARN){const t=e.map(MC);qa.warn(`Firestore (${Ad}): ${n}`,...t)}}function MC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Te(n="Unexpected state"){const e=`FIRESTORE (${Ad}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function Pe(n,e){n||Te()}function me(n,e){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends za.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class pX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mX{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new di,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,Se.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new di)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pe("string"==typeof i.accessToken),new bV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(null===e||"string"==typeof e),new Ii(e)}}class gX{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _X{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new gX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe("string"==typeof t.token),this.R=t.token,new EV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class wV{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=vX(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function Rd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Mn(0,0))}static max(){return new Oe(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class im{constructor(e,t,i){void 0===t?t=0:t>e.length&&Te(),void 0===i?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===im.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof im?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ot extends im{construct(e,t,i){return new Ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ot(t)}static emptyPath(){return new Ot([])}}const bX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends im{construct(e,t,i){return new xn(e,t,i)}static isValidIdentifier(e){return bX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ot.fromString(e))}static fromName(e){return new ge(Ot.fromString(e).popFirst(5))}static empty(){return new ge(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ot.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ot(e.slice()))}}function CV(n){return new $r(n.readTime,n.key,-1)}class $r{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $r(Oe.min(),ge.empty(),-1)}static max(){return new $r(Oe.max(),ge.empty(),-1)}}function OC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ge.comparator(n.documentKey,e.documentKey),0!==t?t:Qe(n.largestBatchId,e.largestBatchId))}const TV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wa(n){return kC.apply(this,arguments)}function kC(){return kC=(0,Se.Z)(function*(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==TV)throw n;se("LocalStore","Unexpectedly lost primary lease")}),kC.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,i)=>{t(e)})}static reject(e){return new L((t,i)=>{i(e)})}static waitFor(e){return new L((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=L.resolve(!1);for(const i of e)t=t.next(r=>r?L.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new L((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new L((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function Ga(n){return"IndexedDbTransactionError"===n.name}let Hr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function om(n){return null==n}function sm(n){return 0===n&&1/n==-1/0}function NV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sn{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Fi.RED,this.left=r??Fi.EMPTY,this.right=o??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Fi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Fi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Fi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LV(this.data.getIterator())}getIteratorFrom(e){return new LV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class LV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Cr([])}unionWith(e){let t=new Qt(xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class VV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VV("Invalid base64 string: "+o):o}}(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const WX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(n){if(Pe(!!n),"string"==typeof n){let e=0;const t=WX.exec(n);if(Pe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vn(n.seconds),nanos:Vn(n.nanos)}}function Vn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gs(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function Uv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jv(n){const e=n.mapValue.fields.__previous_value__;return Uv(e)?jv(e):e}function am(n){const e=Za(n.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class GX{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}const Ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uv(n)?4:zV(n)?9007199254740991:10:Te()}function ls(n,e){if(n===e)return!0;const t=Qa(n);if(t!==Qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return am(n).isEqual(am(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Za(r.timestampValue),a=Za(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Gs(n.bytesValue).isEqual(Gs(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Vn(r.geoPointValue.latitude)===Vn(o.geoPointValue.latitude)&&Vn(r.geoPointValue.longitude)===Vn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Vn(r.integerValue)===Vn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Vn(r.doubleValue),a=Vn(o.doubleValue);return s===a?sm(s)===sm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Rd(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(NV(s)!==NV(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ls(s[l],a[l])))return!1;return!0}(n,e);default:return Te()}var o}function lm(n,e){return void 0!==(n.values||[]).find(t=>ls(t,e))}function Xa(n,e){if(n===e)return 0;const t=Qa(n),i=Qa(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Vn(o.integerValue||o.doubleValue),l=Vn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return BV(n.timestampValue,e.timestampValue);case 4:return BV(am(n),am(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Gs(o),l=Gs(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Qe(a[c],l[c]);if(0!==h)return h}return Qe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qe(Vn(o.latitude),Vn(s.latitude));return 0!==a?a:Qe(Vn(o.longitude),Vn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=Xa(a[c],l[c]);if(h)return h}return Qe(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ya.mapValue&&s===Ya.mapValue)return 0;if(o===Ya.mapValue)return 1;if(s===Ya.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=Qe(l[p],h[p]);if(0!==g)return g;const y=Xa(a[l[p]],c[h[p]]);if(0!==y)return y}return Qe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Te()}}function BV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qe(n,e);const t=Za(n),i=Za(e),r=Qe(t.seconds,i.seconds);return 0!==r?r:Qe(t.nanos,i.nanos)}function kd(n){return LC(n)}function LC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Za(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gs(n.bytesValue).toBase64():"referenceValue"in n?ge.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=LC(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${LC(t.fields[s])}`;return r+"}"}(n.mapValue):Te()}function VC(n){return!!n&&"integerValue"in n}function cm(n){return!!n&&"arrayValue"in n}function UV(n){return!!n&&"nullValue"in n}function jV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hv(n){return!!n&&"mapValue"in n}function um(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ka(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=um(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=um(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=um(t)}setAll(e){let t=xn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=um(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Hv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Hv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ka(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Li(um(this.value))}}function qV(n){const e=[];return Ka(n.fields,(t,i)=>{const r=new xn([t]);if(Hv(i)){const o=qV(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Cr(e)}class yn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Oe.min(),Oe.min(),Oe.min(),Li.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,Oe.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,Oe.min(),Oe.min(),Li.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Oe.min(),Oe.min(),Li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ja{constructor(e,t){this.position=e,this.inclusive=t}}function WV(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ge.comparator(ge.fromName(s.referenceValue),t.key):Xa(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function GV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}class dm{constructor(e,t="asc"){this.field=e,this.dir=t}}function YX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class KV{}class Tt extends KV{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new QX(e,t,i):"array-contains"===t?new eJ(e,i):"in"===t?new e2(e,i):"not-in"===t?new tJ(e,i):"array-contains-any"===t?new nJ(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new XX(e,i):new JX(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xa(t,this.value)):null!==t&&Qa(this.value)===Qa(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends KV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Kt(e,t)}matches(e){return Nd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Nd(n){return"and"===n.op}function UC(n){return function ZV(n){for(const e of n.filters)if(e instanceof Kt)return!1;return!0}(n)&&Nd(n)}function jC(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+kd(n.value);if(UC(n))return n.filters.map(e=>jC(e)).join(",");{const e=n.filters.map(t=>jC(t)).join(",");return`${n.op}(${e})`}}function YV(n,e){return n instanceof Tt?(i=n,(r=e)instanceof Tt&&i.op===r.op&&i.field.isEqual(r.field)&&ls(i.value,r.value)):n instanceof Kt?function(i,r){return r instanceof Kt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&YV(s,r.filters[a]),!0)}(n,e):void Te();var i,r}function XV(n){return n instanceof Tt?`${(t=n).field.canonicalString()} ${t.op} ${kd(t.value)}`:n instanceof Kt?function(t){return t.op.toString()+" {"+t.getFilters().map(XV).join(" ,")+"}"}(n):"Filter";var t}class QX extends Tt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class XX extends Tt{constructor(e,t){super(e,"in",t),this.keys=JV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JX extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=JV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class eJ extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cm(t)&&lm(t.arrayValue,this.value)}}class e2 extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lm(this.value.arrayValue,t)}}class tJ extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(lm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lm(this.value.arrayValue,t)}}class nJ extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>lm(this.value.arrayValue,i))}}class iJ{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function zC(n,e=null,t=[],i=[],r=null,o=null,s=null){return new iJ(n,e,t,i,r,o,s)}function ac(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jC(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kd(i)).join(",")),e.ce=t}return e.ce}function hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YX(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GV(n.startAt,e.startAt)&&GV(n.endAt,e.endAt)}function qv(n){return ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ks{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Fd(n){return new Ks(n)}function o2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ld(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qt(xn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new dm(o,i))}),t.has(xn.keyField().canonicalString())||e.le.push(new dm(xn.keyField(),i))}return e.le}function mr(n){const e=me(n);return e.he||(e.he=function s2(n,e){if("F"===n.limitType)return zC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new dm(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Ja(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ja(n.startAt.position,n.startAt.inclusive):null;return zC(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Ld(n))),e.he}function Gv(n,e,t){return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fm(n,e){return hm(mr(n),mr(e))&&n.limitType===e.limitType}function a2(n){return`${ac(mr(n))}|lt:${n.limitType}`}function Vd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>XV(r)).join(", ")}]`),om(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>kd(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>kd(r)).join(",")),`Target(${i})`}(mr(n))}; limitType=${n.limitType})`}function pm(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Ld(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const c=WV(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Ld(i),r)||i.endAt&&!function(s,a,l){const c=WV(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Ld(i),r)));var i,r}function c2(n){return(e,t)=>{let i=!1;for(const r of Ld(n)){const o=rJ(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function rJ(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Xa(l,c):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}class Zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return FV(this.inner)}size(){return this.innerSize}}const oJ=new sn(ge.comparator);function Tr(){return oJ}const u2=new sn(ge.comparator);function mm(...n){let e=u2;for(const t of n)e=e.insert(t.key,t);return e}function d2(n){let e=u2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function cs(){return gm()}function h2(){return gm()}function gm(){return new Zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const sJ=new sn(ge.comparator),aJ=new Qt(ge.comparator);function ot(...n){let e=aJ;for(const t of n)e=e.add(t);return e}const lJ=new Qt(Qe);function f2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function p2(n){return{integerValue:""+n}}function m2(n,e){return function AV(n){return"number"==typeof n&&Number.isInteger(n)&&!sm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?p2(e):f2(n,e)}class Kv{constructor(){this._=void 0}}function cJ(n,e,t){return n instanceof Bd?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Uv(o)&&(o=jv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof lc?_2(n,e):n instanceof cc?y2(n,e):function(r,o){const s=g2(r,o),a=v2(s)+v2(r.Ie);return VC(s)&&VC(r.Ie)?p2(a):f2(r.serializer,a)}(n,e)}function uJ(n,e,t){return n instanceof lc?_2(n,e):n instanceof cc?y2(n,e):t}function g2(n,e){return n instanceof Ud?VC(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Bd extends Kv{}class lc extends Kv{constructor(e){super(),this.elements=e}}function _2(n,e){const t=b2(e);for(const i of n.elements)t.some(r=>ls(r,i))||t.push(i);return{arrayValue:{values:t}}}class cc extends Kv{constructor(e){super(),this.elements=e}}function y2(n,e){let t=b2(e);for(const i of n.elements)t=t.filter(r=>!ls(r,i));return{arrayValue:{values:t}}}class Ud extends Kv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function v2(n){return Vn(n.integerValue||n.doubleValue)}function b2(n){return cm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hJ{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yv{}function E2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new zd(n.key,Cn.none()):new jd(n.key,n.data,Cn.none());{const t=n.data,i=Li.empty();let r=new Qt(xn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ys(n.key,i,new Cr(r.toArray()),Cn.none())}}function fJ(n,e,t){n instanceof jd?function(r,o,s){const a=r.value.clone(),l=x2(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(r,o,s){if(!Zv(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=x2(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(I2(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ym(n,e,t,i){return n instanceof jd?function(o,s,a,l){if(!Zv(o.precondition,s))return a;const c=o.value.clone(),h=C2(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ys?function(o,s,a,l){if(!Zv(o.precondition,s))return a;const c=C2(o.fieldTransforms,l,s),h=s.data;return h.setAll(I2(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,Zv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function pJ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=g2(i.transform,r||null);null!=o&&(null===t&&(t=Li.empty()),t.set(i.field,o))}return t||null}function w2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Rd(i,r,(o,s)=>function dJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof lc&&r instanceof lc||i instanceof cc&&r instanceof cc?Rd(i.elements,r.elements,ls):i instanceof Ud&&r instanceof Ud?ls(i.Ie,r.Ie):i instanceof Bd&&r instanceof Bd);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class jd extends Yv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ys extends Yv{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function I2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function x2(n,e,t){const i=new Map;Pe(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,uJ(s,a,t[r]))}return i}function C2(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,cJ(o,s,e))}return i}class zd extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GC{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&fJ(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ym(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ym(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=h2();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=E2(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ot())}isEqual(e){return this.batchId===e.batchId&&Rd(this.mutations,e.mutations,(t,i)=>w2(t,i))&&Rd(this.baseMutations,e.baseMutations,(t,i)=>w2(t,i))}}class KC{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Pe(e.mutations.length===i.length);let r=sJ;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new KC(e,t,i,r)}}class ZC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var ti,kt;function D2(n){if(void 0===n)return Zn("GRPC error has no .code"),W.UNKNOWN;switch(n){case ti.OK:return W.OK;case ti.CANCELLED:return W.CANCELLED;case ti.UNKNOWN:return W.UNKNOWN;case ti.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ti.INTERNAL:return W.INTERNAL;case ti.UNAVAILABLE:return W.UNAVAILABLE;case ti.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ti.NOT_FOUND:return W.NOT_FOUND;case ti.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ti.ABORTED:return W.ABORTED;case ti.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ti.DATA_LOSS:return W.DATA_LOSS;default:return Te()}}(kt=ti||(ti={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";const _J=new Dd([4294967295,4294967295],0);function S2(n){const e=function A2(){return new TextEncoder}().encode(n),t=new hX;return t.update(e),new Uint8Array(t.digest())}function R2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dd([t,i],0),new Dd([r,o],0)]}class YC{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vm(`Invalid padding: ${t}`);if(i<0)throw new vm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new vm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new vm(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Dd.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Dd.fromNumber(i)));return 1===r.compare(_J)&&(r=new Dd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=S2(e),[i,r]=R2(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new YC(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=S2(e),[i,r]=R2(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class vm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bm{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Em.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new bm(Oe.min(),r,new sn(Qe),Tr(),ot())}}class Em{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Em(i,t,ot(),ot(),ot())}}class Xv{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class M2{constructor(e,t){this.targetId=e,this.fe=t}}class P2{constructor(e,t,i=hi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class O2{constructor(){this.ge=0,this.pe=N2(),this.ye=hi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ot(),t=ot(),i=ot();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Te()}}),new Em(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=N2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=Tr(),this.Qe=k2(),this.Ke=new sn(Qe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(qv(o))if(0===i){const s=new ge(o.path);this.We(t,s,yn.newNoDocument(s,Oe.min()))}else Pe(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Gs(i).toUint8Array()}catch(l){if(l instanceof VV)return zr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new YC(s,r,o)}catch(l){return zr(l instanceof vm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&qv(a.target)){const l=new ge(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,yn.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ot();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new bm(e,t,this.Ke,this.qe,i);return this.qe=Tr(),this.Qe=k2(),this.Ke=new sn(Qe),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new O2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Qt(Qe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new O2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function k2(){return new sn(ge.comparator)}function N2(){return new sn(ge.comparator)}const vJ={asc:"ASCENDING",desc:"DESCENDING"},bJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EJ={and:"AND",or:"OR"};class wJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QC(n,e){return n.useProto3Json||om(e)?e:{value:e}}function $d(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IJ(n,e){return $d(n,e.toTimestamp())}function Yn(n){return Pe(!!n),Oe.fromTimestamp(function(t){const i=Za(t);return new Mn(i.seconds,i.nanos)}(n))}function XC(n,e){return(i=n,new Ot(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function L2(n){const e=Ot.fromString(n);return Pe(W2(e)),e}function wm(n,e){return XC(n.databaseId,e.path)}function us(n,e){const t=L2(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(B2(t))}function JC(n,e){return XC(n.databaseId,e)}function Im(n){return new Ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B2(n){return Pe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function U2(n,e,t){return{name:wm(n,e),fields:t.value.mapValue.fields}}function z2(n,e){return{documents:[JC(n,e.path)]}}function tT(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=JC(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JC(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return q2(Kt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:el((p=c).field),direction:AJ(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=QC(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function $2(n){let e=function V2(n){const e=L2(n);return 4===e.length?Ot.emptyPath():B2(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Pe(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=H2(p);return g instanceof Kt&&UC(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new dm(Hd((w=g).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,om(g)?null:g}(t.limit));let l=null;var p;t.startAt&&(l=new Ja((p=t.startAt).values||[],!!p.before));let c=null;return t.endAt&&(c=function(p){return new Ja(p.values||[],!p.before)}(t.endAt)),function r2(n,e,t,i,r,o,s,a){return new Ks(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function H2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Hd(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Hd(t.unaryFilter.field);return Tt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hd(t.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hd(t.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):void 0!==n.fieldFilter?Tt.create(Hd((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Kt.create(t.compositeFilter.filters.map(i=>H2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te();var t}function AJ(n){return vJ[n]}function SJ(n){return bJ[n]}function RJ(n){return EJ[n]}function el(n){return{fieldPath:n.canonicalString()}}function Hd(n){return xn.fromServerFormat(n.fieldPath)}function q2(n){return n instanceof Tt?function(t){if("=="===t.op){if(jV(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(UV(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(jV(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(UV(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:SJ(t.op),value:t.value}}}(n):n instanceof Kt?function(t){const i=t.getFilters().map(r=>q2(r));return 1===i.length?i[0]:{compositeFilter:{op:RJ(t.op),filters:i}}}(n):Te()}function MJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function W2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Qs{constructor(e,t,i,r,o=Oe.min(),s=Oe.min(),a=hi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G2{constructor(e){this.ut=e}}function nT(n){const e=$2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gv(e,e.limit,"L"):e}class fc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vn(e.integerValue));else if("doubleValue"in e){const i=Vn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),sm(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Gs(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?zV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Te()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ge.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}fc.St=new fc;class BJ{constructor(){this.on=new lT}addToCollectionParentIndex(e,t){return this.on.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve($r.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class lT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qt(Ot.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qt(Ot.comparator)).toArray()}}new Uint8Array(0);class Gi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class mc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new mc(0)}static Nn(){return new mc(-1)}}class qJ{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bB{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&ym(i.mutation,r,Cr.empty(),Mn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ot()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ot()){const r=cs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=mm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=cs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ot()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Tr();const s=gm(),a=gm();return t.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(void 0===h||h.mutation instanceof Ys)?o=o.insert(c.key,c):void 0!==h?(s.set(c.key,h.mutation.getFieldMask()),ym(h.mutation,c,h.mutation.getFieldMask(),Mn.now())):s.set(c.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),t.forEach((c,h)=>{var p;return a.set(c,new KJ(h,null!==(p=s.get(c))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=gm();let r=new sn((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let h=i.get(l)||Cr.empty();h=a.applyToLocalView(c,h),i.set(l,h);const p=(r.get(a.batchId)||ot()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=h2();h.forEach(g=>{if(!o.has(g)){const y=E2(t.get(g),i.get(g));null!==y&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ge.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function $C(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(cs());let a=-1,l=o;return s.next(c=>L.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ot())).next(h=>({batchId:a,changes:d2(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let r=mm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=mm();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,l=>{const c=(p=t,g=l.child(o),new Ks(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{const h=c.getKey();null===s.get(h)&&(s=s.insert(h,yn.newInvalidDocument(h)))});let a=mm();return s.forEach((l,c)=>{const h=o.get(l);void 0!==h&&ym(h.mutation,c,Cr.empty(),Mn.now()),pm(t,c)&&(a=a.insert(l,c))}),a})}}class ZJ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return L.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Yn(r.createTime)}),L.resolve();var r}getNamedQuery(e,t){return L.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:nT(r.bundledQuery),readTime:Yn(r.readTime)}),L.resolve();var r}}class YJ{constructor(){this.overlays=new sn(ge.comparator),this.lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const i=cs();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){const r=cs(),o=t.length+1,s=new ge(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new sn((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let h=o.get(c.largestBatchId);null===h&&(h=cs(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=cs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return L.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new ZC(t,i));let o=this.lr.get(t);void 0===o&&(o=ot(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class cT{constructor(){this.hr=new Qt(Ci.Pr),this.Ir=new Qt(Ci.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ci(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ci(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ge(new Ot([])),i=new Ci(t,e),r=new Ci(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ge(new Ot([])),i=new Ci(t,e),r=new Ci(t,e+1);let o=ot();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ci(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ci{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ge.comparator(e.key,t.key)||Qe(e.gr,t.gr)}static Tr(e,t){return Qe(e.gr,t.gr)||ge.comparator(e.key,t.key)}}class QJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Qt(Ci.Pr)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new GC(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Ci(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ci(t,0),r=new Ci(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(Qe);return t.forEach(r=>{const o=new Ci(r,0),s=new Ci(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),L.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const s=new Ci(new ge(o),0);let a=new Qt(Qe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),L.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Pe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return L.forEach(t.mutations,r=>{const o=new Ci(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ci(t,0),r=this.yr.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return L.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XJ{constructor(e){this.Cr=e,this.docs=new sn(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Tr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Tr();const s=t.path,a=new ge(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||OC(CV(h),i)<=0||(r.has(h.key)||pm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Te()}vr(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new JJ(this)}getSize(e){return L.resolve(this.size)}}class JJ extends qJ{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class eee{constructor(e){this.persistence=e,this.Fr=new Zs(t=>ac(t),hm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cT,this.targetCount=0,this.Nr=mc.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),L.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new mc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.kn(t),L.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.Or.containsKey(t))}}class uT{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Hr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new eee(this),this.indexManager=new BJ,this.remoteDocumentCache=new XJ(i=>this.referenceDelegate.Qr(i)),this.serializer=new G2(t),this.Kr=new ZJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new QJ(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const r=new tee(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return L.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class tee extends IX{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Gr=new cT,this.zr=null}static jr(e){return new sb(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,i=>{const r=ge.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Oe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return L.or([()=>L.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class pT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ot(),r=ot();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pT(e,t.fromCache,i,r)}}class iee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new iee;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Sd()<=Hs.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Vd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(Sd()<=Hs.in.DEBUG&&se("QueryEngine","Query:",Vd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Sd()<=Hs.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Vd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):L.resolve())}zi(e,t){if(o2(t))return L.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Gv(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,s,l.readTime)?this.zi(e,Gv(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,i,r){return o2(t)||r.isEqual(Oe.min())?L.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?L.resolve(null):(Sd()<=Hs.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vd(t)),this.Xi(e,s,t,function xV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(1e9===i?new Mn(t+1,0):new Mn(t,i));return new $r(r,ge.empty(),e)}(r,-1)).next(a=>a))})}Yi(e,t){let i=new Qt(c2(e));return t.forEach((r,o)=>{pm(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return Sd()<=Hs.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Vd(t)),this.Gi.getDocumentsMatchingQuery(e,t,$r.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class ree{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new sn(Qe),this.ns=new Zs(o=>ac(o),hm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function xB(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,Se.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ot();for(const c of r){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),mT.apply(this,arguments)}function CB(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function aee(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yd(n,e,t){return gT.apply(this,arguments)}function gT(){return gT=(0,Se.Z)(function*(n,e,t){const i=me(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ga(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),gT.apply(this,arguments)}function cb(n,e,t){const i=me(n);let r=Oe.min(),o=ot();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const p=me(l),g=p.ns.get(h);return void 0!==g?L.resolve(p.ts.get(g)):p.qr.getTargetData(c,h)}(i,s,mr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Oe.min(),t?o:ot())).next(a=>(function SB(n,e,t){let i=n.rs.get(e)||Oe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}(i,function l2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class ET{constructor(){this.activeTargetIds=function qC(){return lJ}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PB{constructor(){this.eo=new ET,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ET,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uee{ro(e){}shutdown(){}}class OB{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hb=null;function IT(){return null===hb?hb=268435456+Math.round(2147483648*Math.random()):hb++,"0x"+hb.toString(16)}const dee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hee{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ki="WebChannelConnection";class fee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=IT(),l=this.So(t,i);se("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,l,c,r).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw zr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ad,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${dee[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=IT();return new Promise((s,a)=>{const l=new dX;l.setWithCredentials(!0),l.listenOnce(cX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case RC.NO_ERROR:const h=l.getResponseJson();se(Ki,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case RC.TIMEOUT:se(Ki,`RPC '${e}' ${o} timed out`),a(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case RC.HTTP_ERROR:const p=l.getStatus();if(se(Ki,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const w=function(T){const N=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(N)>=0?N:W.UNKNOWN}(y.status);a(new ae(w,y.message))}else a(new ae(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(W.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{se(Ki,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);se(Ki,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}vo(e,t,i){const r=IT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aX(),a=lX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=o.join("");se(Ki,`Creating RPC '${e}' stream ${r}: ${h}`,l);const p=s.createWebChannel(h,l);let g=!1,y=!1;const w=new hee({co:T=>{y?se(Ki,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(g||(se(Ki,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),se(Ki,`RPC '${e}' stream ${r} sending:`,T),p.send(T))},lo:()=>p.close()}),x=(T,N,M)=>{T.listen(N,U=>{try{M(U)}catch(Q){setTimeout(()=>{throw Q},0)}})};return x(p,Fv.EventType.OPEN,()=>{y||se(Ki,`RPC '${e}' stream ${r} transport opened.`)}),x(p,Fv.EventType.CLOSE,()=>{y||(y=!0,se(Ki,`RPC '${e}' stream ${r} transport closed`),w.Ro())}),x(p,Fv.EventType.ERROR,T=>{y||(y=!0,zr(Ki,`RPC '${e}' stream ${r} transport errored:`,T),w.Ro(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),x(p,Fv.EventType.MESSAGE,T=>{var N;if(!y){const M=T.data[0];Pe(!!M);const Q=M.error||(null===(N=M[0])||void 0===N?void 0:N.error);if(Q){se(Ki,`RPC '${e}' stream ${r} received error:`,Q);const fe=Q.status;let ke=function(gr){const Dr=ti[gr];if(void 0!==Dr)return D2(Dr)}(fe),Xe=Q.message;void 0===ke&&(ke=W.INTERNAL,Xe="Unknown error status: "+fe+" with message "+Q.message),y=!0,w.Ro(new ae(ke,Xe)),p.close()}else se(Ki,`RPC '${e}' stream ${r} received:`,M),w.Vo(M)}}),x(a,uX.STAT_EVENT,T=>{T.stat===yV.PROXY?se(Ki,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===yV.NOPROXY&&se(Ki,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function fb(){return typeof document<"u"?document:null}function Pm(n){return new wJ(n,!0)}class xT{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class NB{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xT(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Se.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Se.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,Se.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===W.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new ae(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Se.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pee extends NB{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function CJ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Te(),r=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Pe(void 0===h||"string"==typeof h),hi.fromBase64String(h||"")):(Pe(void 0===h||h instanceof Uint8Array),hi.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=void 0===c.code?W.UNKNOWN:D2(c.code);return new ae(h,c.message||"")}(s);t=new P2(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=us(n,i.document.name),o=Yn(i.document.updateTime),s=i.document.createTime?Yn(i.document.createTime):Oe.min(),a=new Li({mapValue:{fields:i.document.fields}}),l=yn.newFoundDocument(r,o,s,a);t=new Xv(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=us(n,i.document),o=i.readTime?Yn(i.readTime):Oe.min(),s=yn.newNoDocument(r,o);t=new Xv([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=us(n,i.document);t=new Xv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Te();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new gJ(r,o);t=new M2(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?Yn(s.readTime):Oe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Im(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=qv(l)?{documents:z2(o,l)}:{query:tT(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=F2(o,s.resumeToken);const c=QC(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Oe.min())>0){a.readTime=$d(o,s.snapshotVersion.toTimestamp());const c=QC(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const i=function DJ(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Im(this.serializer),t.removeTarget=e,this.e_(t)}}class mee extends NB{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function TJ(n,e){return n&&n.length>0?(Pe(void 0!==e),n.map(t=>function(r,o){let s=Yn(r.updateTime?r.updateTime:o);return s.isEqual(Oe.min())&&(s=Yn(o)),new hJ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Yn(e.commitTime);return this.listener.I_(i,t)}return Pe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Im(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function xm(n,e){let t;if(e instanceof jd)t={update:U2(n,e.key,e.value)};else if(e instanceof zd)t={delete:wm(n,e.key)};else if(e instanceof Ys)t={update:U2(n,e.key,e.data),updateMask:MJ(e.fieldMask)};else{if(!(e instanceof WC))return Te();t={verify:wm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Bd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ud)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:IJ(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Te()),t;var o}(this.serializer,i))};this.e_(t)}}class gee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ae(W.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(W.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class yee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Zn(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class vee{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,Se.Z)(function*(){var l;rl(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Se.Z)(function*(h){const p=me(h);p.C_.add(4),yield Qd(p),p.M_.set("Unknown"),p.C_.delete(4),yield Om(p)}),function c(h){return l.apply(this,arguments)})(s))}))}),this.M_=new yee(i,r)}}function Om(n){return TT.apply(this,arguments)}function TT(){return TT=(0,Se.Z)(function*(n){if(rl(n))for(const e of n.v_)yield e(!0)}),TT.apply(this,arguments)}function Qd(n){return DT.apply(this,arguments)}function DT(){return DT=(0,Se.Z)(function*(n){for(const e of n.v_)yield e(!1)}),DT.apply(this,arguments)}function pb(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),RT(t)?ST(t):Jd(t).Ho()&&AT(t,e))}function km(n,e){const t=me(n),i=Jd(t);t.D_.delete(e),i.Ho()&&FB(t,e),0===t.D_.size&&(i.Ho()?i.Zo():rl(t)&&t.M_.set("Unknown"))}function AT(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jd(n).u_(e)}function FB(n,e){n.x_.Oe(e),Jd(n).c_(e)}function ST(n){n.x_=new yJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Jd(n).start(),n.M_.g_()}function RT(n){return rl(n)&&!Jd(n).jo()&&n.D_.size>0}function rl(n){return 0===me(n).C_.size}function LB(n){n.x_=void 0}function bee(n){return MT.apply(this,arguments)}function MT(){return MT=(0,Se.Z)(function*(n){n.D_.forEach((e,t)=>{AT(n,e)})}),MT.apply(this,arguments)}function Eee(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,Se.Z)(function*(n,e){LB(n),RT(n)?(n.M_.w_(e),ST(n)):n.M_.set("Unknown")}),PT.apply(this,arguments)}function wee(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,Se.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof P2&&2===e.state&&e.cause)try{yield(i=(0,Se.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield mb(n,i)}else if(e instanceof Xv?n.x_.$e(e):e instanceof M2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Oe.min()))try{const i=yield CB(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.D_.get(c);h&&o.D_.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const h=o.D_.get(l);if(!h)return;o.D_.set(l,h.withResumeToken(hi.EMPTY_BYTE_STRING,h.snapshotVersion)),FB(o,l);const p=new Qs(h.target,l,c,h.sequenceNumber);AT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){se("RemoteStore","Failed to raise snapshot:",i),yield mb(n,i)}var i}),OT.apply(this,arguments)}function mb(n,e,t){return kT.apply(this,arguments)}function kT(){return kT=(0,Se.Z)(function*(n,e,t){if(!Ga(e))throw e;n.C_.add(1),yield Qd(n),n.M_.set("Offline"),t||(t=()=>CB(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Om(n)}))}),kT.apply(this,arguments)}function VB(n,e){return e().catch(t=>mb(n,t,e))}function Xd(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Se.Z)(function*(n){const e=me(n),t=ol(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Iee(e);)try{const r=yield aee(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,xee(e,r)}catch(r){yield mb(e,r)}BB(e)&&UB(e)}),NT.apply(this,arguments)}function Iee(n){return rl(n)&&n.b_.length<10}function xee(n,e){n.b_.push(e);const t=ol(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function BB(n){return rl(n)&&!ol(n).jo()&&n.b_.length>0}function UB(n){ol(n).start()}function Cee(n){return FT.apply(this,arguments)}function FT(){return FT=(0,Se.Z)(function*(n){ol(n).E_()}),FT.apply(this,arguments)}function Tee(n){return LT.apply(this,arguments)}function LT(){return LT=(0,Se.Z)(function*(n){const e=ol(n);for(const t of n.b_)e.P_(t.mutations)}),LT.apply(this,arguments)}function Dee(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,Se.Z)(function*(n,e,t){const i=n.b_.shift(),r=KC.from(i,e,t);yield VB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Xd(n)}),VT.apply(this,arguments)}function Aee(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,Se.Z)(function*(n,e){var t;e&&ol(n).h_&&(yield(t=(0,Se.Z)(function*(r,o){if(function T2(n){switch(n){default:return Te();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}(a=o.code)&&a!==W.ABORTED){const s=r.b_.shift();ol(r).Yo(),yield VB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Xd(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),BB(n)&&UB(n)}),BT.apply(this,arguments)}function jB(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,Se.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=rl(t);t.C_.add(3),yield Qd(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Om(t)}),UT.apply(this,arguments)}function zT(){return zT=(0,Se.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield Om(t)):e||(t.C_.add(2),yield Qd(t),t.M_.set("Unknown"))}),zT.apply(this,arguments)}function Jd(n){return n.O_||(n.O_=function(t,i,r){const o=me(t);return o.A_(),new pee(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:bee.bind(null,n),Io:Eee.bind(null,n),a_:wee.bind(null,n)}),n.v_.push(function(){var e=(0,Se.Z)(function*(t){t?(n.O_.Yo(),RT(n)?ST(n):n.M_.set("Unknown")):(yield n.O_.stop(),LB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function ol(n){return n.N_||(n.N_=function(t,i,r){const o=me(t);return o.A_(),new mee(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Cee.bind(null,n),Io:Aee.bind(null,n),T_:Tee.bind(null,n),I_:Dee.bind(null,n)}),n.v_.push(function(){var e=(0,Se.Z)(function*(t){t?(n.N_.Yo(),yield Xd(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class $T{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new $T(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eh(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),Ga(n))return new ae(W.UNAVAILABLE,`${e}: ${n}`);throw n}class th{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=mm(),this.sortedSet=new sn(this.comparator)}static emptySet(e){return new th(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof th)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new th;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class zB{constructor(){this.B_=new sn(ge.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class nh{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new nh(e,t,th.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class See{constructor(){this.k_=void 0,this.listeners=[]}}class Ree{constructor(){this.queries=new Zs(e=>a2(e),fm),this.onlineState="Unknown",this.q_=new Set}}function HT(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,Se.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new See),r)try{o.k_=yield t.onListen(i)}catch(s){const a=eh(s,`Initialization of query '${Vd(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&KT(t)}),qT.apply(this,arguments)}function WT(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,Se.Z)(function*(n,e){const t=me(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),GT.apply(this,arguments)}function Mee(n,e){const t=me(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&KT(t)}function Pee(n,e,t){const i=me(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function KT(n){n.q_.forEach(e=>{e.next()})}class ZT{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new nh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class qB{constructor(e){this.key=e}}class WB{constructor(e){this.key=e}}class GB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ot(),this.mutatedKeys=ot(),this._a=c2(e),this.aa=new th(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new zB,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),y=pm(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;g&&y?g.data.isEqual(y.data)?w!==x&&(i.track({type:3,doc:y}),T=!0):this.ha(g,y)||(i.track({type:2,doc:y}),T=!0,(l&&this._a(y,l)>0||c&&this._a(y,c)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),T=!0):g&&!y&&(i.track({type:1,doc:g}),T=!0,(l||c)&&(a=!0)),T&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((h,p)=>function(y,w){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return x(y)-x(w)}(h.type,p.type)||this._a(h.doc,p.doc)),this.Pa(i),r=null!=r&&r;const a=t&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==s.length||c?{snapshot:new nh(this.query,e.aa,o,s,e.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new zB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ot(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new WB(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new qB(i))}),t}da(e){this.ia=e.ls,this.oa=ot();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return nh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Nee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Fee{constructor(e){this.key=e,this.Ra=!1}}class Lee{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Zs(a=>a2(a),fm),this.fa=new Map,this.ga=new Set,this.pa=new sn(ge.comparator),this.ya=new Map,this.wa=new cT,this.Sa={},this.ba=new Map,this.Da=mc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Vee(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,Se.Z)(function*(n,e){const t=function vD(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jee.bind(null,e),e.Va.a_=Mee.bind(null,e.eventManager),e.Va.Fa=Pee.bind(null,e.eventManager),e}(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield function Zd(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new Qs(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}(t.localStore,mr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function QT(n,e,t,i,r){return XT.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&pb(t.remoteStore,s)}return r}),YT.apply(this,arguments)}function XT(){return XT=(0,Se.Z)(function*(n,e,t,i,r){n.va=(p,g,y)=>{return(w=(0,Se.Z)(function*(T,N,M,U){let Q=N.view.ca(M);Q.Zi&&(Q=yield cb(T.localStore,N.query,!1).then(({documents:$t})=>N.view.ca($t,Q)));const fe=U&&U.targetChanges.get(N.targetId),ke=U&&null!=U.targetMismatches.get(N.targetId),Xe=N.view.applyChanges(Q,T.isPrimaryClient,fe,ke);return lD(T,N.targetId,Xe.Ta),Xe.snapshot}),function x(T,N,M,U){return w.apply(this,arguments)})(n,p,g,y);var w};const o=yield cb(n.localStore,e,!0),s=new GB(e,o.ls),a=s.ca(o.documents),l=Em.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);lD(n,t,c.Ta);const h=new Nee(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),XT.apply(this,arguments)}function Bee(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,Se.Z)(function*(n,e){const t=me(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!fm(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),km(t.remoteStore,i.targetId),ih(t,i.targetId)}).catch(Wa))):(ih(t,i.targetId),yield Yd(t.localStore,i.targetId,!0))}),JT.apply(this,arguments)}function eD(){return eD=(0,Se.Z)(function*(n,e,t){const i=function bD(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$ee.bind(null,e),e}(n);try{const r=yield function(s,a){const l=me(s),c=Mn.now(),h=a.reduce((y,w)=>y.add(w.key),ot());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Tr(),x=ot();return l.ss.getEntries(y,h).next(T=>{w=T,w.forEach((N,M)=>{M.isValidDocument()||(x=x.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(T=>{p=T;const N=[];for(const M of a){const U=pJ(M,p.get(M.key).overlayedDocument);null!=U&&N.push(new Ys(M.key,U,qV(U.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,N,a)}).next(T=>{g=T;const N=T.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(y,T.batchId,N)})}).then(()=>({batchId:g.batchId,changes:d2(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new sn(Qe)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,t),yield Xs(i,r.changes),yield Xd(i.remoteStore)}catch(r){const o=eh(r,"Failed to persist write");t.reject(o)}}),eD.apply(this,arguments)}function KB(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,Se.Z)(function*(n,e){const t=me(n);try{const i=yield function see(n,e){const t=me(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);var x,T,N;null!==e.targetMismatches.get(p)?y=y.withResumeToken(hi.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(p,y),T=y,N=h,(0===(x=g).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,y))});let l=Tr(),c=ot();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(function TB(n,e,t){let i=ot(),r=ot();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Tr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}(o,s,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!i.isEqual(Oe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Pe(s.Ra):r.removedDocuments.size>0&&(Pe(s.Ra),s.Ra=!1))}),yield Xs(t,i,e)}catch(i){yield Wa(i)}}),tD.apply(this,arguments)}function ZB(n,e,t){const i=me(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(c=!0)}),c&&KT(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function jee(n,e,t){return nD.apply(this,arguments)}function nD(){return nD=(0,Se.Z)(function*(n,e,t){const i=me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new sn(ge.comparator);s=s.insert(o,yn.newNoDocument(o,Oe.min()));const a=ot().add(o),l=new bm(Oe.min(),new Map,new sn(Qe),s,a);yield KB(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),cD(i)}else yield Yd(i.localStore,e,!1).then(()=>ih(i,e,t)).catch(Wa)}),nD.apply(this,arguments)}function zee(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,Se.Z)(function*(n,e){const t=me(n),i=e.batch.batchId;try{const r=yield function oee(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,g=p.keys();let y=L.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(l,w)).next(x=>{const T=c.docVersions.get(w);Pe(null!==T),x.version.compareTo(T)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ot();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);aD(t,i,null),sD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Xs(t,r)}catch(r){yield Wa(r)}}),iD.apply(this,arguments)}function $ee(n,e,t){return rD.apply(this,arguments)}function rD(){return rD=(0,Se.Z)(function*(n,e,t){const i=me(n);try{const r=yield function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Pe(null!==p),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);aD(i,e,t),sD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Xs(i,r)}catch(r){yield Wa(r)}}),rD.apply(this,arguments)}function sD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function aD(n,e,t){const i=me(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function ih(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||YB(n,i)})}function YB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(km(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),cD(n))}function lD(n,e,t){for(const i of t)i instanceof qB?(n.wa.addReference(i.key,e),qee(n,i)):i instanceof WB?(se("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||YB(n,i.key)):Te()}function qee(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(i),cD(n))}function cD(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ge(Ot.fromString(e)),i=n.Da.next();n.ya.set(i,new Fee(t)),n.pa=n.pa.insert(t,i),pb(n.remoteStore,new Qs(mr(Fd(t.path)),i,"TargetPurposeLimboResolution",Hr._e))}}function Xs(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,Se.Z)(function*(n,e,t){const i=me(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const h=pT.Qi(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,Se.Z)(function*(c,h){const p=me(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,y=>L.forEach(y.ki,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>L.forEach(y.qi,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!Ga(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=p.ts.get(y),T=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);p.ts=p.ts.insert(y,T)}}}),function l(c,h){return a.apply(this,arguments)})(i.localStore,o))}),uD.apply(this,arguments)}function Wee(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,Se.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=yield xB(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ae(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Xs(t,i._s)}var o}),dD.apply(this,arguments)}function Gee(n,e){const t=me(n),i=t.ya.get(e);if(i&&i.Ra)return ot().add(i.key);{let r=ot();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}class gb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=Pm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function IB(n,e,t,i){return new ree(n,e,t,i)}(this.persistence,new wB,e.initialUser,this.serializer)}createPersistence(e){return new uT(sb.jr,this.serializer)}createSharedClientState(e){return new PB}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rh{initialize(e,t){var i=this;return(0,Se.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>ZB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Wee.bind(null,i.syncEngine),yield function jT(n,e){return zT.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ree}createDatastore(e){const t=Pm(e.databaseInfo.databaseId),i=new fee(e.databaseInfo);return new gee(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>ZB(this.syncEngine,t,0),a=OB.D()?new OB:new uee,new vee(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,c,h){const p=new Lee(r,o,s,a,l,c);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(i){const r=me(i);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Qd(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ste{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ii.UNAUTHENTICATED,this.clientId=wV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,Se.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=eh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function yb(n,e){return ED.apply(this,arguments)}function ED(){return ED=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Se.Z)(function*(o){i.isEqual(o)||(yield xB(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ED.apply(this,arguments)}function wD(n,e){return ID.apply(this,arguments)}function ID(){return ID=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function xD(n){return CD.apply(this,arguments)}(n);se("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>jB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>jB(e.remoteStore,o)),n._onlineComponents=e}),ID.apply(this,arguments)}function CD(){return CD=(0,Se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function nU(n){return"FirebaseError"===n.name?n.code===W.FAILED_PRECONDITION||n.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),yield yb(n,new gb)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield yb(n,new gb);return n._offlineComponents}),CD.apply(this,arguments)}function vb(n){return TD.apply(this,arguments)}function TD(){return TD=(0,Se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield wD(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield wD(n,new rh))),n._onlineComponents}),TD.apply(this,arguments)}function sh(n){return AD.apply(this,arguments)}function AD(){return AD=(0,Se.Z)(function*(n){const e=yield vb(n),t=e.eventManager;return t.onListen=Vee.bind(null,e.syncEngine),t.onUnlisten=Bee.bind(null,e.syncEngine),t}),AD.apply(this,arguments)}function lU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const cU=new Map;function SD(n,e,t){if(!t)throw new ae(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uU(n){if(!ge.isDocumentKey(n))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dU(n){if(ge.isDocumentKey(n))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Te()}function Dt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bb(n);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class fU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function _te(n,e,t,i){if(!0===e&&!0===i)throw new ae(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fU(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new fX;switch(i.type){case"firstParty":return new _X(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=cU.get(t);i&&(se("ComponentProvider","Removing Datastore"),cU.delete(t),i.terminate())}(this),Promise.resolve()}}class Vi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Qn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class ds extends Vi{constructor(e,t,i){super(e,t,Fd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ge(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function vte(n,e,...t){if(n=(0,za.m9)(n),SD("collection","path",e),n instanceof Nm){const i=Ot.fromString(e,...t);return dU(i),new ds(n,null,i)}{if(!(n instanceof Qn||n instanceof ds))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ot.fromString(e,...t));return dU(i),new ds(n.firestore,null,i)}}function pU(n,e,...t){if(n=(0,za.m9)(n),1===arguments.length&&(e=wV.newId()),SD("doc","path",e),n instanceof Nm){const i=Ot.fromString(e,...t);return uU(i),new Qn(n,null,new ge(i))}{if(!(n instanceof Qn||n instanceof ds))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ot.fromString(e,...t));return uU(i),new Qn(n.firestore,n instanceof ds?n.converter:null,new ge(i))}}class bte{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xT(this,"async_queue_retry"),this.iu=()=>{const t=fb();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=fb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=fb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new di;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Ga(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Zn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=$T.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class an extends Nm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new bte,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gU(this),this._firestoreClient.terminate()}}function wte(n,e){const t="object"==typeof n?n:(0,xr.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,xr._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,za.P0)("firestore");o&&function yte(n,e,t,i={}){var r;const o=(n=Dt(n,Nm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Ii.MOCK_USER;else{a=(0,za.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ii(c)}n._authCredentials=new pX(new bV(a,l))}}(r,...o)}return r}function Xn(n){return n._firestoreClient||gU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gU(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new GX(n._databaseId,l,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lU(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new ste(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(hi.fromBase64String(e))}catch(t){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _c(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ah{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vU{constructor(e){this._methodName=e}}class MD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}const xte=/^__.*__$/;class Cte{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}function EU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Eb{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Eb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ib(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(EU(this.Iu)&&xte.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Tte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Pm(e)}pu(e,t,i,r=!1){return new Eb({Iu:e,methodName:t,gu:i,path:xn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(n){const e=n._freezeSettings(),t=Pm(n._databaseId);return new Tte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PD(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);kD("Data must be an object, but it was:",s,i);const a=TU(i,s);let l,c;if(o.merge)l=new Cr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=Vm(e,p,t);if(!s.contains(g))throw new ae(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);AU(h,g)||h.push(g)}l=new Cr(h),c=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=s.fieldTransforms;return new Cte(new Li(a),l,c)}function yc(n,e){if(DU(n=(0,za.m9)(n)))return kD("Unsupported field value:",e,n),TU(n,e);if(n instanceof vU)return function(i,r){if(!EU(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=yc(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,za.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return m2(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Mn.fromDate(i);return{timestampValue:$d(r.serializer,o)}}if(i instanceof Mn){const o=new Mn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$d(r.serializer,o)}}if(i instanceof MD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _c)return{bytesValue:F2(r.serializer,i._byteString)};if(i instanceof Qn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:XC(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${bb(i)}`)}(n,e)}function TU(n,e){const t={};return FV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(n,(i,r)=>{const o=yc(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function DU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof MD||n instanceof _c||n instanceof Qn||n instanceof vU)}function kD(n,e,t){if(!DU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=bb(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Vm(n,e,t){if((e=(0,za.m9)(e))instanceof ah)return e._internalPath;if("string"==typeof e)return wb(n,e);throw Ib("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rte=new RegExp("[~\\*/\\[\\]]");function wb(n,e,t){if(e.search(Rte)>=0)throw Ib(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ah(...e.split("."))._internalPath}catch{throw Ib(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ib(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ae(W.INVALID_ARGUMENT,a+n+l)}function AU(n,e){return n.some(t=>t.isEqual(e))}class ND{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mte extends ND{data(){return super.data()}}function xb(n,e){return"string"==typeof e?wb(n,e):e instanceof ah?e._internalPath:e._delegate._internalPath}class Ote{convertValue(e,t="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ka(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new MD(Vn(e.latitude),Vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jv(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(am(e));default:return null}}convertTimestamp(e){const t=Za(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ot.fromString(e);Pe(W2(i));const r=new oc(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return r.isEqual(t)||Zn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends ND{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xb("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ab extends uh{data(e={}){return super.data(e)}}class dh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ab(this._firestore,this._userDataWriter,i.key,i,new vc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Ab(r._firestore,r._userDataWriter,a.doc.key,a.doc,new vc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Ab(r._firestore,r._userDataWriter,a.doc.key,a.doc,new vc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Nte(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function Fte(n){n=Dt(n,Qn);const e=Dt(n.firestore,an);return function sU(n,e,t={}){const i=new di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,s,a,l,c){const h=new _b({next:g=>{s.enqueueAndForget(()=>WT(o,p));const y=g.docs.has(a);!y&&g.fromCache?c.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?c.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new ZT(Fd(a.path),h,{includeMetadataChanges:!0,J_:!0});return HT(o,p)}(yield sh(n),n.asyncQueue,e,t,i)})),i.promise}(Xn(e),n._key).then(t=>function VD(n,e,t){const i=t.docs.get(e._key),r=new sl(n);return new uh(n,r,e._key,i,new vc(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class sl extends Ote{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function Lte(n){n=Dt(n,Vi);const e=Dt(n.firestore,an),t=Xn(e),i=new sl(e);return function SU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function aU(n,e,t={}){const i=new di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,s,a,l,c){const h=new _b({next:g=>{s.enqueueAndForget(()=>WT(o,p)),g.fromCache&&"server"===l.source?c.reject(new ae(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new ZT(a,h,{includeMetadataChanges:!0,J_:!0});return HT(o,p)}(yield sh(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(r=>new dh(e,i,n,r))}function Vte(n,e,t){n=Dt(n,Qn);const i=Dt(n.firestore,an),r=function LD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return function Um(n,e){return function(i,r){const o=new di;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function Uee(n,e,t){return eD.apply(this,arguments)}(yield function DD(n){return vb(n).then(e=>e.syncEngine)}(i),r,o)})),o.promise}(Xn(n),e)}(i,[PD(lh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cn.none())])}!function(e,t=!0){Ad=xr.SDK_VERSION,(0,xr._registerComponent)(new iQ.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new an(new mX(i.getProvider("auth-internal")),new yX(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(c.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,xr.registerVersion)(vV,"4.4.0",e),(0,xr.registerVersion)(vV,"4.4.0","esm2017")}();class Mb{constructor(e){return e}}const VU="firestore",UD=new ne("angularfire2.firestore-instances");function Jte(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Mb(i)}}const ene={provide:class Qte{constructor(){return HI(VU)}},deps:[[new Fr,UD]]},tne={provide:Mb,useFactory:function Xte(n,e){const t=function Mk(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(VU,n,e);return t&&new Mb(t)},deps:[[new Fr,UD],kp]};let nne=(()=>{class n{constructor(){(0,xr.registerVersion)("angularfire",rd.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=wt({type:n});static \u0275inj=St({providers:[tne,ene]})}return n})();function ine(n,...e){return{ngModule:nne,providers:[{provide:UD,useFactory:Jte(n),multi:!0,deps:[He,Gn,qI,XF,[new Fr,tL],[new Fr,Pk],...e]}]}}const hh=ad(vte,!0),jD=ad(pU,!0),rne=ad(Fte,!0),zD=ad(Lte,!0),one=ad(wte,!0),sne=ad(Vte,!0);let $D=(()=>{class n{constructor(t){this.firestore=t}getTestsYears(t){const i=hh(this.firestore,"test");return b(zD(i).then(r=>r.docs.filter(o=>{const s=o.id.split("-"),a=s.length>1?s[1].toLowerCase():"";return t===a}).map(o=>o.id.split("-")[0])))}getTest(t,i){const r=hh(this.firestore,"test"),o=i+"-"+t.toUpperCase(),s=jD(r,o),a=hh(s,"articles"),l=hh(s,"questions");return GN([b(rne(s).then(c=>{if(c.exists())return c.id;throw new Error("Document not found")})),b(zD(a).then(c=>c.docs.map(p=>({id:p.id,url:p.data().url})).sort((p,g)=>p.id.localeCompare(g.id)))),b(zD(l).then(c=>c.docs.map(p=>{const g=p.data().options;return{id:p.id,articleId:p.data().articleId,correctAnswer:p.data().correctAnswer,options:g,text:p.data().text,image:p.data().image}})))]).pipe(Ie(([c,h,p])=>({id:c,articles:h,questions:p})))}saveUserTest(t,i){const r=hh(this.firestore,"users"),o=jD(r,t),s=hh(o,"savedTests"),a=jD(s);sne(a,i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mb))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ane=function(n,e){return["/test-page",n,e]};function lne(n,e){if(1&n&&(ce(0,"a",4),Ve(1),ue()),2&n){const t=e.$implicit,i=Mi(2);it("routerLink",Xu(2,ane,i.subCat,t)),ct(1),Zu(" ",t," ")}}function cne(n,e){if(1&n&&(ce(0,"div",2),wn(1,lne,2,5,"a",3),ue()),2&n){const t=Mi();ct(1),it("ngForOf",t.years)}}function une(n,e){1&n&&(ce(0,"div")(1,"p"),Ve(2,"no years"),ue()())}function dne(n,e){1&n&&(ce(0,"div")(1,"p"),Ve(2,"loading"),ue()())}let BU=(()=>{class n{constructor(t,i){this.route=t,this.testService=i,this.loading=!0,this.route.params.subscribe(r=>{r&&(this.subCat=r.subCat,this.fetchTestYears().subscribe(o=>{this.years=o,console.log(this.years),this.loading=!1},o=>{console.error("Error fetching tests:",o)}))})}fetchTestYears(){return this.subCat?this.testService.getTestsYears(this.subCat):new Ke(t=>{t.next([]),t.complete()})}static#e=this.\u0275fac=function(i){return new(i||n)(j(La),j($D))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-years-page"]],decls:3,vars:3,consts:[["class","main_page_container",4,"ngIf"],[4,"ngIf"],[1,"main_page_container"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(i,r){1&i&&(wn(0,cne,2,1,"div",0),wn(1,une,3,0,"div",1),wn(2,dne,3,0,"div",1)),2&i&&(it("ngIf",r.years),ct(1),it("ngIf",!(r.years&&0!=r.years.length||r.loading)),ct(1),it("ngIf",r.loading))},dependencies:[TI,Hl,Va],styles:["app-years-page[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);background-color:var(--main-bg-color);display:flex;align-items:center;padding:2rem}.main_page_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:10rem;height:2.5rem;background-color:var(--main-blue-color);display:flex;align-items:center;justify-content:center;color:#fbfef9;text-decoration:none;border-radius:10px;font-size:1.2rem}.main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .main_page_container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{opacity:85%}"]})}return n})();function Pb(n){return null!=n&&"false"!=`${n}`}function UU(n,e=0){return function hne(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ob(n){return Array.isArray(n)?n:[n]}function ni(n){return null==n?"":"string"==typeof n?n:`${n}px`}function fh(n){return n instanceof En?n.nativeElement:n}const fne=["addListener","removeListener"],pne=["addEventListener","removeEventListener"],mne=["on","off"];function HD(n,e,t,i){if(C(t)&&(i=t,t=void 0),i)return HD(n,e,t).pipe(ZI(i));const[r,o]=function yne(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?pne.map(s=>a=>n[s](e,a,t)):function gne(n){return C(n.addListener)&&C(n.removeListener)}(n)?fne.map(jU(n,e)):function _ne(n){return C(n.on)&&C(n.off)}(n)?mne.map(jU(n,e)):[];if(!r&&Et(n))return Lt(s=>HD(s,e,t))(_t(n));if(!r)throw new TypeError("Invalid event target");return new Ke(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function jU(n,e){return t=>i=>n[t](e,i)}const jm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=jm;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new mt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=jm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=jm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class bne extends Sy{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class vne extends Ay{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=jm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(jm.cancelAnimationFrame(t),e._scheduled=void 0)}});let qD,wne=1;const kb={};function zU(n){return n in kb&&(delete kb[n],!0)}const Ine={setImmediate(n){const e=wne++;return kb[e]=!0,qD||(qD=Promise.resolve()),qD.then(()=>zU(e)&&n()),e},clearImmediate(n){zU(n)}},{setImmediate:xne,clearImmediate:Cne}=Ine,Nb={setImmediate(...n){const{delegate:e}=Nb;return(e?.setImmediate||xne)(...n)},clearImmediate(n){const{delegate:e}=Nb;return(e?.clearImmediate||Cne)(n)},delegate:void 0};new class Dne extends Sy{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Tne extends Ay{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Nb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Nb.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function $U(n,e=Ry){return function Sne(n){return J((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(pe(t,c=>{i=!0,r=c,o||_t(n(c)).subscribe(o=pe(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function Mne(n=0,e,t=z9){let i=-1;return null!=e&&(bn(e)?t=e:i=e),new Ke(r=>{let o=function Rne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let WD;try{WD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WD=!1}let zm,bc,GD,qr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function F8(n){return n===lk}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(B(To))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $m(n){return function Pne(){if(null==zm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zm=!0}))}finally{zm=zm||!1}return zm}()?n:!!n.capture}function One(){if(null==bc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bc=!1,bc;if("scrollBehavior"in document.documentElement.style)bc=!0;else{const n=Element.prototype.scrollTo;bc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bc}function KD(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function al(n){return n.composedPath?n.composedPath()[0]:n.target}function ZD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Fne=new ne("cdk-dir-doc",{providedIn:"root",factory:function Lne(){return he(Mt)}}),Vne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let YD=(()=>{class n{constructor(t){this.value="ltr",this.change=new gn,t&&(this.value=function Bne(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Vne.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Fne,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})(),jne=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ke(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe($U(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):S()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Oi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=fh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>HD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(B(He),B(qr),B(Mt,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qU=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($U(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(B(qr),B(He),B(Mt,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})(),GU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[Hm,WU,Hm,WU]})}return n})();class QD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class XD extends QD{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class KU extends QD{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class $ne extends QD{constructor(e){super(),this.element=e instanceof En?e.nativeElement:e}}class JD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof XD?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof KU?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof $ne?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Hne extends JD{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Gn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let eA=(()=>{class n extends JD{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new gn,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(j(Ou),j(ho),j(Mt))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Rt]})}return n})(),Lb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})();const ZU=One();class qne{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ni(-this._previousScrollPosition.left),e.style.top=ni(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ZU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZU&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Wne{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Oi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YU{enable(){}disable(){}attach(){}}function tA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function QU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Gne{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();tA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Kne=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YU,this.close=s=>new Wne(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new qne(this._viewportRuler,this._document),this.reposition=s=>new Gne(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(B(jne),B(qU),B(He),B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class XU{constructor(e){if(this.scrollStrategy=new YU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Zne{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let JU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yne=(()=>{class n extends JU{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt),B(He,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qne=(()=>{class n extends JU{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=al(o)},this._clickListener=o=>{const s=al(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const h=l[c];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt),B(qr),B(He,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vb=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ZD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),ZD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt),B(qr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class qm{constructor(e,t,i,r,o,s,a,l,c,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=mt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(mo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ni(this._config.width),e.height=ni(this._config.height),e.minWidth=ni(this._config.minWidth),e.minHeight=ni(this._config.minHeight),e.maxWidth=ni(this._config.maxWidth),e.maxHeight=ni(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Ob(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ly(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ej="cdk-overlay-connected-position-bounding-box",Xne=/([A-Za-z%]+)$/;class Jne{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(ej),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(h,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ec(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ej),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=nj(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,y=a+o.height-i.height,w=this._subtractOverflows(o.width,0-s,s+o.width-i.width),x=this._subtractOverflows(o.height,g,y),T=w*x;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=tj(this._overlayRef.getConfig().minHeight),a=tj(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=nj(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Zne(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const y=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=2*y,s=e.y-y,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const y=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;h=2*y,p=e.x-y,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-w/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ni(i.height),r.top=ni(i.top),r.bottom=ni(i.bottom),r.width=ni(i.width),r.left=ni(i.left),r.right=ni(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ni(o)),s&&(r.maxWidth=ni(s))}this._lastBoundingBoxSize=i,Ec(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ec(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ec(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();Ec(i,this._getExactOverlayY(t,e,h)),Ec(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ni(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ni(s.maxWidth):o&&(i.maxWidth="")),Ec(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ni(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ni(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QU(e,i),isOriginOutsideView:tA(e,i),isOverlayClipped:QU(t,i),isOverlayOutsideView:tA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ob(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof En)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ec(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function tj(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Xne);return t&&"px"!==t?null:parseFloat(e)}return n||null}function nj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ij="cdk-global-overlay-wrapper";class eie{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ij),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",w="",x="";l?x="flex-start":"center"===h?(x="center",g?w=p:y=p):g?"left"===h||"end"===h?(x="flex-end",y=p):("right"===h||"start"===h)&&(x="flex-start",w=p):"left"===h||"start"===h?(x="flex-start",y=p):("right"===h||"end"===h)&&(x="flex-end",w=p),e.position=this._cssPosition,e.marginLeft=l?"0":y,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":w,t.justifyContent=x,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(ij),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tie=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new eie}flexibleConnectedTo(t){return new Jne(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(B(qU),B(Mt),B(qr),B(Vb))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nie=0,mh=(()=>{class n{constructor(t,i,r,o,s,a,l,c,h,p,g,y){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new XU(t);return s.direction=s.direction||this._directionality.value,new qm(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nie++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ma)),new Hne(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Kne),B(Vb),B(Ou),B(tie),B(Yne),B(Gn),B(He),B(Mt),B(YD),B(op),B(Qne),B(Da,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const oie={provide:new ne("cdk-connected-overlay-scroll-strategy"),deps:[mh],useFactory:function rie(n){return()=>n.scrollStrategies.reposition()}};let rj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:[mh,oie],imports:[Hm,Lb,GU,GU]})}return n})();function sj(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function aj(n){return Oi((e,t)=>n<=t)}let die=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:[die]})}return n})();const cj=new Set;let wc,fie=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function pie(n,e){if(!cj.has(n))try{wc||(wc=document.createElement("style"),e&&(wc.nonce=e),wc.setAttribute("type","text/css"),document.head.appendChild(wc)),wc.sheet&&(wc.sheet.insertRule(`@media ${n} {body{ }}`,0),cj.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(B(qr),B(LE,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let gie=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return uj(Ob(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Oy(uj(Ob(t)).map(s=>this._registerQuery(s).observable));return o=ky(o.pipe(mo(1)),o.pipe(aj(1),function hie(n,e=Ry){return J((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,h=e.now();if(h<c)return r=this.schedule(void 0,c-h),void i.add(r);a()}t.subscribe(pe(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Ie(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ke(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Fy(i),Ie(({matches:s})=>({query:t,matches:s})),Ly(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(B(fie),B(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Bb=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function bie(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function vie(n){try{return n.frameElement}catch{return null}}(function Aie(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===pj(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=pj(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Tie(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Die(n){return!function wie(n){return function xie(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Eie(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Iie(n){return function Cie(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fj(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(B(qr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function pj(n){if(!fj(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Sie{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(mo(1)).subscribe(e)}}let nA=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Sie(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Bb),B(He),B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mj(n){return 0===n.buttons||0===n.detail}function gj(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Rie=new ne("cdk-input-modality-detector-options"),Mie={ignoreKeys:[18,17,224,91,16]},gh=$m({passive:!0,capture:!0});let Pie=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new v(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=al(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mj(s)?"keyboard":"mouse"),this._mostRecentTarget=al(s))},this._onTouchstart=s=>{gj(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=al(s))},this._options={...Mie,...o},this.modalityDetected=this._modality.pipe(aj(1)),this.modalityChanged=this.modalityDetected.pipe(ze()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,gh),r.addEventListener("mousedown",this._onMousedown,gh),r.addEventListener("touchstart",this._onTouchstart,gh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gh),document.removeEventListener("mousedown",this._onMousedown,gh),document.removeEventListener("touchstart",this._onTouchstart,gh))}static#e=this.\u0275fac=function(i){return new(i||n)(B(qr),B(He),B(Mt),B(Rie,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kie=new ne("cdk-focus-monitor-default-options"),Ub=$m({passive:!0,capture:!0});let jb=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z,this._rootNodeFocusAndBlurListener=a=>{for(let c=al(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=fh(t);if(!this._platform.isBrowser||1!==r.nodeType)return S();const o=function Nne(n){if(function kne(){if(null==GD){const n=typeof document<"u"?document.head:null;GD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return GD}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=fh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=fh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=al(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ub),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ub)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ly(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ub),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ub),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(B(He),B(qr),B(Pie),B(Mt,8),B(kie,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yj="cdk-high-contrast-black-on-white",vj="cdk-high-contrast-white-on-black",iA="cdk-high-contrast-active";let bj=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=he(gie).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(iA,yj,vj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(iA,yj):2===i&&t.add(iA,vj)}}static#e=this.\u0275fac=function(i){return new(i||n)(B(qr),B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nie=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(B(bj))};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[lj]})}return n})();function Fie(n,e){}class zb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ej=(()=>{class n extends JD{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=KD(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=KD();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=KD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(j(En),j(nA),j(Mt,8),j(zb),j(Bb),j(He),j(qm),j(jb))};static#t=this.\u0275cmp=qn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&L1(eA,7),2&i){let o;qw(o=function Ww(){return function VW(n,e){return n[yr].queries[e].queryList}(te(),Hg())}())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Br("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Rt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&wn(0,Fie,0,0,"ng-template",0)},dependencies:[eA],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class rA{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new z,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!sj(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const wj=new ne("DialogScrollStrategy"),Lie=new ne("DialogData"),Vie=new ne("DefaultDialogConfig"),Uie={provide:wj,deps:[mh],useFactory:function Bie(n){return()=>n.scrollStrategies.block()}};let jie=0,Ij=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._ariaHiddenElements=new Map,this.afterAllClosed=Ny(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fy(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new zb,...i}).id=i.id||"cdk-dialog-"+jie++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new rA(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){oA(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){oA(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),oA(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new XU({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:zb,useValue:r},{provide:rA,useValue:i},{provide:qm,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=Ej;const l=new XD(a,r.viewContainerRef,Gn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof Jo){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new KU(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new XD(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:Lie,useValue:t.data},{provide:rA,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(YD,null,{optional:!0}))&&a.push({provide:YD,useValue:{value:t.direction,change:S()}}),Gn.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(B(mh),B(Gn),B(Vie,8),B(n,12),B(Vb),B(wj))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function oA(n,e){let t=n.length;for(;t--;)e(n[t])}let zie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:[Ij,Uie],imports:[rj,Lb,Nie,Lb]})}return n})();const Hie=new ne("mat-sanity-checks",{providedIn:"root",factory:function $ie(){return!0}});let hs=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ZD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(B(bj),B(Hie,8),B(Mt))};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[Hm,Hm]})}return n})();function qie(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Pb(e)}constructor(...e){super(...e),this._disabled=!1}}}function Wie(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Gie(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Pb(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class Zie{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tj=$m({passive:!0,capture:!0});class Yie{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=al(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Tj)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Tj)))}}const Dj={enterDuration:225,exitDuration:150},Aj=$m({passive:!0,capture:!0}),Sj=["mousedown","touchstart"],Rj=["mouseup","mouseleave","touchend","touchcancel"];class $b{static#e=this._eventManager=new Yie;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Dj,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function Xie(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=l-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),y=p.transitionDuration,w="none"===p.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,x=new Zie(this,h,i,w);h.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let T=null;return!w&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(x),M=()=>this._destroyRipple(x);h.addEventListener("transitionend",N),h.addEventListener("transitioncancel",M),T={onTransitionEnd:N,onTransitionCancel:M}}),this._activeRipples.set(x,T),(w||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Dj,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=fh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Sj.forEach(i=>{$b._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Rj.forEach(t=>{this._triggerElement.addEventListener(t,this,Aj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=mj(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gj(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Sj.forEach(t=>$b._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Rj.forEach(t=>e.removeEventListener(t,this,Aj)))}}const Mj=new ne("mat-ripple-global-options");let Jie=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new $b(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(j(En),j(He),j(qr),j(Mj,8),j(Da,8))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Ls("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),ere=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[hs,hs]})}return n})();const Pj={capture:!0},Oj=["focus","click","mouseenter","touchstart"],sA="mat-ripple-loader-uninitialized",aA="mat-ripple-loader-class-name",kj="mat-ripple-loader-centered",Hb="mat-ripple-loader-disabled";let tre=(()=>{class n{constructor(){this._document=he(Mt,{optional:!0}),this._animationMode=he(Da,{optional:!0}),this._globalRippleOptions=he(Mj,{optional:!0}),this._platform=he(qr),this._ngZone=he(He),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${sA}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of Oj)this._document?.addEventListener(t,this._onInteraction,Pj)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of Oj)this._document?.removeEventListener(i,this._onInteraction,Pj)}configureRipple(t,i){t.setAttribute(sA,""),(i.className||!t.hasAttribute(aA))&&t.setAttribute(aA,i.className||""),i.centered&&t.setAttribute(kj,""),i.disabled&&t.setAttribute(Hb,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(Hb,""):t.removeAttribute(Hb)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(aA)),t.append(r);const o=new Jie(new En(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(kj),o.disabled=t.hasAttribute(Hb),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(sA),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Nj{}class nre{}const Js="*";function Vj(n,e=null){return{type:2,steps:n,options:e}}function ll(n){return{type:6,styles:n,offset:null}}class Gm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class jj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function ire(n,e){}class qb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const hA="mdc-dialog--open",zj="mdc-dialog--opening",$j="mdc-dialog--closing";let sre=(()=>{class n extends Ej{constructor(t,i,r,o,s,a,l,c){super(t,i,r,o,s,a,l,c),this._animationStateChanged=new gn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(i){return new(i||n)(j(En),j(nA),j(Mt,8),j(qb),j(Bb),j(He),j(qm),j(jb))};static#t=this.\u0275cmp=qn({type:n,selectors:[["ng-component"]],features:[Rt],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const Hj="--mat-dialog-transition-duration";function qj(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?UU(n.substring(0,n.length-2)):n.endsWith("s")?1e3*UU(n.substring(0,n.length-1)):"0"===n?0:null}let are=(()=>{class n extends sre{constructor(t,i,r,o,s,a,l,c,h){super(t,i,r,o,s,a,l,h),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?qj(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?qj(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Hj,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zj,hA)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(hA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(hA),this._animationsEnabled?(this._hostElement.style.setProperty(Hj,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($j)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(zj,$j)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(i){return new(i||n)(j(En),j(nA),j(Mt,8),j(qb),j(Bb),j(He),j(qm),j(Da,8),j(jb))};static#t=this.\u0275cmp=qn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(Q_("id",r._config.id),Br("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ls("_mat-animation-noopable",!r._animationsEnabled))},features:[Rt],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"div",1),wn(2,ire,0,0,"ng-template",2),ue()())},dependencies:[eA],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class fA{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new z,this._beforeClosed=new z,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Oi(r=>"opened"===r.state),mo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Oi(r=>"closed"===r.state),mo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),I(this.backdropClick(),this.keydownEvents().pipe(Oi(r=>27===r.keyCode&&!this.disableClose&&!sj(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function lre(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Oi(t=>"closing"===t.state),mo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Wj=new ne("MatMdcDialogData"),cre=new ne("mat-mdc-dialog-default-options"),Gj=new ne("mat-mdc-dialog-scroll-strategy"),dre={provide:Gj,deps:[mh],useFactory:function ure(n){return()=>n.scrollStrategies.block()}};let hre=0,fre=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c,h,p){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z,this._afterOpenedAtThisLevel=new z,this._idPrefix="mat-dialog-",this.dialogConfigClass=qb,this.afterAllClosed=Ny(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fy(void 0))),this._scrollStrategy=a,this._dialog=i.get(Ij)}open(t,i){let r;(i={...this._defaultOptions||new qb,...i}).id=i.id||`${this._idPrefix}${hre++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:zb,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){k_()};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),pA=(()=>{class n extends fre{constructor(t,i,r,o,s,a,l,c){super(t,i,o,a,l,s,fA,are,Wj,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(B(mh),B(Gn),B(op,8),B(cre,8),B(Gj),B(n,12),B(Vb),B(Da,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),pre=0,mre=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+pre++}ngOnInit(){this._dialogRef||(this._dialogRef=function yre(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(j(fA,8),j(En),j(pA))};static#t=this.\u0275dir=Fe({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&Q_("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return n})(),gre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Fe({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return n})(),_re=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Fe({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Ls("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}return n})(),vre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:[pA,dre],imports:[zie,rj,Lb,hs,hs]})}return n})();const bre=["mat-button",""],Ere=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wre=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ire=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],xre=Wie(qie(Gie(class{constructor(n){this._elementRef=n}})));let Cre=(()=>{class n extends xre{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Pb(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Pb(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=he(jb),this._rippleLoader=he(tre),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of Ire)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){k_()};static#t=this.\u0275dir=Fe({type:n,features:[Rt]})}return n})(),Zj=(()=>{class n extends Cre{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(j(En),j(qr),j(He),j(Da,8))};static#t=this.\u0275cmp=qn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Br("disabled",r.disabled||null),Ls("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Rt],attrs:bre,ngContentSelectors:wre,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(function KM(n){const e=te()[Sn][_i];if(!e.projection){const i=e.projection=xf(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?n5(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(Ere),qt(0,"span",0),G_(1),ce(2,"span",1),G_(3,1),ue(),G_(4,2),qt(5,"span",2)(6,"span",3)),2&i&&Ls("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Are=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[hs,ere,hs]})}return n})();function Sre(n,e){if(1&n){const t=Gu();ce(0,"button",2),ut("click",function(){return ya(t),Wo(Mi().onSave())}),Ve(1," Ulo\u017ei\u0165 test "),ue()}}let Rre=(()=>{class n{constructor(t,i,r,o){this.dialogRef=t,this.data=i,this.testService=r,this.authService=o}onNoClick(){this.dialogRef.close()}onSave(){const t=localStorage.getItem("uid");console.log(t),console.log(this.data.savedTest),t?(this.testService.saveUserTest(t,this.data.savedTest),this.dialogRef.close()):console.error("User is not logged in")}static#e=this.\u0275fac=function(i){return new(i||n)(j(fA),j(Wj),j($D),j(ld))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-modal-window"]],decls:12,vars:3,consts:[["mat-dialog-title",""],[1,"dialog-content"],["mat-button","",3,"click"],["mat-button","",3,"click",4,"ngIf"]],template:function(i,r){1&i&&(ce(0,"h2",0),Ve(1,"V\xfdsledok"),ue(),ce(2,"div",1)(3,"mat-dialog-content")(4,"p"),Ve(5,"V teste ste dosiahli:"),ue(),ce(6,"p"),Ve(7),ue()(),ce(8,"mat-dialog-actions")(9,"button",2),ut("click",function(){return r.onNoClick()}),Ve(10,"Zatvori\u0165"),ue(),wn(11,Sre,2,0,"button",3),ue()()),2&i&&(ct(7),Dw("",r.data.score,"/",r.data.total," bodov, alebo"),ct(4),it("ngIf",r.authService.isLoggedIn))},dependencies:[Hl,mre,gre,_re,Zj],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:column;background:#fff;padding:8px 16px 16px;width:25rem;height:15rem}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:100%}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin-top:1rem}button[_ngcontent-%COMP%]{padding:.5rem .8rem;border:.1rem rgb(104,135,240) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px #727070;font-weight:400}"]})}return n})();function Mre(n,e){1&n&&qt(0,"p",20),2&n&&it("innerHTML",Mi(2).$implicit.text,AE)}function Pre(n,e){1&n&&qt(0,"img",21),2&n&&it("src",Mi(2).$implicit.image,w_)}function Ore(n,e){1&n&&Ew(0)}function kre(n,e){if(1&n){const t=Gu();q_(0),ce(1,"input",22),ut("ngModelChange",function(r){return ya(t),Wo(Mi(2).$implicit.userAnswer=r)}),ue(),W_()}if(2&n){const t=Mi(2).$implicit;ct(1),it("ngModel",t.userAnswer)}}function Nre(n,e){if(1&n){const t=Gu();ce(0,"div",24)(1,"input",25),ut("ngModelChange",function(r){return ya(t),Wo(Mi(3).$implicit.userAnswer=r)}),ue(),qt(2,"label",26),ue()}if(2&n){const t=e.$implicit,i=Mi(3).$implicit;ct(1),it("name",i.id)("value",t)("id",t)("ngModel",i.userAnswer),ct(1),it("for",t)("innerHTML",t,AE)}}function Fre(n,e){1&n&&wn(0,Nre,3,6,"div",23),2&n&&it("ngForOf",Mi(2).$implicit.options)}function Lre(n,e){if(1&n&&(ce(0,"div",10)(1,"div",11)(2,"p",12),Ve(3),ue(),ce(4,"div",13),wn(5,Mre,1,1,"p",14),ce(6,"div",15),wn(7,Pre,1,1,"img",16),ue()()(),wn(8,Ore,1,0,"ng-container",17),wn(9,kre,2,1,"ng-container",18),wn(10,Fre,1,1,"ng-template",null,19,z1),ue()),2&n){const t=function UM(n){return function ma(n,e){return n[e]}(function hf(){return $e.lFrame.contextLView}(),pt+n)}(11),i=Mi().$implicit,r=Mi(3);ct(3),Zu("",i.id,"."),ct(2),it("ngIf",i.text),ct(2),it("ngIf",i.image),ct(1),it("ngIf","Zru\u0161en\xe1 ot\xe1zka"===i.text),ct(1),it("ngIf",r.isTextInput(i)&&"Zru\u0161en\xe1 ot\xe1zka"!==i.text)("ngIfElse",t)}}function Vre(n,e){if(1&n&&(ce(0,"div",8),wn(1,Lre,12,6,"div",9),ue()),2&n){const t=e.$implicit;ct(1),it("ngIf",t.text||t.image)}}function Bre(n,e){if(1&n&&(ce(0,"div",4)(1,"div",5),qt(2,"img",6),ue(),wn(3,Vre,2,1,"div",7),ue()),2&n){const t=e.$implicit;ct(2),it("src",t.article.url,w_),ct(1),it("ngForOf",t.questions)}}function Ure(n,e){if(1&n){const t=Gu();ce(0,"div",1),wn(1,Bre,4,2,"div",2),ce(2,"button",3),ut("click",function(){return ya(t),Wo(Mi().openDialog())}),Ve(3,"Vyhodnotenie"),ue()()}if(2&n){const t=Mi();ct(1),it("ngForOf",t.articleWithQuestions)}}let Yj=(()=>{class n{constructor(t,i,r,o){this.route=t,this.router=i,this.testService=r,this.dialog=o,this.score=0,this.total=0,this.route.params.subscribe(s=>{s&&s.subCat&&s.year?(this.subCat=s.subCat,this.year=s.year,this.fetchTest().then(a=>{a.subscribe(l=>{this.test=l,this.articleWithQuestions=this.getTestObject(),console.log(this.articleWithQuestions)})})):console.error("subCat and year are required")})}openDialog(){const t=this.checkAnswers();this.dialog.open(Rre,{data:{score:this.score,total:this.total,savedTest:t}}).afterClosed().subscribe(r=>{console.log("The dialog was closed")})}isTextInput(t){return!t.options||t.options.every(i=>!i)}fetchTest(){var t=this;return(0,Se.Z)(function*(){return t.testService.getTest(t.subCat,t.year)})()}getTestObject(){const t=[];return this.test?.articles.forEach(i=>{const r=[];this.test?.questions.forEach(o=>{o.articleId===parseInt(i.id)&&r.push(o)}),t.push({article:i,questions:r})}),t}checkAnswers(){const t={};t.id=this.year+"-"+this.subCat,t.questions=[];const i=[];for(const r of this.articleWithQuestions||[])for(const o of r.questions){const s={questionId:o.id,text:o.text,isCorrect:!1,correctAnswer:o.correctAnswer,userAnswer:o.userAnswer,options:o.options};if(void 0===s.options&&(s.options=[]),(void 0===s.userAnswer||""===s.userAnswer)&&(s.userAnswer="Nevyplnene"),"Zru\u0161en\xe1 ot\xe1zka"===o.text)s.isCorrect=!0;else if(o.correctAnswer instanceof Array){for(const a of o.correctAnswer)if(o.userAnswer===a){s.isCorrect=!0;break}}else o.userAnswer===o.correctAnswer&&(s.isCorrect=!0);t.questions.push(s),i.push(s)}return this.calculateScore(i),t}calculateScore(t){let i=0,r=t.length;for(const o of t)o.isCorrect&&i++;this.score=i,this.total=r,console.log(`Score: ${i}/${r}`)}static#e=this.\u0275fac=function(i){return new(i||n)(j(La),j(bi),j($D),j(pA))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-test-page"]],decls:1,vars:1,consts:[["id","main_page_container",4,"ngIf"],["id","main_page_container"],["class","test",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[1,"test"],[1,"article"],[3,"src"],["class","question",4,"ngFor","ngForOf"],[1,"question"],["class","questions",4,"ngIf"],[1,"questions"],[1,"test_question"],[1,"question_id"],[1,"question_content"],["class","question_text",3,"innerHTML",4,"ngIf"],[1,"question_image_container"],["class","question_image",3,"src",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["radioOptions",""],[1,"question_text",3,"innerHTML"],[1,"question_image",3,"src"],["type","text","placeholder","Sem nap\xed\u0161te svoju odpove\u010f",1,"input_text",3,"ngModel","ngModelChange"],["class","radio_options",4,"ngFor","ngForOf"],[1,"radio_options"],["type","radio",3,"name","value","id","ngModel","ngModelChange"],[3,"for","innerHTML"]],template:function(i,r){1&i&&wn(0,Ure,4,1,"div",0),2&i&&it("ngIf",r.articleWithQuestions)},dependencies:[TI,Hl,Yl,Ox,Ap,bd,Zj],styles:["app-test-page[_nghost-%COMP%]{width:100%}#main_page_container[_ngcontent-%COMP%]{display:flex;flex-flow:column;background-color:var(--main-bg-color);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);width:100%;padding:2% 20%}.test[_ngcontent-%COMP%]{border:2px solid var(--test-border-color)}.article[_ngcontent-%COMP%]{display:flex;justify-content:center;border-bottom:1px solid var(--test-border-color)}.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:31rem}.question[_ngcontent-%COMP%]{padding:0 15% 1.5rem;margin:1.5rem 0;border-bottom:1px solid gray}.question[_ngcontent-%COMP%]:last-child{border:none}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.2rem}.input_text[_ngcontent-%COMP%]{width:100%;padding:5px}.radio_options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.3rem}.test_question[_ngcontent-%COMP%]{display:flex;width:100%;align-items:flex-start;gap:.5rem}.question_id[_ngcontent-%COMP%]{background-color:#a0a0a0;padding:3px 5px;font-weight:800}.question_content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;margin-bottom:1rem}.question_image_container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;margin-bottom:1rem}.question_image[_ngcontent-%COMP%]{max-width:31rem}@media (max-width: 525px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:25rem}.question[_ngcontent-%COMP%]{padding:0}}@media (max-width: 415px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20rem}}@media (max-width: 375px){.article[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:18rem}}"]})}return n})();function jre(n,e){if(1&n&&(ce(0,"div")(1,"p"),Ve(2),ue()()),2&n){const t=Mi();hP(t.isError?"error_message_on":"error_message"),ct(2),Y_(t.errorMessage)}}let Qj=(()=>{class n{constructor(t){this.router=t,this.email="",this.isError=!1,this.errorMessage="Nespr\xe1vny form\xe1t emailu."}isValidEmail(){this.isError=!/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/.test(this.email)}sendPasswordResetEmail(){const t=(0,JF.o)();if(this.isValidEmail(),!this.isError)try{(0,JF.a5)(t,this.email),this.isError=!1,this.router.navigate([""])}catch(i){console.error(`Error sending password reset email: ${i.code} - ${i.message}`)}}static#e=this.\u0275fac=function(i){return new(i||n)(j(bi))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-forgot-password"]],decls:11,vars:2,consts:[[1,"forgot-password-card"],[1,"top_section"],[3,"class",4,"ngIf"],[1,"bot_section"],["type","email","placeholder","Zadaj svoj email",3,"ngModel","ngModelChange"],[3,"click"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"div",1)(2,"h2"),Ve(3,"Resetovanie zabudnut\xe9ho hesla"),ue(),ce(4,"p"),Ve(5,"zadaj svoj email a pr\xedde ti link na mail na resetovanie hesla"),ue()(),wn(6,jre,3,3,"div",2),ce(7,"div",3)(8,"input",4),ut("ngModelChange",function(s){return r.email=s}),ue(),ce(9,"button",5),ut("click",function(){return r.sendPasswordResetEmail()}),Ve(10,"Odo\u0161li"),ue()()()),2&i&&(ct(6),it("ngIf",r.isError),ct(2),it("ngModel",r.email))},dependencies:[Hl,Yl,Ap,bd],styles:["app-forgot-password[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);background-color:var(--main-bg-color);display:flex;align-items:center;justify-content:center;padding:2rem}.forgot-password-card[_ngcontent-%COMP%]{background-color:var(--main-blue-color);padding:3rem 2rem;width:clamp(15rem,30rem,42rem);height:clamp(15rem,20rem,25rem);display:flex;align-items:center;justify-content:space-between;flex-direction:column;border-radius:10px;box-shadow:2px 2px 15px 1px var(--box-shadow-color)}.top_section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;color:#000}.bot_section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}input[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:5px;border:2px solid var(--account-border-color);padding:5px;width:18rem;height:2.5rem}button[_ngcontent-%COMP%]{padding:.4rem;border:.1rem var(--account-border-color) solid;font:inherit;font-size:16px;color:#000;border-radius:10px;background-color:var(--main-bg-color);cursor:pointer;overflow:hidden;box-shadow:1px 1px 5px var(--box-shadow-color);font-weight:400;width:100%}.error_message[_ngcontent-%COMP%]{visibility:hidden}.error_message_on[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--main-error-message);font-weight:400;font-size:1.2rem}"]})}return n})(),Xj=(()=>{class n{constructor(t){this.authService=t,this.userName=""}ngOnInit(){this.authService.userData.subscribe(t=>{t&&(this.userName=t.displayName||"")})}static#e=this.\u0275fac=function(i){return new(i||n)(j(ld))};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-user-account"]],decls:13,vars:1,consts:[[1,"container"],[1,"icon_selector"],[1,"cred_container"],[1,"test_container"],[1,"question_container"]],template:function(i,r){1&i&&(ce(0,"div",0),qt(1,"div",1),ce(2,"div",2)(3,"h1"),Ve(4),ue(),ce(5,"p"),Ve(6,"Ko\u0161ick\xe1 ak\xe1demia softverov\xe9ho v\xfdvoja"),ue()()(),ce(7,"div",3)(8,"h2"),Ve(9,"Hist\xf3ria testov"),ue()(),ce(10,"div",4)(11,"h2"),Ve(12,"Ulo\u017een\xe9 ot\xe1zky"),ue()()),2&i&&(ct(4),Y_(r.userName))},styles:["app-user-account[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid rgba(0,0,0,.163);border-radius:10px;box-shadow:0 0 10px #00000080;background-color:var(--main-bg-color);padding:2rem;color:var(--main-text-color)}.container[_ngcontent-%COMP%]{display:flex;gap:.8rem}.container[_ngcontent-%COMP%], .test_container[_ngcontent-%COMP%], .question_container[_ngcontent-%COMP%]{border-bottom:1px solid #213d85;padding-bottom:15px;margin-bottom:.6rem}.icon_selector[_ngcontent-%COMP%]{width:8rem;height:8rem;background-color:#000;border-radius:5px}.cred_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem}"]})}return n})();function zre(n,e){1&n&&(ce(0,"div")(1,"ul")(2,"li")(3,"a",6),qt(4,"img",7),Ve(5,"SJL_MATURITNE_OKRUHY"),ue()(),ce(6,"li")(7,"a",8),qt(8,"img",7),Ve(9,"Rozbory diel"),ue()()()())}function $re(n,e){1&n&&qt(0,"div")}function Hre(n,e){1&n&&(ce(0,"div",9)(1,"a",10),qt(2,"img",7),Ve(3,"Te\xf3ria matematiky"),ue()())}let Jj=(()=>{class n{constructor(){this.showSjlNotes=!1,this.showAnjNotes=!1,this.showMatNotes=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-education-materials"]],decls:15,vars:3,consts:[["value","sjl",1,"subjects"],[3,"click"],[4,"ngIf"],["value","anj",1,"subjects"],["value","math",1,"subjects"],["class","mat",4,"ngIf"],["href","https://firebasestorage.googleapis.com/v0/b/maturity-project.appspot.com/o/Education_materials%2FSJL%2FMATURITN%C3%89-OKRUHY-SJL.docx?alt=media&token=e188d291-b9e7-4b97-bdc3-6adf525742ba"],["src","/assets/pdf_icon.png","alt","pdf_icon"],["href","https://firebasestorage.googleapis.com/v0/b/maturity-project.appspot.com/o/Education_materials%2FSJL%2FRozbory-diel-SJL.docx?alt=media&token=242329cc-bf1c-4d5d-a2d7-3b45e82e70ab"],[1,"mat"],["href","https://firebasestorage.googleapis.com/v0/b/maturity-project.appspot.com/o/Education_materials%2FMAT%2Fteoria_matematiky.pdf?alt=media&token=52be15d1-1cb9-4e0a-b8f3-2fdba2439ac8"]],template:function(i,r){1&i&&(ce(0,"div",0)(1,"button",1),ut("click",function(){return r.showSjlNotes=!r.showSjlNotes}),ce(2,"p"),Ve(3,"Slovensk\xfd jazyk"),ue()(),wn(4,zre,10,0,"div",2),ue(),ce(5,"div",3)(6,"button",1),ut("click",function(){return r.showAnjNotes=!r.showAnjNotes}),ce(7,"p"),Ve(8,"Anglick\xfd jazyk"),ue()(),wn(9,$re,1,0,"div",2),ue(),ce(10,"div",4)(11,"button",1),ut("click",function(){return r.showMatNotes=!r.showMatNotes}),ce(12,"p"),Ve(13,"Matematika"),ue()(),wn(14,Hre,4,0,"div",5),ue()),2&i&&(ct(4),it("ngIf",r.showSjlNotes),ct(5),it("ngIf",r.showAnjNotes),ct(5),it("ngIf",r.showMatNotes))},dependencies:[Hl],styles:['app-education-materials[_nghost-%COMP%]{height:calc(100% - 6rem);width:100%;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 10px var(--box-shadow-color);background-color:var(--main-bg-color);display:flex;justify-content:space-around}button[_ngcontent-%COMP%]{background-color:var(--main-blue-color);transition:width .7s ease-in-out;border-radius:10px;box-shadow:1px 1px 5px var(--box-shadow-color);margin-top:2rem;width:18rem;height:3.5rem;position:relative;overflow:hidden;cursor:pointer;font-size:2rem;text-align:center;color:#fff;border:none}p[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:0;height:100%;background-color:var(--account-button-hover-color);transition:width .7s ease-in-out}button[_ngcontent-%COMP%]:hover:before{width:101%}.mat[_ngcontent-%COMP%]{padding-top:1rem}.mat[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:1rem}ul[_ngcontent-%COMP%]{list-style:none}li[_ngcontent-%COMP%]{padding-top:1rem}img[_ngcontent-%COMP%]{width:.8rem;height:auto;margin-right:.5rem}a[_ngcontent-%COMP%]{color:var(--main-text-color);text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:var(--account-button-hover-color)}']})}return n})();const qre=[{path:"",component:uv},{path:"login",component:YF},{path:"register",component:QF},{path:"landing-page",component:uv},{path:"years-page/:subCat",component:BU},{path:"test-page/:subCat/:year",component:Yj},{path:"forgot-password",component:Qj},{path:"user-account",component:Xj},{path:"education-materials",component:Jj},{path:"saved-tests-page",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=qn({type:n,selectors:[["app-saved-tests-page"]],decls:2,vars:0,template:function(i,r){1&i&&(ce(0,"p"),Ve(1,"saved-tests-page works!"),ue())}})}return n})()}];let Wre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[qN.forRoot(qre),qN]})}return n})();const ez_firebase={apiKey:"AIzaSyDrXz37bgp6zYCw-X9eKtQlg2Q6j4tjDMI",authDomain:"maturity-project.firebaseapp.com",databaseURL:"https://maturity-project-default-rtdb.europe-west1.firebasedatabase.app",projectId:"maturity-project",storageBucket:"maturity-project.appspot.com",messagingSenderId:"759368949191",appId:"1:759368949191:web:a326a11500d8e4c152cde2",measurementId:"G-CJJD6MK3D8"};class Wb{}class Gb{}class fs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Gre{encodeKey(e){return tz(e)}encodeValue(e){return tz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Zre=/%(\d[a-f0-9])/gi,Yre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tz(n){return encodeURIComponent(n).replace(Zre,(e,t)=>Yre[t]??e)}function Kb(n){return`${n}`}class cl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Gre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Kre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Kb):[Kb(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Kb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Kb(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Qre{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iz(n){return typeof Blob<"u"&&n instanceof Blob}function rz(n){return typeof FormData<"u"&&n instanceof FormData}class Km{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Xre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new fs),this.context||(this.context=new Qre),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new cl,this.urlWithParams=t}serializeBody(){return null===this.body?null:nz(this.body)||iz(this.body)||rz(this.body)||function Jre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rz(this.body)?null:iz(this.body)?this.body.type||null:nz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),c)),new Km(t,i,o,{params:c,headers:l,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var _h=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_h||{});class mA{constructor(e,t=200,i="OK"){this.headers=e.headers||new fs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gA extends mA{constructor(e={}){super(e),this.type=_h.ResponseHeader}clone(e={}){return new gA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yh extends mA{constructor(e={}){super(e),this.type=_h.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new yh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oz extends mA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function _A(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let eoe=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Km)o=t;else{let l,c;l=r.headers instanceof fs?r.headers:new fs(r.headers),r.params&&(c=r.params instanceof cl?r.params:new cl({fromObject:r.params})),o=new Km(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=S(o).pipe(cd(l=>this.handler.handle(l)));if(t instanceof Km||"events"===r.observe)return s;const a=s.pipe(Oi(l=>l instanceof yh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new cl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,_A(r,i))}post(t,i,r={}){return this.request("POST",t,_A(r,i))}put(t,i,r={}){return this.request("PUT",t,_A(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Wb))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function lz(n,e){return e(n)}function noe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const roe=new ne(""),Zm=new ne(""),cz=new ne("");function ooe(){let n=null;return(e,t)=>{null===n&&(n=(he(roe,{optional:!0})??[]).reduceRight(noe,lz));const i=he(oy),r=i.add();return n(e,t).pipe(hp(()=>i.remove(r)))}}let uz=(()=>{class n extends Wb{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=he(oy)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Zm),...this.injector.get(cz,[])]));this.chain=r.reduceRight((o,s)=>function ioe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),lz)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(hp(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gb),B(Lr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const coe=/^\)\]\}',?\n/;let hz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new F(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?b(i.\u0275loadImpl()):S(null)).pipe(xe(()=>new Ke(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,T)=>s.setRequestHeader(x,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&s.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();s.responseType="json"!==x?x:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const x=s.statusText||"OK",T=new fs(s.getAllResponseHeaders()),N=function uoe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new gA({headers:T,status:s.status,statusText:x,url:N}),l},h=()=>{let{headers:x,status:T,statusText:N,url:M}=c(),U=null;204!==T&&(U=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=U?200:0);let Q=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof U){const fe=U;U=U.replace(coe,"");try{U=""!==U?JSON.parse(U):null}catch(ke){U=fe,Q&&(Q=!1,U={error:ke,text:U})}}Q?(o.next(new yh({body:U,headers:x,status:T,statusText:N,url:M||void 0})),o.complete()):o.error(new oz({error:U,headers:x,status:T,statusText:N,url:M||void 0}))},p=x=>{const{url:T}=c(),N=new oz({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(N)};let g=!1;const y=x=>{g||(o.next(c()),g=!0);let T={type:_h.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),"text"===t.responseType&&s.responseText&&(T.partialText=s.responseText),o.next(T)},w=x=>{let T={type:_h.UploadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),o.next(T)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:_h.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(B(ck))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const yA=new ne("XSRF_ENABLED"),fz=new ne("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pz=new ne("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mz{}let foe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ek(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt),B(To),B(fz))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function poe(n,e){const t=n.url.toLowerCase();if(!he(yA)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=he(mz).getToken(),r=he(pz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ul=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ul||{});function moe(...n){const e=[eoe,hz,uz,{provide:Wb,useExisting:uz},{provide:Gb,useExisting:hz},{provide:Zm,useValue:poe,multi:!0},{provide:yA,useValue:!0},{provide:mz,useClass:foe}];for(const t of n)e.push(...t.\u0275providers);return function RE(n){return{\u0275providers:n}}(e)}const gz=new ne("LEGACY_INTERCEPTOR_FN");function goe(){return function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}(ul.LegacyInterceptors,[{provide:gz,useFactory:ooe},{provide:Zm,useExisting:gz,multi:!0}])}let _oe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:[moe(goe())]})}return n})();function _z(n){return new F(3e3,!1)}function dl(n){switch(n.length){case 0:return new Gm;case 1:return n[0];default:return new jj(n)}}function yz(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((g,y)=>{let w=y,x=g;if("offset"!==y)switch(w=n.normalizePropertyName(w,r),x){case"!":x=t.get(y);break;case Js:x=i.get(y);break;default:x=n.normalizeStyleValue(y,w,x,r)}p.set(w,x)}),h||o.push(p),a=p,s=c}),r.length)throw function qoe(n){return new F(3502,!1)}();return o}function vA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&bA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&bA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&bA(t,"destroy",n)))}}function bA(n,e,t){const o=EA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function EA(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Wr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function vz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const ise=(()=>typeof document>"u"?null:document.documentElement)();function wA(n){const e=n.parentNode||n.host||null;return e===ise?null:e}let xc=null,bz=!1;function Ez(n,e){for(;e;){if(e===n)return!0;e=wA(e)}return!1}function wz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Iz=(()=>{class n{validateStyleProperty(t){return function ose(n){xc||(xc=function sse(){return typeof document<"u"?document.body:null}()||{},bz=!!xc.style&&"WebkitAppearance"in xc.style);let e=!0;return xc.style&&!function rse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in xc.style,!e&&bz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xc.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Ez(t,i)}getParentElement(t){return wA(t)}query(t,i,r){return wz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Gm(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),IA=(()=>{class n{static#e=this.NOOP=new Iz}return n})();const ase=1e3,xA="ng-enter",Yb="ng-leave",Qb="ng-trigger",Xb=".ng-trigger",Cz="ng-animating",CA=".ng-animating";function ea(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TA(parseFloat(e[1]),e[2])}function TA(n,e){return"s"===e?n*ase:n}function Jb(n,e,t){return n.hasOwnProperty("duration")?n:function cse(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(_z()),{duration:0,delay:0,easing:""};r=TA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=TA(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Ioe(){return new F(3100,!1)}()),a=!0),o<0&&(e.push(function xoe(){return new F(3101,!1)}()),a=!0),a&&e.splice(l,0,_z())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ym(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Tz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function hl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ps(n,e,t){e.forEach((i,r)=>{const o=AA(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Cc(n,e){e.forEach((t,i)=>{const r=AA(i);n.style[r]=""})}function Qm(n){return Array.isArray(n)?1==n.length?n[0]:Vj(n):n}const DA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Az(n){let e=[];if("string"==typeof n){let t;for(;t=DA.exec(n);)e.push(t[1]);DA.lastIndex=0}return e}function Xm(n,e,t){const i=n.toString(),r=i.replace(DA,(o,s)=>{let a=e[s];return null==a&&(t.push(function Toe(n){return new F(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function e0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const hse=/-+([a-z0-9])/g;function AA(n){return n.replace(hse,(...e)=>e[1].toUpperCase())}function Gr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Doe(n){return new F(3004,!1)}()}}function Sz(n,e){return window.getComputedStyle(n)[e]}const t0="*";function mse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gse(n,e,t){if(":"==n[0]){const l=function _se(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function joe(n){return new F(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Uoe(n){return new F(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Rz(r,s));"<"==o[0]&&!(r==t0&&s==t0)&&e.push(Rz(s,r))}(i,t,e)):t.push(n),t}const n0=new Set(["true","1"]),r0=new Set(["false","0"]);function Rz(n,e){const t=n0.has(n)||r0.has(n),i=n0.has(e)||r0.has(e);return(r,o)=>{let s=n==t0||n==r,a=e==t0||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?n0.has(n):r0.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?n0.has(e):r0.has(e)),s&&a}}const yse=new RegExp("s*:selfs*,?","g");function SA(n,e,t,i){return new vse(n).build(e,t,i)}class vse{constructor(e){this._driver=e}build(e,t,i){const r=new wse(t);return this._resetContextStyleTimingState(r),Gr(this,Qm(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Soe(){return new F(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function Roe(){return new F(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Az(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(e0(o.values()),t.errors.push(function Moe(n,e){return new F(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Gr(this,Qm(e.animation),t);return{type:1,matchers:mse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Tc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Gr(this,i,t)),options:Tc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Gr(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Tc(e.options)}}visitAnimate(e,t){const i=function xse(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RA(Jb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=RA(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Jb(t,e);return RA(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:ll({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=ll(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Js?i.push(a):t.errors.push(new F(3002,!1)):i.push(Tz(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Ooe(n,e,t,i,r){return new F(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:r}),t.options&&function dse(n,e,t){const i=e.params||{},r=Az(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Coe(n){return new F(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function koe(){return new F(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const h=e.steps.map(N=>{const M=this._makeStyleAst(N,t);let U=null!=M.offset?M.offset:function Ise(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),Q=0;return null!=U&&(o++,Q=M.offset=U),l=l||Q<0||Q>1,a=a||Q<c,c=Q,s.push(Q),M});l&&t.errors.push(function Noe(){return new F(3012,!1)}()),a&&t.errors.push(function Foe(){return new F(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function Loe(){return new F(3202,!1)}()):0==o&&(g=1/(p-1));const y=p-1,w=t.currentTime,x=t.currentAnimateTimings,T=x.duration;return h.forEach((N,M)=>{const U=g>0?M==y?1:g*M:s[M],Q=U*T;t.currentTime=w+x.delay+Q,x.duration=Q,this._validateStyleAst(N,t),N.offset=U,i.styles.push(N)}),i}visitReference(e,t){return{type:8,animation:Gr(this,Qm(e.animation),t),options:Tc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Tc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Tc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function bse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(yse,"")),n=n.replace(/@\*/g,Xb).replace(/@\w+/g,t=>Xb+"-"+t.slice(1)).replace(/:animating/g,CA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Wr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Gr(this,Qm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Tc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Voe(){return new F(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jb(e.timings,t.errors,!0);return{type:12,animation:Gr(this,Qm(e.animation),t),timings:i,options:null}}}class wse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tc(n){return n?(n=Ym(n)).params&&(n.params=function Ese(n){return n?Ym(n):null}(n.params)):n={},n}function RA(n,e,t){return{duration:n,delay:e,easing:t}}function MA(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class o0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dse=new RegExp(":enter","g"),Sse=new RegExp(":leave","g");function PA(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new Rse).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class Rse{buildKeyframes(e,t,i,r,o,s,a,l,c,h=[]){c=c||new o0;const p=new OA(e,t,c,r,o,h,[]);p.options=l;const g=l.delay?ea(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),Gr(this,i,p);const y=p.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let x=y.length-1;x>=0;x--){const T=y[x];if(T.element===t){w=T;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,p.errors,l)}return y.length?y.map(w=>w.buildKeyframes()):[MA(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:ea(Xm(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?ea(i.duration):null,a=null!=i.delay?ea(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Gr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=s0);const s=ea(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Gr(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ea(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Gr(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Jb(t.params?Xm(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ea(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=s0);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,c);o&&p.delayNextStep(o),c===t.element&&(l=p.currentTimeline),Gr(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;Gr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const s0={};class OA{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=s0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new a0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ea(i.duration)),null!=i.delay&&(r.delay=ea(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Xm(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new OA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=s0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Mse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Dse,"."+this._enterClassName)).replace(Sse,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function Boe(n){return new F(3014,!1)}()),a}}class a0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new a0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Js),this._currentKeyframe.set(t,Js);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Pse(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Js)}else hl(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Xm(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Js),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=hl(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?e.add(p):h===Js&&t.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?e0(e.values()):[],s=t.size?e0(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return MA(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Mse extends a0{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=hl(e[0]);l.set("offset",0),o.push(l);const c=hl(e[0]);c.set("offset",Oz(a)),o.push(c);const h=e.length-1;for(let p=1;p<=h;p++){let g=hl(e[p]);const y=g.get("offset");g.set("offset",Oz((t+y*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return MA(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Oz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class kA{}const Ose=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kse extends kA{normalizePropertyName(e,t){return AA(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Ose.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Aoe(n,e){return new F(3005,!1)}())}return s+o}}function kz(n,e,t,i,r,o,s,a,l,c,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:g}}const NA={};class Nz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Nse(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,h){const p=[],g=this.ast.options&&this.ast.options.params||NA,w=this.buildStyles(i,a&&a.params||NA,p),x=l&&l.params||NA,T=this.buildStyles(r,x,p),N=new Set,M=new Map,U=new Map,Q="void"===r,fe={params:Fse(x,g),delay:this.ast.options?.delay},ke=h?[]:PA(e,t,this.ast.animation,o,s,w,T,fe,c,p);let Xe=0;if(ke.forEach(gr=>{Xe=Math.max(gr.duration+gr.delay,Xe)}),p.length)return kz(t,this._triggerName,i,r,Q,w,T,[],[],M,U,Xe,p);ke.forEach(gr=>{const Dr=gr.element,d0=Wr(M,Dr,new Set);gr.preStyleProps.forEach(Dc=>d0.add(Dc));const eg=Wr(U,Dr,new Set);gr.postStyleProps.forEach(Dc=>eg.add(Dc)),Dr!==t&&N.add(Dr)});const $t=e0(N.values());return kz(t,this._triggerName,i,r,Q,w,T,ke,$t,M,U,Xe)}}function Fse(n,e){const t=Ym(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Lse{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Ym(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Xm(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class Bse{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Lse(r.style,r.options&&r.options.params||{},i))}),Fz(this.states,"true","1"),Fz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Nz(e,r,this.states))}),this.fallbackTransition=function Use(n,e,t){return new Nz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Fz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const jse=new o0;class zse{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=SA(this._driver,t,i,[]);if(i.length)throw function Woe(n){return new F(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=yz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=PA(this._driver,t,o,xA,Yb,new Map,new Map,i,jse,r),s.forEach(h=>{const p=Wr(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Goe(){return new F(3300,!1)}()),s=[]),r.length)throw function Koe(n){return new F(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(p,y,Js))})});const c=dl(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Zoe(n){return new F(3301,!1)}();return t}listen(e,t,i,r){const o=EA(t,"","","");return vA(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Lz="ng-animate-queued",FA="ng-animate-disabled",Gse=[],Vz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed";class LA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Xse(n){return n??null}(i?e.value:e),i){const o=Ym(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Jm="void",VA=new LA(Jm);class Zse{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_o(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Yoe(n,e){return new F(3302,!1)}();if(null==i||0==i.length)throw function Qoe(n){return new F(3303,!1)}();if(!function Jse(n){return"start"==n||"done"==n}(i))throw function Xoe(n,e){return new F(3400,!1)}();const o=Wr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Wr(this._engine.statesByElement,e,new Map);return a.has(t)||(_o(e,Qb),_o(e,Qb+"-"+t),a.set(t,VA)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Joe(n){return new F(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new BA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(_o(e,Qb),_o(e,Qb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new LA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=VA),c.value!==Jm&&l.value===c.value){if(!function nae(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const x=[],T=o.matchStyles(l.value,l.params,x),N=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Cc(e,T),ps(e,N)})}return}const g=Wr(this._engine.playersByElement,e,[]);g.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let y=o.matchTransition(l.value,c.value,e,c.params),w=!1;if(!y){if(!r)return;y=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:s,isFallbackTransition:w}),w||(_o(e,Lz),s.onStart(()=>{vh(e,Lz)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const T=this._engine.playersByElement.get(e);if(T){let N=T.indexOf(s);N>=0&&T.splice(N,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Xb,!0);i.forEach(r=>{if(r[No])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,Jm,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&dl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||VA,h=new LA(Jm),p=new BA(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[No];(!o||o===Vz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){_o(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=EA(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,vA(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Yse{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Zse(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(l0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!l0(t))return;const o=t[No];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_o(e,FA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vh(e,FA))}removeNode(e,t,i){if(l0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[No]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return l0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Xb,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,CA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[No];if(t&&t.setForRemoval){if(e[No]=Vz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(FA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_o(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?dl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function ese(n){return new F(3402,!1)}()}_flushAnimations(e,t){const i=new o0,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Re=>{h.add(Re);const Ue=this.driver.query(Re,".ng-animate-queued",!0);for(let qe=0;qe<Ue.length;qe++)h.add(Ue[qe])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=jz(g,this.collectedEnterElements),w=new Map;let x=0;y.forEach((Re,Ue)=>{const qe=xA+x++;w.set(Ue,qe),Re.forEach(Ft=>_o(Ft,qe))});const T=[],N=new Set,M=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Ue=this.collectedLeaveElements[Re],qe=Ue[No];qe&&qe.setForRemoval&&(T.push(Ue),N.add(Ue),qe.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(Ft=>N.add(Ft)):M.add(Ue))}const U=new Map,Q=jz(g,Array.from(N));Q.forEach((Re,Ue)=>{const qe=Yb+x++;U.set(Ue,qe),Re.forEach(Ft=>_o(Ft,qe))}),e.push(()=>{y.forEach((Re,Ue)=>{const qe=w.get(Ue);Re.forEach(Ft=>vh(Ft,qe))}),Q.forEach((Re,Ue)=>{const qe=U.get(Ue);Re.forEach(Ft=>vh(Ft,qe))}),T.forEach(Re=>{this.processLeaveNode(Re)})});const fe=[],ke=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(t).forEach(qe=>{const Ft=qe.player,Ti=qe.element;if(fe.push(Ft),this.collectedEnterElements.length){const Zi=Ti[No];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(qe.triggerName)){const Ac=Zi.previousTriggersValues.get(qe.triggerName),yo=this.statesByElement.get(qe.element);if(yo&&yo.has(qe.triggerName)){const h0=yo.get(qe.triggerName);h0.value=Ac,yo.set(qe.triggerName,h0)}}return void Ft.destroy()}}const ms=!p||!this.driver.containsElement(p,Ti),Kr=U.get(Ti),fl=w.get(Ti),Pn=this._buildInstruction(qe,i,fl,Kr,ms);if(Pn.errors&&Pn.errors.length)return void ke.push(Pn);if(ms)return Ft.onStart(()=>Cc(Ti,Pn.fromStyles)),Ft.onDestroy(()=>ps(Ti,Pn.toStyles)),void r.push(Ft);if(qe.isFallbackTransition)return Ft.onStart(()=>Cc(Ti,Pn.fromStyles)),Ft.onDestroy(()=>ps(Ti,Pn.toStyles)),void r.push(Ft);const Jz=[];Pn.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||Jz.push(Zi)}),Pn.timelines=Jz,i.append(Ti,Pn.timelines),s.push({instruction:Pn,player:Ft,element:Ti}),Pn.queriedElements.forEach(Zi=>Wr(a,Zi,[]).push(Ft)),Pn.preStyleProps.forEach((Zi,Ac)=>{if(Zi.size){let yo=l.get(Ac);yo||l.set(Ac,yo=new Set),Zi.forEach((h0,zA)=>yo.add(zA))}}),Pn.postStyleProps.forEach((Zi,Ac)=>{let yo=c.get(Ac);yo||c.set(Ac,yo=new Set),Zi.forEach((h0,zA)=>yo.add(zA))})});if(ke.length){const Re=[];ke.forEach(Ue=>{Re.push(function tse(n,e){return new F(3505,!1)}())}),fe.forEach(Ue=>Ue.destroy()),this.reportError(Re)}const Xe=new Map,$t=new Map;s.forEach(Re=>{const Ue=Re.element;i.has(Ue)&&($t.set(Ue,Ue),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,Xe))}),r.forEach(Re=>{const Ue=Re.element;this._getPreviousPlayers(Ue,!1,Re.namespaceId,Re.triggerName,null).forEach(Ft=>{Wr(Xe,Ue,[]).push(Ft),Ft.destroy()})});const gr=T.filter(Re=>$z(Re,l,c)),Dr=new Map;Uz(Dr,this.driver,M,c,Js).forEach(Re=>{$z(Re,l,c)&&gr.push(Re)});const eg=new Map;y.forEach((Re,Ue)=>{Uz(eg,this.driver,new Set(Re),l,"!")}),gr.forEach(Re=>{const Ue=Dr.get(Re),qe=eg.get(Re);Dr.set(Re,new Map([...Ue?.entries()??[],...qe?.entries()??[]]))});const Dc=[],Qz=[],Xz={};s.forEach(Re=>{const{element:Ue,player:qe,instruction:Ft}=Re;if(i.has(Ue)){if(h.has(Ue))return qe.onDestroy(()=>ps(Ue,Ft.toStyles)),qe.disabled=!0,qe.overrideTotalTime(Ft.totalTime),void r.push(qe);let Ti=Xz;if($t.size>1){let Kr=Ue;const fl=[];for(;Kr=Kr.parentNode;){const Pn=$t.get(Kr);if(Pn){Ti=Pn;break}fl.push(Kr)}fl.forEach(Pn=>$t.set(Pn,Ti))}const ms=this._buildAnimation(qe.namespaceId,Ft,Xe,o,eg,Dr);if(qe.setRealPlayer(ms),Ti===Xz)Dc.push(qe);else{const Kr=this.playersByElement.get(Ti);Kr&&Kr.length&&(qe.parentPlayer=dl(Kr)),r.push(qe)}}else Cc(Ue,Ft.fromStyles),qe.onDestroy(()=>ps(Ue,Ft.toStyles)),Qz.push(qe),h.has(Ue)&&r.push(qe)}),Qz.forEach(Re=>{const Ue=o.get(Re.element);if(Ue&&Ue.length){const qe=dl(Ue);Re.setRealPlayer(qe)}}),r.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<T.length;Re++){const Ue=T[Re],qe=Ue[No];if(vh(Ue,Yb),qe&&qe.hasAnimation)continue;let Ft=[];if(a.size){let ms=a.get(Ue);ms&&ms.length&&Ft.push(...ms);let Kr=this.driver.query(Ue,CA,!0);for(let fl=0;fl<Kr.length;fl++){let Pn=a.get(Kr[fl]);Pn&&Pn.length&&Ft.push(...Pn)}}const Ti=Ft.filter(ms=>!ms.destroyed);Ti.length?eae(this,Ue,Ti):this.processLeaveNode(Ue)}return T.length=0,Dc.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Ue=this.players.indexOf(Re);this.players.splice(Ue,1)}),Re.play()}),Dc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Jm;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==o,p=Wr(i,c,[]);this._getPreviousPlayers(c,h,s,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),p.push(y)})}Cc(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],h=new Set,p=new Set,g=t.timelines.map(w=>{const x=w.element;h.add(x);const T=x[No];if(T&&T.removedBeforeQueried)return new Gm(w.duration,w.delay);const N=x!==l,M=function tae(n){const e=[];return zz(n,e),e}((i.get(x)||Gse).map(Xe=>Xe.getRealPlayer())).filter(Xe=>!!Xe.element&&Xe.element===x),U=o.get(x),Q=s.get(x),fe=yz(this._normalizer,w.keyframes,U,Q),ke=this._buildPlayer(w,fe,M);if(w.subTimeline&&r&&p.add(x),N){const Xe=new BA(e,a,x);Xe.setRealPlayer(ke),c.push(Xe)}return ke});c.forEach(w=>{Wr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function Qse(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>_o(w,Cz));const y=dl(g);return y.onDestroy(()=>{h.forEach(w=>vh(w,Cz)),ps(l,t.toStyles)}),p.forEach(w=>{Wr(r,w,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Gm(e.duration,e.delay)}}class BA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Gm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>vA(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function l0(n){return n&&1===n.nodeType}function Bz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Uz(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Bz(l)));const s=[];i.forEach((l,c)=>{const h=new Map;l.forEach(p=>{const g=e.computeStyle(c,p,r);h.set(p,g),(!g||0==g.length)&&(c[No]=Kse,s.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>Bz(l,o[a++])),s}function jz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function _o(n,e){n.classList?.add(e)}function vh(n,e){n.classList?.remove(e)}function eae(n,e,t){dl(t).onDone(()=>n.processLeaveNode(e))}function zz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof jj?zz(i.players,e):e.push(i)}}function $z(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class c0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Yse(e,t,i),this._timelineEngine=new zse(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=SA(this._driver,o,l,[]);if(l.length)throw function Hoe(n,e){return new F(3404,!1)}();a=function Vse(n,e,t){return new Bse(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=vz(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=vz(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let rae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ps(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ps(this._element,this._initialStyles),this._endStyles&&(ps(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cc(this._element,this._endStyles),this._endStyles=null),ps(this._element,this._initialStyles),this._state=3)}}return n})();function UA(n){let e=null;return n.forEach((t,i)=>{(function oae(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Hz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Sz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class sae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Ez(e,t)}getParentElement(e){return wA(e)}query(e,t,i){return wz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(y=>y instanceof Hz);(function fse(n,e){return 0===n||0===e})(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((w,x)=>c.set(x,w))});let p=function use(n){return n.length?n[0]instanceof Map?n:n.map(e=>Tz(e)):[]}(t).map(y=>hl(y));p=function pse(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Sz(n,a)))}}return e}(e,p,c);const g=function iae(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=UA(e[0]),e.length>1&&(i=UA(e[e.length-1]))):e instanceof Map&&(t=UA(e)),t||i?new rae(n,t,i):null}(e,p);return new Hz(e,p,l,g)}}let aae=(()=>{class n extends Nj{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:_r.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Vj(t):t;return qz(this._renderer,null,i,"register",[r]),new lae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ff),B(Mt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class lae extends nre{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new cae(this._id,e,t||{},this._renderer)}}class cae{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return qz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Wz="@.disabled";let uae=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new Gz("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(l),new dae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ff),B(c0),B(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class Gz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Wz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class dae extends Gz{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Wz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function hae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function fae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let pae=(()=>{class n extends c0{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Mt),B(IA),B(kA),B(Ma))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const Kz=[{provide:Nj,useClass:aae},{provide:kA,useFactory:function mae(){return new kse}},{provide:c0,useClass:pae},{provide:Ff,useFactory:function gae(n,e,t){return new uae(n,e,t)},deps:[BI,c0,He]}],jA=[{provide:IA,useFactory:()=>new sae},{provide:Da,useValue:"BrowserAnimations"},...Kz],Zz=[{provide:IA,useClass:Iz},{provide:Da,useValue:"NoopAnimations"},...Kz];let _ae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Zz:jA}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({providers:jA,imports:[Tk]})}return n})(),yae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({})}return n})(),Yz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[hs,ak,lj,hs]})}return n})(),Cae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n});static#n=this.\u0275inj=St({imports:[hs,Yz,Yz,yae,hs]})}return n})();var Tae=ka.Z.initializeApp;let Dae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=wt({type:n,bootstrap:[QZ]});static#n=this.\u0275inj=St({imports:[Tk,ZY,nQ(()=>Tae(ez_firebase)),ine(()=>one()),t7.initializeApp(ez_firebase),m7,Wre,_oe,_ae,vre,Cae,Are]})}return n})();A9().bootstrapModule(Dae).catch(n=>console.error(n))},106:(Zr,Bn,Be)=>{Be.d(Bn,{Z:()=>Un});var C=Be(58),K=Be(537),k=Be(534),Ae=Be(879);class mt{constructor(We,Ge){this._delegate=We,this.firebase=Ge,(0,k._addComponent)(We,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(We,Ge=k._DEFAULT_ENTRY_NAME){var jn;this._delegate.checkDestroyed();const cn=this._delegate.container.getProvider(We);return!cn.isInitialized()&&"EXPLICIT"===(null===(jn=cn.getComponent())||void 0===jn?void 0:jn.instantiationMode)&&cn.initialize(),cn.getImmediate({identifier:Ge})}_removeServiceInstance(We,Ge=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(Ge)}_addComponent(We){(0,k._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,k._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Tn=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function It(){const gt=function Zt(gt){const We={},Ge={__esModule:!0,initializeApp:function ht(nt,oe={}){const bt=k.initializeApp(nt,oe);if((0,C.r3)(We,bt.name))return We[bt.name];const Xt=new gt(bt,Ge);return We[bt.name]=Xt,Xt},app:cn,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Yi(nt){const oe=nt.name,bt=oe.replace("-compat","");if(k._registerComponent(nt)&&"PUBLIC"===nt.type){const Xt=(vn=cn())=>{if("function"!=typeof vn[bt])throw Tn.create("invalid-app-argument",{appName:oe});return vn[bt]()};void 0!==nt.serviceProps&&(0,C.ZB)(Xt,nt.serviceProps),Ge[bt]=Xt,gt.prototype[bt]=function(...vn){return this._getService.bind(this,oe).apply(this,nt.multipleInstances?vn:[])}}return"PUBLIC"===nt.type?Ge[bt]:null},removeApp:function jn(nt){delete We[nt]},useAsService:function On(nt,oe){return"serverAuth"===oe?null:oe},modularAPIs:k}};function cn(nt){if(!(0,C.r3)(We,nt=nt||k._DEFAULT_ENTRY_NAME))throw Tn.create("no-app",{appName:nt});return We[nt]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function Vt(){return Object.keys(We).map(nt=>We[nt])}}),cn.App=gt,Ge}(mt);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:It,extendNamespace:function We(Ge){(0,C.ZB)(gt,Ge)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),gt}(),le=new Ae.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Un=X;!function At(gt){(0,k.registerVersion)("@firebase/app-compat","0.2.25",gt)}()},534:(Zr,Bn,Be)=>{Be.r(Bn),Be.d(Bn,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>Mr,_addComponent:()=>Ji,_addOrOverwriteComponent:()=>er,_apps:()=>fi,_clearComponents:()=>An,_components:()=>Xi,_getProvider:()=>Lt,_registerComponent:()=>ri,_removeServiceInstance:()=>tr,deleteApp:()=>kn,getApp:()=>Or,getApps:()=>Hn,initializeApp:()=>eo,onLog:()=>ta,registerVersion:()=>nr,setLogLevel:()=>Fo});var C=Be(861),K=Be(537),k=Be(879),Ae=Be(58);const mt=(V,P)=>P.some(re=>V instanceof re);let ln,Tn;const X=new WeakMap,le=new WeakMap,De=new WeakMap,Je=new WeakMap,At=new WeakMap;let We={get(V,P,re){if(V instanceof IDBTransaction){if("done"===P)return le.get(V);if("objectStoreNames"===P)return V.objectStoreNames||De.get(V);if("store"===P)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return ht(V[P])},set:(V,P,re)=>(V[P]=re,!0),has:(V,P)=>V instanceof IDBTransaction&&("done"===P||"store"===P)||P in V};function cn(V){return"function"==typeof V?function jn(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function It(){return Tn||(Tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...P){return V.apply(Vt(this),P),ht(X.get(this))}:function(...P){return ht(V.apply(Vt(this),P))}:function(P,...re){const be=V.call(Vt(this),P,...re);return De.set(be,P.sort?P.sort():[P]),ht(be)}}(V):(V instanceof IDBTransaction&&function gt(V){if(le.has(V))return;const P=new Promise((re,be)=>{const st=()=>{V.removeEventListener("complete",ft),V.removeEventListener("error",F),V.removeEventListener("abort",F)},ft=()=>{re(),st()},F=()=>{be(V.error||new DOMException("AbortError","AbortError")),st()};V.addEventListener("complete",ft),V.addEventListener("error",F),V.addEventListener("abort",F)});le.set(V,P)}(V),mt(V,function Zt(){return ln||(ln=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,We):V)}function ht(V){if(V instanceof IDBRequest)return function Un(V){const P=new Promise((re,be)=>{const st=()=>{V.removeEventListener("success",ft),V.removeEventListener("error",F)},ft=()=>{re(ht(V.result)),st()},F=()=>{be(V.error),st()};V.addEventListener("success",ft),V.addEventListener("error",F)});return P.then(re=>{re instanceof IDBCursor&&X.set(re,V)}).catch(()=>{}),At.set(P,V),P}(V);if(Je.has(V))return Je.get(V);const P=cn(V);return P!==V&&(Je.set(V,P),At.set(P,V)),P}const Vt=V=>At.get(V),nt=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],bt=new Map;function Xt(V,P){if(!(V instanceof IDBDatabase)||P in V||"string"!=typeof P)return;if(bt.get(P))return bt.get(P);const re=P.replace(/FromIndex$/,""),be=P!==re,st=oe.includes(re);if(!(re in(be?IDBIndex:IDBObjectStore).prototype)||!st&&!nt.includes(re))return;const ft=function(){var F=(0,C.Z)(function*(hn,...Ce){const at=this.transaction(hn,st?"readwrite":"readonly");let ml=at.store;return be&&(ml=ml.index(Ce.shift())),(yield Promise.all([ml[re](...Ce),st&&at.done]))[0]});return function(Ce){return F.apply(this,arguments)}}();return bt.set(P,ft),ft}!function Ge(V){We=V(We)}(V=>({...V,get:(P,re,be)=>Xt(P,re)||V.get(P,re,be),has:(P,re)=>!!Xt(P,re)||V.has(P,re)}));class vn{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Dn(V){const P=V.getComponent();return"VERSION"===P?.type}(re)){const be=re.getImmediate();return`${be.library}/${be.version}`}return null}).filter(re=>re).join(" ")}}const Ar="@firebase/app",Ke=new k.Yd("@firebase/app"),Mr="[DEFAULT]",Pr={[Ar]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fi=new Map,Xi=new Map;function Ji(V,P){try{V.container.addComponent(P)}catch(re){Ke.debug(`Component ${P.name} failed to register with FirebaseApp ${V.name}`,re)}}function er(V,P){V.container.addOrOverwriteComponent(P)}function ri(V){const P=V.name;if(Xi.has(P))return Ke.debug(`There were multiple attempts to register component ${P}.`),!1;Xi.set(P,V);for(const re of fi.values())Ji(re,V);return!0}function Lt(V,P){const re=V.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),V.container.getProvider(P)}function tr(V,P,re=Mr){Lt(V,P).clearInstance(re)}function An(){Xi.clear()}const dn=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(P,re,be){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=be,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Jr="10.7.1";function eo(V,P={}){let re=V;"object"!=typeof P&&(P={name:P});const be=Object.assign({name:Mr,automaticDataCollectionEnabled:!1},P),st=be.name;if("string"!=typeof st||!st)throw dn.create("bad-app-name",{appName:String(st)});if(re||(re=(0,Ae.aH)()),!re)throw dn.create("no-options");const ft=fi.get(st);if(ft){if((0,Ae.vZ)(re,ft.options)&&(0,Ae.vZ)(be,ft.config))return ft;throw dn.create("duplicate-app",{appName:st})}const F=new K.H0(st);for(const Ce of Xi.values())F.addComponent(Ce);const hn=new bn(re,be,F);return fi.set(st,hn),hn}function Or(V=Mr){const P=fi.get(V);if(!P&&V===Mr&&(0,Ae.aH)())return eo();if(!P)throw dn.create("no-app",{appName:V});return P}function Hn(){return Array.from(fi.values())}function kn(V){return pi.apply(this,arguments)}function pi(){return(pi=(0,C.Z)(function*(V){const P=V.name;fi.has(P)&&(fi.delete(P),yield Promise.all(V.container.getProviders().map(re=>re.delete())),V.isDeleted=!0)})).apply(this,arguments)}function nr(V,P,re){var be;let st=null!==(be=Pr[V])&&void 0!==be?be:V;re&&(st+=`-${re}`);const ft=st.match(/\s|\//),F=P.match(/\s|\//);if(ft||F){const hn=[`Unable to register library "${st}" with version "${P}":`];return ft&&hn.push(`library name "${st}" contains illegal characters (whitespace or "/")`),ft&&F&&hn.push("and"),F&&hn.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void Ke.warn(hn.join(" "))}ri(new K.wA(`${st}-version`,()=>({library:st,version:P}),"VERSION"))}function ta(V,P){if(null!==V&&"function"!=typeof V)throw dn.create("invalid-log-argument");(0,k.Am)(V,P)}function Fo(V){(0,k.Ub)(V)}const gs="firebase-heartbeat-database",to=1,R="firebase-heartbeat-store";let D=null;function b(){return D||(D=function Yi(V,P,{blocked:re,upgrade:be,blocking:st,terminated:ft}={}){const F=indexedDB.open(V,P),hn=ht(F);return be&&F.addEventListener("upgradeneeded",Ce=>{be(ht(F.result),Ce.oldVersion,Ce.newVersion,ht(F.transaction),Ce)}),re&&F.addEventListener("blocked",Ce=>re(Ce.oldVersion,Ce.newVersion,Ce)),hn.then(Ce=>{ft&&Ce.addEventListener("close",()=>ft()),st&&Ce.addEventListener("versionchange",at=>st(at.oldVersion,at.newVersion,at))}).catch(()=>{}),hn}(gs,to,{upgrade:(V,P)=>{0===P&&V.createObjectStore(R)}}).catch(V=>{throw dn.create("idb-open",{originalErrorMessage:V.message})})),D}function v(){return(v=(0,C.Z)(function*(V){try{return yield(yield b()).transaction(R).objectStore(R).get(we(V))}catch(P){if(P instanceof Ae.ZR)Ke.warn(P.message);else{const re=dn.create("idb-get",{originalErrorMessage:P?.message});Ke.warn(re.message)}}})).apply(this,arguments)}function S(V,P){return Y.apply(this,arguments)}function Y(){return(Y=(0,C.Z)(function*(V,P){try{const be=(yield b()).transaction(R,"readwrite");yield be.objectStore(R).put(P,we(V)),yield be.done}catch(re){if(re instanceof Ae.ZR)Ke.warn(re.message);else{const be=dn.create("idb-set",{originalErrorMessage:re?.message});Ke.warn(be.message)}}})).apply(this,arguments)}function we(V){return`${V.name}!${V.options.appId}`}class xt{constructor(P){this.container=P,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new Me(re),this._heartbeatsCachePromise=this._storage.read().then(be=>(this._heartbeatsCache=be,be))}triggerHeartbeat(){var P=this;return(0,C.Z)(function*(){var re,be;const ft=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),F=_e();if((null!=(null===(re=P._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||(P._heartbeatsCache=yield P._heartbeatsCachePromise,null!=(null===(be=P._heartbeatsCache)||void 0===be?void 0:be.heartbeats)))&&P._heartbeatsCache.lastSentHeartbeatDate!==F&&!P._heartbeatsCache.heartbeats.some(hn=>hn.date===F))return P._heartbeatsCache.heartbeats.push({date:F,agent:ft}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(hn=>{const Ce=new Date(hn.date).valueOf();return Date.now()-Ce<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,C.Z)(function*(){var re;if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null==(null===(re=P._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||0===P._heartbeatsCache.heartbeats.length)return"";const be=_e(),{heartbeatsToSend:st,unsentEntries:ft}=function jt(V,P=1024){const re=[];let be=V.slice();for(const st of V){const ft=re.find(F=>F.agent===st.agent);if(ft){if(ft.dates.push(st.date),Jn(re)>P){ft.dates.pop();break}}else if(re.push({agent:st.agent,dates:[st.date]}),Jn(re)>P){re.pop();break}be=be.slice(1)}return{heartbeatsToSend:re,unsentEntries:be}}(P._heartbeatsCache.heartbeats),F=(0,Ae.L)(JSON.stringify({version:2,heartbeats:st}));return P._heartbeatsCache.lastSentHeartbeatDate=be,ft.length>0?(P._heartbeatsCache.heartbeats=ft,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),F})()}}function _e(){return(new Date).toISOString().substring(0,10)}class Me{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Ae.hl)()&&(0,Ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,C.Z)(function*(){if(yield P._canUseIndexedDBPromise){const be=yield function I(V){return v.apply(this,arguments)}(P.app);return be?.heartbeats?be:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(P){var re=this;return(0,C.Z)(function*(){var be;if(yield re._canUseIndexedDBPromise){const ft=yield re.read();return S(re.app,{lastSentHeartbeatDate:null!==(be=P.lastSentHeartbeatDate)&&void 0!==be?be:ft.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var re=this;return(0,C.Z)(function*(){var be;if(yield re._canUseIndexedDBPromise){const ft=yield re.read();return S(re.app,{lastSentHeartbeatDate:null!==(be=P.lastSentHeartbeatDate)&&void 0!==be?be:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...P.heartbeats]})}})()}}function Jn(V){return(0,Ae.L)(JSON.stringify({version:2,heartbeats:V})).length}!function _s(V){ri(new K.wA("platform-logger",P=>new vn(P),"PRIVATE")),ri(new K.wA("heartbeat",P=>new xt(P),"PRIVATE")),nr(Ar,"0.9.25",V),nr(Ar,"0.9.25","esm2017"),nr("fire-js","")}("")},537:(Zr,Bn,Be)=>{Be.d(Bn,{H0:()=>Zt,wA:()=>k});var C=Be(861),K=Be(58);class k{constructor(X,le,De){this.name=X,this.instanceFactory=le,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Ae="[DEFAULT]";class mt{constructor(X,le){this.name=X,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const le=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(le)){const De=new K.BH;if(this.instancesDeferred.set(le,De),this.isInitialized(le)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:le});Je&&De.resolve(Je)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(X){var le;const De=this.normalizeInstanceIdentifier(X?.identifier),Je=null!==(le=X?.optional)&&void 0!==le&&le;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(At){if(Je)return null;throw At}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Tn(It){return"EAGER"===It.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch{}for(const[le,De]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(le);try{const At=this.getOrInitializeService({instanceIdentifier:Je});De.resolve(At)}catch{}}}}clearInstance(X=Ae){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,C.Z)(function*(){const le=Array.from(X.instances.values());yield Promise.all([...le.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...le.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Ae){return this.instances.has(X)}getOptions(X=Ae){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:le={}}=X,De=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:De,options:le});for(const[At,Un]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(At)&&Un.resolve(Je);return Je}onInit(X,le){var De;const Je=this.normalizeInstanceIdentifier(le),At=null!==(De=this.onInitCallbacks.get(Je))&&void 0!==De?De:new Set;At.add(X),this.onInitCallbacks.set(Je,At);const Un=this.instances.get(Je);return Un&&X(Un,Je),()=>{At.delete(X)}}invokeOnInitCallbacks(X,le){const De=this.onInitCallbacks.get(le);if(De)for(const Je of De)try{Je(X,le)}catch{}}getOrInitializeService({instanceIdentifier:X,options:le={}}){let De=this.instances.get(X);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(It=X,It===Ae?void 0:It),options:le}),this.instances.set(X,De),this.instancesOptions.set(X,le),this.invokeOnInitCallbacks(De,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,De)}catch{}var It;return De||null}normalizeInstanceIdentifier(X=Ae){return this.component?this.component.multipleInstances?X:Ae:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Zt{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const le=this.getProvider(X.name);if(le.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);le.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const le=new mt(X,this);return this.providers.set(X,le),le}getProviders(){return Array.from(this.providers.values())}}},879:(Zr,Bn,Be)=>{Be.d(Bn,{Am:()=>It,Ub:()=>Zt,Yd:()=>Tn,in:()=>K});const C=[];var K=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(K||{});const k={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Ae=K.INFO,mt={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},ln=(X,le,...De)=>{if(le<X.logLevel)return;const Je=(new Date).toISOString(),At=mt[le];if(!At)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[At](`[${Je}]  ${X.name}:`,...De)};class Tn{constructor(le){this.name=le,this._logLevel=Ae,this._logHandler=ln,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in K))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?k[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...le),this._logHandler(this,K.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...le),this._logHandler(this,K.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,K.INFO,...le),this._logHandler(this,K.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,K.WARN,...le),this._logHandler(this,K.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...le),this._logHandler(this,K.ERROR,...le)}}function Zt(X){C.forEach(le=>{le.setLogLevel(X)})}function It(X,le){for(const De of C){let Je=null;le&&le.level&&(Je=k[le.level]),De.userLogHandler=null===X?null:(At,Un,...gt)=>{const We=gt.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");Un>=(Je??At.logLevel)&&X({level:K[Un].toLowerCase(),message:We,args:gt,type:At.name})}}}},365:(Zr,Bn,Be)=>{Be.r(Bn);var C=Be(861),K=Be(106),k=Be(217),Ae=Be(58),Tn=(Be(534),Be(879),Be(537));function Zt(){return window}function le(){return le=(0,C.Z)(function*(b,I,v){var S;const{BuildInfo:Y}=Zt();(0,k.au)(I.sessionId,"AuthEvent did not contain a session ID");const we=yield function Ge(b){return jn.apply(this,arguments)}(I.sessionId),xe={};return(0,k.av)()?xe.ibi=Y.packageName:(0,k.aw)()?xe.apn=Y.packageName:(0,k.ax)(b,"operation-not-supported-in-this-environment"),Y.displayName&&(xe.appDisplayName=Y.displayName),xe.sessionId=we,(0,k.ay)(b,v,I.type,void 0,null!==(S=I.eventId)&&void 0!==S?S:void 0,xe)}),le.apply(this,arguments)}function Je(){return(Je=(0,C.Z)(function*(b){const{BuildInfo:I}=Zt(),v={};(0,k.av)()?v.iosBundleId=I.packageName:(0,k.aw)()?v.androidPackageName=I.packageName:(0,k.ax)(b,"operation-not-supported-in-this-environment"),yield(0,k.az)(b,v)})).apply(this,arguments)}function gt(){return(gt=(0,C.Z)(function*(b,I,v){const{cordova:S}=Zt();let Y=()=>{};try{yield new Promise((we,xe)=>{let ze=null;function xt(){var Me;we();const Jn=null===(Me=S.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof Jn&&Jn(),"function"==typeof v?.close&&v.close()}function _e(){ze||(ze=window.setTimeout(()=>{xe((0,k.aB)(b,"redirect-cancelled-by-user"))},2e3))}function jt(){"visible"===document?.visibilityState&&_e()}I.addPassiveListener(xt),document.addEventListener("resume",_e,!1),(0,k.aw)()&&document.addEventListener("visibilitychange",jt,!1),Y=()=>{I.removePassiveListener(xt),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",jt,!1),ze&&window.clearTimeout(ze)}})}finally{Y()}})).apply(this,arguments)}function jn(){return(jn=(0,C.Z)(function*(b){const I=function cn(b){if((0,k.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const I=new ArrayBuffer(b.length),v=new Uint8Array(I);for(let S=0;S<b.length;S++)v[S]=b.charCodeAt(S);return v}(b),v=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(v)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Vt extends k.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(I)),super.onEvent(I)}initialized(){var I=this;return(0,C.Z)(function*(){yield I.initPromise})()}}function nt(b){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(b){const I=yield vn()._get(Dn(b));return I&&(yield vn()._remove(Dn(b))),I})).apply(this,arguments)}function Xt(){const b=[];for(let v=0;v<20;v++){const S=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(S))}return b.join("")}function vn(){return(0,k.aE)(k.b)}function Dn(b){return(0,k.aF)("authEvent",b.config.apiKey,b.name)}function Ke(b){if(!b?.includes("?"))return{};const[I,...v]=b.split("?");return(0,Ae.zd)(v.join("?"))}const q=class vo{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){const S=I._key();let Y=v.eventManagers.get(S);return Y||(Y=new Vt(I),v.eventManagers.set(S,Y),v.attachCallbackListeners(I,Y)),Y})()}_openPopup(I){(0,k.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,v,S,Y){var we=this;return(0,C.Z)(function*(){!function We(b){var I,v,S,Y,we,xe,ze,xt,_e,jt;const Me=Zt();(0,k.aC)("function"==typeof(null===(I=Me?.universalLinks)||void 0===I?void 0:I.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aC)(typeof(null===(v=Me?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aC)("function"==typeof(null===(we=null===(Y=null===(S=Me?.cordova)||void 0===S?void 0:S.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===we?void 0:we.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(xt=null===(ze=null===(xe=Me?.cordova)||void 0===xe?void 0:xe.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===xt?void 0:xt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(jt=null===(_e=Me?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===jt?void 0:jt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const xe=yield we._initialize(I);yield xe.initialized(),xe.resetRedirect(),(0,k.aI)(),yield we._originValidation(I);const ze=function Yi(b,I,v=null){return{type:I,eventId:v,urlResponse:null,sessionId:Xt(),postBody:null,tenantId:b.tenantId,error:(0,k.aB)(b,"no-auth-event")}}(I,S,Y);yield function On(b,I){return vn()._set(Dn(b),I)}(I,ze);const xt=yield function X(b,I,v){return le.apply(this,arguments)}(I,ze,v),_e=yield function At(b){const{cordova:I}=Zt();return new Promise(v=>{I.plugins.browsertab.isAvailable(S=>{let Y=null;S?I.plugins.browsertab.openUrl(b):Y=I.InAppBrowser.open(b,(0,k.aA)()?"_blank":"_system","location=yes"),v(Y)})})}(xt);return function Un(b,I,v){return gt.apply(this,arguments)}(I,xe,_e)})()}_isIframeWebStorageSupported(I,v){throw new Error("Method not implemented.")}_originValidation(I){const v=I._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function De(b){return Je.apply(this,arguments)}(I)),this.originValidationPromises[v]}attachCallbackListeners(I,v){const{universalLinks:S,handleOpenURL:Y,BuildInfo:we}=Zt(),xe=setTimeout((0,C.Z)(function*(){yield nt(I),v.onEvent(G())}),500),ze=function(){var jt=(0,C.Z)(function*(Me){clearTimeout(xe);const Jn=yield nt(I);let _s=null;Jn&&Me?.url&&(_s=function bt(b,I){var v,S;const Y=function Sr(b){const I=Ke(b),v=I.link?decodeURIComponent(I.link):void 0,S=Ke(v).link,Y=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return Ke(Y).link||Y||S||v||b}(I);if(Y.includes("/__/auth/callback")){const we=Ke(Y),xe=we.firebaseError?function Ar(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(we.firebaseError)):null,ze=null===(S=null===(v=xe?.code)||void 0===v?void 0:v.split("auth/"))||void 0===S?void 0:S[1],xt=ze?(0,k.aB)(ze):null;return xt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:xt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:Y,postBody:null}}return null}(Jn,Me.url)),v.onEvent(_s||G())});return function(Jn){return jt.apply(this,arguments)}}();typeof S<"u"&&"function"==typeof S.subscribe&&S.subscribe(null,ze);const xt=Y,_e=`${we.packageName.toLowerCase()}://`;Zt().handleOpenURL=function(){var jt=(0,C.Z)(function*(Me){if(Me.toLowerCase().startsWith(_e)&&ze({url:Me}),"function"==typeof xt)try{xt(Me)}catch(Jn){console.error(Jn)}});return function(Me){return jt.apply(this,arguments)}}()}};function G(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aB)("no-auth-event")}}function pe(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Ie(b=(0,Ae.z$)()){return!("file:"!==pe()&&"ionic:"!==pe()&&"capacitor:"!==pe()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function un(){try{const b=self.localStorage,I=k.aN();if(b)return b.setItem(I,"1"),b.removeItem(I),!function Ht(b=(0,Ae.z$)()){return function Et(){return(0,Ae.w1)()&&11===document?.documentMode}()||function en(b=(0,Ae.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Ae.hl)()}catch{return zn()&&(0,Ae.hl)()}return!1}function zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function dt(){return"http:"===pe()||"https:"===pe()}()||(0,Ae.ru)()||Ie())&&!function Ne(){return(0,Ae.b$)()||(0,Ae.UG)()}()&&un()&&!zn()}function ii(){return Ie()&&typeof document<"u"}function Rr(){return(Rr=(0,C.Z)(function*(){return!!ii()&&new Promise(b=>{const I=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),b(!0)})})})).apply(this,arguments)}const _t={LOCAL:"local",NONE:"none",SESSION:"session"},Qr=k.aC,Xr="persistence";function Pr(b){return fi.apply(this,arguments)}function fi(){return(fi=(0,C.Z)(function*(b){yield b._initializationPromise;const I=Ji(),v=k.aF(Xr,b.config.apiKey,b.name);I&&I.setItem(v,b._getPersistence())})).apply(this,arguments)}function Ji(){var b;try{return(null===(b=function Yr(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const er=k.aC;class ri{constructor(){this.browserResolver=k.aE(k.k),this.cordovaResolver=k.aE(q),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(I){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,v,S,Y){var we=this;return(0,C.Z)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openPopup(I,v,S,Y)})()}_openRedirect(I,v,S,Y){var we=this;return(0,C.Z)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openRedirect(I,v,S,Y)})()}_isIframeWebStorageSupported(I,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,v)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return ii()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return er(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,C.Z)(function*(){if(I.underlyingResolver)return;const v=yield function Bi(){return Rr.apply(this,arguments)}();I.underlyingResolver=v?I.cordovaResolver:I.browserResolver})()}}function Lt(b){return b.unwrap()}function An(b){return dn(b)}function dn(b){const{_tokenResponse:I}=b instanceof Ae.ZR?b.customData:b;if(!I)return null;if(!(b instanceof Ae.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return k.P.credentialFromResult(b);const v=I.providerId;if(!v||v===k.p.PASSWORD)return null;let S;switch(v){case k.p.GOOGLE:S=k.X;break;case k.p.FACEBOOK:S=k.W;break;case k.p.GITHUB:S=k.Y;break;case k.p.TWITTER:S=k.$;break;default:const{oauthIdToken:Y,oauthAccessToken:we,oauthTokenSecret:xe,pendingToken:ze,nonce:xt}=I;return we||xe||Y||ze?ze?v.startsWith("saml.")?k.aQ._create(v,ze):k.N._fromParams({providerId:v,signInMethod:v,pendingToken:ze,idToken:Y,accessToken:we}):new k.Z(v).credential({idToken:Y,accessToken:we,rawNonce:xt}):null}return b instanceof Ae.ZR?S.credentialFromError(b):S.credentialFromResult(b)}function bn(b,I){return I.catch(v=>{throw v instanceof Ae.ZR&&function pl(b,I){var v;const S=null===(v=I.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new Or(b,k.as(b,I));else if(S){const Y=dn(I),we=I;Y&&(we.credential=Y,we.tenantId=S.tenantId||void 0,we.email=S.email||void 0,we.phoneNumber=S.phoneNumber||void 0)}}(b,v),v}).then(v=>{const Y=v.user;return{operationType:v.operationType,credential:An(v),additionalUserInfo:k.aq(v),user:Hn.getOrCreate(Y)}})}function Jr(b,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,C.Z)(function*(b,I){const v=yield I;return{verificationId:v.verificationId,confirm:S=>bn(b,v.confirm(S))}})).apply(this,arguments)}class Or{constructor(I,v){this.resolver=v,this.auth=function tr(b){return b.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return bn(Lt(this.auth),this.resolver.resolveSignIn(I))}}class Hn{constructor(I){this._delegate=I,this.multiFactor=k.at(I)}static getOrCreate(I){return Hn.USER_MAP.has(I)||Hn.USER_MAP.set(I,new Hn(I)),Hn.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var v=this;return(0,C.Z)(function*(){return bn(v.auth,k.a2(v._delegate,I))})()}linkWithPhoneNumber(I,v){var S=this;return(0,C.Z)(function*(){return Jr(S.auth,k.l(S._delegate,I,v))})()}linkWithPopup(I){var v=this;return(0,C.Z)(function*(){return bn(v.auth,k.d(v._delegate,I,ri))})()}linkWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield Pr(k.aJ(v.auth)),k.g(v._delegate,I,ri)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var v=this;return(0,C.Z)(function*(){return bn(v.auth,k.a3(v._delegate,I))})()}reauthenticateWithPhoneNumber(I,v){return Jr(this.auth,k.r(this._delegate,I,v))}reauthenticateWithPopup(I){return bn(this.auth,k.e(this._delegate,I,ri))}reauthenticateWithRedirect(I){var v=this;return(0,C.Z)(function*(){return yield Pr(k.aJ(v.auth)),k.h(v._delegate,I,ri)})()}sendEmailVerification(I){return k.ag(this._delegate,I)}unlink(I){var v=this;return(0,C.Z)(function*(){return yield k.ap(v._delegate,I),v})()}updateEmail(I){return k.al(this._delegate,I)}updatePassword(I){return k.am(this._delegate,I)}updatePhoneNumber(I){return k.u(this._delegate,I)}updateProfile(I){return k.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,v){return k.ah(this._delegate,I,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const kn=k.aC;let pi=(()=>{class b{constructor(v,S){if(this.app=v,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=v.options;kn(Y,"invalid-api-key",{appName:v.name}),kn(Y,"invalid-api-key",{appName:v.name});const we=typeof window<"u"?ri:void 0;this._delegate=S.initialize({options:{persistence:ta(Y,v.name),popupRedirectResolver:we}}),this._delegate._updateErrorMap(k.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,S){k.K(this._delegate,v,S)}applyActionCode(v){return k.a7(this._delegate,v)}checkActionCode(v){return k.a8(this._delegate,v)}confirmPasswordReset(v,S){return k.a6(this._delegate,v,S)}createUserWithEmailAndPassword(v,S){var Y=this;return(0,C.Z)(function*(){return bn(Y._delegate,k.aa(Y._delegate,v,S))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return k.af(this._delegate,v)}isSignInWithEmailLink(v){return k.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){kn($n(),v._delegate,"operation-not-supported-in-this-environment");const S=yield k.j(v._delegate,ri);return S?bn(v._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function z(b,I){(0,k.aJ)(b)._logFramework(I)}(this._delegate,v)}onAuthStateChanged(v,S,Y){const{next:we,error:xe,complete:ze}=nr(v,S,Y);return this._delegate.onAuthStateChanged(we,xe,ze)}onIdTokenChanged(v,S,Y){const{next:we,error:xe,complete:ze}=nr(v,S,Y);return this._delegate.onIdTokenChanged(we,xe,ze)}sendSignInLinkToEmail(v,S){return k.ac(this._delegate,v,S)}sendPasswordResetEmail(v,S){return k.a5(this._delegate,v,S||void 0)}setPersistence(v){var S=this;return(0,C.Z)(function*(){let Y;switch(function Mr(b,I){Qr(Object.values(_t).includes(I),b,"invalid-persistence-type"),(0,Ae.b$)()?Qr(I!==_t.SESSION,b,"unsupported-persistence-type"):(0,Ae.UG)()?Qr(I===_t.NONE,b,"unsupported-persistence-type"):zn()?Qr(I===_t.NONE||I===_t.LOCAL&&(0,Ae.hl)(),b,"unsupported-persistence-type"):Qr(I===_t.NONE||un(),b,"unsupported-persistence-type")}(S._delegate,v),v){case _t.SESSION:Y=k.a;break;case _t.LOCAL:Y=(yield k.aE(k.i)._isAvailable())?k.i:k.b;break;case _t.NONE:Y=k.U;break;default:return k.ax("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return bn(this._delegate,k.a0(this._delegate))}signInWithCredential(v){return bn(this._delegate,k.a1(this._delegate,v))}signInWithCustomToken(v){return bn(this._delegate,k.a4(this._delegate,v))}signInWithEmailAndPassword(v,S){return bn(this._delegate,k.ab(this._delegate,v,S))}signInWithEmailLink(v,S){return bn(this._delegate,k.ae(this._delegate,v,S))}signInWithPhoneNumber(v,S){return Jr(this._delegate,k.s(this._delegate,v,S))}signInWithPopup(v){var S=this;return(0,C.Z)(function*(){return kn($n(),S._delegate,"operation-not-supported-in-this-environment"),bn(S._delegate,k.c(S._delegate,v,ri))})()}signInWithRedirect(v){var S=this;return(0,C.Z)(function*(){return kn($n(),S._delegate,"operation-not-supported-in-this-environment"),yield Pr(S._delegate),k.f(S._delegate,v,ri)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return k.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=_t,b})();function nr(b,I,v){let S=b;"function"!=typeof b&&({next:S,error:I,complete:v}=b);const Y=S;return{next:xe=>Y(xe&&Hn.getOrCreate(xe)),error:I,complete:v}}function ta(b,I){const v=function Xi(b,I){const v=Ji();if(!v)return[];const S=k.aF(Xr,b,I);switch(v.getItem(S)){case _t.NONE:return[k.U];case _t.LOCAL:return[k.i,k.a];case _t.SESSION:return[k.a];default:return[]}}(b,I);if(typeof self<"u"&&!v.includes(k.i)&&v.push(k.i),typeof window<"u")for(const S of[k.b,k.a])v.includes(S)||v.push(S);return v.includes(k.U)||v.push(k.U),v}class Fo{constructor(){this.providerId="phone",this._delegate=new k.P(Lt(K.Z.auth()))}static credential(I,v){return k.P.credential(I,v)}verifyPhoneNumber(I,v){return this._delegate.verifyPhoneNumber(I,v)}unwrap(){return this._delegate}}Fo.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Fo.PROVIDER_ID=k.P.PROVIDER_ID;const gs=k.aC;class to{constructor(I,v,S=K.Z.app()){var Y;gs(null===(Y=S.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new k.R(S.auth(),I,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(b){b.INTERNAL.registerComponent(new Tn.wA("auth-compat",I=>{const v=I.getProvider("app-compat").getImmediate(),S=I.getProvider("auth");return new pi(v,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.V,FacebookAuthProvider:k.W,GithubAuthProvider:k.Y,GoogleAuthProvider:k.X,OAuthProvider:k.Z,SAMLAuthProvider:k._,PhoneAuthProvider:Fo,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:to,TwitterAuthProvider:k.$,Auth:pi,AuthCredential:k.L,Error:Ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.1")}(K.Z)},861:(Zr,Bn,Be)=>{function C(k,Ae,mt,ln,Tn,Zt,It){try{var X=k[Zt](It),le=X.value}catch(De){return void mt(De)}X.done?Ae(le):Promise.resolve(le).then(ln,Tn)}function K(k){return function(){var Ae=this,mt=arguments;return new Promise(function(ln,Tn){var Zt=k.apply(Ae,mt);function It(le){C(Zt,ln,Tn,It,X,"next",le)}function X(le){C(Zt,ln,Tn,It,X,"throw",le)}It(void 0)})}}Be.d(Bn,{Z:()=>K})},582:(Zr,Bn,Be)=>{function Ae(q,G){var z={};for(var $ in q)Object.prototype.hasOwnProperty.call(q,$)&&G.indexOf($)<0&&(z[$]=q[$]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var ee=0;for($=Object.getOwnPropertySymbols(q);ee<$.length;ee++)G.indexOf($[ee])<0&&Object.prototype.propertyIsEnumerable.call(q,$[ee])&&(z[$[ee]]=q[$[ee]])}return z}function De(q,G,z,$){return new(z||(z=Promise))(function(J,pe){function dt(Et){try{Ne($.next(Et))}catch(en){pe(en)}}function Ie(Et){try{Ne($.throw(Et))}catch(en){pe(en)}}function Ne(Et){Et.done?J(Et.value):function ee(J){return J instanceof z?J:new z(function(pe){pe(J)})}(Et.value).then(dt,Ie)}Ne(($=$.apply(q,G||[])).next())})}function ht(q){return this instanceof ht?(this.v=q,this):new ht(q)}function Vt(q,G,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,$=z.apply(q,G||[]),J=[];return ee={},pe("next"),pe("throw"),pe("return"),ee[Symbol.asyncIterator]=function(){return this},ee;function pe(Ht){$[Ht]&&(ee[Ht]=function(un){return new Promise(function(zn,$n){J.push([Ht,un,zn,$n])>1||dt(Ht,un)})})}function dt(Ht,un){try{!function Ie(Ht){Ht.value instanceof ht?Promise.resolve(Ht.value.v).then(Ne,Et):en(J[0][2],Ht)}($[Ht](un))}catch(zn){en(J[0][3],zn)}}function Ne(Ht){dt("next",Ht)}function Et(Ht){dt("throw",Ht)}function en(Ht,un){Ht(un),J.shift(),J.length&&dt(J[0][0],J[0][1])}}function On(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,G=q[Symbol.asyncIterator];return G?G.call(q):(q=function gt(q){var G="function"==typeof Symbol&&Symbol.iterator,z=G&&q[G],$=0;if(z)return z.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&$>=q.length&&(q=void 0),{value:q&&q[$++],done:!q}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),z={},$("next"),$("throw"),$("return"),z[Symbol.asyncIterator]=function(){return this},z);function $(J){z[J]=q[J]&&function(pe){return new Promise(function(dt,Ie){!function ee(J,pe,dt,Ie){Promise.resolve(Ie).then(function(Ne){J({value:Ne,done:dt})},pe)}(dt,Ie,(pe=q[J](pe)).done,pe.value)})}}}Be.d(Bn,{FC:()=>Vt,KL:()=>On,_T:()=>Ae,mG:()=>De,qq:()=>ht}),"function"==typeof SuppressedError&&SuppressedError}},Zr=>{Zr(Zr.s=152)}]);